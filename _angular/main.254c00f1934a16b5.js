(self.webpackChunkLIFT=self.webpackChunkLIFT||[]).push([[179],{2379:(Se,fe,A)=>{"use strict";A.d(fe,{o:()=>le});var k=A(655),e=A(2766),r=A(3615),B=A(6789),v=A(6106),p=A(325),a=A(3075),X=A(4830),w=A(9123),D=A(974),q=A(2340),u=A(1057),J=A(6089),ae=A(249),ce=A(2466),te=A(5e3);let le=(()=>{class V extends r.X4{constructor(){super(q.N),this.fields=[],this.subs=new ae.Y,this.captchaVersionConst=e.j,this.initDependencyInjection(),this.currentModuleName=""}initBaseForm(O){const y=Object.create(null,{initBaseForm:{get:()=>super.initBaseForm}});return(0,k.mG)(this,void 0,void 0,function*(){try{y.initBaseForm.call(this,O),this.notifyPageLoadCompleted(!1)}catch(x){console.log(e.Sg.BASE_FORM_INIT_FAILED,x)}})}get getGlobalImagePath(){return q.N.externalPath+"/assets/images/global"}get isPtFlow(){var O,y;return this.utilityService.strictCompare(null===(O=this.sessionService.resourceGroupData)||void 0===O?void 0:O.isloginConcentRequired,"true")||this.utilityService.strictCompare(null===(y=this.sessionService.resourceGroupDataTemp)||void 0===y?void 0:y.isloginConcentRequired,"true")}initDependencyInjection(){try{const O=B.z.getInjector();return this.coreBaseFormService=O.get(r.Hc),this.sessionService=O.get(v.m),this.router=O.get(p.F0),this.formBuilder=O.get(a.qu),this.commonService=O.get(X.v),this.utilityService=O.get(u.t),this.dataShareService=O.get(w._),this.httpService=O.get(D.O),this.logger=O.get(J.Kf),void(this.translateService=O.get(ce.sK))}catch(O){throw O}}routeNext(){return(0,k.mG)(this,void 0,void 0,function*(){try{const O=this.getAllModules(),y=this.coreSessionService.currentModule;let x=O.findIndex(Z=>Number(Z.displayPosition)===Number(y.displayPosition));if(x===O.length-1)return;(this.router.url.indexOf(e.m8.POSTAL_INFORMATION)>-1||this.router.url.indexOf(e.m8.BOOK_APPOINTMENT)>-1)&&(yield this.commonService.addMandatoryService()),this.isPtFlow&&this.commonService.stopTimeOut(),this.sessionService.completedModuleName=y.logicalName,this.commonService.routeToPostLoginModule(O[x+1].routeUrl)}catch(O){console.log(e.Sg.ROUTE_NEXT_FAILED,O)}})}get isDocumentUploadEnabled(){var O;return null===(O=this.sessionService)||void 0===O?void 0:O.documentUploadEnabled}routePrevious(){try{const O=this.coreSessionService.currentModule,y=this.getAllModules();let x=y.findIndex(Z=>Number(Z.displayPosition)===Number(O.displayPosition));if(x<=0)return;this.isPtFlow&&this.commonService.stopTimeOut(),this.commonService.routeToPostLoginModule(y[x-1].routeUrl)}catch(O){console.log("ERROR: ",e.Sg.ROUTE_PREV_FAILED,O)}}getNextModuleName(){try{const O=this.getAllModules(),y=this.coreSessionService.currentModule,x=O.findIndex(Z=>Number(Z.displayPosition)===Number(y.displayPosition));return x===O.length-1?void 0:O[x+1].logicalName}catch(O){console.log(e.Sg.NEXT_MODULE_NAME_FETCH_FAILED)}}postPageLoadActivities(O,y){try{this.setFormGroup(O.form),y&&this.checkAndPopulateForm(O.form),this.formMetaData=O,this.formValueChanges(),this.notifyPageLoadCompleted(!0)}catch(x){console.log(x)}}notifyPageLoadCompleted(O){try{this.dataShareService.notifyPageLoadCompleted(O)}catch(y){console.log(y)}}getAllModules(){return this.sessionService.getAllModulesSchema()||[]}setFormGroup(O){return this.currentFormGroup=O,this.dataShareService.currentFormGroup=O,!0}filterModuleOnEligibilitySubmit(O,y){var x,Z;return(0,k.mG)(this,void 0,void 0,function*(){const M=this.sessionService.getFullApplicationSchema();if(!M)return;let g=[],b=[];if(O){const W=yield this.commonService.loadServices(O),ne=W.find(se=>"TMIPS"===se.code);ne&&(this.sessionService.tmiVasID=ne.id),0!==(null==W?void 0:W.length)&&(null===(x=W.filter(se=>!0===se.isAvailableOnline))||void 0===x?void 0:x.length)>0?b.push(e.gT.modules.SERVICES):g.push(e.gT.modules.SERVICES)}this.sessionService.waitlistJourney?g=g.concat([e.gT.modules.SERVICES,e.gT.modules.BOOK_APPOINTMENT]):b=b.concat([e.gT.modules.BOOK_APPOINTMENT].toString()),(null===(Z=this.sessionService)||void 0===Z?void 0:Z.tmiEnabled)?(b.push(e.gT.modules.TRAVEL_MEDICAL_INSURANCE),this.commonService.constructTMIData()):g.push(e.gT.modules.TRAVEL_MEDICAL_INSURANCE);const E=this.sessionService.paymentModeinSubvisaCategory;if((null==E?void 0:E.IsServicePageHide)?(console.log(E),g=g.concat([e.gT.modules.SERVICES])):b=b.concat([e.gT.modules.SERVICES].toString()),y){const W=this.commonService.checkIfOWA(y)?[e.gT.modules.POSTAL_INFORMATION,e.gT.modules.BOOK_APPOINTMENT]:this.commonService.checkIfPostal(y)?[e.gT.modules.BOOK_APPOINTMENT]:[e.gT.modules.POSTAL_INFORMATION];this.commonService.checkIfOWA(y)||this.commonService.checkIfPostal(y)?W&&(g=g.concat(W)):W&&(b=b.concat(W.toString()))}let Y=M;b.length>0&&(Y=yield this.commonService.addModule(M,b),this.sessionService.saveApplicationSchemaInBrowser(Y)),g.length>0&&(Y=yield this.commonService.removeModule(M,g),this.sessionService.saveApplicationSchemaInBrowser(Y))})}filterModuleBasedOnVac(O){return(0,k.mG)(this,void 0,void 0,function*(){try{return new Promise((y,x)=>(0,k.mG)(this,void 0,void 0,function*(){var Z;const M=this.sessionService.getFullApplicationSchema();(!O||!M)&&y(!0);const g=yield this.commonService.loadServices(O);if(0!==(null==g?void 0:g.length)&&(null===(Z=g.filter(C=>!0===C.isAvailableOnline))||void 0===Z?void 0:Z.length)>0){const C=yield this.commonService.addModule(M,e.gT.modules.SERVICES);this.sessionService.saveApplicationSchemaInBrowser(C),y(!0)}else{const C=yield this.commonService.removeModule(M,[e.gT.modules.SERVICES]);this.sessionService.saveApplicationSchemaInBrowser(C),y(!0)}}))}catch(y){console.log(y)}})}filterModuleBasedOnSubmissionType(O){return(0,k.mG)(this,void 0,void 0,function*(){try{return new Promise((y,x)=>(0,k.mG)(this,void 0,void 0,function*(){const Z=this.sessionService.getFullApplicationSchema();(!O||!Z)&&y(!0);const M=this.commonService.checkIfOWA(O)?[e.gT.modules.POSTAL_INFORMATION,e.gT.modules.BOOK_APPOINTMENT]:this.commonService.checkIfPostal(O)?[e.gT.modules.BOOK_APPOINTMENT]:[e.gT.modules.POSTAL_INFORMATION];let g;this.commonService.checkIfOWA(O)||this.commonService.checkIfPostal(O)?M&&(g=yield this.commonService.removeModule(Z,M)):M&&(g=yield this.commonService.addModule(Z,M)),g&&this.sessionService.saveApplicationSchemaInBrowser(g),y(!0)}))}catch(y){console.log(y)}})}saveToSession(O,y,x,Z){try{const M=this.coreCommonService.extractAndConstructParams(Z,this.currentFormGroup);for(const g of Object.keys(M))this.sessionService.saveToSession(g,M[g]);return!0}catch(M){console.log(Z,M)}}saveToLocalStorage(O,y,x,Z){try{const M=this.coreCommonService.extractAndConstructParams(Z,this.currentFormGroup);for(const g of Object.keys(M))this.sessionService.setStorageValue(g,M[g]);return!0}catch(M){console.log(Z,M)}}scrollToInvalidForm(O){this.commonService.touchAllFields(O);const y=document.querySelector(".ng-invalid");y&&y.scrollIntoView({behavior:"smooth",block:"start"})}hasTranslation(O){const y=this.translateService.instant(O);return y!==O&&""!==y}ngOnDestroy(){var O,y;null===(O=this.valueChangesSubscription)||void 0===O||O.unsubscribe(),null===(y=this.subs)||void 0===y||y.unsubscribe()}get dateFormat(){var O,y,x,Z;return(null===(y=null===(O=this.sessionService)||void 0===O?void 0:O.applicationConfiguration)||void 0===y?void 0:y.showDateFormat)?null===(Z=null===(x=this.sessionService)||void 0===x?void 0:x.applicationConfiguration)||void 0===Z?void 0:Z.showDateFormat:"dd/MM/yyyy"}filterModuleBasedOnServices(){return(0,k.mG)(this,void 0,void 0,function*(){})}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275cmp=te.Xpm({type:V,selectors:[["app-base-form"]],features:[te.qOj],decls:0,vars:0,template:function(O,y){},encapsulation:2}),V})()},7553:(Se,fe,A)=>{"use strict";A.d(fe,{e:()=>le});var k=A(655),e=A(4830),r=A(2766),B=A(1737),v=A(6789),p=A(325),a=A(9123),X=A(6106),w=A(974),D=A(1057),q=A(2340),u=A(3615),J=A(3272),ae=A(592),te=A(5e3);let le=(()=>{class V extends J.n{constructor(){super(),this.courierLabels=r.aw,this.captchaVersionConst=r.j,this.courierLabels=r.aw,this.initDependencyInjection()}initDependencyInjection(){try{const O=v.z.getInjector();return this.sessionService=O.get(X.m),this.router=O.get(p.F0),this.commonService=O.get(e.v),this.utilityService=O.get(D.t),this.dataShareService=O.get(a._),this.httpService=O.get(w.O),this.coreCommonService=O.get(u.Cw),void(this.coreSessionService=O.get(u.JF))}catch(O){console.log(r.Sg.DEP_INJECTION_FAILED),(0,B._)(O)}}trackByFn(O,y){return y?O:null}get getGlobalImagePath(){return q.N.externalPath+"/assets/images/global"}get isPtFlow(){var O,y;return this.utilityService.strictCompare(null===(O=this.sessionService.resourceGroupData)||void 0===O?void 0:O.isloginConcentRequired,"true")||this.utilityService.strictCompare(null===(y=this.sessionService.resourceGroupDataTemp)||void 0===y?void 0:y.isloginConcentRequired,"true")}get isPiFlow(){return this.utilityService.strictCompare(this.sessionService.tenent.toLowerCase(),"pol")&&this.utilityService.strictCompare(this.sessionService.countryCode.toLowerCase(),"ind")}get attendCenter(){return this.utilityService.externalUrlAppend("attend-centre")}get appointmentCategory(){var O;return null===(O=this.sessionService.resourceGroupData)||void 0===O?void 0:O.onepager}get getImagePath(){return this.commonService.imagePath}downloadCourierDetails(O,y,x){return(0,k.mG)(this,void 0,void 0,function*(){const Z=yield this.httpService.payloadPost(r.gT.api.downloadShippingLabel,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),centerCode:y,aurn:O,labelType:x||""}).toPromise().then(M=>M).catch(M=>M);for(const M in null==Z?void 0:Z.pdfStream)if(Z.pdfStream.hasOwnProperty(M)){const g=!x&&"0"===M||x===r.aw.outLabel?`${this.sessionService.getLoggedEmail()}_outgoing.pdf`:`${this.sessionService.getLoggedEmail()}_incoming.pdf`;this.utilityService.showFile(Z.pdfStream[M],g)}})}get termCondition(){return this.utilityService.externalUrlAppend("termsandconditions")}route(O){try{this.commonService.routeToPostLoginModule(O)}catch(y){console.log(y)}}get dateFormat(){var O,y,x,Z;return(null===(y=null===(O=this.sessionService)||void 0===O?void 0:O.applicationConfiguration)||void 0===y?void 0:y.showDateFormat)?null===(Z=null===(x=this.sessionService)||void 0===x?void 0:x.applicationConfiguration)||void 0===Z?void 0:Z.showDateFormat:"dd/MM/yyyy"}encriptionPassword(O){const x=ae.pki.publicKeyFromPem(r.UV+q.N.rsaString+r.rY);return window.btoa(x.encrypt(O.toString()))}}return V.\u0275fac=function(O){return new(O||V)},V.\u0275cmp=te.Xpm({type:V,selectors:[["app-base-non-dynamic"]],features:[te.qOj],decls:0,vars:0,template:function(O,y){},encapsulation:2}),V})()},9213:(Se,fe,A)=>{"use strict";A.d(fe,{Y:()=>M});var k=A(8341),e=A(7553),r=A(5e3),B=A(9808),v=A(1377),p=A(2466);function a(g,b){if(1&g&&(r.TgZ(0,"div",7)(1,"button",8),r._UZ(2,"img",9),r.qZA()()),2&g){const C=r.oxw();r.xp6(2),r.MGl("src","",C.getGlobalImagePath,"/close-btn.png",r.LSH)}}function X(g,b){1&g&&r._UZ(0,"div")}function w(g,b){if(1&g&&(r._UZ(0,"div",11),r.ALo(1,"translate")),2&g){const C=r.oxw(2);r.Q6J("innerHTML",r.lcZ(1,1,C.header),r.oJD)}}function D(g,b){if(1&g&&r._UZ(0,"div",11),2&g){const C=r.oxw(2);r.Q6J("innerHTML",C.header,r.oJD)}}function q(g,b){if(1&g&&(r.TgZ(0,"div"),r.YNc(1,X,1,0,"div",3),r.YNc(2,w,2,3,"ng-template",null,4,r.W1O),r.YNc(4,D,1,1,"ng-template",null,5,r.W1O),r._UZ(6,"hr",10),r.qZA()),2&g){const C=r.MAs(3),N=r.MAs(5),E=r.oxw();r.xp6(1),r.Q6J("ngIf",!!E.data.translateHeader)("ngIfThen",C)("ngIfElse",N)}}function u(g,b){1&g&&r._UZ(0,"div")}function J(g,b){if(1&g&&(r._UZ(0,"div",12),r.ALo(1,"translate")),2&g){const C=r.oxw();r.Q6J("innerHTML",r.lcZ(1,1,C.body),r.oJD)}}function ae(g,b){if(1&g&&r._UZ(0,"div",12),2&g){const C=r.oxw();r.Q6J("innerHTML",C.body,r.oJD)}}function ce(g,b){1&g&&r._UZ(0,"div")}function te(g,b){if(1&g&&(r._UZ(0,"div",18),r.ALo(1,"translate")),2&g){const C=r.oxw(3);r.Q6J("innerHTML",r.lcZ(1,1,C.leftButton),r.oJD)}}function le(g,b){if(1&g&&r._UZ(0,"div",18),2&g){const C=r.oxw(3);r.Q6J("innerHTML",C.leftButton,r.oJD)}}function V(g,b){if(1&g){const C=r.EpF();r.TgZ(0,"div",16)(1,"button",17),r.NdJ("click",function(){return r.CHM(C),r.oxw(2).onClick(!1)}),r.YNc(2,ce,1,0,"div",3),r.YNc(3,te,2,3,"ng-template",null,4,r.W1O),r.YNc(5,le,1,1,"ng-template",null,5,r.W1O),r.qZA()()}if(2&g){const C=r.MAs(4),N=r.MAs(6),E=r.oxw(2);r.xp6(2),r.Q6J("ngIf",!!E.data.translateLeftButton)("ngIfThen",C)("ngIfElse",N)}}function ue(g,b){1&g&&r._UZ(0,"div")}function O(g,b){if(1&g&&(r._UZ(0,"div",18),r.ALo(1,"translate")),2&g){const C=r.oxw(3);r.Q6J("innerHTML",r.lcZ(1,1,C.rightButton),r.oJD)}}function y(g,b){if(1&g&&r._UZ(0,"div",18),2&g){const C=r.oxw(3);r.Q6J("innerHTML",C.rightButton,r.oJD)}}function x(g,b){if(1&g){const C=r.EpF();r.TgZ(0,"div",16)(1,"button",19),r.NdJ("click",function(){return r.CHM(C),r.oxw(2).onClick(!0)}),r.YNc(2,ue,1,0,"div",3),r.YNc(3,O,2,3,"ng-template",null,4,r.W1O),r.YNc(5,y,1,1,"ng-template",null,5,r.W1O),r.qZA()()}if(2&g){const C=r.MAs(4),N=r.MAs(6),E=r.oxw(2);r.xp6(2),r.Q6J("ngIf",!!E.data.translateRightButton)("ngIfThen",C)("ngIfElse",N)}}function Z(g,b){if(1&g&&(r.TgZ(0,"mat-dialog-actions",13)(1,"div",14),r.YNc(2,V,7,3,"div",15),r.YNc(3,x,7,3,"div",15),r.qZA()()),2&g){const C=r.oxw();r.xp6(2),r.Q6J("ngIf",!!C.leftButton),r.xp6(1),r.Q6J("ngIf",!!C.rightButton)}}let M=(()=>{class g extends e.e{constructor(C,N){super(),this.info=C,this.dialogRef=N,this.data=C,this.dialogDisplay=C.dialogDisplay,this.hasCloseButton=C.closeButton,this.header=C.header,this.body=C.body,this.rightButton=C.rightButton,this.leftButton=C.leftButton}onConfirmClick(){this.dialogRef.close(!0)}onClick(C){this.dialogRef.close(C)}}return g.\u0275fac=function(C){return new(C||g)(r.Y36(k.WI),r.Y36(k.so))},g.\u0275cmp=r.Xpm({type:g,selectors:[["app-common-dialog-box"]],features:[r.qOj],decls:10,vars:7,consts:[[1,"",3,"ngClass"],["class","position-absolute top-10 right-10",4,"ngIf"],[4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["elseBlock",""],["class","d-block mt-35",4,"ngIf"],[1,"position-absolute","top-10","right-10"],["mat-dialog-close","",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"my-20"],[1,"fs-24","fs-md-42","mb-10","pr-18",3,"innerHTML"],[1,"c-brand-grey-para","py-5",3,"innerHTML"],[1,"d-block","mt-35"],[1,"row"],["class","col",4,"ngIf"],[1,"col"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],[3,"innerHTML"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"]],template:function(C,N){if(1&C&&(r.TgZ(0,"div",0),r.YNc(1,a,3,1,"div",1),r.YNc(2,q,7,3,"div",2),r.TgZ(3,"mat-dialog-content"),r.YNc(4,u,1,0,"div",3),r.YNc(5,J,2,3,"ng-template",null,4,r.W1O),r.YNc(7,ae,1,1,"ng-template",null,5,r.W1O),r.qZA(),r.YNc(9,Z,4,2,"mat-dialog-actions",6),r.qZA()),2&C){const E=r.MAs(6),Y=r.MAs(8);r.Q6J("ngClass",N.dialogDisplay&&"small"===N.dialogDisplay?"mat-modal-delete-document":"mat-modal-container"),r.xp6(1),r.Q6J("ngIf",!!N.hasCloseButton),r.xp6(1),r.Q6J("ngIf",!!N.header),r.xp6(2),r.Q6J("ngIf",N.data.translateBody)("ngIfThen",E)("ngIfElse",Y),r.xp6(5),r.Q6J("ngIf",!!N.leftButton||!!N.rightButton)}},directives:[B.mk,B.O5,k.ZT,k.xY,k.H8,v.lW],pipes:[p.X$],encapsulation:2}),g})()},864:(Se,fe,A)=>{"use strict";A.d(fe,{W:()=>Ki});var k=A(655),e=A(8341),r=A(2766),B=A(9213),v=A(2379),p=A(2340),a=A(5e3),X=A(9808),w=A(5769),D=A(3075),q=A(2930),u=A(7030),J=A(3482),ae=A(4095),ce=A(1377),te=A(1223),le=A(9722),V=A(6201),ue=A(2466);Se=A.hmd(Se);const O=["captchaContainer"];function y(L,H){if(1&L&&(a.TgZ(0,"div",7),a._uU(1),a.ALo(2,"translate"),a._UZ(3,"countdown",8,9),a.qZA()),2&L){const m=a.oxw(2);a.xp6(1),a.hij(" ",a.lcZ(2,2,"header.headerLabel.label17"),""),a.xp6(2),a.Q6J("config",m.config)}}function x(L,H){if(1&L&&(a.ynx(0),a.TgZ(1,"div",20)(2,"div",21),a._UZ(3,"i",22),a.TgZ(4,"div"),a._uU(5),a.qZA()()(),a.BQk()),2&L){const m=a.oxw(4);a.xp6(5),a.Oqu(m.proceedFailMsg)}}function Z(L,H){if(1&L){const m=a.EpF();a.TgZ(0,"div",30)(1,"span",31),a.NdJ("click",function(){a.CHM(m);const G=a.oxw(5);return G.route(G.constants.modules.ELIGIBILITY_CRITERIA)}),a._uU(2),a.ALo(3,"translate"),a.qZA()()}2&L&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"reviewAndPayment.buttons.button1")))}function M(L,H){if(1&L&&(a.TgZ(0,"div",32)(1,"ul",33)(2,"li",34)(3,"div",14),a._uU(4),a.ALo(5,"translate"),a.qZA(),a.TgZ(6,"div",35),a._uU(7),a.qZA()(),a.TgZ(8,"li",34)(9,"div",14),a._uU(10),a.ALo(11,"translate"),a.qZA(),a.TgZ(12,"div",35),a._uU(13),a.qZA()(),a.TgZ(14,"li",34)(15,"div",14),a._uU(16),a.ALo(17,"translate"),a.qZA(),a.TgZ(18,"div",35),a._uU(19),a.qZA()()()()),2&L){const m=a.oxw(5);a.xp6(4),a.Oqu(a.lcZ(5,6,"reviewAndPayment.formLabel.label26")),a.xp6(3),a.Oqu(null==m.reviewPaymentData?null:m.reviewPaymentData.countryName),a.xp6(3),a.Oqu(a.lcZ(11,8,"reviewAndPayment.formLabel.label27")),a.xp6(3),a.Oqu(null==m.reviewPaymentData?null:m.reviewPaymentData.vacCodeName),a.xp6(3),a.Oqu(a.lcZ(17,10,"courierAddressDetails.formLabel.label3")),a.xp6(3),a.Oqu(null==m.reviewPaymentData?null:m.reviewPaymentData.visaCategoryName)}}function g(L,H){if(1&L&&(a.TgZ(0,"li",34)(1,"div",14),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"div",35),a._uU(5),a.qZA()()),2&L){const m=a.oxw(6);a.xp6(2),a.Oqu(a.lcZ(3,2,"eligibilityCriteria.formLabel.label5")),a.xp6(3),a.Oqu(null==m.reviewPaymentData?null:m.reviewPaymentData.missionName)}}function b(L,H){if(1&L&&(a.TgZ(0,"li",34)(1,"div",14),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"div",35),a._uU(5),a.qZA()()),2&L){const m=a.oxw(6);a.xp6(2),a.Oqu(a.lcZ(3,2,"reviewAndPayment.formLabel.label24")),a.xp6(3),a.Oqu(null==m.reviewPaymentData?null:m.reviewPaymentData.serviceType)}}function C(L,H){if(1&L&&(a.TgZ(0,"li",34)(1,"div",14),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"div",35),a._uU(5),a.qZA()()),2&L){const m=a.oxw(6);a.xp6(2),a.Oqu(a.lcZ(3,2,"reviewAndPayment.formLabel.label4")),a.xp6(3),a.Oqu(null==m.reviewPaymentData?null:m.reviewPaymentData.visaCategoryName)}}function N(L,H){if(1&L&&(a.TgZ(0,"li",34)(1,"div",14),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"div",35),a._uU(5),a.qZA()()),2&L){const m=a.oxw(6);a.xp6(2),a.Oqu(a.lcZ(3,2,"eligibilityCriteria.formLabel.label15")),a.xp6(3),a.Oqu(null==m.reviewPaymentData?null:m.reviewPaymentData.nationalityName)}}function E(L,H){if(1&L&&(a.TgZ(0,"li",34)(1,"div",14),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"div",35),a._uU(5),a.qZA()()),2&L){const m=a.oxw(6);a.xp6(2),a.Oqu(a.lcZ(3,2,"eligibilityCriteria.formLabel.label14")),a.xp6(3),a.Oqu(null==m.reviewPaymentData?null:m.reviewPaymentData.entryType)}}function Y(L,H){if(1&L&&(a.TgZ(0,"li",34)(1,"div",14),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"div",35),a._uU(5),a.qZA()()),2&L){const m=a.oxw(6);a.xp6(2),a.Oqu(a.lcZ(3,2,"eligibilityCriteria.formLabel.label13")),a.xp6(3),a.Oqu(null==m.reviewPaymentData?null:m.reviewPaymentData.visaType)}}function W(L,H){if(1&L&&(a.TgZ(0,"li",34)(1,"div",14),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"div",35),a._uU(5),a.qZA()()),2&L){const m=a.oxw(6);a.xp6(2),a.Oqu(a.lcZ(3,2,"eligibilityCriteria.formLabel.label12")),a.xp6(3),a.Oqu(null==m.reviewPaymentData?null:m.reviewPaymentData.applicationType)}}function ne(L,H){if(1&L&&(a.TgZ(0,"div",32)(1,"ul",33)(2,"li",34)(3,"div",14),a._uU(4),a.qZA(),a.TgZ(5,"div",35),a._uU(6),a.qZA()(),a.YNc(7,g,6,4,"li",36),a.TgZ(8,"li",34)(9,"div",14),a._uU(10),a.ALo(11,"translate"),a.qZA(),a.TgZ(12,"div",35),a._uU(13),a.qZA()(),a.YNc(14,b,6,4,"li",36),a.YNc(15,C,6,4,"li",36),a.TgZ(16,"li",34)(17,"div",14),a._uU(18),a.ALo(19,"translate"),a.qZA(),a.TgZ(20,"div",35),a._uU(21),a.qZA()(),a.YNc(22,N,6,4,"li",36),a.YNc(23,E,6,4,"li",36),a.YNc(24,Y,6,4,"li",36),a.YNc(25,W,6,4,"li",36),a.qZA()()),2&L){const m=a.oxw(5);a.xp6(4),a.Oqu(m.countryNamelabel),a.xp6(2),a.Oqu(null==m.reviewPaymentData?null:m.reviewPaymentData.countryName),a.xp6(1),a.Q6J("ngIf",!m.isOverSeasEnable),a.xp6(3),a.Oqu(a.lcZ(11,13,"reviewAndPayment.formLabel.label3")),a.xp6(3),a.Oqu(null==m.reviewPaymentData?null:m.reviewPaymentData.vacCodeName),a.xp6(1),a.Q6J("ngIf",null==m.reviewPaymentData?null:m.reviewPaymentData.serviceType),a.xp6(1),a.Q6J("ngIf",!m.configuration.isBelgiumHandshakeEnabled),a.xp6(3),a.Oqu(a.lcZ(19,15,"reviewAndPayment.formLabel.label5")),a.xp6(3),a.Oqu(null==m.reviewPaymentData?null:m.reviewPaymentData.visaSubCategoryName),a.xp6(1),a.Q6J("ngIf",null==m.reviewPaymentData?null:m.reviewPaymentData.nationalityName),a.xp6(1),a.Q6J("ngIf",null==m.reviewPaymentData?null:m.reviewPaymentData.entryType),a.xp6(1),a.Q6J("ngIf",null==m.reviewPaymentData?null:m.reviewPaymentData.visaType),a.xp6(1),a.Q6J("ngIf",null==m.reviewPaymentData?null:m.reviewPaymentData.applicationType)}}function z(L,H){if(1&L){const m=a.EpF();a.TgZ(0,"tr")(1,"td",47)(2,"span",31),a.NdJ("click",function(){a.CHM(m);const G=a.oxw(2).index;return a.oxw(6).editYourDetails(G)}),a._uU(3),a.ALo(4,"translate"),a.qZA()()()}2&L&&(a.xp6(3),a.Oqu(a.lcZ(4,1,"reviewAndPayment.buttons.button1")))}function se(L,H){if(1&L&&(a.TgZ(0,"tr")(1,"td",45),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"td",46),a._uU(5),a.qZA()()),2&L){const m=a.oxw(2).$implicit,P=a.oxw(6);a.xp6(2),a.hij("",a.lcZ(3,2,"applicantInformation.formLabel.label4")," :"),a.xp6(3),a.hij(" ",P.utilityService.momentInstance(null==m?null:m.dob,"DD/MM/YYYY").format(P.dateFormat.toUpperCase())," ")}}function K(L,H){if(1&L){const m=a.EpF();a.TgZ(0,"tr")(1,"td",48)(2,"span",31),a.NdJ("click",function(){a.CHM(m);const G=a.oxw(2).index;return a.oxw(6).openDialog(G)}),a._uU(3),a.ALo(4,"translate"),a.qZA()()()}2&L&&(a.xp6(3),a.Oqu(a.lcZ(4,1,"reviewAndPayment.formLabel.label13")))}function Xe(L,H){if(1&L&&(a.TgZ(0,"table",44),a.YNc(1,z,5,3,"tr",6),a.YNc(2,se,6,4,"tr",6),a.TgZ(3,"tr")(4,"td",45),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.TgZ(7,"td",46),a._uU(8),a.qZA()(),a.TgZ(9,"tr")(10,"td",45),a._uU(11),a.ALo(12,"translate"),a.qZA(),a.TgZ(13,"td",46),a._uU(14),a.qZA()(),a.YNc(15,K,5,3,"tr",6),a.qZA()),2&L){const m=a.oxw().$implicit,P=a.oxw(6);a.xp6(1),a.Q6J("ngIf",!(P.isPtFlow||P.isDocumentUploadEnabled||P.isDisableYourDetailsEdit||P.configuration.isBelgiumHandshakeEnabled)),a.xp6(1),a.Q6J("ngIf",!(null!=P.configuration&&P.configuration.isDOBDisabled||P.configuration.isBelgiumHandshakeEnabled)),a.xp6(3),a.hij("",a.lcZ(6,7,"applicantInformation.formLabel.label11")," :"),a.xp6(3),a.Oqu(null==m?null:m.contactNumber),a.xp6(3),a.hij("",a.lcZ(12,9,"applicantInformation.formLabel.label9")," :"),a.xp6(3),a.Oqu(null==m?null:m.emailId),a.xp6(1),a.Q6J("ngIf",!P.tmiEnabled&&!P.isPtFlow)}}function Fe(L,H){if(1&L){const m=a.EpF();a.TgZ(0,"tr")(1,"td",47)(2,"span",31),a.NdJ("click",function(){a.CHM(m);const G=a.oxw(2).index;return a.oxw(6).editYourDetails(G)}),a._uU(3),a.ALo(4,"translate"),a.qZA()()()}2&L&&(a.xp6(3),a.Oqu(a.lcZ(4,1,"reviewAndPayment.buttons.button1")))}function Oe(L,H){if(1&L&&(a.TgZ(0,"tr")(1,"td",45),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"td",46),a._uU(5),a.qZA()()),2&L){const m=a.oxw(2).$implicit,P=a.oxw(6);a.xp6(2),a.hij("",a.lcZ(3,2,"applicantInformation.formLabel.label4")," :"),a.xp6(3),a.hij(" ",P.utilityService.momentInstance(null==m?null:m.dob,"DD/MM/YYYY").format(P.dateFormat.toUpperCase())," ")}}function ye(L,H){if(1&L&&(a.TgZ(0,"tr")(1,"td",45),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"td",46),a._uU(5),a.qZA()()),2&L){const m=a.oxw(2).$implicit;a.xp6(2),a.hij("",a.lcZ(3,2,"applicantInformation.formLabel.label5")," :"),a.xp6(3),a.Oqu(null==m?null:m.countryName)}}function Me(L,H){if(1&L&&(a.TgZ(0,"tr")(1,"td",45),a._uU(2,"Identity Document Number :"),a.qZA(),a.TgZ(3,"td",46),a._uU(4),a.qZA()()),2&L){const m=a.oxw(2).$implicit;a.xp6(4),a.Oqu(null==m?null:m.passportNumber)}}function gt(L,H){if(1&L&&(a.TgZ(0,"tr")(1,"td",45),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"td",46),a._uU(5),a.qZA()()),2&L){const m=a.oxw(2).$implicit;a.xp6(2),a.hij("",a.lcZ(3,2,"applicantInformation.formLabel.label7")," :"),a.xp6(3),a.Oqu(null==m?null:m.passportExpiry)}}function _t(L,H){if(1&L&&(a.TgZ(0,"tr")(1,"td",45),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"td",46),a._uU(5),a.qZA()()),2&L){const m=a.oxw(2).$implicit;a.xp6(2),a.hij("",a.lcZ(3,2,"applicantInformation.formLabel.label11")," :"),a.xp6(3),a.Oqu(null==m?null:m.contactNumber)}}function Ue(L,H){if(1&L&&(a.TgZ(0,"tr")(1,"td",45),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"td",46),a._uU(5),a.qZA()()),2&L){const m=a.oxw(2).$implicit;a.xp6(2),a.hij("",a.lcZ(3,2,"applicantInformation.formLabel.label9")," :"),a.xp6(3),a.Oqu(null==m?null:m.emailId)}}function Lt(L,H){if(1&L&&(a.TgZ(0,"tr")(1,"td",45),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"td",46),a._uU(5),a.qZA()()),2&L){const m=a.oxw(2).$implicit;a.xp6(2),a.hij("",a.lcZ(3,2,"postalInformation.formLabel.label8")," :"),a.xp6(3),a.Oqu(null==m||null==m.postalList[0]?null:m.postalList[0].courierType)}}function It(L,H){if(1&L&&(a.ynx(0),a.TgZ(1,"tr")(2,"td",45),a._uU(3),a.ALo(4,"translate"),a.qZA(),a.TgZ(5,"td",46),a._uU(6),a.qZA()(),a.TgZ(7,"tr")(8,"td",45),a._uU(9),a.ALo(10,"translate"),a.qZA(),a.TgZ(11,"td",46),a._uU(12),a.qZA()(),a.TgZ(13,"tr")(14,"td",45),a._uU(15),a.ALo(16,"translate"),a.qZA(),a.TgZ(17,"td",46),a._uU(18),a.qZA()(),a.TgZ(19,"tr")(20,"td",45),a._uU(21),a.ALo(22,"translate"),a.qZA(),a.TgZ(23,"td",46),a._uU(24),a.qZA()(),a.TgZ(25,"tr")(26,"td",45),a._uU(27),a.ALo(28,"translate"),a.qZA(),a.TgZ(29,"td",46),a._uU(30),a.qZA()(),a.TgZ(31,"tr")(32,"td",45),a._uU(33),a.ALo(34,"translate"),a.qZA(),a.TgZ(35,"td",46),a._uU(36),a.qZA()(),a.BQk()),2&L){const m=a.oxw(2).$implicit;a.xp6(3),a.hij("",a.lcZ(4,12,"postalInformation.formLabel.label1")," :"),a.xp6(3),a.Oqu(null==m||null==m.postalList[0]?null:m.postalList[0].pincode),a.xp6(3),a.hij("",a.lcZ(10,14,"postalInformation.formLabel.label2")," :"),a.xp6(3),a.Oqu(null==m||null==m.postalList[0]?null:m.postalList[0].addressline1),a.xp6(3),a.hij("",a.lcZ(16,16,"postalInformation.formLabel.label3")," :"),a.xp6(3),a.Oqu(null==m||null==m.postalList[0]?null:m.postalList[0].addressline2),a.xp6(3),a.hij("",a.lcZ(22,18,"postalInformation.formLabel.label4")," :"),a.xp6(3),a.Oqu(null==m||null==m.postalList[0]?null:m.postalList[0].state),a.xp6(3),a.hij("",a.lcZ(28,20,"postalInformation.formLabel.label5")," :"),a.xp6(3),a.Oqu(null==m||null==m.postalList[0]?null:m.postalList[0].city),a.xp6(3),a.hij("",a.lcZ(34,22,"postalInformation.formLabel.label6")," :"),a.xp6(3),a.Oqu(null==m||null==m.postalList[0]?null:m.postalList[0].countryCode)}}function lt(L,H){if(1&L&&(a.ynx(0),a.TgZ(1,"tr")(2,"td",45),a._uU(3),a.ALo(4,"translate"),a.qZA(),a.TgZ(5,"td",46),a._uU(6),a.qZA()(),a.TgZ(7,"tr")(8,"td",45),a._uU(9),a.ALo(10,"translate"),a.qZA(),a.TgZ(11,"td",46),a._uU(12),a.qZA()(),a.TgZ(13,"tr")(14,"td",45),a._uU(15),a.ALo(16,"translate"),a.qZA(),a.TgZ(17,"td",46),a._uU(18),a.qZA()(),a.BQk()),2&L){const m=a.oxw(2).$implicit;a.xp6(3),a.hij("",a.lcZ(4,6,"postalInformation.formLabel.label11")," :"),a.xp6(3),a.Oqu(null==m||null==m.postalList[0]?null:m.postalList[0].courierServiceProvider),a.xp6(3),a.hij("",a.lcZ(10,8,"postalInformation.formLabel.label12")," :"),a.xp6(3),a.Oqu(null==m||null==m.postalList[0]?null:m.postalList[0].incomingAWBNumber),a.xp6(3),a.hij("",a.lcZ(16,10,"postalInformation.formLabel.label13")," :"),a.xp6(3),a.Oqu(null==m||null==m.postalList[0]?null:m.postalList[0].outgoingAWBNumber)}}function Zt(L,H){if(1&L){const m=a.EpF();a.TgZ(0,"tr")(1,"td",48)(2,"span",31),a.NdJ("click",function(){a.CHM(m);const G=a.oxw(2).index;return a.oxw(6).openDialog(G)}),a._uU(3),a.ALo(4,"translate"),a.qZA()()()}2&L&&(a.xp6(3),a.Oqu(a.lcZ(4,1,"reviewAndPayment.formLabel.label13")))}function Yt(L,H){if(1&L&&(a.TgZ(0,"table",44),a.YNc(1,Fe,5,3,"tr",6),a.YNc(2,Oe,6,4,"tr",6),a.YNc(3,ye,6,4,"tr",6),a.YNc(4,Me,5,1,"tr",6),a.YNc(5,gt,6,4,"tr",6),a.YNc(6,_t,6,4,"tr",6),a.YNc(7,Ue,6,4,"tr",6),a.YNc(8,Lt,6,4,"tr",6),a.YNc(9,It,37,24,"ng-container",6),a.YNc(10,lt,19,12,"ng-container",6),a.YNc(11,Zt,5,3,"tr",6),a.qZA()),2&L){const m=a.oxw(),P=m.index,G=m.$implicit,F=a.oxw(6);a.xp6(1),a.Q6J("ngIf",!F.isPtFlow&&!F.isDocumentUploadEnabled&&!F.isDisableYourDetailsEdit&&(null==F.configuration?null:F.configuration.enablePersonalOnRegistration)&&P>=1),a.xp6(1),a.Q6J("ngIf",!(null!=F.configuration&&F.configuration.isDOBDisabled)),a.xp6(1),a.Q6J("ngIf",(null==G?null:G.countryName)&&!F.configuration.isBelgiumHandshakeEnabled),a.xp6(1),a.Q6J("ngIf",!(null!=F.configuration&&F.configuration.isPassportNoDisabled)),a.xp6(1),a.Q6J("ngIf",!(null!=F.configuration&&F.configuration.isPassportExpiryDateDisabled||F.configuration.isBelgiumHandshakeEnabled)),a.xp6(1),a.Q6J("ngIf",null==G?null:G.contactNumber),a.xp6(1),a.Q6J("ngIf",null==G?null:G.emailId),a.xp6(1),a.Q6J("ngIf",F.commonService.checkIfPostal(F.applicationType)),a.xp6(1),a.Q6J("ngIf",F.commonService.checkIfPostal(F.applicationType)&&!F.commonService.checkIfPrepaidCourier(null==G||null==G.postalList[0]?null:G.postalList[0].courierType)),a.xp6(1),a.Q6J("ngIf",F.commonService.checkIfPostal(F.applicationType)&&F.commonService.checkIfPrepaidCourier(null==G||null==G.postalList[0]?null:G.postalList[0].courierType)),a.xp6(1),a.Q6J("ngIf",!F.tmiEnabled&&!F.isPtFlow&&(null==F.configuration?null:F.configuration.enablePersonalOnRegistration)&&P>=1&&!F.configuration.isBelgiumHandshakeEnabled&&!F.isCCPayNowAptmntMode)}}function rt(L,H){if(1&L&&(a.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header",39)(2,"div",40)(3,"div",41),a._uU(4),a.ALo(5,"translate"),a.qZA(),a.TgZ(6,"div",42),a._uU(7),a.qZA()()(),a.YNc(8,Xe,16,11,"table",43),a.YNc(9,Yt,12,11,"table",43),a.qZA()),2&L){const m=H.$implicit,P=H.index,G=a.oxw(6);a.xp6(1),a.Q6J("@.disabled",!0),a.xp6(3),a.AsE("",a.lcZ(5,7,"reviewAndPayment.formLabel.label6")," ",P+1,""),a.xp6(3),a.AsE("",null==m?null:m.firstName," ",null==m?null:m.lastName,""),a.xp6(1),a.Q6J("ngIf",G.isHMPO),a.xp6(1),a.Q6J("ngIf",!G.isHMPO)}}function Qt(L,H){if(1&L&&(a.TgZ(0,"mat-accordion",37),a.YNc(1,rt,10,9,"mat-expansion-panel",38),a.qZA()),2&L){const m=a.oxw(5);a.xp6(1),a.Q6J("ngForOf",null==m.reviewPaymentData?null:m.reviewPaymentData.yourDetail)("ngForTrackBy",m.trackByFn)}}function Ti(L,H){if(1&L&&(a.ynx(0),a.TgZ(1,"div",23)(2,"div",24)(3,"h2",25),a._uU(4),a.ALo(5,"translate"),a.qZA()(),a.YNc(6,Z,4,3,"div",26),a.qZA(),a.YNc(7,M,20,12,"div",27),a.YNc(8,ne,26,17,"div",27),a.TgZ(9,"h2",28),a._uU(10),a.ALo(11,"translate"),a.qZA(),a.YNc(12,Qt,2,2,"mat-accordion",29),a.BQk()),2&L){const m=a.oxw(4);a.xp6(4),a.Oqu(a.lcZ(5,6,"reviewAndPayment.headerLabel.label2")),a.xp6(2),a.Q6J("ngIf",(m.isPtFlow||m.isEnableApplicationDetailsEdit)&&!m.isCCPayNowAptmntMode),a.xp6(1),a.Q6J("ngIf",m.isHMPO),a.xp6(1),a.Q6J("ngIf",!m.isHMPO),a.xp6(2),a.Oqu(a.lcZ(11,8,"reviewAndPayment.headerLabel.label3")),a.xp6(2),a.Q6J("ngIf",null==m.reviewPaymentData?null:m.reviewPaymentData.yourDetail)}}function Si(L,H){if(1&L){const m=a.EpF();a.TgZ(0,"div",30)(1,"span",31),a.NdJ("click",function(){a.CHM(m);const G=a.oxw(5);return G.route(G.constants.modules.BOOK_APPOINTMENT)}),a._uU(2),a.ALo(3,"translate"),a.qZA()()}2&L&&(a.xp6(2),a.Oqu(a.lcZ(3,1,"reviewAndPayment.buttons.button1")))}function xi(L,H){if(1&L&&(a.ynx(0),a.TgZ(1,"div",23)(2,"div",24)(3,"h2",25),a._uU(4),a.ALo(5,"translate"),a.qZA()(),a.YNc(6,Si,4,3,"div",26),a.qZA(),a.TgZ(7,"div",32)(8,"ul",33)(9,"li",34)(10,"div",14),a._uU(11),a.ALo(12,"translate"),a.qZA(),a.TgZ(13,"div",35),a._uU(14),a.ALo(15,"translate"),a.qZA()(),a.TgZ(16,"li",34)(17,"div",14),a._uU(18),a.ALo(19,"translate"),a.qZA(),a.TgZ(20,"div",35),a._uU(21),a.ALo(22,"date"),a.qZA()(),a.TgZ(23,"li",34)(24,"div",14),a._uU(25),a.ALo(26,"translate"),a.qZA(),a.TgZ(27,"div",35),a._uU(28),a.qZA()()()(),a.BQk()),2&L){const m=a.oxw(4);a.xp6(4),a.Oqu(a.lcZ(5,8,"reviewAndPayment.headerLabel.label4")),a.xp6(2),a.Q6J("ngIf",!m.isRescheduleAptmntMode&&!m.isDisableAppointmentDetailsEdit&&!m.isCCPayNowAptmntMode),a.xp6(5),a.Oqu(a.lcZ(12,10,"reviewAndPayment.formLabel.label14")),a.xp6(3),a.Oqu(a.lcZ(15,12,null==m.reviewPaymentData||null==m.reviewPaymentData.bookAppointment?null:m.reviewPaymentData.bookAppointment.slotTypeName)),a.xp6(4),a.Oqu(a.lcZ(19,14,"reviewAndPayment.formLabel.label15")),a.xp6(3),a.Oqu(a.xi3(22,16,null==m.reviewPaymentData||null==m.reviewPaymentData.bookAppointment?null:m.reviewPaymentData.bookAppointment.date,m.dateFormat)),a.xp6(4),a.Oqu(a.lcZ(26,19,"reviewAndPayment.formLabel.label16")),a.xp6(3),a.Oqu(m.isCCPayNowAptmntMode?null==m.reviewPaymentData||null==m.reviewPaymentData.bookAppointment?null:m.reviewPaymentData.bookAppointment.time:null==m.reviewPaymentData||null==m.reviewPaymentData.bookAppointment?null:m.reviewPaymentData.bookAppointment.allocationSlot)}}function Li(L,H){if(1&L){const m=a.EpF();a.TgZ(0,"span",31),a.NdJ("click",function(){a.CHM(m);const G=a.oxw(5);return G.route(G.constants.modules.SERVICES)}),a._uU(1),a.ALo(2,"translate"),a.qZA()}2&L&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"reviewAndPayment.buttons.button1")))}function Ii(L,H){if(1&L&&(a.TgZ(0,"div",63)(1,"div",56),a._uU(2),a.qZA(),a._uU(3),a.ALo(4,"number"),a.qZA()),2&L){const m=a.oxw().$implicit,P=a.oxw(5);a.xp6(2),a.Oqu(P.currencyCode),a.xp6(1),a.hij(" ",a.xi3(4,2,(null==m?null:m.unit)*(null==m?null:m.amount),"1.2-2")," ")}}function Zi(L,H){if(1&L&&(a.TgZ(0,"div",63)(1,"div",56),a._uU(2),a.qZA(),a._uU(3),a.ALo(4,"number"),a.qZA()),2&L){const m=a.oxw().$implicit,P=a.oxw(5);a.xp6(2),a.Oqu(P.currencyCode),a.xp6(1),a.hij(" ",a.xi3(4,2,null==m?null:m.amount,"1.2-2")," ")}}function Ni(L,H){if(1&L&&(a.TgZ(0,"div",57)(1,"div",58)(2,"div",59),a._uU(3),a.qZA(),a.TgZ(4,"div",60)(5,"div",56),a._uU(6),a.qZA(),a._uU(7),a.ALo(8,"translate"),a.qZA(),a.YNc(9,Ii,5,5,"div",61),a.YNc(10,Zi,5,5,"ng-template",null,62,a.W1O),a.qZA()()),2&L){const m=H.$implicit,P=a.MAs(11),G=a.oxw(5);a.xp6(3),a.Oqu((null==m||null==m.contentful?null:m.contentful.heading)||(null==m?null:m.name)),a.xp6(3),a.Oqu(null==m?null:m.unit),a.xp6(1),a.hij(" ",a.lcZ(8,5,"reviewAndPayment.formLabel.label19")," "),a.xp6(2),a.Q6J("ngIf",!G.isTmiService(m))("ngIfElse",P)}}function Di(L,H){if(1&L&&(a.ynx(0),a.TgZ(1,"div",23)(2,"div",24)(3,"h2",25),a._uU(4),a.ALo(5,"translate"),a.qZA()(),a.TgZ(6,"div",30),a.YNc(7,Li,3,3,"span",49),a.qZA()(),a.TgZ(8,"div",50)(9,"div",51),a.YNc(10,Ni,12,7,"div",52),a.TgZ(11,"div",53)(12,"div",54)(13,"div",24),a._uU(14),a.ALo(15,"translate"),a.qZA(),a.TgZ(16,"div",55)(17,"div",56),a._uU(18),a.qZA(),a._uU(19),a.ALo(20,"number"),a.qZA()()()()(),a.BQk()),2&L){const m=a.oxw(4);a.xp6(4),a.Oqu(a.lcZ(5,7,"reviewAndPayment.headerLabel.label6")),a.xp6(3),a.Q6J("ngIf",!m.isRescheduleAptmntMode&&!m.isDisableServicesEdit&&!m.isCCPayNowAptmntMode),a.xp6(3),a.Q6J("ngForOf",null==m.reviewPaymentData?null:m.reviewPaymentData.services)("ngForTrackBy",m.trackByFn),a.xp6(4),a.Oqu(a.lcZ(15,9,"reviewAndPayment.formLabel.label17")),a.xp6(4),a.Oqu(m.currencyCode),a.xp6(1),a.hij(" ",a.xi3(20,11,null==m.reviewPaymentData?null:m.reviewPaymentData.servicesTotal,"1.2-2")," ")}}function Oi(L,H){1&L&&(a.TgZ(0,"h2",28),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&L&&(a.xp6(1),a.Oqu(a.lcZ(2,1,"reviewAndPayment.headerLabel.label5")))}function Ei(L,H){if(1&L&&(a.TgZ(0,"div",71)(1,"div",16)(2,"div",72),a._uU(3),a.qZA(),a._UZ(4,"div",73),a.TgZ(5,"div",74),a._uU(6),a.ALo(7,"number"),a.qZA()()()),2&L){const m=a.oxw().$implicit,P=a.oxw(6);a.xp6(3),a.Oqu(null==m?null:m.feeName),a.xp6(3),a.AsE("",P.currencyCode," ",a.xi3(7,3,null==m?null:m.feeAmount,"1.2-2"),"")}}function ki(L,H){if(1&L&&(a.ynx(0),a.YNc(1,Ei,8,6,"div",70),a.BQk()),2&L){const m=H.$implicit,P=a.oxw(6);a.xp6(1),a.Q6J("ngIf",(null==m?null:m.feeAmount)>0&&(null==m?null:m.feeTypeCode)!==P.constants.FEE_TYPE_CODES.CVFEE)}}const oi=function(){return[]};function wi(L,H){if(1&L&&(a.TgZ(0,"div",51),a.YNc(1,ki,2,1,"ng-container",38),a.TgZ(2,"div",69)(3,"div",16)(4,"div",24),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.TgZ(7,"div",55),a._uU(8),a._uU(9),a.ALo(10,"number"),a.qZA()()()()),2&L){const m=a.oxw(5);a.xp6(1),a.Q6J("ngForOf",(null==m.reviewPaymentData?null:m.reviewPaymentData.fees)||a.DdM(10,oi))("ngForTrackBy",m.trackByFn),a.xp6(4),a.Oqu(a.lcZ(6,5,"reviewAndPayment.formLabel.label17")),a.xp6(3),a.hij(" ",m.currencyCode," "),a.xp6(1),a.hij(" ",a.xi3(10,7,m.calFeesTotal,"1.2-2")," ")}}function Fi(L,H){if(1&L&&(a.TgZ(0,"div",71)(1,"div",16)(2,"div",72),a._uU(3),a.qZA(),a._UZ(4,"div",73),a.TgZ(5,"div",74),a._uU(6),a.ALo(7,"number"),a.qZA()()()),2&L){const m=a.oxw().$implicit,P=a.oxw(5);a.xp6(3),a.Oqu(null==m?null:m.feeName),a.xp6(3),a.AsE("",P.currencyCode," ",a.xi3(7,3,null==m?null:m.feeAmount,"1.2-2"),"")}}function Mi(L,H){if(1&L&&(a.ynx(0),a.YNc(1,Fi,8,6,"div",70),a.BQk()),2&L){const m=H.$implicit,P=a.oxw(5);a.xp6(1),a.Q6J("ngIf",(null==m?null:m.feeTypeCode)===P.constants.FEE_TYPE_CODES.CVFEE&&(null==m?null:m.feeAmount)>0)}}function Pi(L,H){1&L&&(a.TgZ(0,"div",75)(1,"div",24)(2,"h2",25),a._uU(3),a.ALo(4,"translate"),a.qZA()()()),2&L&&(a.xp6(3),a.Oqu(a.lcZ(4,1,"reviewAndPayment.headerLabel.label8")))}function Ui(L,H){if(1&L&&(a.TgZ(0,"div",71)(1,"div",16)(2,"div",72),a._uU(3),a.qZA(),a._UZ(4,"div",73),a.TgZ(5,"div",74),a._uU(6),a.ALo(7,"number"),a.qZA()()()),2&L){const m=a.oxw().$implicit,P=a.oxw(6);a.xp6(3),a.hij(" ",null==m?null:m.title," "),a.xp6(3),a.AsE("",P.currencyCode," ",a.xi3(7,3,null==m?null:m.value,"1.2-2"),"")}}function qi(L,H){if(1&L&&(a.ynx(0),a.YNc(1,Ui,8,6,"div",70),a.BQk()),2&L){const m=H.$implicit;a.xp6(1),a.Q6J("ngIf",(null==m?null:m.value)>0)}}function ni(L,H){if(1&L&&(a.TgZ(0,"div",76)(1,"div",51),a.YNc(2,qi,2,1,"ng-container",38),a.TgZ(3,"div",69)(4,"div",16)(5,"div",24),a._uU(6),a.ALo(7,"translate"),a.qZA(),a.TgZ(8,"div",55),a._uU(9),a.ALo(10,"number"),a.qZA()()()()()),2&L){const m=a.oxw(5);a.xp6(2),a.Q6J("ngForOf",null==m.reviewPaymentData?null:m.reviewPaymentData.additionalFee)("ngForTrackBy",m.trackByFn),a.xp6(4),a.Oqu(a.lcZ(7,5,"reviewAndPayment.formLabel.label17")),a.xp6(3),a.AsE(" ",m.currencyCode," ",a.xi3(10,7,null==m.reviewPaymentData?null:m.reviewPaymentData.additionalFeeTotal,"1.2-2")," ")}}function ai(L,H){if(1&L&&(a.TgZ(0,"div",16)(1,"div",77),a._uU(2),a.ALo(3,"translate"),a.ALo(4,"number"),a.qZA()()),2&L){const m=a.oxw(5);a.xp6(2),a.lnq(" ",a.lcZ(3,3,"reviewAndPayment.pageDetails.para3")," ",m.currencyCode," ",a.xi3(4,5,null==m.reviewPaymentData?null:m.reviewPaymentData.serviceFeeTax,m.sessionService.decimalConfiguration)," ")}}function re(L,H){if(1&L&&(a.ynx(0),a.YNc(1,Oi,3,3,"h2",64),a.TgZ(2,"div",50),a.YNc(3,wi,11,11,"div",65),a.YNc(4,Mi,2,1,"ng-container",38),a.YNc(5,Pi,5,3,"div",66),a.YNc(6,ni,11,10,"div",67),a.TgZ(7,"div",57)(8,"div",16)(9,"div",24),a._uU(10),a.ALo(11,"translate"),a.qZA(),a.TgZ(12,"div",55),a._uU(13),a.ALo(14,"number"),a.qZA()(),a.YNc(15,ai,5,8,"div",68),a.qZA()(),a.BQk()),2&L){const m=a.oxw(4);a.xp6(1),a.Q6J("ngIf",!m.isAddExtraServiceMode),a.xp6(2),a.Q6J("ngIf",!m.isAddExtraServiceMode),a.xp6(1),a.Q6J("ngForOf",(null==m.reviewPaymentData?null:m.reviewPaymentData.fees)||a.DdM(15,oi))("ngForTrackBy",m.trackByFn),a.xp6(1),a.Q6J("ngIf",m.isValidAdditionalFee),a.xp6(1),a.Q6J("ngIf",m.isValidAdditionalFee),a.xp6(4),a.Oqu(a.lcZ(11,10,"reviewAndPayment.formLabel.label20")),a.xp6(3),a.AsE(" ",m.currencyCode," ",a.xi3(14,12,null==m.reviewPaymentData?null:m.reviewPaymentData.overallTotal,"1.2-2")," "),a.xp6(2),a.Q6J("ngIf",(null==m.reviewPaymentData?null:m.reviewPaymentData.serviceFeeTax)>0)}}const Ve=function(){return{standalone:!0}};function et(L,H){if(1&L){const m=a.EpF();a.TgZ(0,"div",85)(1,"mat-checkbox",86),a.NdJ("ngModelChange",function(G){return a.CHM(m),a.oxw(5).mftConsentAccepted=G}),a.TgZ(2,"span",87),a._uU(3),a.ALo(4,"translate"),a.qZA()()()}if(2&L){const m=a.oxw(5);a.xp6(1),a.Q6J("ngModel",m.mftConsentAccepted)("ngModelOptions",a.DdM(5,Ve)),a.xp6(2),a.Oqu(a.lcZ(4,3,"reviewAndPayment.formLabel.label25"))}}function Ye(L,H){if(1&L){const m=a.EpF();a.TgZ(0,"div",85)(1,"mat-checkbox",86),a.NdJ("ngModelChange",function(G){return a.CHM(m),a.oxw(5).canVFSReachoutToApplicant=G}),a.TgZ(2,"span",87),a._uU(3),a.ALo(4,"translate"),a.qZA()()()}if(2&L){const m=a.oxw(5);a.xp6(1),a.Q6J("ngModel",m.canVFSReachoutToApplicant)("ngModelOptions",a.DdM(5,Ve)),a.xp6(2),a.Oqu(a.lcZ(4,3,"reviewAndPayment.formLabel.label23"))}}function qe(L,H){if(1&L){const m=a.EpF();a.TgZ(0,"div",85)(1,"div",88)(2,"p",87),a._uU(3),a.ALo(4,"translate"),a.qZA(),a.TgZ(5,"ul",87)(6,"li"),a._uU(7),a.ALo(8,"translate"),a.qZA(),a.TgZ(9,"li"),a._uU(10),a.ALo(11,"translate"),a.qZA(),a.TgZ(12,"li"),a._uU(13),a.ALo(14,"translate"),a.qZA()()(),a.TgZ(15,"mat-checkbox",86),a.NdJ("ngModelChange",function(G){return a.CHM(m),a.oxw(5).mftVisaFeeConsentAccepted=G}),a.TgZ(16,"span",87),a._uU(17),a.ALo(18,"translate"),a.qZA()()()}if(2&L){const m=a.oxw(5);a.xp6(3),a.Oqu(a.lcZ(4,7,"reviewAndPayment.pageDetails.para19")),a.xp6(4),a.Oqu(a.lcZ(8,9,"reviewAndPayment.pageDetails.para20")),a.xp6(3),a.Oqu(a.lcZ(11,11,"reviewAndPayment.pageDetails.para21")),a.xp6(3),a.Oqu(a.lcZ(14,13,"reviewAndPayment.pageDetails.para22")),a.xp6(2),a.Q6J("ngModel",m.mftVisaFeeConsentAccepted)("ngModelOptions",a.DdM(17,Ve)),a.xp6(2),a.Oqu(a.lcZ(18,15,"reviewAndPayment.pageDetails.para23"))}}function Qe(L,H){if(1&L){const m=a.EpF();a.TgZ(0,"div",85)(1,"mat-checkbox",86),a.NdJ("ngModelChange",function(G){return a.CHM(m),a.oxw(5).agreeToWaitlistConfirmation=G}),a.TgZ(2,"span",87),a._uU(3),a.ALo(4,"translate"),a.qZA()()()}if(2&L){const m=a.oxw(5);a.xp6(1),a.Q6J("ngModel",m.agreeToWaitlistConfirmation)("ngModelOptions",a.DdM(5,Ve)),a.xp6(2),a.Oqu(a.lcZ(4,3,"reviewAndPayment.formLabel.label24"))}}function Ct(L,H){if(1&L){const m=a.EpF();a.ynx(0),a.TgZ(1,"div",78)(2,"div",79)(3,"mat-checkbox",80),a.NdJ("ngModelChange",function(G){return a.CHM(m),a.oxw(4).agreeToTermsAndCondition=G}),a.TgZ(4,"span",81),a._uU(5),a.ALo(6,"translate"),a.qZA()(),a.TgZ(7,"a",82)(8,"span",83),a._uU(9),a.ALo(10,"translate"),a.qZA()()()(),a.YNc(11,et,5,6,"div",84),a.YNc(12,Ye,5,6,"div",84),a.YNc(13,qe,19,18,"div",84),a.YNc(14,Qe,5,6,"div",84),a.BQk()}if(2&L){const m=a.oxw(4);a.xp6(3),a.Q6J("ngModel",m.agreeToTermsAndCondition)("ngModelOptions",a.DdM(13,Ve)),a.xp6(2),a.Oqu(a.lcZ(6,9,"reviewAndPayment.formLabel.label21")),a.xp6(2),a.Q6J("href",m.termCondition,a.LSH),a.xp6(2),a.Oqu(a.lcZ(10,11,"reviewAndPayment.formLabel.label22")),a.xp6(2),a.Q6J("ngIf",m.mftConsentEnabled),a.xp6(1),a.Q6J("ngIf",!m.isHMPO),a.xp6(1),a.Q6J("ngIf",m.mftConsentEnabled),a.xp6(1),a.Q6J("ngIf",m.isWaitListJourney)}}function si(L,H){if(1&L&&(a.TgZ(0,"div",95)(1,"mat-radio-button",96)(2,"span",87),a._uU(3),a.ALo(4,"translate"),a.qZA()()()),2&L){const m=H.$implicit;a.xp6(1),a.Q6J("value",m.name),a.xp6(2),a.Oqu(a.lcZ(4,2,m.label))}}function Gi(L,H){if(1&L){const m=a.EpF();a.TgZ(0,"div")(1,"div",89)(2,"h2",90),a._uU(3),a.ALo(4,"translate"),a.qZA(),a.TgZ(5,"p",91),a._uU(6),a.ALo(7,"translate"),a.qZA()(),a.TgZ(8,"div",92)(9,"a",82)(10,"span",83),a._uU(11),a.ALo(12,"translate"),a.qZA()()(),a._UZ(13,"br"),a.TgZ(14,"div",92)(15,"a",82)(16,"span",83),a._uU(17),a.ALo(18,"translate"),a.qZA()()(),a.TgZ(19,"div",89)(20,"p",91),a._uU(21),a.ALo(22,"translate"),a.qZA()(),a.TgZ(23,"mat-radio-group",93),a.NdJ("ngModelChange",function(G){return a.CHM(m),a.oxw(4).ptRemindingType=G})("change",function(G){return a.CHM(m),a.oxw(4).radioChange(G)}),a.YNc(24,si,5,4,"div",94),a.qZA()()}if(2&L){const m=a.oxw(4);a.xp6(3),a.Oqu(a.lcZ(4,10,"polandTurkey.pageDetails.para6")),a.xp6(3),a.Oqu(a.lcZ(7,12,"polandTurkey.pageDetails.para12")),a.xp6(3),a.Q6J("href",m.rescheduleAppointment,a.LSH),a.xp6(2),a.Oqu(a.lcZ(12,14,"polandTurkey.pageDetails.para13")),a.xp6(4),a.Q6J("href",m.ptRefundServiceFee,a.LSH),a.xp6(2),a.hij(" ",a.lcZ(18,16,"polandTurkey.pageDetails.para14"),""),a.xp6(4),a.Oqu(a.lcZ(22,18,"polandTurkey.pageDetails.para15")),a.xp6(2),a.Q6J("ngModel",m.ptRemindingType)("ngModelOptions",a.DdM(20,Ve)),a.xp6(1),a.Q6J("ngForOf",m.notificationType)}}function Bt(L,H){1&L&&a.GkF(0)}const li=function(L){return{"btn-outline-brand-orange":L}};function Vi(L,H){if(1&L){const m=a.EpF();a.TgZ(0,"form",11),a.NdJ("ngSubmit",function(){return a.CHM(m),a.oxw(3).submitCaptcha()}),a.TgZ(1,"mat-card",12),a.YNc(2,x,6,1,"ng-container",6),a.TgZ(3,"h1",13),a._uU(4),a.ALo(5,"translate"),a.ALo(6,"translate"),a.qZA(),a.TgZ(7,"p",14),a._uU(8),a.ALo(9,"translate"),a.ALo(10,"translate"),a.qZA(),a.YNc(11,Ti,13,10,"ng-container",6),a.YNc(12,xi,29,21,"ng-container",6),a.YNc(13,Di,21,14,"ng-container",6),a.YNc(14,re,16,16,"ng-container",6),a.YNc(15,Ct,15,14,"ng-container",6),a.YNc(16,Gi,25,21,"div",6),a.qZA(),a.TgZ(17,"mat-card",15)(18,"div",16)(19,"div",17)(20,"button",18),a.NdJ("click",function(){return a.CHM(m),a.oxw(3).routePrevious()}),a._uU(21),a.ALo(22,"translate"),a.qZA()(),a.TgZ(23,"div",17),a.YNc(24,Bt,1,0,"ng-container",19),a.qZA()()()()}if(2&L){const m=a.oxw(3),P=a.MAs(4),G=a.MAs(2);a.uIk("data-ot-cp-id",m.dataOtCpId),a.xp6(2),a.Q6J("ngIf",m.proceedFailMsg),a.xp6(2),a.hij(" ",m.isHMPO?a.lcZ(5,14,"reviewAndPayment.headerLabel.label10"):a.lcZ(6,16,"reviewAndPayment.headerLabel.label1")," "),a.xp6(4),a.hij(" ",m.isHMPO?a.lcZ(9,18,"reviewAndPayment.pageDetails.para24"):a.lcZ(10,20,"reviewAndPayment.pageDetails.para1")," "),a.xp6(3),a.Q6J("ngIf",!m.isAddExtraServiceMode&&!(m.isRescheduleAptmntMode||m.iswaitlistScheduleMode)),a.xp6(1),a.Q6J("ngIf",!(m.isAddExtraServiceMode||m.commonService.checkIfPostal(m.applicationType)||m.commonService.checkIfOWA(m.applicationType)||m.iswaitlistConfirmMode||m.isHMPO||m.isCCPayNowAptmntMode)),a.xp6(1),a.Q6J("ngIf",!m.isRescheduleAptmntMode&&!m.iswaitlistConfirmMode&&!m.isHMPO),a.xp6(1),a.Q6J("ngIf",!m.isRescheduleAptmntMode),a.xp6(1),a.Q6J("ngIf",!m.isRescheduleAptmntMode),a.xp6(1),a.Q6J("ngIf",m.isPtFlow&&!m.isPiFlow),a.xp6(4),a.Q6J("disabled",m.isDisablegoback)("ngClass",a.VKq(24,li,0==m.isDisablegoback)),a.xp6(1),a.hij(" ",a.lcZ(22,22,"commonSections.buttons.button8")," "),a.xp6(3),a.Q6J("ngTemplateOutlet",(null==m.selectedSevices?null:m.selectedSevices.length)>0?P:G)}}function Pt(L,H){if(1&L&&(a.ynx(0),a.YNc(1,Vi,25,26,"form",10),a.BQk()),2&L){const m=a.oxw(2);a.xp6(1),a.Q6J("ngIf",m.reviewPaymentData)}}function Ri(L,H){if(1&L&&(a.ynx(0),a.TgZ(1,"div",20)(2,"div",21),a._UZ(3,"i",22),a.TgZ(4,"div"),a._uU(5),a.qZA()()(),a.BQk()),2&L){const m=a.oxw(3);a.xp6(5),a.Oqu(m.proceedFailMsg)}}function Ji(L,H){if(1&L){const m=a.EpF();a.ynx(0),a.TgZ(1,"mat-card"),a.YNc(2,Ri,6,1,"ng-container",6),a.TgZ(3,"h1",13),a._uU(4),a.ALo(5,"translate"),a.qZA(),a.TgZ(6,"p",14),a._uU(7),a.ALo(8,"translate"),a.qZA(),a.TgZ(9,"div")(10,"h2",25)(11,"b"),a._uU(12),a.ALo(13,"translate"),a.qZA()(),a.TgZ(14,"p",35),a._uU(15),a.ALo(16,"translate"),a.qZA(),a.TgZ(17,"p",35),a._uU(18),a.ALo(19,"translate"),a.qZA(),a.TgZ(20,"p",35),a._uU(21),a.ALo(22,"translate"),a.qZA(),a.TgZ(23,"h2",25)(24,"b"),a._uU(25),a.ALo(26,"translate"),a.qZA()(),a.TgZ(27,"p",35),a._uU(28),a.ALo(29,"translate"),a.qZA(),a.TgZ(30,"h2",25)(31,"b"),a._uU(32),a.ALo(33,"translate"),a.qZA()(),a.TgZ(34,"p",35),a._uU(35),a.ALo(36,"translate"),a.qZA(),a.TgZ(37,"p",35),a._uU(38),a.ALo(39,"translate"),a.qZA(),a.TgZ(40,"p",35),a._uU(41),a.ALo(42,"translate"),a.qZA(),a.TgZ(43,"p",35),a._uU(44),a.ALo(45,"translate"),a.qZA()(),a.TgZ(46,"div",16)(47,"div",17)(48,"button",97),a.NdJ("click",function(){return a.CHM(m),a.oxw(2).goBack()}),a._uU(49),a.ALo(50,"translate"),a.qZA()(),a.TgZ(51,"div",17)(52,"button",97),a.NdJ("click",function(){return a.CHM(m),a.oxw(2).proceedToPayment()}),a._uU(53),a.ALo(54,"translate"),a.qZA()()()(),a.BQk()}if(2&L){const m=a.oxw(2);a.xp6(2),a.Q6J("ngIf",m.proceedFailMsg),a.xp6(2),a.Oqu(a.lcZ(5,16,"reviewAndPayment.headerLabel.label9")),a.xp6(3),a.Oqu(a.lcZ(8,18,"reviewAndPayment.pageDetails.para4")),a.xp6(5),a.Oqu(a.lcZ(13,20,"reviewAndPayment.pageDetails.para5")),a.xp6(3),a.Oqu(a.lcZ(16,22,"reviewAndPayment.pageDetails.para6")),a.xp6(3),a.Oqu(a.lcZ(19,24,"reviewAndPayment.pageDetails.para7")),a.xp6(3),a.Oqu(a.lcZ(22,26,"reviewAndPayment.pageDetails.para8")),a.xp6(4),a.Oqu(a.lcZ(26,28,"reviewAndPayment.pageDetails.para9")),a.xp6(3),a.Oqu(a.lcZ(29,30,"reviewAndPayment.pageDetails.para10")),a.xp6(4),a.Oqu(a.lcZ(33,32,"reviewAndPayment.pageDetails.para11")),a.xp6(3),a.Oqu(a.lcZ(36,34,"reviewAndPayment.pageDetails.para12")),a.xp6(3),a.Oqu(a.lcZ(39,36,"reviewAndPayment.pageDetails.para13")),a.xp6(3),a.Oqu(a.lcZ(42,38,"reviewAndPayment.pageDetails.para14")),a.xp6(3),a.Oqu(a.lcZ(45,40,"reviewAndPayment.pageDetails.para15")),a.xp6(5),a.hij(" ",a.lcZ(50,42,"reviewAndPayment.buttons.button2")," "),a.xp6(4),a.hij(" ",a.lcZ(54,44,"reviewAndPayment.buttons.button3")," ")}}function Yi(L,H){if(1&L&&(a.ynx(0),a.TgZ(1,"div",20)(2,"div",21),a._UZ(3,"i",22),a.TgZ(4,"div"),a._uU(5),a.qZA()()(),a.BQk()),2&L){const m=a.oxw(3);a.xp6(5),a.Oqu(m.proceedFailMsg)}}function Qi(L,H){if(1&L&&(a.TgZ(0,"mat-option",106),a._uU(1),a.qZA()),2&L){const m=H.$implicit;a.Q6J("value",m.code)("disabled",!m.IsActive),a.xp6(1),a.hij(" ",null==m?null:m.name," ")}}function Bi(L,H){if(1&L){const m=a.EpF();a.ynx(0),a.TgZ(1,"mat-card",12),a.YNc(2,Yi,6,1,"ng-container",6),a.TgZ(3,"h1",98),a._uU(4),a.ALo(5,"translate"),a.qZA(),a.TgZ(6,"p",99),a._uU(7),a.ALo(8,"translate"),a.qZA(),a.TgZ(9,"div"),a._uU(10),a.ALo(11,"translate"),a.TgZ(12,"span",100),a._uU(13,"*"),a.qZA()(),a.TgZ(14,"div",101)(15,"mat-form-field",102)(16,"mat-select",103),a.NdJ("ngModelChange",function(G){return a.CHM(m),a.oxw(2).selectPaymentType=G}),a.ALo(17,"translate"),a.YNc(18,Qi,2,3,"mat-option",104),a.qZA()()()(),a.TgZ(19,"mat-card",15)(20,"div",16)(21,"div",17)(22,"button",97),a.NdJ("click",function(){return a.CHM(m),a.oxw(2).goBack()}),a._uU(23),a.ALo(24,"translate"),a.qZA()(),a.TgZ(25,"div",17)(26,"button",105),a.NdJ("click",function(){return a.CHM(m),a.oxw(2).goForward()}),a._uU(27),a.ALo(28,"translate"),a.qZA()()()(),a.BQk()}if(2&L){const m=a.oxw(2);a.xp6(2),a.Q6J("ngIf",m.proceedFailMsg),a.xp6(2),a.Oqu(a.lcZ(5,10,"polandTurkey.headerLabel.label2")),a.xp6(3),a.Oqu(a.lcZ(8,12,"polandTurkey.pageDetails.para26")),a.xp6(3),a.Oqu(a.lcZ(11,14,"polandTurkey.formLabel.label8")),a.xp6(6),a.s9C("placeholder",a.lcZ(17,16,"polandTurkey.formLabel.label9")),a.Q6J("ngModel",m.selectPaymentType),a.xp6(2),a.Q6J("ngForOf",m.payOptions),a.xp6(5),a.hij(" ",a.lcZ(24,18,"commonSections.buttons.button8")," "),a.xp6(3),a.Q6J("disabled",!m.selectPaymentType),a.xp6(1),a.hij(" ",a.lcZ(28,20,"commonSections.buttons.button19")," ")}}function ji(L,H){if(1&L&&(a.TgZ(0,"section",4),a.YNc(1,y,5,4,"div",5),a.YNc(2,Pt,2,1,"ng-container",6),a.YNc(3,Ji,55,46,"ng-container",6),a.YNc(4,Bi,29,22,"ng-container",6),a.qZA()),2&L){const m=a.oxw();a.xp6(1),a.Q6J("ngIf",!m.isRescheduleAptmntMode&&m.isPtFlow),a.xp6(1),a.Q6J("ngIf",!m.pgDisclaimer&&!m.isPaymentOptionsPage),a.xp6(1),a.Q6J("ngIf",m.pgDisclaimer&&!m.isPaymentOptionsPage),a.xp6(1),a.Q6J("ngIf",!m.pgDisclaimer&&m.isPaymentOptionsPage)}}function Hi(L,H){if(1&L&&(a.TgZ(0,"button",107),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&L){const m=a.oxw();a.Q6J("disabled",!m.termsAndConditionFlag),a.xp6(1),a.hij(" ",a.lcZ(2,2,m.finalButtonText)," ")}}function $i(L,H){if(1&L&&(a._UZ(0,"input",108)(1,"input",109),a.TgZ(2,"button",110),a._uU(3),a.ALo(4,"translate"),a.qZA()),2&L){const m=a.oxw();a.Q6J("value",m.loggedInUser),a.xp6(2),a.Q6J("disabled",!m.termsAndConditionFlag),a.xp6(1),a.hij(" ",a.lcZ(4,3,m.finalButtonText)," ")}}function Wi(L,H){if(1&L){const m=a.EpF();a.TgZ(0,"section",111)(1,"mat-card",12)(2,"div",112)(3,"button",113),a._UZ(4,"i",114),a.qZA(),a.TgZ(5,"p",115),a._uU(6),a.qZA(),a.TgZ(7,"div",16)(8,"div",116)(9,"button",117),a.NdJ("click",function(){return a.CHM(m),a.oxw().routetoDashboard()}),a._uU(10),a.ALo(11,"translate"),a.qZA()()()()()()}if(2&L){const m=a.oxw();a.xp6(6),a.hij(" ",m.sendLinkMsg," "),a.xp6(4),a.hij(" ",a.lcZ(11,2,"header.headerLabel.label2")," ")}}let Ki=(()=>{class L extends v.o{constructor(m){var P,G,F;super(),this.dialog=m,this.constants=r.gT,this.submitAttempt=!1,this.optedOutTmi=!1,this.tmiServicesAvailable=!0,this.agreeTmiProdConditions=!0,this.dataOtCpId=p.N.oneTrustPortal.dataOtCpId,this.loggedInUser="",this.payOptions=[],this.isPtFlowPaymentOption=!1,this.notificationType=[],this.showsendLinkMsg=!1,this.sendLinkMsg="",this.initBaseForm(r.gT.modules.REVIEW_PAYMENT),this.proceedFailMsg="",this.subVisaCategoryCode=[],this.configuration={},this.currencyCode="",this.visaCategoryCode=[],this.nationalityList=[],this.vacList=[],this.providerList=[],this.courierList=[],this.stateList=[],this.allowedCaptcha=!1,this.splitPayment=null===(P=this.sessionService)||void 0===P?void 0:P.splitEnabled,this.currentCaptcha=this.captchaVersionConst.default,this.agreeToTermsAndCondition=!1,this.canVFSReachoutToApplicant=!1,this.mftConsentAccepted=!1,this.agreeToWaitlistConfirmation=!1,this.isWaitListJourney=this.iswaitlistConfirmMode,this.tmiEnabled=null===(G=this.sessionService)||void 0===G?void 0:G.tmiEnabled,this.mftConsentEnabled=null===(F=this.sessionService)||void 0===F?void 0:F.mftConsentEnabled,this.loggedInUser=this.sessionService.getLoggedEmail(),this.isPtFlowPaymentOption=!!this.isPtFlow,this.pgDisclaimer=!1,this.isPaymentOptionsPage=!1,this.isHMPO=this.sessionService.isHmpoJourney,this.mftVisaFeeConsentAccepted=!1,this.notificationType=[{name:"email",label:"polandTurkey.pageDetails.para16"},{name:"sms",label:"polandTurkey.pageDetails.para17"},{name:"none",label:"polandTurkey.pageDetails.para18"}],this.resourceGroup=this.sessionService.resourceGroupData}ngOnInit(){var m,P,G;this.currentCaptcha=this.captchaVersionConst.default,this.captchaToken="",this.allowedCaptcha=!0;const F={dl_category:"pageview",dl_action:"pageview- review page",dl_label:this.utilityService.countrynameByIso(window.location.pathname.split("/")[1]),value:void 0,ecommerce:void 0};if(this.timeLeft=String(600),this.isPtFlow&&!this.isRescheduleAptmntMode&&this.start(),this.utilityService.fireCustomEvent(F),this.currencyCode=this.sessionService.currencyCode||"",this.configuration=this.sessionService.applicationConfiguration,this.isRescheduleAptmntMode){this.reviewPaymentData=[];const Ce=this.sessionService.getAppointmentDetails();this.reviewPaymentData.bookAppointment=Ce}else this.loadReviewPaymentData(),(null===(P=null===(m=this.sessionService)||void 0===m?void 0:m.tmiVas)||void 0===P?void 0:P.length)>0&&this.InitiateCreateTMIPolicy();(null===(G=this.configuration)||void 0===G?void 0:G.isPaymentModeEnabled)&&this.payModeBasedAppoiment(),this.optedOutTmi=this.sessionService.optOutTmi,this.tmiServicesAvailable=this.sessionService.isTmiProductsAvailable,this.selectedSevices=this.sessionService.tmiVas,this.commonService.bookingMaxtimeSessionTrackStart()}getCaptchaValue(){return new Promise((m,P)=>{this.utilityService.executeCapctha(r.gT.captcha_action.SCHEDULE).then(G=>{this.captchaToken=G,m(!0)})})}payModeBasedAppoiment(){return(0,k.mG)(this,void 0,void 0,function*(){const m=this.sessionService.paymentModeinSubvisaCategory;"ONLINE"===m.code?(this.configuration.payOnlineEnabled=!0,this.configuration.payAtVACEnabled=!1,this.configuration.payAtBankEnabled=!1):"BANK"===m.code?(this.configuration.payOnlineEnabled=!1,this.configuration.payAtVACEnabled=!1,this.configuration.payAtBankEnabled=!0):"VAC"===m.code&&(this.configuration.payOnlineEnabled=!1,this.configuration.payAtVACEnabled=!0,this.configuration.payAtBankEnabled=!1)})}start(){this.config={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(31535600)}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(m=>(0,k.mG)(this,void 0,void 0,function*(){m?(this.allowedCaptcha=m.indexOf(r.m8.REVIEW_AND_PAY)>-1,this.allowedCaptcha&&this.getCaptchaValue()):this.allowedCaptcha=!1}))}getSubvisaCategoryCode(){return(0,k.mG)(this,void 0,void 0,function*(){try{const m=this.sessionService.centerCode,P=this.sessionService.eligibilityDetails,G=null==P?void 0:P.selectedSubvisaCategory,F=yield this.commonService.getSubVisaCategories(m,G);this.subVisaCategoryCode=F}catch(m){console.log(`Error Status: ${m.status}\nMessage: ${m.message} : ${m.error.data}`)}})}getVisaCategoryCode(){return(0,k.mG)(this,void 0,void 0,function*(){try{const m=this.sessionService.centerCode,P=yield this.commonService.getVisaCategories(m);this.visaCategoryCode=P}catch(m){console.log(`Error Status: ${m.status}\nMessage: ${m.message} : ${m.error.data}`)}})}loadNationality(){return(0,k.mG)(this,void 0,void 0,function*(){this.nationalityList=yield this.commonService.loadNationality()})}loadServiceProvider(){return(0,k.mG)(this,void 0,void 0,function*(){this.providerList=yield this.commonService.loadMasterData(r.gT.api.masterCourierSercProvider)})}loadCourier(){return(0,k.mG)(this,void 0,void 0,function*(){this.courierList=yield this.commonService.loadMasterData(r.gT.api.masterCourierType)})}loadStates(){return(0,k.mG)(this,void 0,void 0,function*(){this.stateList=yield this.httpService.slashParamsDoGet(r.gT.api.masterState,{countryCode:this.sessionService.countryCode}).toPromise()})}getApplicationData(){var m;return(0,k.mG)(this,void 0,void 0,function*(){const P=yield this.commonService.getVacCenters(null===(m=this.sessionService)||void 0===m?void 0:m.appCultureCode);P&&(this.vacList=P,this.sessionService.appCenterCode=P)})}feesApplied(){return(0,k.mG)(this,void 0,void 0,function*(){const m=yield this.utilityService.loadFees();return(null==m?void 0:m.feeDetails)&&(this.sessionService.vacFees=null==m?void 0:m.feeDetails),this.sessionService.additionalFees=(null==m?void 0:m.additionalFee)||[],m})}loadYourDetails(){var m,P;try{return null===(P=null===(m=this.sessionService)||void 0===m?void 0:m.applicationDetailValue)||void 0===P?void 0:P.applicantList.map(F=>{var Ce,ge,de,me;return F.countryName&&(F.countryName=this.utilityService.getnationalityName(this.nationalityList,F.nationalityCode)),this.commonService.checkIfPostal(this.applicationType)&&(F.postalList[0].courierType=this.utilityService.getNameFromCode(this.courierList,F.postalList[0].courierType),this.commonService.checkIfPrepaidCourier(null===(Ce=null==F?void 0:F.postalList[0])||void 0===Ce?void 0:Ce.courierType)?F.postalList[0].courierServiceProvider=this.utilityService.getNameFromCode(this.providerList,null===(ge=null==F?void 0:F.postalList[0])||void 0===ge?void 0:ge.courierServiceProvider):(F.postalList[0].countryCode=this.utilityService.getnationalityName(this.nationalityList,null===(de=null==F?void 0:F.postalList[0])||void 0===de?void 0:de.countryCode),F.postalList[0].state=this.utilityService.getStateNameFromISOcode(this.stateList,null===(me=null==F?void 0:F.postalList[0])||void 0===me?void 0:me.state))),F.dateOfBirth&&(F.dob=this.isCCPayNowAptmntMode||this.configuration.isBelgiumHandshakeEnabled?F.dateOfBirth:F.dateOfBirth.day+"/"+F.dateOfBirth.month+"/"+F.dateOfBirth.year),F.passportExpirtyDate&&(F.passportExpiry=this.isCCPayNowAptmntMode?F.passportExpirtyDate:F.passportExpirtyDate.day+"/"+F.passportExpirtyDate.month+"/"+F.passportExpirtyDate.year),F})}catch(G){console.log(G)}}loadReviewPaymentData(){var m,P,G,F,Ce,ge,de,me,Ee,ke,Re,Ge,j;return(0,k.mG)(this,void 0,void 0,function*(){this.utilityService.startNgxUiSpinner();const Ie=this.isRescheduleAptmntMode||this.iswaitlistScheduleMode||this.isCCPayNowAptmntMode?this.sessionService.applicationDetailValue:this.sessionService.eligibilityDetails,Pe=[this.loadNationality(),this.getApplicationData(),yield this.getVisaCategoryCode(),this.getSubvisaCategoryCode()];let Ae,Dt,xe,ee;if((null===(m=this.configuration)||void 0===m?void 0:m.enableEntryType)?(Ae=this.commonService.loadEntryType(),Pe.push(Ae)):Pe.push(void 0),(null===(P=this.configuration)||void 0===P?void 0:P.enableServiceType)?(Dt=this.commonService.loadServiceType(),Pe.push(Dt)):Pe.push(void 0),(null===(G=this.configuration)||void 0===G?void 0:G.enableVisaType)&&(null===(F=this.configuration)||void 0===F?void 0:F.enableServiceType)?(xe=this.commonService.loadEOIVisaType(),Pe.push(xe)):Pe.push(void 0),null===(Ce=this.configuration)||void 0===Ce?void 0:Ce.enableApplicationType)if(ee=this.commonService.loadSubmissionType(),Pe.push(ee),this.applicationType=Ie.applicationType?Ie.applicationType:null,this.commonService.checkIfPostal(this.applicationType)){const it=this.loadServiceProvider(),ot=this.loadCourier(),Ot=this.loadStates();Pe.push(it,ot,Ot)}else Pe.push(void 0,void 0,void 0);else Pe.push(void 0,void 0,void 0,void 0);const be=yield Promise.all(Pe);this.visaCategoryName=this.utilityService.getNameFromCode(this.visaCategoryCode,Ie.selectedSubvisaCategory),this.visaSubCategoryName=this.utilityService.getNameFromCode(this.subVisaCategoryCode,Ie.visaCategoryCode);const Le=this.utilityService.getnationalityName(this.nationalityList,this.sessionService.countryCode),Ht=this.utilityService.getnationalityName(this.nationalityList,this.sessionService.tenent),ri=this.utilityService.filterVacFromCode(this.vacList,Ie.centerCode,"centerName"),$t=this.utilityService.getNameFromCode(this.visaCategoryCode,Ie.selectedSubvisaCategory),zi=this.utilityService.getNameFromCode(this.subVisaCategoryCode,Ie.visaCategoryCode),Je=yield this.feesApplied();this.isCCPayNowAptmntMode&&((null==Je?void 0:Je.feeDetails)?this.sessionService.setCurrencyCode=null===(ge=null==Je?void 0:Je.feeDetails[0])||void 0===ge?void 0:ge.currency:(null==Je?void 0:Je.serviceFees)&&(yield this.getApplicantServices(),this.sessionService.setCurrencyCode=null===(de=null==Je?void 0:Je.servicesFee[0])||void 0===de?void 0:de.currency));const $e=[Le,Ht,ri,$t,zi,Je];let ci,ui,di,pi,mi;(null===(me=this.configuration)||void 0===me?void 0:me.enableEntryType)&&Ie.entryType?(ci=this.utilityService.getCodeName(be[4].entryTypes,Ie.entryType),$e.push(ci)):$e.push(void 0),(null===(Ee=this.configuration)||void 0===Ee?void 0:Ee.enableServiceType)&&Ie.serviceType?(ui=this.utilityService.getCodeName(be[5],Ie.serviceType),$e.push(ui)):$e.push(void 0),(null===(ke=this.configuration)||void 0===ke?void 0:ke.enableVisaType)&&(null===(Re=this.configuration)||void 0===Re?void 0:Re.enableServiceType)&&Ie.visaType?(di=this.utilityService.getCodeName(be[6].eoiVisaTypes,Ie.visaType),$e.push(di)):$e.push(void 0),(null===(Ge=this.configuration)||void 0===Ge?void 0:Ge.enableApplicationType)&&Ie.applicationType?(pi=this.utilityService.getCodeName(be[7],Ie.applicationType),$e.push(pi)):$e.push(void 0),(null===(j=this.configuration)||void 0===j?void 0:j.enableNationalityFilterForVisaCategory)&&Ie.nationalityCode?(mi=this.utilityService.getnationalityName(this.nationalityList,Ie.nationalityCode),$e.push(mi)):$e.push(void 0);const We=yield Promise.all($e);this.utilityService.stopNgxUiSpinner();const Xi=this.loadYourDetails(),eo=this.sessionService.getAppointmentDetails(),ve=We[5],to=this.sessionService.applicantService;this.reviewPaymentData={},this.reviewPaymentData.nationalityName=We[10],this.reviewPaymentData.entryType=We[6],this.reviewPaymentData.serviceType=We[7],this.reviewPaymentData.visaType=We[8],this.reviewPaymentData.applicationType=We[9],this.sessionService.calculatedCodeData=this.reviewPaymentData,this.reviewPaymentData.countryName=We[0],this.reviewPaymentData.missionName=We[1],this.reviewPaymentData.vacCodeName=We[2],this.reviewPaymentData.visaCategoryName=We[3],this.reviewPaymentData.visaSubCategoryName=We[4],this.reviewPaymentData.yourDetail=Xi,this.reviewPaymentData.bookAppointment=eo,this.reviewPaymentData.fees=null==ve?void 0:ve.feeDetails,this.reviewPaymentData.feesTotal=(null==ve?void 0:ve.feeDetails)?null==ve?void 0:ve.feeDetails.reduce((it,ot)=>it+ot.feeAmount,0):0,this.reviewPaymentData.additionalFee=(null==ve?void 0:ve.additionalFee)||[],this.reviewPaymentData.additionalFeeTotal=(null==ve?void 0:ve.additionalFee)?null==ve?void 0:ve.additionalFee.reduce((it,ot)=>it+ot.value,0):0,this.reviewPaymentData.services=to,this.reviewPaymentData.servicesTotal=(null==ve?void 0:ve.servicesFee)?ve.servicesFee.reduce((it,ot)=>it+(ot.totalamount||0),0):0,this.reviewPaymentData.overallTotal=(null==ve?void 0:ve.totalamount)?null==ve?void 0:ve.totalamount:0,this.reviewPaymentData.serviceFeeTax=(null==ve?void 0:ve.servicesFee)?null==ve?void 0:ve.servicesFee.reduce((it,ot)=>{var Ot;return ot.taxes.length>0?it+(null===(Ot=ot.taxes[0])||void 0===Ot?void 0:Ot.taxAmount):it+0},0):0,this.sessionService.serviceTax=this.reviewPaymentData.serviceFeeTax,this.utilityService.updateTotalFees(this.reviewPaymentData.feesTotal),this.sessionService.feeAmount=this.reviewPaymentData.feesTotal,this.loadScript(),this.currencyCode=this.sessionService.currencyCode||""})}get calFeesTotal(){var m,P,G,F,Ce;const ge=null===(P=null===(m=this.reviewPaymentData)||void 0===m?void 0:m.fees)||void 0===P?void 0:P.filter(de=>de.feeTypeCode===r.gT.FEE_TYPE_CODES.CVFEE);return ge&&ge.length>0?(null===(G=this.reviewPaymentData)||void 0===G?void 0:G.feesTotal)-(null===(F=ge[0])||void 0===F?void 0:F.feeAmount):null===(Ce=this.reviewPaymentData)||void 0===Ce?void 0:Ce.feesTotal}get termCondition(){return this.utilityService.externalUrlAppend("termsandconditions")}get isPiFlow(){return this.utilityService.strictCompare(this.sessionService.tenent.toLowerCase(),"pol")&&this.utilityService.strictCompare(this.sessionService.countryCode.toLowerCase(),"ind")}get termsAndConditionFlag(){return this.isWaitListJourney?(this.agreeToTermsAndCondition&&this.agreeToWaitlistConfirmation||this.isRescheduleAptmntMode)&&(!this.tmiProductsView||this.optedOutTmi||this.agreeTmiProdConditions||!this.tmiServicesAvailable):this.isPtFlow&&!this.isPiFlow?(this.agreeToTermsAndCondition||this.isRescheduleAptmntMode)&&(!this.tmiProductsView||this.optedOutTmi||this.agreeTmiProdConditions||!this.tmiServicesAvailable)&&this.ptRemindingType:(this.agreeToTermsAndCondition||this.isRescheduleAptmntMode)&&(!this.tmiProductsView||this.optedOutTmi||this.agreeTmiProdConditions||!this.tmiServicesAvailable)}submitCaptcha(){var m,P,G,F;if(this.mftConsentEnabled&&!this.mftConsentAccepted)return document.body.scrollTop=document.documentElement.scrollTop=0,this.proceedFailMsg=this.commonService.translateValue("reviewAndPayment.messages.errorMessages.message2"),void setTimeout(()=>this.proceedFailMsg="",4e3);if(this.mftConsentEnabled&&!this.mftVisaFeeConsentAccepted)return document.body.scrollTop=document.documentElement.scrollTop=0,this.proceedFailMsg=this.commonService.translateValue("reviewAndPayment.messages.errorMessages.message3"),void setTimeout(()=>this.proceedFailMsg="",4e3);this.utilityService.fireCustomEvent({dl_category:"Form Submission",dl_action:"Form Submission - Confirm and Pay",dl_label:void 0,value:0});const ge=this.sessionService.applicantService;ge&&(null==ge?void 0:ge.length)>0&&this.utilityService.onCheckout(ge),this.utilityService.fireCustomEvent({dl_category:"Form Submission",dl_action:"Form Submission - Confirm and Pay",dl_label:"ReviewandPayClick",value:0});const me=this.sessionService.tmiDetails||[],Ee={event:"pay_online",dl_category:"pay_online",dl_action:"cta_click",visa_type:null===(m=this.reviewPaymentData)||void 0===m?void 0:m.visaCategoryName,appointment_type:null===(P=this.reviewPaymentData.bookAppointment)||void 0===P?void 0:P.slotType,coverage_type:null==me?void 0:me.coveragetype,coverage_level:null==me?void 0:me.coveragelevel,extreme_sports:null==me?void 0:me.extremesports,travel_insurance_added:(null===(G=this.sessionService.tmiVas)||void 0===G?void 0:G.length)>0};this.utilityService.gaForTMI(Ee),this.isPtFlowPaymentOption&&!this.isPaymentOptionsPage&&this.reviewPaymentData.overallTotal>0?this.loadPaymentOptionsView():this.reviewPaymentData.overallTotal>0&&(null===(F=this.configuration)||void 0===F?void 0:F.payOnlineEnabled)&&(!this.isWaitListJourney||this.isWaitListJourney&&this.configuration.payForWaitlistEnabled)&&"CC"!==this.sessionService.loginResponse?(this.pgDisclaimer=!0,this.utilityService.pushDataLayerGA({dl_event:"review_application",dl_category:"Review Application",dl_action:"Pay Online",dl_label:"Success"})):(this.utilityService.pushDataLayerGA({dl_event:"review_application",dl_category:"Review Application",dl_action:"Confirm",dl_label:"Success"}),this.proceedToPayment())}proceedToPayment(){var m,P,G,F,Ce,ge,de,me,Ee,ke,Re,Ge,j,Ie,Nt;return(0,k.mG)(this,void 0,void 0,function*(){try{if(this.submitAttempt=!0,this.allowedCaptcha&&!this.captchaToken&&this.captchaVersionConst.alternate===this.currentCaptcha||!this.agreeToTermsAndCondition&&!this.isRescheduleAptmntMode||this.isWaitListJourney&&!this.agreeToWaitlistConfirmation)return;const tt=this.sessionService.paymentDetails,ct=null===(m=this.sessionService.applicantService)||void 0===m?void 0:m.find(be=>"TMIPS"===be.code),jt={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,notificationType:this.ptRemindingType||"none",paymentdetails:{paymentmode:this.configuration.payAtBankEnabled||this.isPayAtBankSelected?"Bank":(null===(P=this.configuration)||void 0===P?void 0:P.payOnlineEnabled)||this.isPayOnlineSelected?"Online":"Vac",RequestRefNo:tt&&tt.requestrefno?tt.requestrefno.toString():"",clientId:"",merchantId:"",amount:this.reviewPaymentData.overallTotal,currency:this.sessionService.currencyCode}};let Pe={};Pe=this.sessionService.isAddExtraServiceMode?{ClientId:"",MerchantId:"",MerchantRefNo:this.sessionService.urn,timeStamp:this.utilityService.momentInstance().format(),amount:this.reviewPaymentData.overallTotal}:{notificationType:this.ptRemindingType||"none",paymentdetails:{paymentmode:this.configuration.payAtBankEnabled||this.isPayAtBankSelected?"Bank":(null===(G=this.configuration)||void 0===G?void 0:G.payOnlineEnabled)||this.isPayOnlineSelected?"Online":"Vac",RequestRefNo:tt&&tt.RequestRefNo?tt.RequestRefNo.toString():"",clientId:"",merchantId:"",amount:this.reviewPaymentData.overallTotal,currency:this.sessionService.currencyCode}};let Ae=Object.assign(Object.assign({},jt),Pe);this.allowedCaptcha&&this.captchaVersionConst.alternate===this.currentCaptcha&&(Ae.paymentdetails.api_captcha_mapvas=this.captchaToken,Ae.paymentdetails.captcha_version=this.captchaVersionConst.alternate),ct&&!this.sessionService.isAddExtraServiceMode&&(Ae.paymentdetails.SplitPay=[{SplitAmount:ct?null==ct?void 0:ct.amount:0,SubMerchantId:"43712-1"}]),!this.commonService.checkIfPostal(this.applicationType)&&!this.commonService.checkIfOWA(this.applicationType)&&!this.iswaitlistConfirmMode&&!this.sessionService.isAddExtraServiceMode&&(Ae.allocationId=this.sessionService.isRescheduleAptmntMode?Number(null===(F=this.reviewPaymentData.bookAppointment)||void 0===F?void 0:F.allocationId):String(null===(Ce=this.reviewPaymentData.bookAppointment)||void 0===Ce?void 0:Ce.allocationId)),this.iswaitlistConfirmMode&&!this.sessionService.isAddExtraServiceMode&&!this.configuration.payForWaitlistEnabled&&delete Ae.paymentdetails;const Dt=this.commonService.checkIfPostal(this.applicationType)||this.commonService.checkIfOWA(this.applicationType)||this.sessionService.isHmpoJourney||this.iswaitlistConfirmMode&&this.configuration.payForWaitlistEnabled&&this.reviewPaymentData.overallTotal>0?r.gT.api.paymentInitiate:this.iswaitlistConfirmMode&&!this.configuration.payForWaitlistEnabled||this.iswaitlistConfirmMode&&this.configuration.payForWaitlistEnabled&&0==this.reviewPaymentData.overallTotal?r.gT.api.confirmWaitlist:this.sessionService.isRescheduleAptmntMode?r.gT.api.apptReschedule:this.sessionService.isAddExtraServiceMode?r.gT.api.upgradeVas:this.isCCPayNowAptmntMode?r.gT.api.payonlinepayment:r.gT.api.apptSchedule;!this.sessionService.isRescheduleAptmntMode&&!this.commonService.checkIfPostal(this.applicationType)&&!this.commonService.checkIfOWA(this.applicationType)&&!this.sessionService.isAddExtraServiceMode&&(Ae.CanVFSReachoutToApplicant=this.canVFSReachoutToApplicant),this.mftConsentEnabled&&(Ae.maltaConsentAccepted=this.mftConsentAccepted);let xe=[];if(xe=this.sessionService.isAddExtraServiceMode?yield this.httpService.payloadPost(Dt,Ae).toPromise().catch(be=>{throw be}).then(be=>be):yield this.httpService.payloadPost(Dt,Ae,"Schedule").toPromise().catch(be=>{throw be}).then(be=>be),(null==xe?void 0:xe.IsPaymentRequired)&&(null==xe?void 0:xe.RequestRefNo)&&(this.sessionService.requestReferenceNumber=null==xe?void 0:xe.RequestRefNo),this.sessionService.isAddExtraServiceMode){if((null==xe?void 0:xe.IsPaymentRequired)||this.commonService.routeToPostLoginModule(r.m8.PAYMENT_CONFIRMATION),null===(ge=null==xe?void 0:xe.ErrorDescription)||void 0===ge?void 0:ge.code)document.body.scrollTop=document.documentElement.scrollTop=0,this.proceedFailMsg=null===(de=null==xe?void 0:xe.ErrorDescription)||void 0===de?void 0:de.description;else{this.sessionService.paymentDetails=this.utilityService.convertKeystoLowercase(xe);const be=this.getPaymentUrl(this.sessionService.paymentDetails);window.open(be,"_self")}return}(null===(me=this.sessionService)||void 0===me?void 0:me.resourceGroupDataTemp)||(this.sessionService.resourceGroupDataTemp=null===(Ee=this.sessionService)||void 0===Ee?void 0:Ee.resourceGroupData);const ee=this.utilityService.convertKeystoLowercase(xe);if(!(null==ee?void 0:ee.error)&&(null==ee?void 0:ee.isappointmentbooked)&&"CC"==this.sessionService.loginResponse){const be={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),email:null===(Re=null===(ke=this.sessionService)||void 0===ke?void 0:ke.applicationDetailValue)||void 0===Re?void 0:Re.applicantList[0].emailId,urn:this.sessionService.urn,languageCode:this.sessionService.appLanguageCode},Le=yield this.httpService.payloadPost(r.gT.api.sendpaymentlink,be).toPromise();return!Le.error&&(null==Le?void 0:Le.isMailSent)&&(null==Le?void 0:Le.message)?(this.showsendLinkMsg=!0,void(this.sendLinkMsg=null==Le?void 0:Le.message)):(document.body.scrollTop=document.documentElement.scrollTop=0,this.proceedFailMsg=(null==Le?void 0:Le.description)?null==Le?void 0:Le.description:null===(Ge=null==Le?void 0:Le.error)||void 0===Ge?void 0:Ge.description,void setTimeout(()=>this.proceedFailMsg="",6e3))}if(this.isRescheduleAptmntMode&&(null==ee?void 0:ee.isappointmentrescheduled))return this.dataShareService.rescheduledData=xe,void this.commonService.routeToDashboard();if(!(null==ee?void 0:ee.error)&&(null==ee?void 0:ee.isconfirmed)&&this.sessionService.waitlistJourney)return this.sessionService.paymentDetails=ee,this.sessionService.paymentData=null==Ae?void 0:Ae.paymentdetails,void this.commonService.routeToPostLoginModule(r.m8.PAYMENT_CONFIRMATION);if(!(null==ee?void 0:ee.error)&&this.isPayAtBankSelected)return this.sessionService.paymentDetails=ee,this.isPtFlow&&this.commonService.stopTimeOut(),this.sessionService.paymentData=null==Ae?void 0:Ae.paymentdetails,this.sessionService.isPayAtBankSelected=!0,void this.commonService.routeToPostLoginModule(r.m8.PAYMENT_CONFIRMATION);if((null==ee?void 0:ee.error)||!(null==ee?void 0:ee.isappointmentbooked)||(null==ee?void 0:ee.ispaymentrequired)||(null==ee?void 0:ee.url))if(ee&&!ee.error&&(null==ee?void 0:ee.isappointmentbooked)&&ee.ispaymentrequired&&ee.url){this.isPtFlow&&this.commonService.stopTimeOut(),this.sessionService.paymentDetails=ee,this.sessionService.paymentData=null==Ae?void 0:Ae.paymentdetails;const be=`${ee.url}?RequestRefNo=${ee.requestrefno}&Email=${this.sessionService.getLoggedEmail()}&Currency=${this.sessionService.currencyCode}&Culture=${this.sessionService.appCultureCode}&Amount=${this.reviewPaymentData.overallTotal}&DigitalSignature=${ee.digitalsignature}&RedirectURL=`;window.open(be,"_self")}else if(ee&&!ee.error&&this.iswaitlistConfirmMode&&this.configuration.payForWaitlistEnabled&&ee.ispaymentrequired&&ee.url){this.isPtFlow&&this.commonService.stopTimeOut(),this.sessionService.paymentDetails=ee,this.sessionService.paymentData=null==Ae?void 0:Ae.paymentdetails;const be=`${ee.url}?RequestRefNo=${ee.requestrefno}&Email=${this.sessionService.getLoggedEmail()}&Currency=${this.sessionService.currencyCode}&Culture=${this.sessionService.appCultureCode}&Amount=${this.reviewPaymentData.overallTotal}&DigitalSignature=${ee.digitalsignature}&RedirectURL=`;window.open(be,"_self")}else if(ee&&!ee.error&&(this.commonService.checkIfPostal(this.applicationType)||this.commonService.checkIfOWA(this.applicationType)||this.sessionService.isHmpoJourney)&&ee.ispaymentrequired&&ee.url){this.sessionService.paymentDetails=ee,this.sessionService.paymentData=null==Ae?void 0:Ae.paymentdetails;const be=`${ee.url}?RequestRefNo=${ee.requestrefno}&Currency=${this.sessionService.currencyCode}&Culture=${this.sessionService.appCultureCode}&Amount=${this.reviewPaymentData.overallTotal}&DigitalSignature=${ee.digitalsignature}&RedirectURL=`;window.open(be,"_self")}else{let be;document.body.scrollTop=document.documentElement.scrollTop=0,1035===(null===(j=null==ee?void 0:ee.error)||void 0===j?void 0:j.code)&&this.sessionService.appCultureCode.indexOf("zh-CN")>-1?this.subs.sink=this.translateService.get("reviewAndPayment.messages.errorMessages.message1").subscribe($t=>be=$t):be=null===(Ie=null==ee?void 0:ee.error)||void 0===Ie?void 0:Ie.description,be=be.replace(" X ",` ${null===(Nt=this.configuration)||void 0===Nt?void 0:Nt.allowRescheduleXDaysPriorToAppointment} `);const Le=be.match(/\[([^)]+)\]/);let Ht;Le&&(Ht=Le[1]),JSON.parse(JSON.stringify(this.configuration)),this.proceedFailMsg=be.replace(" X ",` ${this.configuration.allowRescheduleXDaysPriorToAppointment} `),setTimeout(()=>{this.proceedFailMsg=""},5e3)}else this.isPtFlow&&this.commonService.stopTimeOut(),this.sessionService.paymentDetails=ee,this.sessionService.paymentData=null==Ae?void 0:Ae.paymentdetails,this.commonService.routeToPostLoginModule(r.m8.PAYMENT_CONFIRMATION)}catch(tt){if(this.logger.error(tt),!this.allowedCaptcha)return;if(p.N.captchaFallbackEnabled)this.captchaToken="",this.currentCaptcha=this.captchaVersionConst.alternate,this.captchaToken="",this.utilityService.resetCaptcha();else{const ct=yield this.captchaContainer.generateToken();this.captchaToken=ct}}})}InitiateCreateTMIPolicy(){var m,P,G,F,Ce;return(0,k.mG)(this,void 0,void 0,function*(){const ge=null===(P=null===(m=this.sessionService)||void 0===m?void 0:m.applicationDetailValue)||void 0===P?void 0:P.applicantList,de=null===(G=this.sessionService)||void 0===G?void 0:G.tmiDetails;de.startDate=this.utilityService.convertJSONInDate(null==de?void 0:de.startdate);const me=null===(F=this.sessionService)||void 0===F?void 0:F.tmiVas,Ee=[];ge.forEach(j=>{(null==j?void 0:j.isTmiApplicant)&&"Insurte"===this.configuration.tmiPartnerCode?Ee.push({arn:j.arn,firstName:null==j?void 0:j.firstName,lastName:null==j?void 0:j.lastName,age:null==j?void 0:j.age,dateOfBirth:this.utilityService.convertJSONInDate(null==j?void 0:j.tmiDateOfBirth),emailId:null==j?void 0:j.emailId,dialCode:null==j?void 0:j.dialCode,contactNumber:null==j?void 0:j.contactNumber,passportNumber:null==j?void 0:j.passportNumber,nationalityCode:null==j?void 0:j.nationalityCode}):(null==j?void 0:j.isTmiApplicant)&&"Insurte"!==this.configuration.tmiPartnerCode&&Ee.push({arn:j.arn,firstName:null==j?void 0:j.firstName,lastName:null==j?void 0:j.lastName,age:null==j?void 0:j.age,dateOfBirth:this.utilityService.convertJSONInDate(null==j?void 0:j.dateOfBirth),emailId:null==j?void 0:j.emailId,dialCode:null==j?void 0:j.dialCode,contactNumber:null==j?void 0:j.contactNumber})});const ke=null==ge?void 0:ge.filter(j=>null==j?void 0:j.isTmiApplicant).map(j=>Object({addressLine1:j.addressline1,addressLine2:j.addressline2,postalCode:j.pincode,city:j.city,state:j.state,country:j.state,district:j.state})),Re={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),URN:this.sessionService.urn,amount:String(null===(Ce=me[0])||void 0===Ce?void 0:Ce.amount),productId:me[0].productId,subProductId:me[0].subProductId||"",companyName:me[0].companyName,productName:me[0].productName,applicants:Ee,insuranceTravelDetails:{coverageLevel:null==de?void 0:de.coveragelevel,coverageType:null==de?void 0:de.coveragetype,startDate:this.utilityService.convertJSONInDate(null==de?void 0:de.startdate),endDate:this.utilityService.convertJSONInDate(null==de?void 0:de.enddate),firstCountryOfEntry:null==de?void 0:de.countryofentry,isRequiredExtraSports:!!(null==de?void 0:de.extremesports)&&JSON.parse(null==de?void 0:de.extremesports)},productHolderAddress:ke[0]};"Insurte"===this.configuration.tmiPartnerCode&&(Re.searchId=me[0].searchId),yield this.httpService.payloadPost(r.gT.api.createPolicy,Re).toPromise().then(j=>j).catch(j=>j)})}route(m){try{this.isPtFlow&&this.commonService.stopTimeOut(),this.commonService.removeTmiProductSelection();const P=this.commonService.getSchemaByModuleName(m);this.commonService.routeToPostLoginModule(P.routeUrl)}catch(P){console.log(P)}}editYourDetails(m){try{this.dataShareService.editYourDetail=!0,this.sessionService.editApplicantDetailsIdx=m;const G=this.sessionService.getAllModulesSchema().find(F=>F.logicalName===r.gT.modules.APPLICANT_DETAILS);if(!G)throw new Error(`Error: invalid_module ${Se}`);this.commonService.routeToPostLoginModule(G.routeUrl)}catch(P){console.log(P)}}removeApplicant(m){var P;return(0,k.mG)(this,void 0,void 0,function*(){try{const G=yield this.commonService.deleteApplicantDetails(m);this.reviewPaymentData.yourDetail=this.loadYourDetails(),this.sessionService.updateFees=!0;const F=yield this.feesApplied(),Ce=this.sessionService.applicantService;this.reviewPaymentData.fees=null==F?void 0:F.feeDetails,this.reviewPaymentData.feesTotal=(null==F?void 0:F.feeDetails)?null==F?void 0:F.feeDetails.reduce((ge,de)=>ge+de.feeAmount,0):0,this.reviewPaymentData.services=Ce,this.reviewPaymentData.servicesTotal=(null==F?void 0:F.servicesFee)?F.servicesFee.reduce((ge,de)=>ge+(de.totalamount||0),0):0,this.reviewPaymentData.overallTotal=(null==F?void 0:F.totalamount)?null==F?void 0:F.totalamount:0,this.reviewPaymentData.serviceFeeTax=(null==F?void 0:F.servicesFee)?null==F?void 0:F.servicesFee.reduce((ge,de)=>{var me;return de.taxes.length>0?ge+(null===(me=de.taxes[0])||void 0===me?void 0:me.taxAmount):ge+0},0):0,this.sessionService.serviceTax=this.reviewPaymentData.serviceFeeTax,this.utilityService.updateTotalFees(this.reviewPaymentData.feesTotal),0===(null===(P=null==G?void 0:G.applicantList)||void 0===P?void 0:P.length)&&(this.utilityService.clearInProgressApplication(),this.commonService.routeToDashboard())}catch(G){console.log(G)}})}openDialog(m){try{const P=new e.vA;P.data={header:"commonSections.headerLabel.label3",translateHeader:!0,dialogDisplay:"small",body:"applicantInformation.messages.infoMessages.message1",translateBody:!0,rightButton:"commonSections.buttons.button37",translateRightButton:!0,leftButton:"commonSections.buttons.button3",translateLeftButton:!0};const G=this.dialog.open(B.Y,P);this.subs.sink=G.afterClosed().subscribe(F=>{F&&this.removeApplicant(Number(m))})}catch(P){console.log(P)}}routePrevious(){try{if(this.utilityService.pushDataLayerGA({dl_event:"review_application",dl_category:"Review Application",dl_action:"Go Back",dl_label:"page_url"}),this.isRescheduleAptmntMode){const P=this.commonService.getSchemaByModuleName(r.gT.modules.BOOK_APPOINTMENT);this.commonService.routeToPostLoginModule(P.routeUrl)}else super.routePrevious()}catch(m){console.log(m)}}get isRescheduleAptmntMode(){return!0===this.sessionService.isRescheduleAptmntMode}get iswaitlistConfirmMode(){const m=this.sessionService.eligibilityDetails;return!!(null==m?void 0:m.agreeToWaitlist)&&m.agreeToWaitlist}get iswaitlistScheduleMode(){return this.sessionService.iswaitlistScheduleMode}isTmiService(m){return"TMIPS"===(null==m?void 0:m.code)}submitV2Captcha(m){this.captchaToken=m,this.currentCaptcha=this.captchaVersionConst.alternate}get tmiProductsView(){var m;return null===(m=this.sessionService)||void 0===m?void 0:m.tmiProductView}get finalButtonText(){var m,P,G,F;return 0===(null===(m=this.reviewPaymentData)||void 0===m?void 0:m.overallTotal)||this.isRescheduleAptmntMode||this.iswaitlistConfirmMode&&!this.configuration.payForWaitlistEnabled?"commonSections.buttons.button4":"CC"==this.sessionService.loginResponse?"commonSections.buttons.button41":this.isPtFlowPaymentOption?"commonSections.buttons.button19":(null===(P=this.configuration)||void 0===P?void 0:P.payOnlineEnabled)||this.iswaitlistConfirmMode&&this.configuration.payForWaitlistEnabled?"commonSections.buttons.button34":(null===(G=this.configuration)||void 0===G?void 0:G.payAtBankEnabled)?"commonSections.buttons.button40":(null===(F=this.configuration)||void 0===F?void 0:F.payAtVACEnabled)?"commonSections.buttons.button39":"commonSections.buttons.button4"}loadScript(){return this.utilityService.appendScriptForConsent(),!0}radioChange(m){}get ptRescheduleAppointmentLink(){return this.utilityService.externalUrlAppend("book-your-appointment")}get ptRefundServiceFee(){return this.utilityService.externalUrlAppend("refund-policy")}get rescheduleAppointment(){return this.utilityService.externalUrlAppend("reschedule-appointment")}goBack(){this.isPaymentOptionsPage?(this.isPaymentOptionsPage=!1,this.pgDisclaimer=!1):this.pgDisclaimer&&(this.isPtFlowPaymentOption?(this.pgDisclaimer=!1,this.isPaymentOptionsPage=!0):this.pgDisclaimer=!1)}goForward(){this.isPayOnlineSelected&&"CC"!==this.sessionService.loginResponse?(this.pgDisclaimer=!0,this.isPaymentOptionsPage=!1):this.proceedToPayment()}get isPayOnlineSelected(){return!!this.utilityService.strictCompare(this.selectPaymentType,"ONLINE")}get isPayAtBankSelected(){return!!this.utilityService.strictCompare(this.sessionService.paymentModeinSubvisaCategory.code,"BANK")||!!this.utilityService.strictCompare(this.selectPaymentType,"BANK")}loadPaymentOptionsView(){var m,P,G;return(0,k.mG)(this,void 0,void 0,function*(){try{const F={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,vacCenter:this.sessionService.centerCode,cultureCode:this.sessionService.appCultureCode,date:this.utilityService.momentInstance(null===(P=null===(m=this.reviewPaymentData)||void 0===m?void 0:m.bookAppointment)||void 0===P?void 0:P.date).format("DD-MM-YYYY")},Ce=yield this.httpService.slashParamsDoGet(r.gT.api.masterPaymentMode,F).toPromise();Ce.length>0&&null===(null===(G=Ce[0])||void 0===G?void 0:G.error)&&(this.isPaymentOptionsPage=!0,this.payOptions=Ce)}catch(F){this.logger.error(F)}})}get isAddExtraServiceMode(){return this.sessionService.isAddExtraServiceMode}get isDisableYourDetailsEdit(){var m;return this.utilityService.strictCompare(null===(m=this.resourceGroup)||void 0===m?void 0:m.isDisableYourDetailsEdit,"true")}get isDisableServicesEdit(){var m;return this.utilityService.strictCompare(null===(m=this.resourceGroup)||void 0===m?void 0:m.isDisableServicesEdit,"true")}get isDisableApplicantDetailsEdit(){var m;return this.utilityService.strictCompare(null===(m=this.resourceGroup)||void 0===m?void 0:m.isDisableApplicantDetailsEdit,"true")}get isDisableAppointmentDetailsEdit(){var m;return this.utilityService.strictCompare(null===(m=this.resourceGroup)||void 0===m?void 0:m.isDisableAppointmentDetailsEdit,"true")}get isEnableApplicationDetailsEdit(){var m;return this.utilityService.strictCompare(null===(m=this.resourceGroup)||void 0===m?void 0:m.isEnableApplicationDetailsEdit,"true")}get isDisablegoback(){var m;return this.utilityService.strictCompare(null===(m=this.resourceGroup)||void 0===m?void 0:m.isDisableGoBack,"true")}getPaymentUrl(m){try{return`${m.url}?RequestRefNo=${m.requestrefno}&Email=${this.sessionService.getLoggedEmail()}&Currency=${this.sessionService.currencyCode}&Culture=en-US&Amount=${this.reviewPaymentData.overallTotal}&DigitalSignature=${m.digitalsignature}&RedirectURL=`}catch(P){throw P}}get isOverSeasEnable(){var m;return 1==(null===(m=this.sessionService.applicationConfiguration)||void 0===m?void 0:m.isOverSeasEnable)}get countryNamelabel(){return this.commonService.translateValue(1==this.isOverSeasEnable?"eligibilityCriteria.formLabel.label23":"eligibilityCriteria.formLabel.label4")}get isValidAdditionalFee(){return!this.configuration.isBelgiumHandshakeEnabled||!!(this.configuration.isBelgiumHandshakeEnabled&&this.reviewPaymentData.additionalFee.length>0)}get isCCPayNowAptmntMode(){return!!this.sessionService.isCCPayNowAptmntMode}routetoDashboard(){this.commonService.routeToDashboard()}getApplicantServices(){var m,P;return(0,k.mG)(this,void 0,void 0,function*(){const G=yield this.commonService.loadServices(this.sessionService.centerCode),F=[];(null===(P=null===(m=this.sessionService)||void 0===m?void 0:m.applicationDetailValue)||void 0===P?void 0:P.applicantList).forEach(ge=>{var de;null===(de=ge.vas)||void 0===de||de.forEach(me=>{var Ee,ke,Re=G.filter(j=>j.code==me.vasCode);const Ge=F.map(j=>j.vasCode).indexOf(me.vasCode);Ge>-1?(F[Ge].amount=F[Ge].amount+(null===(Ee=Re[0])||void 0===Ee?void 0:Ee.amount),F[Ge].unit=F[Ge].unit+1,me.code=me.vasCode):(me.amount=null===(ke=Re[0])||void 0===ke?void 0:ke.amount,me.unit=1,me.code=me.vasCode,F.push(me))})}),F.length>0&&(this.sessionService.applicantService=F)})}}return L.\u0275fac=function(m){return new(m||L)(a.Y36(e.uw))},L.\u0275cmp=a.Xpm({type:L,selectors:[["app-review-and-payment"]],viewQuery:function(m,P){if(1&m&&a.Gf(O,5),2&m){let G;a.iGM(G=a.CRH())&&(P.captchaContainer=G.first)}},features:[a.qOj],decls:6,vars:2,consts:[["class","container py-15 py-md-30",4,"ngIf"],["continueBtn",""],["submitBtn",""],["class","container py-15 py-md-30 mt-30 margin-bottom",4,"ngIf"],[1,"container","py-15","py-md-30"],["class","form-card timer-css text-right border-0 mb-5",4,"ngIf"],[4,"ngIf"],[1,"form-card","timer-css","text-right","border-0","mb-5"],[3,"config"],["cd",""],["class","ot-form-consent","action","","method","post",3,"ngSubmit",4,"ngIf"],["action","","method","post",1,"ot-form-consent",3,"ngSubmit"],[1,"form-card"],[1,"fs-24","fs-sm-42","mb-30"],[1,"c-brand-grey-para"],[1,"form-card","p-0","border-0","shadow-none"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block",3,"disabled","ngClass","click"],[4,"ngTemplateOutlet"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"row","mb-20"],[1,"col"],[1,"fs-18","fs-sm-24","mb-0"],["class","col-auto",4,"ngIf"],["class","card border-bottom-2 mb-40",4,"ngIf"],[1,"fs-18","fs-sm-24","mb-20"],["class","dashboard-accordion card mb-40",4,"ngIf"],[1,"col-auto"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"card","border-bottom-2","mb-40"],[1,"list-group","list-group-flush"],[1,"list-group-item","p-15","px-md-25"],[1,"fs-18","mt-8"],["class","list-group-item p-15 px-md-25",4,"ngIf"],[1,"dashboard-accordion","card","mb-40"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-header","bg-brand-footer"],[1,"py-2"],[1,"fs-16","c-brand-grey-para"],[1,"fs-18","mt-3","text-overflow"],["class","c-brand-grey-para w-100 fs-16 mt-15",4,"ngIf"],[1,"c-brand-grey-para","w-100","fs-16","mt-15"],[1,"py-10","w-25"],[1,"py-10"],["colspan","2",1,"py-10","text-right"],["colspan","2",1,"pt-20"],["class","c-brand-orange text-decoration-underline cursor-pointer",3,"click",4,"ngIf"],[1,"card","fs-sm-18","border-0","border-bottom-1","mb-40"],[1,"card"],["class","card-body p-15 px-md-25",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-body","border-top-1","border-bottom-1","p-15","px-md-25","bg-brand-footer"],[1,"row","align-items-center"],[1,"col-auto","c-brand-green","text-right"],[1,"d-sm-inline-block"],[1,"card-body","p-15","px-md-25"],[1,"row","no-gutters"],[1,"col-7"],[1,"col-2","px-2","c-brand-grey-para"],["class","col-3 text-right",4,"ngIf","ngIfElse"],["tmi",""],[1,"col-3","text-right"],["class","fs-18 fs-sm-24 mb-20",4,"ngIf"],["class","card",4,"ngIf"],["class","row mb-20 mt-40",4,"ngIf"],["class","card fs-sm-18 border-0 border-bottom-1 mb-0",4,"ngIf"],["class","row",4,"ngIf"],[1,"card-body","p-15","px-md-25","bg-brand-footer","rounded-4"],["class","card-body border-bottom-1 p-15 px-md-25",4,"ngIf"],[1,"card-body","border-bottom-1","p-15","px-md-25"],[1,"col-12","col-sm-7"],[1,"col","c-brand-grey-para"],[1,"col-auto","text-right"],[1,"row","mb-20","mt-40"],[1,"card","fs-sm-18","border-0","border-bottom-1","mb-0"],[1,"col","fs-13","text-right"],[1,"form-group","mb-20"],[1,"pl-35"],[1,"mat-checkbox-brand","ml-n35",3,"ngModel","ngModelOptions","ngModelChange"],[1,"fs-sm-18","text-wrap","mr-5"],["target","_blank",3,"href"],[1,"c-brand-orange","fs-sm-18","text-decoration-underline","cursor-pointer"],["class","form-group mb-30",4,"ngIf"],[1,"form-group","mb-30"],[1,"mat-checkbox-brand",3,"ngModel","ngModelOptions","ngModelChange"],[1,"fs-sm-18","text-wrap"],[1,"mat-checkbox-brand"],[1,"col-12","mt-30"],[1,"fs-18"],[1,"c-brand-grey-para","fs-sm-18"],[1,"pl-15"],[1,"flex-column","mat-radio-group-brand","mb-10",3,"ngModel","ngModelOptions","ngModelChange","change"],["class","mb-15",4,"ngFor","ngForOf"],[1,"mb-15"],[3,"value"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],[1,"fs-24","fs-sm-42","mb-15"],[1,"c-brand-grey-para","mb-30"],[1,"c-brand-error"],[1,"mb-10"],["appearance","outline",1,"mat-form-field-outline-brand"],[3,"ngModel","placeholder","ngModelChange"],[3,"value","disabled",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"disabled","click"],[3,"value","disabled"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"],["type","email","id","inputEmail","required","",1,"ot-form-control","d-none",3,"value"],["value","The personal details provided by all persons on this form may be shared with VFS' Insurance partners","checked","true","type","checkbox",1,"d-none"],["type","submit","id","trigger","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"],[1,"container","py-15","py-md-30","mt-30","margin-bottom"],[1,"d-flex","flex-column","align-items-center"],["type","button",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",2,"color","green","font-size","24px"],["aria-hidden","true",1,"fa","fa-check-circle"],[1,"fs-sm-17","c-brand-grey-para","mb-30","mt-30"],[1,"col-6","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(m,P){1&m&&(a.YNc(0,ji,5,4,"section",0),a.YNc(1,Hi,3,4,"ng-template",null,1,a.W1O),a.YNc(3,$i,5,5,"ng-template",null,2,a.W1O),a.YNc(5,Wi,12,4,"section",3)),2&m&&(a.Q6J("ngIf",!P.showsendLinkMsg),a.xp6(5),a.Q6J("ngIf",P.showsendLinkMsg))},directives:[X.O5,w.MR,D._Y,D.JL,D.F,q.a8,u.pp,X.sg,u.ib,u.yz,J.oG,D.JJ,D.On,ae.VQ,ae.U0,ce.lW,X.mk,X.tP,te.KE,le.gD,V.ey],pipes:[ue.X$,X.uU,X.JJ],encapsulation:2}),L})()},2766:(Se,fe,A)=>{"use strict";A.d(fe,{hj:()=>ce,UV:()=>Xe,j:()=>Z,gT:()=>ye,Ci:()=>ne,rY:()=>Fe,Sg:()=>te,Kb:()=>z,Wh:()=>y,AD:()=>V,VB:()=>B,U7:()=>u,yy:()=>x,ln:()=>se,EF:()=>q,rv:()=>J,XJ:()=>X,dF:()=>N,_B:()=>a,nF:()=>D,$r:()=>C,uK:()=>K,Vh:()=>ae,m8:()=>O,R0:()=>W,NW:()=>le,Wg:()=>ue,lv:()=>w,M3:()=>E,EB:()=>p,aw:()=>Y,Y2:()=>b,FL:()=>r,hE:()=>M,QY:()=>Oe});const k=JSON.parse('{"qz":{"IGNORE":"ignore","LOGIN":"login","FORGOT_PASSWORD":"forgotPassword","REGISTER":"register","ON_BOARDING":"onBoarding","DOCUMENT_UPLOAD":"documentsUpload","PASSPORT_DETAILS":"passportInformation","FLIGHT_DETAILS":"travelInformation","ACCOMODATION_DETAILS":"accommodationInformation","ADDITIONAL_DETAILS":"vafInformation","REVIEW_PAYMENT":"disclaimer","ELIGIBILITY_CRITERIA":"eligibilityCriteria","ELIGIBILITY_CRITERIA_HMPO":"eligibilityCriteriaHmpo","TRAVEL_DETAILS":"travelInformation","APPLICANT_DETAILS":"applicantInformation","BOOK_APPOINTMENT":"bookAppointment","SERVICES":"services","TRAVEL_MEDICAL_INSURANCE":"insurance","POSTAL_INFORMATION":"postalInformation","UPDATE_CATEGORY":"update-category","RESEND_EMAIL_ACTIVATION":"resend-email-activation","TMI_OAB_Login":"tmi-oab-login","USAGSS_VISAFEE_APPLICANTDETAILS":"gsspayvisafee","USAGSS_POSTAL_DETAILS":"gssPostalDetails","USAGSS_YOUR_DETAILS":"gssYourDetails","USAGSS_REVIEW_AND_PAY":"gssreviewpay"},"fV":{"LOGIN":"login","SLOT":"slot","APPLICANT":"applicant","SCHEDULE":"schedule","COURIER":"courier","POSTAL":"postal","FEES":"fees","MAPVAS":"mapvas","ACTIVEAPPLICATION":"activeapplication","ELIGIBILITY":"eligibility","ON_BOARDING":"register","FORGOT_PASSWORD":"forgotpassword"},"_j":{"LOGIN":"login","CCLOGIN":"cc-login","FORGOT_PASSWORD":"forgot-password","ELIGIBILITY_CRITERIA":"eligibility-criteria","ELIGIBILITY_CRITERIA_HMPO":"eligibility-criteria-hmpo","ON_BOARDING":"register","BASE_ROUTE":"user","DOCUMENT_UPLOAD":"document-upload","PASSPORT_DETAILS":"passport-details","FLIGHT_DETAILS":"flight-details","ACCOMODATION_DETAILS":"accomodation-details","ADDITIONAL_DETAILS":"additional-details","REVIEW_AND_PAY":"review-pay","DASHBOARD":"dashboard","TRAVEL_DETAILS":"travel-details","APPLICANT_DETAILS":"applicant-details","PAYMENT_CONFIRMATION":"confirmation","PAYMENT_GATEWAY":"payment-gateway","REVIEW_APPLICATION":"review-application","ADDITIONAL_DOCUMENT":"additional-document","TRACK_STATUS":"track-status","ACTIVATE_EMAIL":"activateemail","RESETPASSWORD":"resetpassword","SERVICES":"services","BOOK_APPOINTMENT":"book-appointment","POSTAL_INFORMATION":"postal-information","TRAVEL_MEDICAL_INSURANCE":"insurance","YOUR_DETAILS":"your-details","APPLICATION_DETAIL":"application-detail","APPLICATION_DETAILS":"applicationdetails","APPLICATION_DETAIL_HMPO":"application-detail-hmpo","NOT_FOUND":"page-not-found","UPDATE_CATEGORY":"update-category","APPOINTMENT_VERIFICATION":"appointment-verification","RESEND_EMAIL_ACTIVATION":"email-activation","TMI_OAB_Login":"tmi-oab-login","REQUEST_REFUND":"request-refund","COURIER_ADDRESS":"courier-address","VAYD_ADDRESS":"VAYD-Address","FF_INFO":"ff-info","FF_YOUR_DETAILS":"ff-your-details","FF_PAYMENT_CONFIRMATION":"ff-confirmation","FF_VISA_INFO":"ff-visa-info","FF_TRANSACTION_SUMMARY":"ff-transaction-summary","USAGSS_VISAFEE_HANDSHAKE":"visafee-handshake","USAGSS_VISAFEE_APPLICANTDETAILS":"gss-pay-visafee","USAGSS_DOCSUB_CENTER_SELECTOR":"gss-docsub-centersel","USAGSS_TRANSACTION_SUMMARY":"gss-pay-summary","USAGSS_POSTAL_DETAILS":"gss-postal-details","USAGSS_YOUR_DETAILS":"gss-your-details","USAGSS_REVIEW_PAY":"gss-review-pay","USAGSS_PAYMENT_CONFIRMATION":"gssconfirmation","INVALID_SESSION":"invalid-session","PRE_LOGIN_BELGIUM_HANDSHAKE":"blg-handshake","BLG_HANDSHAKE":"blghandshake"},"Re":{"MODULE_NOT_FOUND":"ERROR: module_not_found","INVALID_RESPONSE":"ERROR: invalid_response","INVALID_FILE":"ERROR: invalid_file","API_NOT_FOUND":"ERROR: api_not_found","FUNCTION_CALL_FAILED":"ERROR: fn_call_failed","ERROR_OCCURED":"ERROR: error_occured","MIN_DATE_VALIDATOR_FAILED":"ERROR: min_date_validator_failed","MAX_DATE_VALIDATOR_FAILED":"ERROR: max_date_validator_failed","MAX_CURR_DATE_VALIDATOR_FAILED":"ERROR: max_curr_date_validator_failed","MIN_CURR_DATE_VALIDATOR_FAILED":"ERROR: min_curr_date_validator_failed","FILE_UPLOAD_FAILED":"ERROR: file_upload_failed","DATETIME_VALIDATOR_FAILED":"ERROR: datetime_validator_failed","BASEFORM_INIT_FAILED":"ERROR: baseform_init_failed","DEP_INJECTION_FAILED":"ERROR: dependency_injection_failed","ROUTE_NEXT_FAILED":"ERROR: route_next_failed","ROUTE_PREV_FAILED":"ERROR: route_prev_failed","NEXT_MODULE_NAME_FETCH_FAILED":"ERROR: next_module_name_fetch_failed","BASE_FORM_INIT_FAILED":"ERROR: base_form_init_failed","TRANSLATION_INIT_FAILED":"ERROR: translation_init_failed","API_CALL_FAILED":"Error: api_call_failed","PAGE_SCHEMA_LOAD_FAILED":"Error: page_schema_load_failed","INVALID_URL":"Errors: invalid_url","FORM_INIT_FAILED":"Errors: form_group_init_failed","EVENT_REGISTRATION_FAILED":"Error: event_reg_failed","INVALID_REGISTRATION_RESPONSE":"Error: invalid_user_reg_response","CHILD_ACTIVATION_FAILED":"Error: child_activation_end_failed","FORM_DATA_LOAD_FAILED":"Error: form_data_load_failed","TEXT_VAL_CHANGE_EVENT_REG_FAILED":"Error: text_val_change_evnt_reg_failed","ONCLICK_EVENT_FAILED":"Error: onclick_event_failed","FUNCTION_NOT_FOUND":"Error: function_not_found","BUCKET_NOT_FOUND":"Error: module_bucket_not_found","NO_BUCKET_PROVIDED":"Error: no_bucket_provided_for_selected_value","NO_BUCKET_FIELD_REF_SCHEMA":"Error: no_bucket_field_ref_in_schema","FILTER_KEY_NOT_FOUND_IN_RESPONSE":"Error: filter_key_not_found_in_response","ROUTE_ID_FETCH_FAILED":"Error: route_id_fetch_failed","VISA_TYPE_CONTROL_NOT_FOUND":"Error: visatype_control_not_found","KEY_NOT_FOUND_IN_STORAGE":"Error: key_not_found_in_browser_storage","INVALID_DATE_FORMAT":"Error: invalid_date_format","INVALID_GOVT_REF_NMBR":"Error: invalid_govt_ref_number"},"jk":{"fK":{"postLogin":"/schema","onBoarding":"/schema/on-boarding","registration":"/schema/registration","documentUpload":"/schema/document-upload","login":"/schema/login","forgotPassword":"/schema/forgot-password","gssDocumentSubmission":"/schema/gssDocumentSubmission","gssVisaFeePayment":"/schema/gssVisaFeePayment"},"hi":{"login":"/user/login","documentUpload":"/document-upload","forgotPassword":"/user/forgetpassword","generateOtp":"/user/generateuserotp","resetPassword":"/user/resetpassword","passportDetails":"/passport-details","registration":"/user/registration","status":"/application/get-applicants-list","payment":"/payment","postLoginSchema":"/application/get-schema","verifyOtp":"/auth/verify-otp","applicantStatus":"/dashboard/get-applications-status","logout":"/user/logout","deleteApplication":"/application/delete-application","getApplications":"/dashboard/get-applications","getActiveApplication":"/appointment/application","downloadPdf":"/appointment/downloadpdf","emailPdf":"/appointment/emailpdf","cancelAppointment":"/appointment/cancel","cancelWaitlist":"/appointment/CancelWaitlist","appointmentSlots":"/appointment/slots","appointmentFees":"/appointment/fees","loadNationality":"/master/nationality","loadEntrytype":"/master/entrytype","loadFeeExemptionType":"/master/FeeExemptionType","loadFeeEntrytype":"/master/FeeEntryType","loadFeeExemptionDetails":"/master/FeeExemptionDetails","loadEoiVisaType":"/master/eoivisatype","loadEoiApplicationType":"/master/submissiontype","loadEoiServiceType":"/master/servicetype","saveVAYDAddress":"/appointment/vaydaddress","courierAddress":"/appointment/address","vasByVac":"/vas/vasbyvac","configuration":"/configuration/fields","mapVas":"/vas/mapvas","mapTmiVas":"/vas/MapTMIPartnerService","activateEmail":"/user/activateemail","masterMission":"/master/mission","masterCountry":"/master/country","masterCenter":"/master/center","masterTMIData":"/tmicomponent/gettmipartnermasterdata","masterSubVisaCategory":"/master/subvisacategory","masterVisaCategoryCode":"/master/visacategory","masterLanguage":"/master/language","paymentInitiate":"/payment/initiate","paymentConfirm":"/payment/confirm","apptReschedule":"/appointment/reschedule","apptSchedule":"/appointment/schedule","confirmAppointment":"/payments/confirmappointment","downloadShippingLabel":"/courier/downloadshippinglabel","getAddress":"/courier/getaddress","masterGender":"/master/gender","masterPassportType":"/master/passporttype","mapFee":"/appointment/mapfee","masterCourierType":"/master/couriertype","masterCourierSercProvider":"/master/courierserviceprovider","updatePrepaidCourierInfo":"/courier/updateppcourierinfo","updateVFSCourierInfo":"/courier/updateaddress","updateVFSCourierInfoCage":"/cage/updateaddress","masterState":"/master/state","serviceFee":"/appointment/servicefees","appointmentVerify":"/appointment/verify","checkSlotavailiable":"/appointment/CheckIsSlotAvailable","confirmWaitlist":"/appointment/ConfirmWaitlist","applicant":"/appointment/applicants","getTMIProducts":"/tmi/GetTMIProducts","createPolicy":"/tmi/initiatecreatepolicy","updateApplicant":"/appointment/updatewaitlistvisa","createverifyotp":"/appointment/OTP","applicantOTP":"/appointment/applicantotp","resendEmailActivation":"/user/resendactivationmail","vss4ReportData":"/appointment/saveuseractionaudit","blgHandshake":"/user/blghandshakeintegration","handshakeAddApplicant":"/appointment/savehandshakeapplicant","visaCategoryCodeWithoutCenter":"/master/visacategorywithoutcenter","subVisacategoryWithoutCenter":"/master/subvisacategorywithoutcenter","centerWithSlots":"/master/centerwithslots","serviceFeeswithoutUrn":"/appointment/servicefees","saveCourierAddress":"/appointment/savecourieraddress","uploadDocument":"/appointment/UploadApplicantDocument","masterPaymentMode":"/master/paymentmode","onlinePurchaseDetails":"/appointment/onlinepurchasedetails","initiateRefund":"/payments/initiaterefund","upgradeVas":"/payments/upgradeVAS","confirmVas":"/payments/confirmvas","halradius":"/master/halradius","halradiusaddress":"/cage/halradiusaddress","oabGenerateOtp":"/user/oabgenerateotp","oabLogin":"/user/oabotplogin","oabDeleteApplicant":"/appointment/deleteapplicant","subVisaCategory":"/master/subvisacategoryforservice","serviceApplicants":"/appointment/serviceapplicants","confirmSevicePayment":"/payments/confirmservicepayment","serviceForApplicant":"/vas/serviceforapplicant","nationalityForService":"/master/nationalityforservice","updateMobileNumber":"/user/updateusercontactnumber","searchApplication":"/appointment/searchapplication","visafeeHandshake":"/user/handshakeintegration","addApplicantHandshake":"/appointment/gssapplicants","gssInitiatePayment":"/appointment/paymentinitaiategss","gssUpdatePaymentMode":"/gssappointment/updateapplicantgrouppaymentmode","masterService":"/master/usagssservice","masterSubmissionMode":"/master/usagsssubmissionmode","gssCollectionMode":"/master/usagsscollectionmode","confirmPaymentGSS":"/appointment/ConfirmPaymentGSS","gssAddApplicants":"/appointment/gssapplicants","gssCenterType":"/master/centerType","gssServiceAvailability":"/courier/validateaddressgss","usagssPaymentMode":"/master/usagsspaymentmode","paymentReference":"/appointment/paymentreference","updatewaitliststatus":"/appointment/updatewaitliststatus","PVToken":"/appointment/idnfytoken","PVStatus":"/appointment/idnfystatus","trackDocStatus":"/appointment/trackdocumentstatus","updateContactInfo":"/appointment/UpdateContactInformation","payonlinepayment":"/appointment/payonlinepayment","sendpaymentlink":"/appointment/sendpaymentlink","validateOtp":"/user/ValidateOTP"},"aT":{"passportDetails":"/data/passport-details"}},"FT":{"getModuleData":"GET_MODULE_DATA","saveToSession":"SAVE_TO_SESSION"},"Xr":{"uploadedFiles":"uploadedFiles"},"tV":{"datepicker":{"MIN_CURRENT":"MIN-CURRENT","MAX_CURRENT":"MAX-CURRENT","email_caps_allowed":"^([a-zA-Z0-9_\\\\-\\\\.+]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,24})$","referenceNumber":"^GWF([0-9]){9}$","NO_SPACE_APLHA_NUMERIC":"[a-zA-Z0-9]+$","NUMERIC":"[0-9]+$","ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE":"^(?!\\\\s)[A-Za-z0-9? \\\\-]+$","ALPHA_NUMERIC_WITH_SPACE":"^(?!\\\\s)([a-zA-Z0-9\\\\s])+[^\\\\s]$","ADDRESS_LINE_1":"^(?!\\\\s)[A-Za-z0-9? \\\\-\\\\,\\\\./]+$"},"timepicker":{"POST-TIME":"POST-TIME","PRE-TIME":"PRE-TIME","POST-DATETIME":"POST-DATETIME","PRE-DATETIME":"PRE-DATETIME"},"email":"^[a-z0-9._%+-]+@[a-z0-9.-]+\\\\.[a-z]+$","phone":"^[0-9]+$","address":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$","state":"^[a-zA-Z ]*$","city":"^[a-zA-Z][a-zA-Z\\\\s]+$","pincode":"^[a-zA-Z0-9]*$","email_caps_allowed":"^([a-zA-Z0-9_\\\\-\\\\.+]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,24})$","referenceNumber":"^GWF([0-9]){9}$","NO_SPACE_APLHA_NUMERIC":"[a-zA-Z0-9]+$","NUMERIC":"[0-9]+$","ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE":"^(?!\\\\s)[A-Za-z0-9? \\\\-]+$","ALPHA_NUMERIC_WITH_SPACE":"^(?!\\\\s)([a-zA-Z0-9\\\\s])+[^\\\\s]$","ADDRESS_LINE_1":"^(?!\\\\s)[A-Za-z0-9? \\\\-\\\\,\\\\./]+$","NAME":"[a-zA-Z][a-zA-Z ]+$","EXCEPTZERONUMERIC":"[1-9]+$","State":"^[a-zA-Z ]*$","City":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"ai":{"Textbox":"textbox","Password":"password","Email":"email","Number":"number","Button":"button","Datepicker":"datepicker","Timepicker":"timepicker","Dropdown":"dropdown","SearchableDropdown":"searchable-dropdown","Radio":"radio","File_upload_type_1":"type-1","File_upload_type_2":"type-2","Checkbox":"checkbox","List_group_1":"list-group-1","Contact":"contact","Dual_block":"dual-block","Image":"image","Dual_button":"dual-button","Address":"address","Multi_button":"multi-button","Password_toggle":"password-toggle","InputContact":"input-contact","InputAndDatepicker":"input-datepicker","DropdownAndDatepicker":"dropdown-datepicker","ReadOnlyTextbox":"readonly-textbox","Horizontal_Rule":"hr"},"WQ":{"singleColumnSchema":"type-1","doubleColumnSchema":"type-2"},"Cj":{"l18n":"src/_angular/assets/i18n/","globalImages":"_angular/assets/images/global"},"BW":[{"languageCode":"en","cultureCode":"en-US"},{"languageCode":"zh","cultureCode":"zh-CN"},{"languageCode":"fr","cultureCode":"fr-FR"}],"Y2":"app_culture_code","aw":{"inLabel":"IN","outLabel":"OUT","bothLabels":"BOTH"},"R0":{"requestRefund":{"tooltip":{"PT":"requestRefund.messages.infoMessages.message2","PL":"requestRefund.messages.infoMessages.message3","PLA":"requestRefund.messages.infoMessages.message1","GPP":"","WAS":""}}},"Dr":{"country":"ind","mission":"usa","servererror":"The server is taking longer to respond, this can be caused by either poor internet connectivity or an error with our servers. Please try again in a while.","paymentsucess":"Please note that it may take up to 24 hours for reflect your payment status.","paymentpending":"The confirmation for your transaction is still pending."}}'),e=JSON.parse('{"A":[{"country":"Afghanistan","dialCode":"93","number_length":"Default Value"},{"country":"Albania","dialCode":"355","number_length":"Default Value"},{"country":"Algeria","dialCode":"213","number_length":"9"},{"country":"American Samoa","dialCode":"684","number_length":"Default Value"},{"country":"Andorra","dialCode":"376","number_length":"Default Value"},{"country":"Angola","dialCode":"244","number_length":"Default Value"},{"country":"Anguilla","dialCode":"264","number_length":"Default Value"},{"country":"Antarctica","dialCode":"672","number_length":"Default Value"},{"country":"Antigua and Barbuda","dialCode":"268","number_length":"Default Value"},{"country":"Argentina","dialCode":"54","number_length":"Default Value"},{"country":"Armenia","dialCode":"374","number_length":"Default Value"},{"country":"Aruba","dialCode":"297","number_length":"Default Value"},{"country":"Australia","dialCode":"61","number_length":"Default Value"},{"country":"Austria","dialCode":"43","number_length":"Default Value"},{"country":"Azerbaijan","dialCode":"994","number_length":"Default Value"},{"country":"Bahamas","dialCode":"242","number_length":"Default Value"},{"country":"Bahrain","dialCode":"973","number_length":"Default Value"},{"country":"Bangladesh","dialCode":"880","number_length":"Default Value"},{"country":"Barbados","dialCode":"246","number_length":"Default Value"},{"country":"Belarus","dialCode":"375","number_length":"Default Value"},{"country":"Belgium","dialCode":"32","number_length":"Default Value"},{"country":"Belize","dialCode":"501","number_length":"Default Value"},{"country":"Benin","dialCode":"229","number_length":"Default Value"},{"country":"Bermuda","dialCode":"441","number_length":"Default Value"},{"country":"Bhutan","dialCode":"975","number_length":"Default Value"},{"country":"Bolivia","dialCode":"591","number_length":"Default Value"},{"country":"Bosnia and Herzegovina","dialCode":"387","number_length":"Default Value"},{"country":"Botswana","dialCode":"267","number_length":"Default Value"},{"country":"Brazil","dialCode":"55","number_length":"Default Value"},{"country":"British Indian Ocean Territory","dialCode":"246","number_length":"Default Value"},{"country":"British Virgin Islands","dialCode":"284","number_length":"Default Value"},{"country":"Brunei","dialCode":"673","number_length":"Default Value"},{"country":"Bulgaria","dialCode":"359","number_length":"Default Value"},{"country":"Burkina Faso","dialCode":"226","number_length":"Default Value"},{"country":"Myanmar","dialCode":"95","number_length":"Default Value"},{"country":"Burundi","dialCode":"257","number_length":"Default Value"},{"country":"Cambodia","dialCode":"855","number_length":"Default Value"},{"country":"Cameroon","dialCode":"237","number_length":"Default Value"},{"country":"Canada","dialCode":"1","number_length":"Default Value"},{"country":"Cape Verde","dialCode":"238","number_length":"Default Value"},{"country":"Cayman Islands","dialCode":"345","number_length":"Default Value"},{"country":"Central African Republic","dialCode":"236","number_length":"Default Value"},{"country":"Chad","dialCode":"235","number_length":"Default Value"},{"country":"Chile","dialCode":"56","number_length":"Default Value"},{"country":"China","dialCode":"86","number_length":"Default Value"},{"country":"Christmas Island","dialCode":"61","number_length":"Default Value"},{"country":"Cocos Islands","dialCode":"61","number_length":"Default Value"},{"country":"Colombia","dialCode":"57","number_length":"Default Value"},{"country":"Comoros","dialCode":"269","number_length":"Default Value"},{"country":"Republic of the Congo","dialCode":"242","number_length":"Default Value"},{"country":"Democratic Republic of the Congo","dialCode":"243","number_length":"Default Value"},{"country":"Cook Islands","dialCode":"682","number_length":"Default Value"},{"country":"Costa Rica","dialCode":"506","number_length":"Default Value"},{"country":"Croatia","dialCode":"385","number_length":"Default Value"},{"country":"Cuba","dialCode":"53","number_length":"Default Value"},{"country":"Curacao","dialCode":"599","number_length":"Default Value"},{"country":"Cyprus","dialCode":"357","number_length":"Default Value"},{"country":"Czech Republic","dialCode":"420","number_length":"Default Value"},{"country":"Denmark","dialCode":"45","number_length":"Default Value"},{"country":"Djibouti","dialCode":"253","number_length":"Default Value"},{"country":"Dominica","dialCode":"767","number_length":"Default Value"},{"country":"Dominican Republic","dialCode":"809","number_length":"Default Value"},{"country":"East Timor","dialCode":"670","number_length":"Default Value"},{"country":"Ecuador","dialCode":"593","number_length":"Default Value"},{"country":"Egypt","dialCode":"20","number_length":"Default Value"},{"country":"El Salvador","dialCode":"503","number_length":"Default Value"},{"country":"Equatorial Guinea","dialCode":"240","number_length":"Default Value"},{"country":"Eritrea","dialCode":"291","number_length":"Default Value"},{"country":"Estonia","dialCode":"372","number_length":"Default Value"},{"country":"Ethiopia","dialCode":"251","number_length":"Default Value"},{"country":"Falkland Islands","dialCode":"500","number_length":"Default Value"},{"country":"Faroe Islands","dialCode":"298","number_length":"Default Value"},{"country":"Fiji","dialCode":"679","number_length":"Default Value"},{"country":"Finland","dialCode":"358","number_length":"Default Value"},{"country":"France","dialCode":"33","number_length":"Default Value"},{"country":"French Polynesia","dialCode":"689","number_length":"Default Value"},{"country":"Gabon","dialCode":"241","number_length":"Default Value"},{"country":"Gambia","dialCode":"220","number_length":"Default Value"},{"country":"Georgia","dialCode":"995","number_length":"Default Value"},{"country":"Germany","dialCode":"49","number_length":"Default Value"},{"country":"Ghana","dialCode":"233","number_length":"Default Value"},{"country":"Gibraltar","dialCode":"350","number_length":"Default Value"},{"country":"Greece","dialCode":"30","number_length":"Default Value"},{"country":"Greenland","dialCode":"299","number_length":"Default Value"},{"country":"Grenada","dialCode":"473","number_length":"Default Value"},{"country":"Guam","dialCode":"671","number_length":"Default Value"},{"country":"Guatemala","dialCode":"502","number_length":"Default Value"},{"country":"Guinea","dialCode":"224","number_length":"Default Value"},{"country":"Guinea-Bissau","dialCode":"245","number_length":"Default Value"},{"country":"Guyana","dialCode":"592","number_length":"Default Value"},{"country":"Haiti","dialCode":"509","number_length":"Default Value"},{"country":"Honduras","dialCode":"504","number_length":"Default Value"},{"country":"Hong Kong","dialCode":"852","number_length":"Default Value"},{"country":"Hungary","dialCode":"36","number_length":"Default Value"},{"country":"Iceland","dialCode":"354","number_length":"Default Value"},{"country":"India","dialCode":"91","number_length":"10"},{"country":"Indonesia","dialCode":"62","number_length":"Default Value"},{"country":"Iran","dialCode":"98","number_length":"Default Value"},{"country":"Iraq","dialCode":"964","number_length":"Default Value"},{"country":"Ireland","dialCode":"353","number_length":"Default Value"},{"country":"Israel","dialCode":"972","number_length":"Default Value"},{"country":"Italy","dialCode":"39","number_length":"Default Value"},{"country":"Ivory Coast","dialCode":"225","number_length":"Default Value"},{"country":"Jamaica","dialCode":"876","number_length":"Default Value"},{"country":"Japan","dialCode":"81","number_length":"Default Value"},{"country":"Jordan","dialCode":"962","number_length":"Default Value"},{"country":"Kazakhstan","dialCode":"7","number_length":"Default Value"},{"country":"Kenya","dialCode":"254","number_length":"Default Value"},{"country":"Kiribati","dialCode":"686","number_length":"Default Value"},{"country":"Kosovo","dialCode":"383","number_length":"Default Value"},{"country":"Kuwait","dialCode":"965","number_length":"Default Value"},{"country":"Kyrgyzstan","dialCode":"996","number_length":"Default Value"},{"country":"Laos","dialCode":"856","number_length":"Default Value"},{"country":"Latvia","dialCode":"371","number_length":"Default Value"},{"country":"Lebanon","dialCode":"961","number_length":"Default Value"},{"country":"Lesotho","dialCode":"266","number_length":"Default Value"},{"country":"Liberia","dialCode":"231","number_length":"Default Value"},{"country":"Libya","dialCode":"218","number_length":"Default Value"},{"country":"Liechtenstein","dialCode":"423","number_length":"Default Value"},{"country":"Lithuania","dialCode":"370","number_length":"Default Value"},{"country":"Luxembourg","dialCode":"352","number_length":"Default Value"},{"country":"Macau","dialCode":"853","number_length":"Default Value"},{"country":"Macedonia","dialCode":"389","number_length":"Default Value"},{"country":"Madagascar","dialCode":"261","number_length":"Default Value"},{"country":"Malawi","dialCode":"265","number_length":"Default Value"},{"country":"Malaysia","dialCode":"60","number_length":"Default Value"},{"country":"Maldives","dialCode":"960","number_length":"Default Value"},{"country":"Mali","dialCode":"223","number_length":"Default Value"},{"country":"Malta","dialCode":"356","number_length":"Default Value"},{"country":"Marshall Islands","dialCode":"692","number_length":"Default Value"},{"country":"Mauritania","dialCode":"222","number_length":"Default Value"},{"country":"Mauritius","dialCode":"230","number_length":"Default Value"},{"country":"Mayotte","dialCode":"262","number_length":"Default Value"},{"country":"Mexico","dialCode":"52","number_length":"Default Value"},{"country":"Micronesia","dialCode":"691","number_length":"Default Value"},{"country":"Moldova","dialCode":"373","number_length":"Default Value"},{"country":"Monaco","dialCode":"377","number_length":"Default Value"},{"country":"Mongolia","dialCode":"976","number_length":"Default Value"},{"country":"Montenegro","dialCode":"382","number_length":"Default Value"},{"country":"Montserrat","dialCode":"664","number_length":"Default Value"},{"country":"Morocco","dialCode":"212","number_length":"9"},{"country":"Mozambique","dialCode":"258","number_length":"Default Value"},{"country":"Namibia","dialCode":"264","number_length":"Default Value"},{"country":"Nauru","dialCode":"674","number_length":"Default Value"},{"country":"Nepal","dialCode":"977","number_length":"Default Value"},{"country":"Netherlands","dialCode":"31","number_length":"Default Value"},{"country":"Netherlands Antilles","dialCode":"599","number_length":"Default Value"},{"country":"New Caledonia","dialCode":"687","number_length":"Default Value"},{"country":"New Zealand","dialCode":"64","number_length":"Default Value"},{"country":"Nicaragua","dialCode":"505","number_length":"Default Value"},{"country":"Niger","dialCode":"227","number_length":"Default Value"},{"country":"Nigeria","dialCode":"234","number_length":"Default Value"},{"country":"Niue","dialCode":"683","number_length":"Default Value"},{"country":"Northern Mariana Islands","dialCode":"670","number_length":"Default Value"},{"country":"North Korea","dialCode":"850","number_length":"Default Value"},{"country":"Norway","dialCode":"47","number_length":"Default Value"},{"country":"Oman","dialCode":"968","number_length":"Default Value"},{"country":"Pakistan","dialCode":"92","number_length":"Default Value"},{"country":"Palau","dialCode":"680","number_length":"Default Value"},{"country":"Palestine","dialCode":"970","number_length":"Default Value"},{"country":"Panama","dialCode":"507","number_length":"Default Value"},{"country":"Papua New Guinea","dialCode":"675","number_length":"Default Value"},{"country":"Paraguay","dialCode":"595","number_length":"Default Value"},{"country":"Peru","dialCode":"51","number_length":"Default Value"},{"country":"Philippines","dialCode":"63","number_length":"Default Value"},{"country":"Pitcairn","dialCode":"64","number_length":"Default Value"},{"country":"Poland","dialCode":"48","number_length":"Default Value"},{"country":"Portugal","dialCode":"351","number_length":"Default Value"},{"country":"Puerto Rico","dialCode":"787","number_length":"Default Value"},{"country":"Qatar","dialCode":"974","number_length":"Default Value"},{"country":"Reunion","dialCode":"262","number_length":"Default Value"},{"country":"Romania","dialCode":"40","number_length":"Default Value"},{"country":"Russia","dialCode":"7","number_length":"Default Value"},{"country":"Rwanda","dialCode":"250","number_length":"Default Value"},{"country":"Saint Barthelemy","dialCode":"590","number_length":"Default Value"},{"country":"Samoa","dialCode":"685","number_length":"Default Value"},{"country":"San Marino","dialCode":"378","number_length":"Default Value"},{"country":"Sao Tome and Principe","dialCode":"239","number_length":"Default Value"},{"country":"Saudi Arabia","dialCode":"966","number_length":"Default Value"},{"country":"Senegal","dialCode":"221","number_length":"Default Value"},{"country":"Serbia","dialCode":"381","number_length":"Default Value"},{"country":"Seychelles","dialCode":"248","number_length":"Default Value"},{"country":"Sierra Leone","dialCode":"232","number_length":"Default Value"},{"country":"Singapore","dialCode":"65","number_length":"Default Value"},{"country":"Sint Maarten","dialCode":"721","number_length":"Default Value"},{"country":"Slovakia","dialCode":"421","number_length":"Default Value"},{"country":"Slovenia","dialCode":"386","number_length":"Default Value"},{"country":"Solomon Islands","dialCode":"677","number_length":"Default Value"},{"country":"Somalia","dialCode":"252","number_length":"Default Value"},{"country":"South Africa","dialCode":"27","number_length":"Default Value"},{"country":"South Korea","dialCode":"82","number_length":"Default Value"},{"country":"South Sudan","dialCode":"211","number_length":"Default Value"},{"country":"Spain","dialCode":"34","number_length":"Default Value"},{"country":"Sri Lanka","dialCode":"94","number_length":"Default Value"},{"country":"Saint Helena","dialCode":"290","number_length":"Default Value"},{"country":"Saint Kitts and Nevis","dialCode":"869","number_length":"Default Value"},{"country":"Saint Lucia","dialCode":"758","number_length":"Default Value"},{"country":"Saint Martin","dialCode":"590","number_length":"Default Value"},{"country":"Saint Pierre and Miquelon","dialCode":"508","number_length":"Default Value"},{"country":"Saint Vincent and the Grenadines","dialCode":"784","number_length":"Default Value"},{"country":"Sudan","dialCode":"249","number_length":"Default Value"},{"country":"Suriname","dialCode":"597","number_length":"Default Value"},{"country":"Svalbard and Jan Mayen","dialCode":"47","number_length":"Default Value"},{"country":"Swaziland","dialCode":"268","number_length":"Default Value"},{"country":"Sweden","dialCode":"46","number_length":"Default Value"},{"country":"Switzerland","dialCode":"41","number_length":"Default Value"},{"country":"Syria","dialCode":"963","number_length":"Default Value"},{"country":"Taiwan","dialCode":"886","number_length":"Default Value"},{"country":"Tajikistan","dialCode":"992","number_length":"Default Value"},{"country":"Tanzania","dialCode":"255","number_length":"Default Value"},{"country":"Thailand","dialCode":"66","number_length":"Default Value"},{"country":"Togo","dialCode":"228","number_length":"Default Value"},{"country":"Tokelau","dialCode":"690","number_length":"Default Value"},{"country":"Tonga","dialCode":"676","number_length":"Default Value"},{"country":"Trinidad and Tobago","dialCode":"868","number_length":"Default Value"},{"country":"Tunisia","dialCode":"216","number_length":"Default Value"},{"country":"Turkey","dialCode":"90","number_length":"Default Value"},{"country":"Turkmenistan","dialCode":"993","number_length":"Default Value"},{"country":"Turks and Caicos Islands","dialCode":"649","number_length":"Default Value"},{"country":"Tuvalu","dialCode":"688","number_length":"Default Value"},{"country":"United Arab Emirates","dialCode":"971","number_length":"9"},{"country":"Uganda","dialCode":"256","number_length":"Default Value"},{"country":"United Kingdom","dialCode":"44","number_length":"10"},{"country":"Ukraine","dialCode":"380","number_length":"Default Value"},{"country":"Uruguay","dialCode":"598","number_length":"Default Value"},{"country":"United States","dialCode":"1","number_length":"Default Value"},{"country":"Uzbekistan","dialCode":"998","number_length":"Default Value"},{"country":"Vanuatu","dialCode":"678","number_length":"Default Value"},{"country":"Vatican","dialCode":"379","number_length":"Default Value"},{"country":"Venezuela","dialCode":"58","number_length":"Default Value"},{"country":"Vietnam","dialCode":"84","number_length":"Default Value"},{"country":"U.S. Virgin Islands","dialCode":"340","number_length":"Default Value"},{"country":"Wallis and Futuna","dialCode":"681","number_length":"Default Value"},{"country":"Western Sahara","dialCode":"212","number_length":"Default Value"},{"country":"Yemen","dialCode":"967","number_length":"Default Value"},{"country":"Zambia","dialCode":"260","number_length":"Default Value"},{"country":"Zimbabwe","dialCode":"263","number_length":"Default Value"}]}'),r="vfs",B=k.qz,v=e.A,p=["WWA"],a=["PT"],X=["PL"],w=["VAYD"],D="Primetime",q=["PST","Postal"],u=["OWA","Online Without Appointment"],J=["PPD","PREPAID"],ae="RTC",ce=["isAddressLine1Disabled","isAddressLine2Disabled","isStateDisabled","isCityDisabled","isPinCodeDisabled"],te=k.Re,le="USA",V="IND",ue=k.tV,O=k._j,y=k.Dr,x={assets:{images:"assets/images/$TENENT"}},Z={default:"v3",alternate:"v2",cloudflare:"cloudflare-v1"},M="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[@$!#%*?])[A-Za-z0-9@$!#%*?]{8,15}$",b=k.Y2,C="PTS",N="PLC",E="VAYD",Y=k.aw,W=k.R0,ne="DSA",z="GPP",se="PLA",K="PTS",Xe="-----BEGIN PUBLIC KEY-----",Fe="-----END PUBLIC KEY-----",Oe={allowed:"SLOTS AVAILABLE",waitlisted:"WAITLISTED"};class ye{static get schema(){return k.jk.fK}static get captcha_action(){return k.fV}static get api(){return k.jk.hi}static get modules(){return k.qz}static get data(){return k.jk.aT}static get schemaKeys(){return k.Xr}static get schemaValues(){return k.FT}static get controls(){return k.ai}static get formSchemaType(){return k.WQ}static get routes(){return k._j}}ye.GET_MODULE_DATA=k.FT,ye.ALL="ALL",ye.JSON_FILE_FORMAT=".json",ye.ASSETS_PATH=k.Cj,ye.NAVBAR_EXCEPTION_LIST=[O.DASHBOARD,O.PAYMENT_CONFIRMATION,O.ADDITIONAL_DOCUMENT,O.REVIEW_APPLICATION,O.NOT_FOUND,O.UPDATE_CATEGORY,O.REQUEST_REFUND,O.UPDATE_CATEGORY,O.VAYD_ADDRESS],ye.DROP_DOWN_EXCLUDE_ROUTE=[O.PAYMENT_CONFIRMATION,O.LOGIN,O.ON_BOARDING,O.NOT_FOUND],ye.SAVE_AS_DRAFT_EXCEPTION_LIST=[ye.modules.ELIGIBILITY_CRITERIA],ye.BUTTON_CONTROLS_LIST=[ye.controls.Button,ye.controls.Dual_button,ye.controls.Multi_button],ye.DROPDOWNS_LIST=[ye.controls.Dropdown,ye.controls.SearchableDropdown],ye.MODULE_BUCKET={b1:[B.ELIGIBILITY_CRITERIA,B.APPLICANT_DETAILS,B.BOOK_APPOINTMENT,B.SERVICES,B.REVIEW_PAYMENT],b2:[B.ELIGIBILITY_CRITERIA,B.APPLICANT_DETAILS,B.POSTAL_INFORMATION,B.SERVICES,B.REVIEW_PAYMENT]},ye.NON_INTERACTIVE_CONTROLS=[ye.controls.Horizontal_Rule],ye.HTTP_METHODS={GET:"GET",POST:"POST"},ye.SCHEMA={DEFAULT:"schema_default",IND_FRA:"schema_ind_fra",IHC:"schema_ihc"},ye.URLS_FOR_SLOTS_GET_METHOD=["https://d5ifytxc6r3nx.cloudfront.net","https://lift-api.vfsglobal.com","https://d2rjlmbuhruvpu.cloudfront.net","https://lift-apicn.vfsglobal.com"],ye.FEE_TYPE_CODES={VFSFEE:"VFSFEE",VISAFEE:"VISAFEE",CVFEE:"CVFEE",OVERSEASFEE:"OVERSEASFEE"},ye.dialCode={dialCodeList:v}},4219:(Se,fe,A)=>{"use strict";A.d(fe,{E_:()=>X,Xu:()=>w,iW:()=>a,z1:()=>D});var a=(()=>{return(q=a||(a={})).year="year",q.month="month",q.day="day",a;var q})(),X=(()=>{return(q=X||(X={})).D_M_Y_SLASH="dd/mm/yyyy",q.M_D_Y_SLASH="mm/dd/yyyy",q.Y_M_D_SLASH="yyyy/dd/mm",X;var q})(),w=(()=>{return(q=w||(w={})).SLASH="slash",q.QUERY_PARAM="queryParam",w;var q})(),D=(()=>{return(q=D||(D={})).ADD="ADD",q.REMOVE="REMOVE",q.REMOVE_NORMAL="REMOVE_NORMAL",D;var q})()},4830:(Se,fe,A)=>{"use strict";A.d(fe,{v:()=>x});var k=A(655),e=A(2766),r=A(3075),B=A(4219),v=A(591),p=A(1737),a=A(567),X=A(1086),w=A(2340),D=A(3172),q=A(592),J=A(5e3),ae=A(8341),ce=A(325),te=A(6106),le=A(974),V=A(1057),ue=A(2466),O=A(2194),y=A(3615);let x=(()=>{class Z{constructor(g,b,C,N,E,Y,W,ne){this.dialog=g,this.router=b,this.sessionService=C,this.httpService=N,this.utilityService=E,this.translate=Y,this.contentfulService=W,this.coreCommonService=ne,this.showAlertBarSubject=new v.X({}),this.showAlertBar$=this.showAlertBarSubject.asObservable()}removeError(g,b){const C=g.errors;return C&&delete C[b],C&&!Object.keys(C).length?g.setErrors(null):g.setErrors(C),!0}setError(g,b){const C=g.errors,N={};return N[b]=!0,g.setErrors(Object.assign({},C,N)),!0}convertToMomentDate(g){try{const b=Object.assign({},g);return b.month=g.month-1,b}catch(b){throw b}}routeToDashboard(){this.routeToPostLoginModule(e.m8.DASHBOARD)}routeToBookAppointment(){this.routeToPostLoginModule(e.m8.BOOK_APPOINTMENT)}routeToPaymentConfirmation(){this.routeToPostLoginModule(e.m8.PAYMENT_CONFIRMATION)}routeToFFInfo(){this.routeToPostLoginModule(e.m8.FF_INFO)}routeToFFYourDetails(){this.routeToPostLoginModule(e.m8.FF_YOUR_DETAILS)}routeToApplicationDetails(){this.routeToPostLoginModule(e.m8.APPLICATION_DETAIL)}constructURLBeforeLogin(g){return`${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/${g}`}routeToNotFound(){try{this.router.navigate(this.sessionService.tenent?[this.sessionService.countryCode,this.sessionService.appLanguageCode,this.sessionService.tenent,e.m8.NOT_FOUND]:["/"]),this.sessionService.updateLoginStatus(!1),this.sessionService.clearSession()}catch(g){this.utilityService.stopNgxUiSpinner(),console.log(g)}}getStates(){return(0,k.mG)(this,void 0,void 0,function*(){try{return(yield this.httpService.doGet(`${e.gT.api.masterState}/${this.sessionService.countryCode}`).toPromise())||[]}catch(g){throw g}})}get isUSACountry(){return this.utilityService.strictCompare(this.sessionService.countryCode,e.NW)}get isINDCountry(){return this.utilityService.strictCompare(this.sessionService.countryCode,e.AD)}routeToLogin(){try{this.sessionService.updateLoginStatus(!1),this.sessionService.clearSession();const g=window.location.pathname.split("/");(null==g?void 0:g.length)>3&&this.router.navigate([g[1],g[2],g[3],e.m8.LOGIN])}catch(g){console.log(g)}}routeToOnBoarding(){try{this.routeToPostLoginModule(e.m8.ON_BOARDING)}catch(g){console.log(g)}}routeToForgotPassword(){try{this.routeToPostLoginModule(e.m8.FORGOT_PASSWORD)}catch(g){console.log(g)}}routeToFFTransactionSummary(){this.routeToPostLoginModule(e.m8.FF_TRANSACTION_SUMMARY)}routeToPostLoginModule(g){this.bookingMaxtimeSessionTrackEnd(),this.router.navigate([this.sessionService.countryCode,this.sessionService.appLanguageCode,this.sessionService.tenent,g])}routeToUsaGssApplicantDetails(){this.routeToPostUSGSSRedirectModule(e.m8.USAGSS_VISAFEE_APPLICANTDETAILS)}routeToPostUSGSSRedirectModule(g){this.router.navigate([this.sessionService.countryCode,"en",this.sessionService.tenent,g])}routeToUsaGssTransactionSummary(){this.routeToPostLoginModule(e.m8.USAGSS_TRANSACTION_SUMMARY)}routeToUsaGssPostalDetailsPage(){this.routeToPostLoginModule(e.m8.USAGSS_POSTAL_DETAILS)}routeToUsaGssYourDetailsPage(){this.routeToPostLoginModule(e.m8.USAGSS_YOUR_DETAILS)}routeToUsaGssDocSubCenterSel(){this.routeToPostLoginModule(e.m8.USAGSS_DOCSUB_CENTER_SELECTOR)}routeToPostLoginModuleByIndex(g){try{const b=this.sessionService.getAllModulesSchema()||[],C=g<b.length?b[g]:null;C&&this.routeToPostLoginModule(C.routeUrl)}catch(b){console.log(b)}}logoutAndRouteToLogin(){var g,b,C;return(0,k.mG)(this,void 0,void 0,function*(){try{const N={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,username:this.sessionService.getLoggedEmail()},E=yield this.httpService.payloadPost(e.gT.api.logout,N).toPromise().catch(Y=>(0,p._)(Y)).then(Y=>Y);E&&(this.showAlertBar((null===(g=null==E?void 0:E.error)||void 0===g?void 0:g.description)||(null==E?void 0:E.message)||(null===(b=null==E?void 0:E.error)||void 0===b?void 0:b.code)&&this.translateValue("commonSections.messages.statusMessages."+(null===(C=null==E?void 0:E.error)||void 0===C?void 0:C.code)),!1),setTimeout(()=>{this.showAlertBar(null,!1)},5e3))}catch(N){console.log(N)}finally{"CC"==this.sessionService.loginResponse?(this.routeToCCLogin(),setTimeout(()=>{window.location.reload()},1e3)):(this.routeToLogin(),window.location.reload())}})}logoutAndRouteToNotFound(){var g,b,C;return(0,k.mG)(this,void 0,void 0,function*(){try{const N={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,username:this.sessionService.getLoggedEmail()},E=yield this.httpService.payloadPost(e.gT.api.logout,N).toPromise().catch(Y=>(0,p._)(Y)).then(Y=>Y);E&&(this.showAlertBar((null===(g=null==E?void 0:E.error)||void 0===g?void 0:g.description)||(null==E?void 0:E.message)||(null===(b=null==E?void 0:E.error)||void 0===b?void 0:b.code)&&this.translateValue("commonSections.messages.statusMessages."+(null===(C=null==E?void 0:E.error)||void 0===C?void 0:C.code)),!1),setTimeout(()=>{this.showAlertBar(null,!1)},5e3))}catch(N){console.log(N)}finally{this.routeToNotFound()}})}setSessionValues(g,b,C,N,E){this.sessionService.setApplicantAplhaId(b),this.sessionService.setApplicantGroupAplhaId(g),this.sessionService.setCurrApplicantVisaCategory(C),this.sessionService.setCurrApplicantVisaType(N),this.sessionService.setRouteId(E)}postLoginActivity(g,b){return(0,k.mG)(this,void 0,void 0,function*(){try{const C=yield this.loadApplicationSchema(g),N=yield this.coreCommonService.moduleAccessibilityFilter(C);return this.sessionService.saveFullApplicationSchemaInBrowser(N),this.sessionService.saveApplicationSchemaInBrowser(N),this.sessionService.updateLoginStatus(!0),this.sessionService.updateJwt(b),!0}catch(C){throw new Error(C)}})}loadApplicationSchema(g){return(0,k.mG)(this,void 0,void 0,function*(){const b=yield g.getApplicationSchema();if(!b||0===b.length)throw new Error(e.Sg.INVALID_RESPONSE);return b})}filterModulesOnBucketId(g,b,C){try{const N=JSON.parse(JSON.stringify(g)),E=N.modules;let Y=[];if(!e.gT.MODULE_BUCKET.hasOwnProperty(b))throw new Error(e.Sg.BUCKET_NOT_FOUND);Y=e.gT.MODULE_BUCKET[b];const W=E.filter(ne=>{if(Y.indexOf(ne.logicalName)>-1)return ne});return N.modules=W,N}catch(N){throw N}}filterModulesOnSelectedValue(g,b,C){var N;try{const E=b.hasOwnProperty("filter")?b.filter:void 0,Y=g.find(z=>z.logicalName===e.gT.modules.ELIGIBILITY_CRITERIA);if(!E||!Y)return;const W=this.getBucketIdFromEligibilityCritera(Y,C,null===(N=E.module)||void 0===N?void 0:N.key);return this.filterModulesOnBucketId(b,W,C)}catch(E){throw E}}removeModule(g,b){try{const C=JSON.parse(JSON.stringify(g)),E=C.modules.filter(Y=>!b.some(W=>W===Y.logicalName));return C.modules=E,C}catch(C){throw C}}addModule(g,b){try{const N=JSON.parse(JSON.stringify(g)).modules,E=this.sessionService.getApplicationSchema(),Y=N.filter(ne=>b.some(z=>z===ne.logicalName)),W=null==Y?void 0:Y.filter(ne=>!E.modules.some(z=>z.logicalName===ne.logicalName));return(null==W?void 0:W.length)>0&&W.forEach(ne=>E.modules.push(ne)),E.modules.sort((ne,z)=>ne.displayPosition>z.displayPosition?1:z.displayPosition>ne.displayPosition?-1:0),E}catch(C){throw C}}getBucketIdFromEligibilityCritera(g,b,C){try{if(!C)throw new Error(e.Sg.NO_BUCKET_FIELD_REF_SCHEMA);const N=g.controls.find(ne=>(null==ne?void 0:ne.fields[0].logicalName)===C),Y=(null==N?void 0:N.fields[0].onChangeEvent).find(ne=>"filterModulesOnValue"===ne.functionName);return this.coreCommonService.getBucketIdFromValue(Y.params,b)}catch(N){throw N}}getSchemaByModuleName(g){try{const C=this.sessionService.getAllModulesSchema().find(N=>N.logicalName===g);if(!C)throw new Error(`Error: invalid_module ${g} `);return C}catch(b){console.log(b)}}showAlertBar(g,b){this.showAlertBarSubject.next({message:g,isError:b})}onResponsesAlertBar({statusCode:g,isError:b}){const C=g.toString().length>0&&this.translateValue("commonSections.messages.statusMessages."+g)?this.translateValue("commonSections.messages.statusMessages."+g):this.translateValue("commonSections.messages.apiErrorMessages.message1");this.showAlertBarSubject.next({message:C,isError:b}),401==g&&(this.sessionService.isTmiOabEnable?(this.oabLogout(),window.location.reload()):this.autoLogout_Concurent(4))}translateValue(g){let b="";return this.translate.get(g).subscribe(C=>{b=C}),b}get imagePath(){return`/ ${String(e.yy.assets.images).replace("$TENENT",this.sessionService.tenent)} /`}get globalImagePath(){return e.gT.ASSETS_PATH.globalImages}handleErrorCloseLoader(g){throw console.log(`Error Status: ${g.status}\nMessage: ${g.message}`),g}constructDate(g,b=B.E_.D_M_Y_SLASH){try{let C;const N=1===String(g.day).length?`0${g.day}`:g.day,E=1===String(g.month).length?`0${g.month}`:g.month;switch(b){case B.E_.D_M_Y_SLASH:C=`${N}/${E}/${g.year}`;break;case B.E_.M_D_Y_SLASH:C=`${E}/${N}/${g.year}`;break;case B.E_.Y_M_D_SLASH:C=`${g.year}/${E}/${N}`;break;default:throw new Error(e.Sg.INVALID_DATE_FORMAT)}return C}catch(C){throw C}}constructTMIProductData(g){return(0,k.mG)(this,void 0,void 0,function*(){return new Promise(b=>(0,k.mG)(this,void 0,void 0,function*(){0===(null==g?void 0:g.length)&&b([]);const N=[];[`${this.sessionService.tenent} > ${this.sessionService.countryCode} > ${this.sessionService.appLanguageCode}`,`${this.sessionService.tenent} > ${this.sessionService.countryCode}`,`${this.sessionService.countryCode} > ${this.sessionService.appLanguageCode}`,this.sessionService.countryCode,this.sessionService.appLanguageCode].forEach(E=>{const Y=Object.assign({content_type:"tmi","fields.locale":E});N.push(this.contentfulService.getEnteries(Y))}),(0,a.D)(N).subscribe(E=>{const Y=(E=E.filter(ne=>ne.items.length>0))[0].items;let W;g&&g.length>0&&(W=null==g?void 0:g.map(ne=>{const z=Y.filter(se=>se.fields.tmiProductCode.toLowerCase()===ne.productId.toLowerCase());return ne.contentful=(null==z?void 0:z.length)>0?z[(null==z?void 0:z.length)-1].fields:[],ne})),b(W)})}))})}constructTMIData(){return(0,k.mG)(this,void 0,void 0,function*(){const b=[],C=Object.assign({content_type:"tmiPageContent","fields.locale":[`${this.sessionService.tenent} > ${this.sessionService.countryCode} > ${this.sessionService.appLanguageCode}`,`${this.sessionService.tenent} > ${this.sessionService.countryCode}`,`${this.sessionService.countryCode} > ${this.sessionService.appLanguageCode}`,this.sessionService.countryCode,this.sessionService.appLanguageCode].join("&"),limit:1});b.push(this.contentfulService.getEnteries(C)),(0,a.D)(b).subscribe(N=>{const E=N[0].items[0].fields;return this.sessionService.tmiContentfulDetails=E,E})})}touchAllFields(g){for(const b of Object.keys(g.controls)){const C=g.get(b);C instanceof r.NI?C.markAsTouched({onlySelf:!0}):C instanceof r.cw&&this.touchAllFields(C)}return!0}deleteApplicantFromSelectedService(g){try{const b=this.sessionService.applicantService;if(!b)return;const C=b.map((N,E)=>{const Y=N.modifiedList.length,W=N.modifiedList.filter(ne=>ne.arn!==g);return b[E].modifiedList=W,Y>W.length&&(b[E].unit=parseFloat(N.unit)-1,b[E].total=parseFloat(N.total)-parseFloat(N.amount)),b[E]});return this.sessionService.applicantService=C,C}catch(b){throw b}}deleteApplicantDetails(g){return(0,k.mG)(this,void 0,void 0,function*(){try{const b=JSON.parse(JSON.stringify(this.sessionService.applicationDetailValue));if(!b||g>=b.applicantList.length)throw new Error("Error:");let C=b.applicantList.slice(g,g+1);if(0===g){const z=b.applicantList.filter(se=>this.utilityService.strictCompare(se.isEndorsedChild,!0));C=C.concat(z)}const N={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,loginUser:this.sessionService.getLoggedEmail(),urn:null,arn:null},E=C.map(z=>(0,k.mG)(this,void 0,void 0,function*(){return N.urn=z.urn,N.arn=z.arn,yield this.httpService.payloadPost("/appointment/deleteapplicant",N).toPromise().then(K=>K)})),W=(yield Promise.all(E),C.map(z=>z.arn)),ne=b.applicantList.filter(z=>-1===W.indexOf(z.arn));return b.applicantList=ne,this.sessionService.applicationDetailValue=b,W.map(z=>this.deleteApplicantFromSelectedService(z)),b}catch(b){console.log(b)}})}formatDateDMY(g){const b=g.match(/\d+/g);return b[2]+"/"+b[1]+"/"+b[0]}getVacCenters(g,b){return(0,k.mG)(this,void 0,void 0,function*(){try{const C={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode};return g&&(C.cultureCode=g),b&&(C.centerCode=b),yield this.httpService.slashParamsDoGet(e.gT.api.masterCenter,C).toPromise().catch(E=>E).then(E=>E)}catch(C){throw C}})}getVisaCategories(g,b,C){return(0,k.mG)(this,void 0,void 0,function*(){try{const N={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:g,cultureCode:this.sessionService.appCultureCode};let E=b?`?serviceType=${b}`:void 0;return C&&(E+=`${"null"!==E?"&":""}nationalityCode=${C}`),yield this.httpService.slashParamsDoGet(e.gT.api.masterVisaCategoryCode,N,E).toPromise().catch(W=>W).then(W=>W)}catch(N){throw N}})}getSubVisaCategories(g,b,C,N,E){return(0,k.mG)(this,void 0,void 0,function*(){try{const Y={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:g},W=this.utilityService.momentInstance().format("YYYY-MM-DDTHH:mm:ss"),se=this.encription(("CC"==this.sessionService.loginResponse?"CC;":"GA;")+W+"Z");b&&(Y.visaCategoryCode=b);let K=C?`?serviceType=${C}`:void 0;return N&&(K+=`${"null"!==K?"&":""}nationalityCode=${N}`),Y.cultureCode=`${this.sessionService.appCultureCode}`,yield this.httpService.slashParamsDoGetSubvisa(e.gT.api.masterSubVisaCategory,Y,K,se).toPromise().catch(Fe=>Fe).then(Fe=>Fe)}catch(Y){throw Y}})}loadAppointmentSlots(g){return(0,k.mG)(this,void 0,void 0,function*(){const b={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:g.centerCode,loginUser:this.sessionService.getLoggedEmail(),visaCategoryCode:g.visaCategoryCode,languageCode:this.sessionService.appCultureCode,applicantsCount:g.applicantsCount,days:g.days,fromDate:g.fromDate,slotType:g.slotType,toDate:g.toDate,urn:this.sessionService.urn,payCode:g.payCode};return yield(e.gT.URLS_FOR_SLOTS_GET_METHOD.indexOf(w.N.apiEndPoint)>-1?this.httpService.getLamdaData(e.gT.api.appointmentSlots,b):this.httpService.payloadPost(e.gT.api.appointmentSlots,b)).toPromise().then(N=>N).catch(N=>N)})}loadVacConfiguration(g){return(0,k.mG)(this,void 0,void 0,function*(){try{return g||(g=this.sessionService.centerCode),this.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled&&(g=this.sessionService.centerCodeLs),yield this.httpService.slashParamsDoGet(`${e.gT.api.configuration}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${g}`).toPromise().catch(b=>b).then(b=>b)}catch(b){throw b}})}loadConfiguration(){return(0,k.mG)(this,void 0,void 0,function*(){try{const g=window.location.pathname.split("/");return yield this.httpService.slashParamsDoGet(`${e.gT.api.configuration}/${g[3]}/${g[1]}`).toPromise().catch(b=>b).then(b=>this.sessionService.applicationConfiguration=b)}catch(g){throw g}})}loadConfigurationWithoutVac(){return(0,k.mG)(this,void 0,void 0,function*(){try{return yield this.httpService.slashParamsDoGet(`${e.gT.api.configuration}/${this.sessionService.tenent}/${this.sessionService.countryCode}`).toPromise().catch(g=>g).then(g=>g)}catch(g){throw g}})}filterNationalityByName(g){return(0,k.mG)(this,void 0,void 0,function*(){const C=(yield this.loadNationality()).filter(N=>N.nationalityName===g);return(null==C?void 0:C.length)>0?C[0].isoCode:""})}loadNationality(g){return(0,k.mG)(this,void 0,void 0,function*(){try{let b=`${e.gT.api.loadNationality}`;return g&&(b+=`?serviceType=${g}`),yield this.httpService.slashParamsDoGet(b).toPromise().catch(C=>C).then(C=>C)}catch(b){throw b}})}loadMasterTmiData(g,b){return(0,k.mG)(this,void 0,void 0,function*(){try{let C=`${e.gT.api.masterTMIData}/${g}/${b}/${this.sessionService.appCultureCode}`;return yield this.httpService.slashParamsDoGet(C).toPromise().catch(N=>N).then(N=>N)}catch(C){throw C}})}loadMasterData(g){return(0,k.mG)(this,void 0,void 0,function*(){try{return yield this.httpService.slashParamsDoGet(g).toPromise().catch(b=>b).then(b=>b)}catch(b){throw b}})}loadEntryType(g,b,C,N){return(0,k.mG)(this,void 0,void 0,function*(){try{const E=this.sessionService.eligibilityDetails,Y=E&&E.centerCode?E.centerCode:g,W=E&&E.visaCategoryCode?E.visaCategoryCode:b,ne=E&&E.nationalityCode?E.nationalityCode:C,z=E&&E.serviceType?E.serviceType:N;if(!ne)return(0,X.of)();let se=`${e.gT.api.loadEntrytype}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${Y}/${W}/${ne}`;return z&&(se+=`/${z}`),yield this.httpService.slashParamsDoGet(se).toPromise().catch(K=>K).then(K=>K)}catch(E){throw E}})}loadSubmissionType(){return(0,k.mG)(this,void 0,void 0,function*(){try{const g=`${e.gT.api.loadEoiApplicationType}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appCultureCode}`;return yield this.httpService.slashParamsDoGet(g).toPromise().catch(b=>b).then(b=>null==b?void 0:b.submissionTypes)}catch(g){throw g}})}loadFeeEntryType(){return(0,k.mG)(this,void 0,void 0,function*(){try{const g=`${e.gT.api.loadFeeEntrytype}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appCultureCode}`;return yield this.httpService.slashParamsDoGet(g).toPromise().catch(b=>b).then(b=>b)}catch(g){throw g}})}loadFeeExcemptionType(){return(0,k.mG)(this,void 0,void 0,function*(){try{const g=`${e.gT.api.loadFeeExemptionType}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appCultureCode}`;return yield this.httpService.slashParamsDoGet(g).toPromise().catch(b=>b).then(b=>b)}catch(g){throw g}})}loadFeeExcemptionDetails(g){return(0,k.mG)(this,void 0,void 0,function*(){try{const C=`${e.gT.api.loadFeeExemptionDetails}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${g}/${this.sessionService.appCultureCode}`;return yield this.httpService.slashParamsDoGet(C).toPromise().catch(N=>N).then(N=>N)}catch(b){throw b}})}loadServiceType(){return(0,k.mG)(this,void 0,void 0,function*(){try{return yield this.httpService.slashParamsDoGet(e.gT.api.loadEoiServiceType).toPromise().catch(g=>g).then(g=>null==g?void 0:g.serviceTypes)}catch(g){throw g}})}autoLogout(g){return(0,k.mG)(this,void 0,void 0,function*(){this.terminationNotification(g),this.timeOut=setTimeout(()=>{this.logoutAndRouteToLogin()},1e3*g)})}stopTimeOut(){return(0,k.mG)(this,void 0,void 0,function*(){clearTimeout(this.notificationTimeOut),clearTimeout(this.timeOut)})}terminationNotification(g){return(0,k.mG)(this,void 0,void 0,function*(){this.notificationTimeOut=setTimeout(()=>{this.dialog.open(D.k,{data:""})},60*(g/60-1)*1e3)})}disableRightClickEvent(g){g.preventDefault()}disableControlAndShiftKeysEvent(g){g.ctrlKey&&g.shiftKey&&g.preventDefault()}disableRightClick(){document.addEventListener("contextmenu",this.disableRightClickEvent)}enableRightClick(){document.removeEventListener("contextmenu",this.disableRightClickEvent)}disableControlAndShiftKeys(){document.addEventListener("keydown",this.disableControlAndShiftKeysEvent)}enableControlAndShiftKeys(){document.removeEventListener("keydown",this.disableControlAndShiftKeysEvent)}autoLogout_Concurent(g){return(0,k.mG)(this,void 0,void 0,function*(){this.terminationNotification_Concurent(g),this.timeOut=setTimeout(()=>{this.logoutAndRouteToLogin()},1e3*g)})}terminationNotification_Concurent(g){return(0,k.mG)(this,void 0,void 0,function*(){let b=this.translateValue("commonSections.messages.errorMessages.message25");this.notificationTimeOut=setTimeout(()=>{this.dialog.open(D.k,{data:b})},60*(g/60-1)*1e3)})}checkIfSlotAvailiable(g){var b;return(0,k.mG)(this,void 0,void 0,function*(){try{const C={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,vacCode:null==g?void 0:g.centerCode,visaCategoryCode:g.SubVisaCategory,roleName:this.sessionService.loginResponse,loginUser:this.sessionService.getLoggedEmail(),payCode:this.sessionService.paymentModeinSubvisaCategory?null===(b=this.sessionService.paymentModeinSubvisaCategory)||void 0===b?void 0:b.code:""};return yield this.httpService.payloadPost(e.gT.api.checkSlotavailiable,C).toPromise().then(N=>N).catch(N=>N)}catch(C){throw C}})}loadEOIVisaType(g,b,C,N){return(0,k.mG)(this,void 0,void 0,function*(){try{const E=this.sessionService.eligibilityDetails,z=E&&E.serviceType?E.serviceType:N;let se=`${e.gT.api.loadEoiVisaType}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${E?E.centerCode:g}/${E?E.visaCategoryCode:b}/${E?E.nationalityCode:C}`;return z&&(se+=`/${z}`),yield this.httpService.slashParamsDoGet(se).toPromise().catch(K=>K).then(K=>K)}catch(E){throw E}})}loadClientIp(){return(0,k.mG)(this,void 0,void 0,function*(){try{if(this.sessionService.clientIpAddress)return this.sessionService.clientIpAddress;const g=new XMLHttpRequest;g.overrideMimeType("application/json"),g.open("GET",w.N.clientIpEndPoint,!0),g.onload=()=>{const b=JSON.parse(g.responseText);this.sessionService.clientIpAddress=(null==b?void 0:b.ip)?null==b?void 0:b.ip:null},g.send(null)}catch(g){throw g}})}loadServices(g,b){return(0,k.mG)(this,void 0,void 0,function*(){try{return new Promise(C=>(0,k.mG)(this,void 0,void 0,function*(){const Y=`${e.gT.api.vasByVac}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${g||this.sessionService.centerCode}?languageCode=${this.sessionService.appCultureCode}&sortBy=${b||"relevance"}`,W=yield this.httpService.slashParamsDoGet(Y).toPromise().then(se=>se).catch(se=>se),z=[];[`${this.sessionService.tenent} > ${this.sessionService.countryCode} > ${this.sessionService.appLanguageCode}`,`${this.sessionService.tenent} > ${this.sessionService.appLanguageCode}`,this.sessionService.appLanguageCode].forEach(se=>{const K=Object.assign({content_type:"valueAddedService","fields.locale":se});z.push(this.contentfulService.getEnteries(K))}),(0,a.D)(z).subscribe(([se,K,Xe])=>{var Fe;const Oe=se,Me=Xe;Me.items=Me.items.concat(K.items),Me.items=Me.items.concat(Oe.items);const gt=Me;let _t;_t=W&&(null===(Fe=W.data)||void 0===Fe?void 0:Fe.length)>0?W.data.map(Ue=>{var Lt,It;const lt=gt.items.filter(Zt=>Zt.fields.vasCode.toLowerCase()===Ue.code.toLowerCase());return(null===(Lt=null==Ue?void 0:Ue.complimentaryVAS)||void 0===Lt?void 0:Lt.length)>0&&(null===(It=null==Ue?void 0:Ue.complimentaryVAS)||void 0===It||It.map((Zt,Yt)=>{const rt=gt.items.filter(Qt=>Qt.fields.vasCode.toLowerCase()===Zt.code.toLowerCase());if((null==rt?void 0:rt.length)>0)return Ue.complimentaryVAS[Yt].contentful=rt[(null==rt?void 0:rt.length)-1].fields})),Ue.contentful=(null==lt?void 0:lt.length)>0?lt[(null==lt?void 0:lt.length)-1].fields:[],Ue}):[],_t.forEach(Ue=>delete Ue.timeslot),C(_t)})}))}catch(C){throw new Error(`${e.Sg.INVALID_REGISTRATION_RESPONSE}: ${C}`)}})}addMandatoryService(){return(0,k.mG)(this,void 0,void 0,function*(){try{this.sessionService.updateFees=!0;const g=[],b=yield this.loadServices();if(0===b.length)return;b.forEach((C,N)=>(0,k.mG)(this,void 0,void 0,function*(){var E;if(C.isMandatory){const Y=yield this.modifyServiceList(C);for(let W=Y.applicants.length-1;W>=0;W--)if(Y.applicants[W].vasCode===e.Vh&&this.checkIfPrepaidCourier(Y.applicants[W].courierType)){const ne=Y.applicants.findIndex(K=>K.vasCode===e.Vh&&this.checkIfPrepaidCourier(K.courierType));Y.applicants.splice(ne,1);const z=this.sessionService.applicantService,se=z.findIndex(K=>K.code===e.Vh);se>-1&&(z.splice(se,1),this.sessionService.applicantService=z)}Y.applicants.length>0&&(b[N].unit=Y.applicants.length,b[N].total=Y.applicants.length*C.unitPrice,b[N].modifiedList=Y.applicants,b[N].timeslot="isMandatory",g.push(C),this.sessionService.applicantService=g)}else{const Y=this.sessionService.applicantService||[];if((null===(E=null==Y?void 0:Y.filter(W=>W.id===C.id))||void 0===E?void 0:E.length)>0){const W=Y.filter(ne=>ne.id===C.id);g.push(W[0])}}})),this.sessionService.applicantService=g}catch(g){throw g}})}modifyServiceList(g){var b;try{const C=this.sessionService.applicationDetailValue?null===(b=this.sessionService.applicationDetailValue)||void 0===b?void 0:b.applicantList:[];let N;N=C&&(null==C?void 0:C.length)>0?C.map(Y=>{var W,ne;return{arn:Y.arn,vasId:g.id.toString(),vasCode:g.code,courierType:(null===(W=null==Y?void 0:Y.postalList)||void 0===W?void 0:W.length)>0?null===(ne=null==Y?void 0:Y.postalList[0])||void 0===ne?void 0:ne.courierType:null}}):[];const E={};return E.loginuser=this.sessionService.getLoggedEmail(),E.missioncode=this.sessionService.tenent,E.countrycode=this.sessionService.countryCode,E.urn=(null==C?void 0:C.length)>0?C[0].urn:"",E.applicants=N,E}catch(C){throw C}}checkIfPostal(g){return!this.utilityService.strictCompare(e.EF.indexOf(g),-1)}removeTmiProductSelection(){const g=this.sessionService.applicantService||[],b=null==g?void 0:g.filter(C=>"TMIPS"!=C.code);this.sessionService.applicantService=b}initTmiOabApplicantFormData(){return{firstName:"",lastName:"",dateOfBirth:"",urn:"",arn:"",loginUser:this.sessionService.getLoggedEmail(),salutation:"",gender:0,contactNumber:"",dialCode:"",passportNumber:"",passportExpirtyDate:"",emailId:"",nationalityCode:"",stateCode:"0",cityCode:"0",isEndorsedChild:!1,applicantType:0,addressline1:"",addressline2:"",pincode:"",referenceNumber:"",applicantGroupId:0,parentPassportNumber:"",parentPassportExpiry:"",dateOfDeparture:"",ipAddress:this.sessionService.clientIpAddress,state:"",city:"",applicationpoolid:""}}checkIfOWA(g){return!this.utilityService.strictCompare(e.U7.indexOf(g),-1)}checkIfPrepaidCourier(g){return!this.utilityService.strictCompare(e.rv.indexOf(g),-1)}availableServicesForTopup(g,b){try{const C=[];let N=!1,E=!1,Y=!1;const W=null==g?void 0:g.map(z=>{var se;return z.isPackage?(z.includedVAS&&(null===(se=z.includedVAS)||void 0===se?void 0:se.length)>0&&z.includedVAS.forEach(K=>C.push(K.code)),N=!0):z.isUPSCourier?E=!0:z.isODMV&&(Y=!0),z.vasCode});return Array.isArray(W)&&C.push(...W),b.filter(z=>!0===z.isAvailableOnline&&!z.isAssociatedWithAppointment&&-1===C.indexOf(z.code))}catch(C){throw C}}paymentModeEnabled(g,b){return(0,k.mG)(this,void 0,void 0,function*(){try{const C=`${e.gT.api.masterPaymentMode}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${g||this.sessionService.centerCode}?subVisaCode=${b}&culturCode=${this.sessionService.appCultureCode}`;return yield this.httpService.slashParamsDoGet(C).toPromise().catch(N=>N).then(N=>N)}catch(C){throw C}})}oabLogout(){this.sessionService.updateLoginStatus(!1),this.sessionService.clearSession(),this.routeToPostLoginModule(e.m8.TMI_OAB_Login)}handShakepostLoginActivity(g){this.sessionService.detailsFromToken={loginUser:g.loginUser,accessToken:g.accessToken,missionCode:g.missionCode,countryCode:g.countryCode,urn:g.urn},this.sessionService.updateLoggedEmail(g.loginUser),this.sessionService.urn=g.urn,this.addStorageEventListener(),this.sessionService.updateLoginStatus(!0),this.sessionService.setLoginTimestamp((new Date).getTime().toString()),this.sessionService.updateJwt(g.accessToken)}UsagssPostLoginActivity(g,b,C,N){return(0,k.mG)(this,void 0,void 0,function*(){try{const E=yield this.loadGssApplicationSchema(g,C),Y=yield this.coreCommonService.moduleAccessibilityFilter(E);return this.sessionService.saveFullApplicationSchemaInBrowser(Y),this.sessionService.saveApplicationSchemaInBrowser(Y),this.sessionService.updateLoginStatus(N),!0}catch(E){throw new Error(E)}})}addStorageEventListener(){try{window.addEventListener("storage",this.storageEventListener)}catch(g){throw g}}storageEventListener(g){try{g.storageArea===localStorage&&(this.utilityService.strictCompare(localStorage.getItem("timestamp"),this.sessionService.getTimestampFromSession())||this.router.navigate([e.m8.INVALID_SESSION]))}catch(b){throw b}}loadGssApplicationSchema(g,b){return(0,k.mG)(this,void 0,void 0,function*(){console.log("Load application schema",g);const C=yield g.getGssApplicationSchema(b);if(console.log("appModulesSchema",C),!C||0===C.length)throw new Error(e.Sg.INVALID_RESPONSE);return C})}bookingMaxtimeSessionTrackStart(){var g,b,C,N,E,Y,W,ne,z;this.BookingSessionTimerStop();let se=(null===(b=null===(g=this.sessionService)||void 0===g?void 0:g.applicationConfiguration)||void 0===b?void 0:b.maxtimeSessionBooking)>0&&null!==(null===(N=null===(C=this.sessionService)||void 0===C?void 0:C.applicationConfiguration)||void 0===N?void 0:N.maxtimeSessionBooking)?null===(Y=null===(E=this.sessionService)||void 0===E?void 0:E.applicationConfiguration)||void 0===Y?void 0:Y.maxtimeSessionBooking:0;if(se>0&&this.isBookingJourney&&"Individual"==this.sessionService.loginResponse){var K=null===(W=this.sessionService)||void 0===W?void 0:W.lastAccessdetails;if((null==K?void 0:K.LastEndTime)&&(se=(null==K?void 0:K.LastRemMin)>0&&null!==(null==K?void 0:K.LastRemMin)?null==K?void 0:K.LastRemMin:0),(null==K?void 0:K.LastURL)&&this.router.url.indexOf(null==K?void 0:K.LastURL)>-1){let gt=this.utilityService.momentInstance().format("YYYY-MM-DD HH:mm");var Xe=this.utilityService.momentInstance(gt),Fe=this.utilityService.momentInstance(null==K?void 0:K.LastentryTime),Oe=Xe.diff(Fe,"minutes");se=(null==K?void 0:K.LastRemMin)>0&&null!==(null==K?void 0:K.LastRemMin)?null==K?void 0:K.LastRemMin:0,se=(Oe=Oe<0?0:Oe)>se?0:se-Oe}(se>(null===(z=null===(ne=this.sessionService)||void 0===ne?void 0:ne.applicationConfiguration)||void 0===z?void 0:z.maxtimeSessionBooking)||se<1)&&(se=0);var ye={LastURL:this.router.url,LastentryTime:this.utilityService.momentInstance().format("YYYY-MM-DD HH:mm"),LastEndTime:"",LastRemMin:se};this.sessionService.lastAccessdetails=ye,se>=5&&(this.reminderTimeOut=setTimeout(()=>{this.dialog.open(D.k,{data:" 5 minutes left for session timeout on the booking journey"})},6e4*(se-5))),this.BookingJourneyTimeout=setTimeout(()=>{this.dialog.open(D.k,{data:"You have spent the maximum time on the booking journey, So terminating the session."}).afterClosed().subscribe(_t=>{this.logoutAndRouteToLogin()},_t=>{this.logoutAndRouteToLogin()})},6e4*se),this.BaseBookingJourneyTimeout=setTimeout(()=>{this.logoutAndRouteToLogin()},6e4*(se+.1))}else this.sessionService.lastAccessdetails=null}bookingMaxtimeSessionTrackEnd(){var g,b,C,N,E,Y,W,ne,z;this.BookingSessionTimerStop();let se=(null===(b=null===(g=this.sessionService)||void 0===g?void 0:g.applicationConfiguration)||void 0===b?void 0:b.maxtimeSessionBooking)>0&&null!==(null===(N=null===(C=this.sessionService)||void 0===C?void 0:C.applicationConfiguration)||void 0===N?void 0:N.maxtimeSessionBooking)?null===(Y=null===(E=this.sessionService)||void 0===E?void 0:E.applicationConfiguration)||void 0===Y?void 0:Y.maxtimeSessionBooking:0;if(se>0&&this.isBookingJourney&&"Individual"==this.sessionService.loginResponse){var K=null===(W=this.sessionService)||void 0===W?void 0:W.lastAccessdetails;se=(null==K?void 0:K.LastRemMin)>0&&null!==(null==K?void 0:K.LastRemMin)?null==K?void 0:K.LastRemMin:se;let Me=this.utilityService.momentInstance().format("YYYY-MM-DD HH:mm");var Xe=this.utilityService.momentInstance(Me),Fe=this.utilityService.momentInstance(null==K?void 0:K.LastentryTime),Oe=Xe.diff(Fe,"minutes");se=(Oe=Oe<0?0:Oe)>se?0:se-Oe,(se>(null===(z=null===(ne=this.sessionService)||void 0===ne?void 0:ne.applicationConfiguration)||void 0===z?void 0:z.maxtimeSessionBooking)||se<1)&&(se=0),this.sessionService.lastAccessdetails={LastURL:this.router.url,LastentryTime:null==K?void 0:K.LastentryTime,LastEndTime:Me,LastRemMin:se}}else this.sessionService.lastAccessdetails=null}get isBookingJourney(){try{return this.router.url.indexOf(e.m8.APPLICATION_DETAIL)>-1||this.router.url.indexOf(e.m8.YOUR_DETAILS)>-1||this.router.url.indexOf(e.m8.BOOK_APPOINTMENT)>-1||this.router.url.indexOf(e.m8.SERVICES)>-1||this.router.url.indexOf(e.m8.POSTAL_INFORMATION)>-1||this.router.url.indexOf(e.m8.TRAVEL_MEDICAL_INSURANCE)>-1||this.router.url.indexOf(e.m8.REVIEW_AND_PAY)>-1}catch(g){console.log(e.Sg.INVALID_URL)}}BookingSessionTimerStop(){clearTimeout(this.reminderTimeOut),clearTimeout(this.BookingJourneyTimeout),clearTimeout(this.BaseBookingJourneyTimeout)}routeToCCLogin(){try{this.sessionService.updateLoginStatus(!1),this.sessionService.clearSession();const g=window.location.pathname.split("/");(null==g?void 0:g.length)>3&&this.router.navigate([g[1],g[2],g[3],e.m8.CCLOGIN])}catch(g){console.log(g)}}encription(g){const C=q.pki.publicKeyFromPem(e.UV+w.N.rsaString+e.rY);return window.btoa(C.encrypt(g.toString()))}}return Z.\u0275fac=function(g){return new(g||Z)(J.LFG(ae.uw),J.LFG(ce.F0),J.LFG(te.m),J.LFG(le.O),J.LFG(V.t),J.LFG(ue.sK),J.LFG(O.a),J.LFG(y.Cw))},Z.\u0275prov=J.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},2194:(Se,fe,A)=>{"use strict";A.d(fe,{a:()=>u});var k=A(655),e=A(2340),r=A(1404),B=A(8065),v=A(2766),p=A(5e3),a=A(6106),X=A(1057),w=A(9123),D=A(325);const q=RegExp("{{\\s*([a-zA-Z-.0-9]+)\\s*}}","g");let u=(()=>{class J{constructor(ce,te,le,V){this.sessionService=ce,this.utilityService=te,this.dataShareService=le,this.router=V,this.RESOURCE_GROUP_TYPE="resourceGroup",this.cdaClient=(0,r.e)({space:e.N.contentful.space,accessToken:e.N.contentful.value,host:e.N.contentful.host,basePath:e.N.contentful.basePath}),this.getResourceGroup()}get allowedLan(){return this.allowedMissionLanguage}getEnteries(ce){return(0,k.mG)(this,void 0,void 0,function*(){let te={};const le=this.resourceGroups;for(let V=0;V<le.length;V++){const ue=le[V].fields;ue&&ue.resources&&(te=Object.assign({countryResourceSet:te},ue.resources))}return this.cdaClient.getEntries(ce).then(V=>(V.items.forEach((ue,O,y)=>{y[O]=JSON.parse(JSON.stringify(y[O]).replace(q,this.utilityService.replacerFunction.bind(this,te)))}),V))})}get routeParam(){const ce=window.location.pathname.split("/");return{tenent:ce[3],countryCode:ce[1],appLanguageCode:ce[2]}}loadCaptchaRoute(){const ce=window.location.pathname.split("/");var te=[`${this.routeParam.tenent} > ${this.routeParam.countryCode} > ${this.routeParam.appLanguageCode}`,`${this.routeParam.tenent} > ${this.routeParam.countryCode}`,`${this.routeParam.tenent} > ${this.routeParam.appLanguageCode}`,this.routeParam.tenent,this.routeParam.appLanguageCode,v.FL];ce.includes("blg-handshake")&&(te=[`${localStorage.getItem("tenent")} > ${localStorage.getItem("countrycode")} > ${this.routeParam.appLanguageCode}`,`${localStorage.getItem("tenent")} > ${localStorage.getItem("countrycode")}`,`${localStorage.getItem("tenent")} > ${localStorage.getItem("app_language_code")}`,this.sessionService.tenent,this.sessionService.appLanguageCode,v.FL]),this.cdaClient.getEntries({content_type:"countryCaptchaConfiguration","fields.locale":te.join("&"),limit:1}).then(le=>{const V=le.items||[];this.sessionService.captchaConfiguration=V,V.length>0&&this.dataShareService.captchaAllowedRoutes.next(V[0].fields.allowedRoute.allowedRoute)})}loadDecimalAllowed(){this.cdaClient.getEntries({content_type:"decimalConfiguration","fields.locale":[`${this.routeParam.tenent} > ${this.routeParam.countryCode} > ${this.routeParam.appLanguageCode}`,`${this.routeParam.tenent} > ${this.routeParam.countryCode}`,`${this.routeParam.tenent} > ${this.routeParam.appLanguageCode}`,this.routeParam.tenent,this.routeParam.appLanguageCode,v.FL].join("&"),limit:1}).then(te=>{const le=te.items||[];if(le.length>0){const{fields:{decimalAllowed:V}}=le[0];this.sessionService.decimalConfiguration=V}else this.sessionService.decimalConfiguration="2"})}getResourceGroup(ce){const te=window.location.pathname.split("/"),le=ce||this.routeParam.appLanguageCode;var V=[`${this.routeParam.tenent} > ${this.routeParam.countryCode} > ${le}`,`${this.routeParam.tenent} > ${this.routeParam.countryCode}`,`${this.routeParam.tenent} > ${le}`,this.routeParam.tenent,le,v.FL];te.includes("blg-handshake")&&(V=[`${localStorage.getItem("tenent")} > ${localStorage.getItem("countrycode")} > ${this.routeParam.appLanguageCode}`,`${localStorage.getItem("tenent")} > ${localStorage.getItem("countrycode")}`,`${localStorage.getItem("tenent")} > ${localStorage.getItem("app_language_code")}`,this.sessionService.tenent,this.sessionService.appLanguageCode,v.FL]),this.cdaClient.getEntries({content_type:this.RESOURCE_GROUP_TYPE,"fields.locale":V.join("&"),limit:500}).then(ue=>{var O,y;this.resourceGroups=ue.items;const x=null===(y=null===(O=this.resourceGroups[0])||void 0===O?void 0:O.fields)||void 0===y?void 0:y.resources;this.sessionService.resourceGroupData=x,this.utilityService.strictCompare(null==x?void 0:x.disablevfslogo,"true")?this.sessionService.setIsVFSLogoDisabled(!0):this.sessionService.setIsVFSLogoDisabled(!1)})}getMissionLanguage(){return new Promise(ce=>{this.sessionService.clearMissionlanguage();const te=Object.assign({content_type:"mission","fields.isoCode":this.routeParam.tenent});this.cdaClient.getEntries(te).then(le=>{var V,ue;if((null===(V=le.items)||void 0===V?void 0:V.length)>0){if((null===(ue=le.items[0].fields.locales[this.routeParam.countryCode])||void 0===ue?void 0:ue.length)>0){const O=[];le.items[0].fields.locales[this.routeParam.countryCode].map(y=>(O.push({code:y,languagename:"tl"==y?"Filipino":B.Z.getName(y)}),y)),this.sessionService.appMissionLanguage=O}else this.sessionService.appMissionLanguage=[];ce(!0)}else ce([])})})}getMockSchema(){return new Promise(ce=>{const te=window.location.pathname.split("/");var le=[`${te[3]} > ${te[1]}`,te[3],v.FL];te.includes("blg-handshake")&&(le=[`${this.sessionService.tenent} > this.sessionService.countryCode`,this.sessionService.tenent,v.FL]);const V=Object.assign({content_type:e.N.production?"dyanmicFormSchema":"mockSchema","fields.locale":le.join("&"),limit:1});this.cdaClient.getEntries(V).then(ue=>{var O;if((null===(O=ue.items)||void 0===O?void 0:O.length)>0){if(ue.items[0].fields.schemaJson){const y=ue.items[0].fields.schemaJson;this.sessionService.saveFullApplicationSchemaInBrowser(y),this.sessionService.saveApplicationSchemaInBrowser(y)}ce(!0)}else ce([])}).catch(()=>{ce([])})})}getTravelInsurance(){const ce=Object.assign({content_type:"travelInsurance","fields.isoCode":`${this.sessionService.tenent}`});return this.cdaClient.getEntries(ce).then(te=>{var le,V,ue;if((null===(le=null==te?void 0:te.items)||void 0===le?void 0:le.length)>0){const O=null==te?void 0:te.items[0].fields;return!!((null===(V=Object.keys(O))||void 0===V?void 0:V.length)>0&&(null==O?void 0:O.locales[this.sessionService.countryCode])&&(null===(ue=null==O?void 0:O.locales[this.sessionService.countryCode])||void 0===ue?void 0:ue.length)>0)&&"1"===(null==O?void 0:O.locales[this.sessionService.countryCode][0])}return!1})}}return J.\u0275fac=function(ce){return new(ce||J)(p.LFG(a.m),p.LFG(X.t),p.LFG(w._),p.LFG(D.F0))},J.\u0275prov=p.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})()},9123:(Se,fe,A)=>{"use strict";A.d(fe,{_:()=>r});var k=A(591),e=A(5e3);let r=(()=>{class B{constructor(){this.reviewDataObserable=new k.X([]),this.reviewData=this.reviewDataObserable.asObservable(),this.translations$=new k.X({}),this.appliedServiceList=new k.X([]),this.appliedServiceList$=this.appliedServiceList.asObservable(),this.pageLoadComplete=new k.X(!1),this.pageLoadComplete$=this.pageLoadComplete.asObservable(),this.cartAmount=new k.X(void 0),this.captchaAllowedRoutes=new k.X(void 0),this.contentfulResourceGroup=new k.X(void 0),this.contentfulResourceGroup$=this.contentfulResourceGroup.asObservable(),this.editYourDetail=!1,this.isServiceModified=!1,this.dashboardTab=0}set currentFormGroup(p){this.currFormGroup=p}get currentFormGroup(){return this.currFormGroup}notifyPageLoadCompleted(p){this.pageLoadComplete.next(p)}getPageLoadCompleteValue(){return this.pageLoadComplete.value}set rescheduledData(p){this.reschldData=p}get rescheduledData(){return this.reschldData}get resourceGroupObservable(){return this.contentfulResourceGroup$}clearrescheduledData(){this.reschldData={}}}return B.\u0275fac=function(p){return new(p||B)},B.\u0275prov=e.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()},6106:(Se,fe,A)=>{"use strict";A.d(fe,{m:()=>w});var k=A(655),e=A(591),r=A(8929),B=A(2766),v=A(2340),p=A(5e3),a=A(2313),X=A(6089);let w=(()=>{class D{constructor(u,J){this.titleService=u,this.logger=J,this.IS_HMPO_JOURNEY="is_hmpo_journey",this.UPDATED_CART="updated_cart",this.APP_SCHEMA="appSchema",this.FULL_APP_SCHEMA="fullAppSchema",this.LOGIN_STATUS="loginStatus",this.JWT="JWT",this.EMAIL="logged_email",this.CURR_APP_VISA_CAT="curr_appl_visa_cat",this.CURR_APP_VISA_TYPE="curr_appl_visa_type",this.REGISTERED_USER_TOKEN="user_token",this.APP_MISSION_LANGUAGE="app_mission_language",this.VLN_REGEX="vln_regex",this.VLN_FORMAT="vln_format",this.IS_VLN_ENABLED="is_vln_enabled",this.loggedInStatus=new e.X(!1),this.APP_LANGUAGE_CODE="app_language_code",this.ACTIVATE_MESSAGE="activate_message",this.SERVICE_FEE="service_fees",this.VAC_FEE="vac_fee",this.ADDITIONAL_FEE="additional_fee",this.SERVICE_TAX="service_tax",this.APP_CULTURE_CODE=B.Y2,this.TENENT="tenent",this.TRANSACTION_ID="transactionid",this.COUNTRYCODE="countrycode",this.DOCUMENT_IDENTIFIER="document_identifier",this.ROUTE_ID="route_id",this.APPLICANT_APLHA_ID="applicant_alpha_id",this.APPLICANT_GRP_APLHA_ID="applicant_grp_alpha_id",this.LOGGED_IN_USING_EMAIL="logged_in_using_email",this.APPLICATION_STATUS="application_status",this.CURRENCY_CODE="currency_code",this.CURR_APP_VAC="curr_app_vac",this.APPOINTMENT_DETAILS="apt_dtls",this.CENTER_CODE="curr_app_cntr_code",this.URN_NO="urn_no",this.CMPLTD_MOD="cmpltd_mod",this.TEMP_APP_SCHEMA="temp_appschema",this.APP_TYPE="application_type",this.RESHDL_APTMNT_MODE="reshdl_mode",this.WAITLIST_APTMNT_MODE="waitlist_mode",this.UPDATE_FEES="update_fees",this.TMI_PRODUCT_VIEW="tmi_product_view",this.TMI_ENABLED="tmi_enabled",this.IS_MIGRIS_NUMBER_ENABLED="is_migris_number_enabled",this.MFT_CONSENT_ENABLED="mft_consent_enabled",this.MFT_WORKPERMIT_ENABLED="mft_workpermit_enabled",this.MFT_REUNIFICATION_ENABLED="mft_reunification_enabled",this.DOCUMENT_UPLOAD_ENABLED="document_upload_enabled",this.PAY_AT_BANK_SELECTED="pay_at_bank",this.SPLIT_PAY_ENABLED="split_pay_enabled",this.OPTED_OUT_TMI="opted_out_tmi",this.TMI_PRODUCTS_AVAILABLE="tmi_products_available",this.SCHEMA_UPDATED="schema_updated",this.TMI_PRODUCT_CONSENT="tmi_product_consent",this.CART_AMOUNT="cart_amount",this.TMI_VAS_ID="tmi_vas_id",this.IP_ADDRESS="ip",this.SERVICE_FEE_MODE_CHKBX_STATUS="serv_fee_mode_chkbx_sts",this.DOCUMENT_EXTRACTION="document_extraction",this.CAPTHA_CONFIGURATION="captcha_configuration",this.WAITLIST_JOURNEY="waitlist_journey",this.DECIMAL_ALLOWED="decimal_allowed",this.DISABLE_VFS_LOGO="disable_vfs_logo",this.TMI_VAS="tmiVas",this.RESOURCE_GROUP_DATA="resource_group_data",this.RESOURCE_GROUP_DATA_TEMP="resource_group_data_temp",this.IS_ADD_EXTRA_SERVICE_MODE="is_add_extra_service_mode",this.IS_APPOINTMENT_UPDATED="is_appointment_updated",this.REQ_REF_NUM="req_ref",this.loggedInUserDetails=new e.X(void 0),this.loggedInUserDetails$=this.loggedInUserDetails.asObservable(),this.USER_DETAILS="user_details",this.FF_SERVICE_FOR_APPLICANT="ffServiceForApplicant",this.JWT_TOKEN="jwt_token",this.FF_APPLICANT_DETAILS="ff_applicant_details",this.FF_PAYMENT_DETAILS="ff_payment_details",this.USER_MOBILE="usr_contact",this.LOGIN_RESPONSE="loginResponse",this.VAS_SORT_OPTION="vas_sort_option",this.CHALLAN_DESCRIPTION="challan_description",this.timeStampSub=new e.X(void 0),this.CENTERCODELS="centercodels",this.VISATYPE="visatype",this.TRAVELCATEGORY="puroseoftravelcategory",this.GROUPIDENTIFIER="groupidentifier",this.TIMESTAMP="timestamp",this.REMOVE_SIGNUP_LINK="remove_signup_link",this.PWD_EXPIRY_DATA="pwd_expiry_data",this.isLoggedIn=this.loggedInStatus.asObservable(),this.isTotalFeesSource=new e.X("0"),this.appSchemaSubscriber=new e.X(null),this.appSchema$=this.appSchemaSubscriber.asObservable(),this.APPLICATION_DETAILS="application_details",this.APPLICATION_DETAILS_CPY="applctn_dtls_cpy",this.APPLICATION_CONFIGURATION="application_configuration",this.APP_CENTER_CODE="app_center_code",this.APPLICATION_SERVICE="application_services",this.EDIT_APLCT_IDX="edt_aplct_idx",this.IS_ADD_WALK_IN_MODE="is_add_walk_in_mode",this.PYMNT_DTLS="pymnt_dtls",this.PYMNT_DATA="pymnt_data",this.ELIGBLTY_DTLS="eligblty_dtls",this.COURIER_DTLS="courier_dtls",this.TMI_DETAILS="tmi_details",this.TMI_CONTENTFUL_DETAILS="tmi_contentful_details",this.CALCULATED_CODE="calculated_from_code",this.VISA_SUB_CATEGORY="cur_app_visa_sub_category",this.SERVICE_TYPE="cur_app_servicetype",this.VISA_CATEGORY="curr_app_visa_type",this.MX_ALWD_DEPARTURE_DT="mx_alwd_dt_of_departure",this.LATEST_SLOT="lst_slot",this.CAPTCHA_MODE="captcha_mode",this.IS_OTP_ENABLE="is_otp_enable",this.IS_OTP_VERIFIED="otp_verified",this.PAYMENT_OPTION="pt_payment_opt",this.IS_GRN_ENABLED="is_grn_enabled",this.IS_APPLICANT_OTP_ENABLED="is_applicant_OTP_Enabled",this.IS_REGENERATE_OTP_DISABLED="is_regenerate_OTP_disabled",this.IS_TMI_OAB_ENABLE="is_tmi_oab",this.TMI_ADD_APPLICANT="tmi_add_applicant",this.TMI_ADDRESS="tmi_address",this.TMI_Insured_Person="tmi_insured",this.ODMV_DETAILS="odmv_dtls",this.COURIER_DETAILS="courier_dtls",this.IS_VAYD_ADDRESS_UPDATED="is_odmv_address_updated",this.IS_COURIER_ADDRESS_UPDATED="is_courier_address_updated",this.IS_COURIER_SERVICE_INTEGRATED="is_courier_service_integrated",this.ROUTE_HISTORY="route_history",this.IS_Handshake_Token_Flag="HS_Token_Flag",this.IS_OneTime_Handshake_Token_Flag="One_Time_HS_Token_Flag",this.WAITLIST_PAYMENT="is_waitlist_payment",this.PB_DOB_NTY="pb_dob_nty",this.PB_ADD_APPLICANT="pb_add_applicant",this.PB_ADDED_APPLICANT="pb_added_applicant",this.WAITLIST_APPLICANT="waitlist_applicant",this.PAYMENT_MODE="pay_mode_subvisa",this.VISAFEE_PAY_MODE="visafee_pay_mode",this.USAGSS_APPLICANT_DETAILS="usagss_applicant_details",this.USAGSS_CGI_DATA="usagss_cgi_data",this.USAGSS_PAYMENT_TYPE="usagss_payment__type",this.USAGSS_PAYMENT_MODE="usagss_payment__mode",this.USAGSS_PAYMENT_DETAILS="usagss_payment__details",this.USAGSS_PAYMENT_EXPIRYDATE="usagss_payment_expirydate",this.PV_REQUEST_REF="PV_Request_RefNumber",this.IS_CC_PAYNOW_MODE="is_CCPayNow_AptmntMode",this.GetTmiProductErrMsg="gettmiproducterrmsg",this.LAST_ACCESS_DETAILS="last_Access_details",this.USERDETAILS="USER_DETAILS",this.IS_REFERENCE_NUMBER_WITH_PASSPORT_ENABLED="is_reference_number_with_passport_enabled",this.dataToDeleteOnDashboardRoute=[this.EDIT_APLCT_IDX,this.PYMNT_DTLS,this.APPOINTMENT_DETAILS,this.ELIGBLTY_DTLS,this.COURIER_DTLS,this.CENTER_CODE,this.APPLICATION_SERVICE,this.CURR_APP_VAC,this.CURRENCY_CODE,this.CURR_APP_VISA_TYPE,this.CURR_APP_VISA_CAT,this.VISA_CATEGORY,this.VISA_SUB_CATEGORY,this.CMPLTD_MOD,this.SERVICE_TYPE,this.UPDATED_CART,this.CART_AMOUNT,this.TMI_VAS,this.TMI_VAS_ID,this.DOCUMENT_EXTRACTION,this.WAITLIST_JOURNEY,this.TMI_ENABLED,this.MFT_CONSENT_ENABLED,this.IS_MIGRIS_NUMBER_ENABLED,this.MFT_WORKPERMIT_ENABLED,this.MFT_REUNIFICATION_ENABLED,this.PAY_AT_BANK_SELECTED,this.SPLIT_PAY_ENABLED,this.TMI_VAS,this.WAITLIST_APTMNT_MODE,this.IS_OTP_ENABLE,this.IS_OTP_VERIFIED,this.PAYMENT_OPTION,this.TMI_Insured_Person,this.FF_SERVICE_FOR_APPLICANT,this.WAITLIST_PAYMENT,this.IS_APPLICANT_OTP_ENABLED,this.IS_REGENERATE_OTP_DISABLED,this.IS_VAYD_ADDRESS_UPDATED,this.IS_COURIER_ADDRESS_UPDATED,this.IS_COURIER_SERVICE_INTEGRATED,this.ROUTE_HISTORY,this.TMI_ADD_APPLICANT,this.PB_DOB_NTY,this.WAITLIST_APPLICANT,this.PAYMENT_MODE,this.IS_CC_PAYNOW_MODE,this.USAGSS_PAYMENT_EXPIRYDATE,this.LAST_ACCESS_DETAILS,this.IS_REFERENCE_NUMBER_WITH_PASSPORT_ENABLED,this.PV_REQUEST_REF,this.IS_Handshake_Token_Flag,this.TRAVELCATEGORY,this.CENTERCODELS,this.IS_OneTime_Handshake_Token_Flag,this.GROUPIDENTIFIER],this.dataToBeDeletedOnNewApplicantAdd=[this.MX_ALWD_DEPARTURE_DT,this.APPLICATION_STATUS,this.APPLICANT_APLHA_ID,this.APPLICANT_GRP_APLHA_ID,this.ROUTE_ID,this.CURR_APP_VISA_CAT,this.CURR_APP_VISA_TYPE,this.CURR_APP_VISA_TYPE,this.CENTER_CODE,this.SERVICE_FEE,this.SERVICE_TAX,this.VAC_FEE,this.ADDITIONAL_FEE,this.CURR_APP_VISA_TYPE,this.CENTER_CODE,this.APPOINTMENT_DETAILS,this.APPLICATION_DETAILS,this.TMI_DETAILS,this.MFT_WORKPERMIT_ENABLED,this.PYMNT_DATA,this.PYMNT_DTLS,this.APPLICATION_SERVICE,this.TRANSACTION_ID,this.UPDATED_CART,this.CART_AMOUNT,this.TMI_VAS_ID,this.TMI_VAS,this.DOCUMENT_EXTRACTION,this.MFT_REUNIFICATION_ENABLED,this.LATEST_SLOT,this.IS_OTP_ENABLE,this.PAYMENT_OPTION,this.FF_SERVICE_FOR_APPLICANT,this.PB_DOB_NTY,this.PV_REQUEST_REF,this.IS_Handshake_Token_Flag,this.TRAVELCATEGORY,this.CENTERCODELS,this.GROUPIDENTIFIER,this.IS_CC_PAYNOW_MODE],this.errors=new r.xQ,this.addErrors=V=>this.errors.next(V),this.getErrors=()=>this.errors.asObservable();const ae=this.loggedInStatus.value||sessionStorage.getItem(this.LOGIN_STATUS),ce=this.currentApplicantVisaCat;this.updateLoginStatus(ae),this.setCurrApplicantVisaCategory(ce);const te=sessionStorage.getItem("total_amount")||this.isTotalFeesSource.value,le=sessionStorage.getItem(this.CURRENCY_CODE)||null;this.updateTotalAmount(te,le)}getValue(u,J=!0){try{const ae=sessionStorage.getItem(u)||localStorage.getItem(u);if(ae&&"null"!==ae)return isNaN(ae)?ae:Number(ae);if(J)throw new Error(`${B.Sg.KEY_NOT_FOUND_IN_STORAGE}: ${u}`);return null}catch(ae){throw ae}}setStorageValue(u,J){localStorage.setItem(u,J)}getStorageValue(u){return localStorage.getItem(u)||null}get vaydDetails(){const u=sessionStorage.getItem(this.ODMV_DETAILS);return u?JSON.parse(u):void 0}set vaydDetails(u){sessionStorage.setItem(this.ODMV_DETAILS,u)}getSession(u){let J=sessionStorage.getItem(u);return JSON.parse(J||"")}saveToSession(u,J){try{const ae="object"==typeof J?JSON.stringify(J):J;sessionStorage.setItem(u,ae)}catch(ae){throw ae}}setIsAddWalkinMode(u){sessionStorage.setItem(this.IS_ADD_WALK_IN_MODE,String(u))}setIsVaydAddressUpdated(u){sessionStorage.setItem(this.IS_VAYD_ADDRESS_UPDATED,String(u))}get IsVaydAddressUpdated(){return"true"===sessionStorage.getItem(this.IS_VAYD_ADDRESS_UPDATED)}clearSession(){sessionStorage.clear()}setTitle(u){this.titleService.setTitle(u)}saveApplicationSchemaInBrowser(u){return(0,k.mG)(this,void 0,void 0,function*(){return sessionStorage.setItem(this.APP_SCHEMA,JSON.stringify(u)),this.appSchemaSubscriber.next(u),!0})}saveFullApplicationSchemaInBrowser(u){return(0,k.mG)(this,void 0,void 0,function*(){return sessionStorage.setItem(this.FULL_APP_SCHEMA,JSON.stringify(u)),!0})}getApplicationSchema(){const u=sessionStorage.getItem(this.APP_SCHEMA)||null;return u&&JSON.parse(u)}getFullApplicationSchema(){const u=sessionStorage.getItem(this.FULL_APP_SCHEMA)||null;return u&&JSON.parse(u)}getAllModulesSchema(){try{const u=sessionStorage.getItem(this.APP_SCHEMA)||null;return u&&JSON.parse(u).modules}catch(u){return[]}}updateLoginStatus(u){sessionStorage.setItem(this.LOGIN_STATUS,String(u)),this.loggedInStatus.next(u)}get loggedStatus(){return sessionStorage.getItem(this.loginStatus)}updateTotalAmount(u,J){J&&sessionStorage.setItem(this.CURRENCY_CODE,J),sessionStorage.setItem("total_amount",String(u)),this.isTotalFeesSource.next(u)}get totalAmount(){return sessionStorage.getItem("total_amount")}set latestSlotAvailiable(u){sessionStorage.setItem(this.LATEST_SLOT,u)}get latestSlotAvailiable(){return sessionStorage.getItem(this.LATEST_SLOT)||""}set captchaMode(u){sessionStorage.setItem(this.CAPTCHA_MODE,u)}get captchaMode(){return sessionStorage.getItem(this.CAPTCHA_MODE)||"v3"}set documentExtractionData(u){sessionStorage.setItem(this.DOCUMENT_EXTRACTION,JSON.stringify(u))}get documentExtractionData(){const u=sessionStorage.getItem(this.DOCUMENT_EXTRACTION);return u?JSON.parse(u):[]}set decimalConfiguration(u){sessionStorage.setItem(this.DECIMAL_ALLOWED,`1.${u}-${u}`)}get decimalConfiguration(){return sessionStorage.getItem(this.DECIMAL_ALLOWED)||""}set captchaConfiguration(u){(null==u?void 0:u.length)&&localStorage.setItem(this.CAPTHA_CONFIGURATION,JSON.stringify(u[0].fields.allowedRoute.allowedRoute))}get captchaConfiguration(){const u=localStorage.getItem(this.CAPTHA_CONFIGURATION);return u?JSON.parse(u):[]}set waitlistJourney(u){sessionStorage.setItem(this.WAITLIST_JOURNEY,JSON.stringify(u))}get waitlistJourney(){const u=sessionStorage.getItem(this.WAITLIST_JOURNEY)||"false";return Boolean(JSON.parse(u))}set tmiEnabled(u){sessionStorage.setItem(this.TMI_ENABLED,JSON.stringify(u))}get tmiEnabled(){const u=sessionStorage.getItem(this.TMI_ENABLED)||"false";return Boolean(JSON.parse(u))}set mftConsentEnabled(u){sessionStorage.setItem(this.MFT_CONSENT_ENABLED,JSON.stringify(u))}get mftConsentEnabled(){const u=sessionStorage.getItem(this.MFT_CONSENT_ENABLED)||"false";return Boolean(JSON.parse(u))}set isMIGRISNumberEnabled(u){sessionStorage.setItem(this.IS_MIGRIS_NUMBER_ENABLED,JSON.stringify(u))}get isMIGRISNumberEnabled(){const u=sessionStorage.getItem(this.IS_MIGRIS_NUMBER_ENABLED)||"false";return Boolean(JSON.parse(u))}set maltaWorkPermitNumberEnabled(u){sessionStorage.setItem(this.MFT_WORKPERMIT_ENABLED,JSON.stringify(u))}get maltaWorkPermitNumberEnabled(){const u=sessionStorage.getItem(this.MFT_WORKPERMIT_ENABLED)||"false";return Boolean(JSON.parse(u))}set isMaltaFamilyReunificationEnabled(u){sessionStorage.setItem(this.MFT_REUNIFICATION_ENABLED,JSON.stringify(u))}get isMaltaFamilyReunificationEnabled(){const u=sessionStorage.getItem(this.MFT_REUNIFICATION_ENABLED)||"false";return Boolean(JSON.parse(u))}set documentUploadEnabled(u){sessionStorage.setItem(this.DOCUMENT_UPLOAD_ENABLED,JSON.stringify(u))}get documentUploadEnabled(){const u=sessionStorage.getItem(this.DOCUMENT_UPLOAD_ENABLED)||"false";return Boolean(JSON.parse(u))}set isPayAtBankSelected(u){sessionStorage.setItem(this.PAY_AT_BANK_SELECTED,JSON.stringify(u))}get isPayAtBankSelected(){const u=sessionStorage.getItem(this.PAY_AT_BANK_SELECTED)||"false";return Boolean(JSON.parse(u))}set splitEnabled(u){sessionStorage.setItem(this.SPLIT_PAY_ENABLED,JSON.stringify(u))}get splitEnabled(){const u=sessionStorage.getItem(this.SPLIT_PAY_ENABLED)||"false";return Boolean(JSON.parse(u))}clearDocumentExtration(){sessionStorage.removeItem(this.DOCUMENT_EXTRACTION)}updateJwt(u){sessionStorage.setItem(this.JWT,u.accessToken)}updateJwtFF(u){sessionStorage.setItem(this.JWT,u)}updateLoggedEmail(u){sessionStorage.setItem(this.EMAIL,u)}getJWT(){return sessionStorage.getItem(this.JWT)}getLoggedEmail(){return sessionStorage.getItem(this.EMAIL)}get loginStatus(){return this.loggedInStatus.value}get containsAppSchema(){return!!this.getApplicationSchema()}setCurrApplicantVisaCategory(u){sessionStorage.setItem(this.CURR_APP_VISA_CAT,String(u))}setCurrApplicantVisaType(u){sessionStorage.setItem(this.CURR_APP_VISA_TYPE,String(u))}get currentApplicantVisaCat(){return sessionStorage.getItem(this.CURR_APP_VISA_CAT)}get currentApplicantVisaType(){return sessionStorage.getItem(this.CURR_APP_VISA_TYPE)}updateTokenOnRegistration(u){sessionStorage.setItem(this.REGISTERED_USER_TOKEN,u)}set appMissionLanguage(u){localStorage.setItem(this.APP_MISSION_LANGUAGE,JSON.stringify(u))}get appMissionLanguage(){const u=localStorage.getItem(this.APP_MISSION_LANGUAGE);if(u)return JSON.parse(u)}set clientIpAddress(u){sessionStorage.setItem(this.IP_ADDRESS,u)}get clientIpAddress(){return sessionStorage.getItem(this.IP_ADDRESS)}set updatedCartAmount(u){sessionStorage.setItem(this.UPDATED_CART,u)}get updatedCartAmount(){return sessionStorage.getItem(this.UPDATED_CART)}set tmiVasID(u){sessionStorage.setItem(this.TMI_VAS_ID,u)}get tmiVasID(){return sessionStorage.getItem(this.TMI_VAS_ID)}clearMissionlanguage(){localStorage.removeItem(this.APP_MISSION_LANGUAGE)}set appLanguageCode(u){u&&localStorage.setItem(this.APP_LANGUAGE_CODE,u)}get appLanguageCode(){return localStorage.getItem(this.APP_LANGUAGE_CODE)||void 0}set activateMessage(u){u&&sessionStorage.setItem(this.ACTIVATE_MESSAGE,u)}get activateMessage(){return sessionStorage.getItem(this.ACTIVATE_MESSAGE)||""}get servicefees(){return sessionStorage.getItem(this.SERVICE_FEE)||"0"}set servicefees(u){sessionStorage.setItem(this.SERVICE_FEE,u)}get vacFees(){const u=sessionStorage.getItem(this.VAC_FEE);return u?JSON.parse(u):[]}set vacFees(u){sessionStorage.setItem(this.VAC_FEE,JSON.stringify(u))}get additionalFees(){const u=sessionStorage.getItem(this.ADDITIONAL_FEE);return u?JSON.parse(u):[]}set additionalFees(u){sessionStorage.setItem(this.ADDITIONAL_FEE,JSON.stringify(u))}get serviceTax(){return sessionStorage.getItem(this.SERVICE_TAX)||"0"}set serviceTax(u){sessionStorage.setItem(this.SERVICE_TAX,u)}clearActivateMessage(){sessionStorage.removeItem(this.ACTIVATE_MESSAGE)}set appCultureCode(u){localStorage.setItem(this.APP_CULTURE_CODE,u)}get appCultureCode(){return localStorage.getItem(this.APP_CULTURE_CODE)||v.N.defaultCultureCode}set tenent(u){localStorage.setItem(this.TENENT,u)}get tenent(){return localStorage.getItem(this.TENENT)||null}set transactionId(u){sessionStorage.setItem(this.TRANSACTION_ID,u)}get transactionId(){return sessionStorage.getItem(this.TRANSACTION_ID)||null}set countryCode(u){localStorage.setItem(this.COUNTRYCODE,u)}get countryCode(){return localStorage.getItem(this.COUNTRYCODE)||null}set documentIdentifierId(u){sessionStorage.setItem(this.DOCUMENT_IDENTIFIER,u)}get documentIdentifierId(){return sessionStorage.getItem(this.DOCUMENT_IDENTIFIER)||null}set jwtToken(u){localStorage.setItem(this.JWT_TOKEN,u)}get jwtToken(){return localStorage.getItem(this.JWT_TOKEN)||null}set ffApplicantDetails(u){localStorage.setItem(this.FF_APPLICANT_DETAILS,JSON.stringify(u))}get ffApplicantDetails(){return localStorage.getItem(this.FF_APPLICANT_DETAILS)||null}set ffPaymentDetails(u){localStorage.setItem(this.FF_PAYMENT_DETAILS,JSON.stringify(u))}get ffPaymentDetails(){const u=localStorage.getItem(this.FF_PAYMENT_DETAILS);return u?JSON.parse(u):null}set centerCodeLs(u){localStorage.setItem(this.CENTERCODELS,u)}get centerCodeLs(){return localStorage.getItem(this.CENTERCODELS)||null}set visaType(u){localStorage.setItem(this.VISATYPE,u)}get visaType(){return localStorage.getItem(this.VISATYPE)||null}set travelCategory(u){localStorage.setItem(this.TRAVELCATEGORY,u)}get travelCategory(){return localStorage.getItem(this.TRAVELCATEGORY)||null}set bhsGroupIdentifier(u){localStorage.setItem(this.GROUPIDENTIFIER,u)}get bhsGroupIdentifier(){return localStorage.getItem(this.GROUPIDENTIFIER)||null}set bhsUserDetails(u){localStorage.setItem(this.USERDETAILS,u)}get bhsUserDetails(){return localStorage.getItem(this.USERDETAILS)||null}getUserToken(){return sessionStorage.getItem("user_token")}setRouteId(u){sessionStorage.setItem(this.ROUTE_ID,String(u))}get routeId(){const u=sessionStorage.getItem(this.ROUTE_ID)||null;return u?Number(u):null}setApplicantAplhaId(u){sessionStorage.setItem(this.APPLICANT_APLHA_ID,u)}get applicantAplhaId(){return sessionStorage.getItem(this.APPLICANT_APLHA_ID)||null}setApplicantGroupAplhaId(u){sessionStorage.setItem(this.APPLICANT_GRP_APLHA_ID,u)}get applicantGroupAplhaId(){return sessionStorage.getItem(this.APPLICANT_GRP_APLHA_ID)||null}set setCurrencyCode(u){sessionStorage.setItem(this.CURRENCY_CODE,u)}get currencyCode(){return sessionStorage.getItem(this.CURRENCY_CODE)}set loggedInUsingEmail(u){sessionStorage.setItem(this.LOGGED_IN_USING_EMAIL,String(u))}get loggedInUsingEmail(){const u=sessionStorage.getItem("logged_in_using_email");return!!u&&JSON.parse(u)}get applicationStatus(){return sessionStorage.getItem(this.APPLICATION_STATUS||"")}set applicationStatus(u){sessionStorage.setItem(this.APPLICATION_STATUS,u)}clearApplicationDetails(){sessionStorage.removeItem(this.APPLICATION_DETAILS)}cleartmiDetails(){sessionStorage.removeItem(this.TMI_DETAILS)}set routeHistory(u){sessionStorage.setItem(this.ROUTE_HISTORY,JSON.stringify(u))}get routeHistory(){const u=sessionStorage.getItem(this.ROUTE_HISTORY);return u?JSON.parse(u):[]}get tmiDetails(){try{const u=sessionStorage.getItem(this.TMI_DETAILS);if(u)return JSON.parse(u)}catch(u){throw new Error(u)}}set tmiDetails(u){sessionStorage.setItem(this.TMI_DETAILS,JSON.stringify(u))}get tmiContentfulDetails(){try{const u=sessionStorage.getItem(this.TMI_CONTENTFUL_DETAILS);if(u)return JSON.parse(u)}catch(u){throw new Error(u)}}set tmiContentfulDetails(u){sessionStorage.setItem(this.TMI_CONTENTFUL_DETAILS,JSON.stringify(u))}get applicationDetailValue(){try{const u=sessionStorage.getItem(this.APPLICATION_DETAILS);if(u)return JSON.parse(u)}catch(u){throw new Error(u)}}set applicationDetailValue(u){sessionStorage.setItem(this.APPLICATION_DETAILS,JSON.stringify(u))}get applicationDetailCopy(){try{const u=sessionStorage.getItem(this.APPLICATION_DETAILS_CPY);if(u)return JSON.parse(u)}catch(u){throw new Error(u)}}set applicationDetailCopy(u){sessionStorage.setItem(this.APPLICATION_DETAILS_CPY,JSON.stringify(u))}clearAppConfiguration(){sessionStorage.removeItem(this.APPLICATION_CONFIGURATION)}get applicationConfiguration(){try{const u=sessionStorage.getItem(this.APPLICATION_CONFIGURATION);if(u)return JSON.parse(u)}catch(u){throw new Error(u)}}set applicationConfiguration(u){sessionStorage.setItem(this.APPLICATION_CONFIGURATION,JSON.stringify(u))}clearappCenterCode(){sessionStorage.removeItem(this.APP_CENTER_CODE)}get appCenterCode(){try{const u=sessionStorage.getItem(this.APP_CENTER_CODE);if(u)return JSON.parse(u)}catch(u){throw new Error(u)}}set appCenterCode(u){sessionStorage.setItem(this.APP_CENTER_CODE,JSON.stringify(u))}saveAppointmentDetails(u){sessionStorage.setItem(this.APPOINTMENT_DETAILS,JSON.stringify(u))}setIsCourierAddressUpdated(u){sessionStorage.setItem(this.IS_COURIER_ADDRESS_UPDATED,String(u))}get IsCourierAddressUpdated(){return"true"===sessionStorage.getItem(this.IS_COURIER_ADDRESS_UPDATED)}getAppointmentDetails(){const u=sessionStorage.getItem(this.APPOINTMENT_DETAILS);return u?JSON.parse(u):void 0}clearAppointmentDetail(){sessionStorage.removeItem(this.APPOINTMENT_DETAILS)}get isCourierIntegratedVasPurchased(){return"true"===sessionStorage.getItem(this.IS_COURIER_SERVICE_INTEGRATED)}setIsCourierIntegratedVasPurchased(u){sessionStorage.setItem(this.IS_COURIER_SERVICE_INTEGRATED,String(u))}get applicantService(){try{const u=sessionStorage.getItem(this.APPLICATION_SERVICE);return u?JSON.parse(u):[]}catch(u){throw new Error(u)}}set applicantService(u){sessionStorage.setItem(this.APPLICATION_SERVICE,JSON.stringify(u))}set centerCode(u){sessionStorage.setItem(this.CENTER_CODE,u)}get centerCode(){return sessionStorage.getItem(this.CENTER_CODE)}set urn(u){sessionStorage.setItem(this.URN_NO,u)}get urn(){return sessionStorage.getItem(this.URN_NO)}set editApplicantDetailsIdx(u){sessionStorage.setItem(this.EDIT_APLCT_IDX,String(u))}get editApplicantDetailsIdx(){const u=sessionStorage.getItem(this.EDIT_APLCT_IDX);return u?Number(u):null}clearEditApplicationIdx(){sessionStorage.removeItem(this.EDIT_APLCT_IDX)}set paymentDetails(u){sessionStorage.setItem(this.PYMNT_DTLS,JSON.stringify(u))}get paymentDetails(){const u=sessionStorage.getItem(this.PYMNT_DTLS);return u?JSON.parse(u):null}set paymentData(u){sessionStorage.setItem(this.PYMNT_DATA,JSON.stringify(u))}get paymentData(){const u=sessionStorage.getItem(this.PYMNT_DATA);return u?JSON.parse(u):null}set completedModuleName(u){sessionStorage.setItem(this.CMPLTD_MOD,u)}get completedModuleName(){return sessionStorage.getItem(this.CMPLTD_MOD)}get eligibilityDetails(){const u=sessionStorage.getItem(this.ELIGBLTY_DTLS);if(u)return JSON.parse(u)}set eligibilityDetails(u){sessionStorage.setItem(this.ELIGBLTY_DTLS,JSON.stringify(u))}get courierDetails(){const u=sessionStorage.getItem(this.COURIER_DTLS);if(u)return JSON.parse(u)}set courierDetails(u){sessionStorage.setItem(this.COURIER_DTLS,JSON.stringify(u))}get calculatedCodeData(){const u=sessionStorage.getItem(this.CALCULATED_CODE);if(u)return JSON.parse(u)}set calculatedCodeData(u){sessionStorage.setItem(this.CALCULATED_CODE,JSON.stringify(u))}clearCalulatedData(){sessionStorage.removeItem(this.CALCULATED_CODE)}set tempAppSchema(u){sessionStorage.setItem(this.TEMP_APP_SCHEMA,JSON.stringify(u))}get tempAppSchema(){const u=sessionStorage.getItem(this.TEMP_APP_SCHEMA);if(u)return JSON.parse(u)}set isVLNRequired(u){sessionStorage.setItem(this.IS_VLN_ENABLED,String(u))}get isVLNRequired(){return"true"===sessionStorage.getItem(this.IS_VLN_ENABLED)}setIsVFSLogoDisabled(u){localStorage.setItem(this.DISABLE_VFS_LOGO,String(u))}get isVFSLogoDisabled(){return"true"===localStorage.getItem(this.DISABLE_VFS_LOGO)}setIsRescheduleAptmntMode(u){sessionStorage.setItem(this.RESHDL_APTMNT_MODE,String(u))}get isRescheduleAptmntMode(){return"true"===sessionStorage.getItem(this.RESHDL_APTMNT_MODE)}set vlnNumberFormat(u){sessionStorage.setItem(this.VLN_FORMAT,u)}get vlnNumberFormat(){return sessionStorage.getItem(this.VLN_FORMAT)}setIsWaitlistScheduleMode(u){sessionStorage.setItem(this.WAITLIST_APTMNT_MODE,String(u))}get iswaitlistScheduleMode(){return"true"===sessionStorage.getItem(this.WAITLIST_APTMNT_MODE)}set visaSubCategory(u){sessionStorage.setItem(this.VISA_SUB_CATEGORY,u)}get visaSubCategory(){return sessionStorage.getItem(this.VISA_SUB_CATEGORY)}set serviceTypeCode(u){sessionStorage.setItem(this.SERVICE_TYPE,u)}get serviceTypeCode(){return sessionStorage.getItem(this.SERVICE_TYPE)}set regex(u){sessionStorage.setItem(this.VLN_REGEX,u)}get regex(){return sessionStorage.getItem(this.VLN_REGEX)}set visaCategory(u){sessionStorage.setItem(this.VISA_CATEGORY,u)}get visaCategory(){return sessionStorage.getItem(this.VISA_CATEGORY)}setMaxAlwdDepartureDate(u){sessionStorage.setItem(this.MX_ALWD_DEPARTURE_DT,JSON.stringify(u))}getMaxAlwdDepartureDate(){const u=sessionStorage.getItem(this.MX_ALWD_DEPARTURE_DT);if(u)return JSON.parse(u)}clearSessionOnDashboardRoute(){try{for(const u of this.dataToDeleteOnDashboardRoute)sessionStorage.removeItem(u)}catch(u){console.log(u)}}set isSchemaUpdated(u){sessionStorage.setItem(this.SCHEMA_UPDATED,String(u))}get isSchemaUpdated(){return"true"===sessionStorage.getItem(this.SCHEMA_UPDATED)}get updateFees(){return"true"===sessionStorage.getItem(this.UPDATE_FEES)}set tmiProductView(u){sessionStorage.setItem(this.TMI_PRODUCT_VIEW,String(u))}get tmiProductView(){return"true"===sessionStorage.getItem(this.TMI_PRODUCT_VIEW)}set optOutTmi(u){sessionStorage.setItem(this.OPTED_OUT_TMI,String(u))}get optOutTmi(){return"true"===sessionStorage.getItem(this.OPTED_OUT_TMI)}set isTmiProductsAvailable(u){sessionStorage.setItem(this.TMI_PRODUCTS_AVAILABLE,String(u))}get isTmiProductsAvailable(){return"true"===sessionStorage.getItem(this.TMI_PRODUCTS_AVAILABLE)}set tmiProductConsent(u){sessionStorage.setItem(this.TMI_PRODUCT_CONSENT,String(u))}get tmiProductConsent(){return"true"===sessionStorage.getItem(this.TMI_PRODUCT_CONSENT)}set tmiVas(u){sessionStorage.setItem(this.TMI_VAS,JSON.stringify(u))}get tmiVas(){const u=sessionStorage.getItem(this.TMI_VAS);return u?JSON.parse(u):null}set resourceGroupData(u){localStorage.setItem(this.RESOURCE_GROUP_DATA,JSON.stringify(u))}get resourceGroupData(){const u=localStorage.getItem(this.RESOURCE_GROUP_DATA);return u?JSON.parse(u):null}set resourceGroupDataTemp(u){sessionStorage.setItem(this.RESOURCE_GROUP_DATA_TEMP,JSON.stringify(u))}get resourceGroupDataTemp(){const u=sessionStorage.getItem(this.RESOURCE_GROUP_DATA_TEMP);return u?JSON.parse(u):null}set updateFees(u){sessionStorage.setItem(this.UPDATE_FEES,String(u))}set feeAmount(u){sessionStorage.setItem(this.CART_AMOUNT,String(u))}get feeAmount(){const u=sessionStorage.getItem(this.CART_AMOUNT);return null!==u?Number(u).toFixed(2):null}clearFeeAmount(){sessionStorage.removeItem(this.CART_AMOUNT)}get onlineFeePaymentModeOpted(){const u=sessionStorage.getItem(this.SERVICE_FEE_MODE_CHKBX_STATUS);return"true"===u||"false"!==u&&null}set onlineFeePaymentModeOpted(u){sessionStorage.setItem(this.SERVICE_FEE_MODE_CHKBX_STATUS,String(u))}deleteOldApplicantDetails(){try{for(const u of this.dataToBeDeletedOnNewApplicantAdd)sessionStorage.removeItem(u)}catch(u){console.log(u)}}set IsOTPEnable(u){sessionStorage.setItem(this.IS_OTP_ENABLE,String(u))}get IsOTPEnable(){return"true"===sessionStorage.getItem(this.IS_OTP_ENABLE)}set otpVerified(u){sessionStorage.setItem(this.IS_OTP_VERIFIED,String(u))}get otpVerified(){return"true"===sessionStorage.getItem(this.IS_OTP_VERIFIED)}set ptFlowPaymentOption(u){sessionStorage.setItem(this.PAYMENT_OPTION,String(u))}get ptFlowPaymentOption(){return"true"===sessionStorage.getItem(this.PAYMENT_OPTION)}set isTmiOabEnable(u){sessionStorage.setItem(this.IS_TMI_OAB_ENABLE,String(u))}get isTmiOabEnable(){return"true"===sessionStorage.getItem(this.IS_TMI_OAB_ENABLE)}set handShakeTokenFlag(u){sessionStorage.setItem(this.IS_Handshake_Token_Flag,String(u))}get handShakeTokenFlag(){return"true"===sessionStorage.getItem(this.IS_Handshake_Token_Flag)}set oneTimehandShakeTokenFlag(u){sessionStorage.setItem(this.IS_OneTime_Handshake_Token_Flag,String(u))}get oneTimehandShakeTokenFlag(){return"true"===sessionStorage.getItem(this.IS_OneTime_Handshake_Token_Flag)}set isTmiOabAddApplicant(u){sessionStorage.setItem(this.TMI_ADD_APPLICANT,String(u))}get isTmiOabAddApplicant(){return"true"===sessionStorage.getItem(this.TMI_ADD_APPLICANT)}set tmiOabAddress(u){sessionStorage.setItem(this.TMI_ADDRESS,JSON.stringify(u))}get tmiOabAddress(){try{const u=sessionStorage.getItem(this.TMI_ADDRESS);if(u)return JSON.parse(u)}catch(u){throw new Error(u)}}set getTmiProductErrResponse(u){sessionStorage.setItem(this.GetTmiProductErrMsg,JSON.stringify(u))}get getTmiProductErrResponse(){try{const u=sessionStorage.getItem(this.GetTmiProductErrMsg);if(u)return JSON.parse(u)}catch(u){throw new Error(u)}}set tmiInsuredPerson(u){sessionStorage.setItem(this.TMI_Insured_Person,JSON.stringify(u))}get tmiInsuredPerson(){try{const u=sessionStorage.getItem(this.TMI_Insured_Person);if(u)return JSON.parse(u)}catch(u){throw new Error(u)}}getTimestampFromSession(){return sessionStorage.getItem(this.TIMESTAMP)||void 0}set isGRNEnabled(u){sessionStorage.setItem(this.IS_GRN_ENABLED,String(u))}get isGRNEnabled(){return"true"===sessionStorage.getItem(this.IS_GRN_ENABLED)}set isApplicantOTPEnabled(u){sessionStorage.setItem(this.IS_APPLICANT_OTP_ENABLED,String(u))}get isApplicantOTPEnabled(){return"true"===sessionStorage.getItem(this.IS_APPLICANT_OTP_ENABLED)}set isReGenerateOTPDisabled(u){sessionStorage.setItem(this.IS_REGENERATE_OTP_DISABLED,String(u))}get isReGenerateOTPDisabled(){return"true"===sessionStorage.getItem(this.IS_REGENERATE_OTP_DISABLED)}get isAddExtraServiceMode(){return"true"===sessionStorage.getItem(this.IS_ADD_EXTRA_SERVICE_MODE)}setIsAddExtraServiceMode(u){sessionStorage.setItem(this.IS_ADD_EXTRA_SERVICE_MODE,String(u))}get isAppointmentUpdated(){return"true"===sessionStorage.getItem(this.IS_APPOINTMENT_UPDATED)}setIsAppointmentUpdated(u){sessionStorage.setItem(this.IS_APPOINTMENT_UPDATED,String(u))}set requestReferenceNumber(u){localStorage.setItem(this.REQ_REF_NUM,JSON.stringify(u))}get requestReferenceNumber(){const u=localStorage.getItem(this.REQ_REF_NUM);return u?Number(u):void 0}get detailsFromToken(){const u=sessionStorage.getItem(this.USER_DETAILS);return u?JSON.parse(u):void 0}set detailsFromToken(u){u&&(sessionStorage.setItem(this.USER_DETAILS,JSON.stringify(u)),this.loggedInUserDetails.next(u))}set applicationType(u){sessionStorage.setItem(this.APP_TYPE,u||"")}get applicationType(){const u=sessionStorage.getItem(this.APP_TYPE);return u?String(u):void 0}get VAYDAddressUpdated(){return"true"===sessionStorage.getItem(this.IS_VAYD_ADDRESS_UPDATED)}set ffServiceForApplicant(u){localStorage.setItem(this.TMI_VAS,JSON.stringify(u))}get ffServiceForApplicant(){const u=localStorage.getItem(this.TMI_VAS);return u?JSON.parse(u):null}set isWaitlistPayment(u){sessionStorage.setItem(this.WAITLIST_PAYMENT,String(u))}get isWaitlistPayment(){return"True"===sessionStorage.getItem(this.WAITLIST_PAYMENT)}set userContactDetails(u){localStorage.setItem(this.USER_MOBILE,JSON.stringify(u))}get userContactDetails(){const u=localStorage.getItem(this.USER_MOBILE);return u?JSON.parse(u):null}set polBel(u){sessionStorage.setItem(this.PB_DOB_NTY,JSON.stringify(u))}get polBel(){try{const u=sessionStorage.getItem(this.PB_DOB_NTY);if(u)return JSON.parse(u)}catch(u){throw new Error(u)}}set addApplicantPB(u){sessionStorage.setItem(this.PB_ADD_APPLICANT,String(u))}get addApplicantPB(){return"true"===sessionStorage.getItem(this.PB_ADD_APPLICANT)}set addedApplicantPB(u){sessionStorage.setItem(this.PB_ADDED_APPLICANT,String(u))}get addedApplicantPB(){return"true"===sessionStorage.getItem(this.PB_ADDED_APPLICANT)}set loginResponse(u){sessionStorage.setItem(this.LOGIN_RESPONSE,JSON.stringify(u))}get loginResponse(){const u=sessionStorage.getItem(this.LOGIN_RESPONSE);return u?JSON.parse(u):null}set isWaitlistApplicant(u){sessionStorage.setItem(this.WAITLIST_APPLICANT,String(u))}get isWaitlistApplicant(){return sessionStorage.getItem(this.WAITLIST_APPLICANT)}set paymentModeinSubvisaCategory(u){sessionStorage.setItem(this.PAYMENT_MODE,JSON.stringify(u))}get paymentModeinSubvisaCategory(){const u=sessionStorage.getItem(this.PAYMENT_MODE);return u?JSON.parse(u):u||""}set visafeePaymentMode(u){sessionStorage.setItem(this.VISAFEE_PAY_MODE,JSON.stringify(u))}get visafeePaymentMode(){const u=sessionStorage.getItem(this.VISAFEE_PAY_MODE);return u?JSON.parse(u):null}set saveUsagssApplicantDetails(u){sessionStorage.setItem(this.USAGSS_APPLICANT_DETAILS,JSON.stringify(u))}get usagssApplicantDetails(){const u=sessionStorage.getItem(this.USAGSS_APPLICANT_DETAILS);return u?JSON.parse(u):null}set saveUsagssCgiData(u){sessionStorage.setItem(this.USAGSS_CGI_DATA,JSON.stringify(u))}get usagssCgiData(){const u=sessionStorage.getItem(this.USAGSS_CGI_DATA);return u?JSON.parse(u):null}set paymentProcessType(u){sessionStorage.setItem(this.USAGSS_PAYMENT_TYPE,JSON.stringify(u))}get paymentProcessType(){const u=sessionStorage.getItem(this.USAGSS_PAYMENT_TYPE);return u?JSON.parse(u):null}set paymentMode(u){sessionStorage.setItem(this.USAGSS_PAYMENT_MODE,JSON.stringify(u))}get paymentMode(){const u=sessionStorage.getItem(this.USAGSS_PAYMENT_MODE);return u?JSON.parse(u):null}set paymentExpiryDate(u){sessionStorage.setItem(this.USAGSS_PAYMENT_EXPIRYDATE,JSON.stringify(u))}get paymentExpiryDate(){const u=sessionStorage.getItem(this.USAGSS_PAYMENT_EXPIRYDATE);return u?JSON.parse(u):null}set usagssPaymentDetails(u){sessionStorage.setItem(this.USAGSS_PAYMENT_DETAILS,JSON.stringify(u))}get usagssPaymentDetails(){const u=sessionStorage.getItem(this.USAGSS_PAYMENT_DETAILS);return u?JSON.parse(u):null}set usagssChalanDescription(u){sessionStorage.setItem(this.CHALLAN_DESCRIPTION,JSON.stringify(u))}isGetChalanDescription(){const u=sessionStorage.getItem(this.CHALLAN_DESCRIPTION)||null;return u&&JSON.parse(u)}setLoginTimestamp(u){localStorage.setItem(this.TIMESTAMP,u),sessionStorage.setItem(this.TIMESTAMP,u),this.timeStampSub.next(u)}set PVRequestRefNumber(u){sessionStorage.setItem(this.PV_REQUEST_REF,JSON.stringify(u))}get isCCPayNowAptmntMode(){return"true"===sessionStorage.getItem(this.IS_CC_PAYNOW_MODE)}setIsCCPayNowAptmntMode(u){sessionStorage.setItem(this.IS_CC_PAYNOW_MODE,String(u))}set isHmpoJourney(u){sessionStorage.setItem(this.IS_HMPO_JOURNEY,JSON.stringify(u))}get isHmpoJourney(){const u=sessionStorage.getItem(this.IS_HMPO_JOURNEY)||"false";return Boolean(JSON.parse(u))}get PVRequestRefNumber(){const u=sessionStorage.getItem(this.PV_REQUEST_REF);return u?JSON.parse(u):null}set vasSortOptionValue(u){sessionStorage.setItem(this.VAS_SORT_OPTION,String(u))}get vasSortOptionValue(){return sessionStorage.getItem(this.VAS_SORT_OPTION)||"relevance"}set lastAccessdetails(u){sessionStorage.setItem(this.LAST_ACCESS_DETAILS,JSON.stringify(u))}get lastAccessdetails(){const u=sessionStorage.getItem(this.LAST_ACCESS_DETAILS);return u?JSON.parse(u):null}set isReferenceNumberWithPassportEnabled(u){sessionStorage.setItem(this.IS_REFERENCE_NUMBER_WITH_PASSPORT_ENABLED,JSON.stringify(u))}get isReferenceNumberWithPassportEnabled(){const u=sessionStorage.getItem(this.IS_REFERENCE_NUMBER_WITH_PASSPORT_ENABLED);return u?JSON.parse(u):null}setSignupLinkDisabled(u){localStorage.setItem(this.REMOVE_SIGNUP_LINK,String(u))}get isSignupLinkDisabled(){return"true"===localStorage.getItem(this.REMOVE_SIGNUP_LINK)}set pwdExpiryData(u){localStorage.setItem(this.PWD_EXPIRY_DATA,JSON.stringify(u))}get pwdExpiryData(){const u=localStorage.getItem(this.PWD_EXPIRY_DATA);return u?JSON.parse(u):null}}return D.\u0275fac=function(u){return new(u||D)(p.LFG(a.Dx),p.LFG(X.Kf))},D.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},3172:(Se,fe,A)=>{"use strict";A.d(fe,{k:()=>p});var k=A(2340),e=A(8341),r=A(5e3),B=A(1377),v=A(2466);let p=(()=>{class a{constructor(w,D,q,u){this.dialog=w,this.data=D,this.dialogRef=q,this.changeRef=u}ngOnInit(){}closeBtn(){this.dialogRef.close()}get getGlobalImagePath(){return k.N.externalPath+"/assets/images/global"}}return a.\u0275fac=function(w){return new(w||a)(r.Y36(e.uw),r.Y36(e.WI),r.Y36(e.so),r.Y36(r.sBO))},a.\u0275cmp=r.Xpm({type:a,selectors:[["app-session-termination"]],decls:17,vars:10,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-10"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(w,D){1&w&&(r.TgZ(0,"div",0)(1,"div",1)(2,"button",2),r.NdJ("click",function(){return D.closeBtn()}),r._UZ(3,"img",3),r.qZA()(),r.TgZ(4,"h4",4),r._UZ(5,"i",5),r._uU(6),r.ALo(7,"translate"),r.qZA(),r._UZ(8,"hr",6),r.TgZ(9,"p",7),r._uU(10),r.ALo(11,"translate"),r.qZA(),r.TgZ(12,"div",8)(13,"div",9)(14,"button",10),r.NdJ("click",function(){return D.closeBtn()}),r._uU(15),r.ALo(16,"translate"),r.qZA()()()()),2&w&&(r.xp6(3),r.MGl("src","",D.getGlobalImagePath,"/close-btn.png",r.LSH),r.xp6(3),r.hij(" ",r.lcZ(7,4,"commonSections.headerLabel.label3")," "),r.xp6(4),r.Oqu(D.data?D.data:r.lcZ(11,6,"commonSections.messages.errorMessages.message23")),r.xp6(5),r.hij(" ",r.lcZ(16,8,"commonSections.buttons.button24")," "))},directives:[B.lW],pipes:[v.X$],encapsulation:2}),a})()},6789:(Se,fe,A)=>{"use strict";A.d(fe,{z:()=>e});var k=A(5e3);let e=(()=>{class r{static setInjector(v){r.injector=v}static getInjector(){return r.injector}}return r.\u0275fac=function(v){return new(v||r)},r.\u0275prov=k.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},974:(Se,fe,A)=>{"use strict";A.d(fe,{O:()=>a});var k=A(520),e=A(2340),r=A(4219),B=A(5e3),v=A(6106);const p=e.N.apiEndPoint;let a=(()=>{class X{constructor(D,q){this.http=D,this.sessionService=q}doGet(D,q){return q?this.http.get(p+D,{params:q}):this.http.get(p+D)}slashParamsDoGet(D,q,u){let J=D;return q&&(J=D+"/"+Object.values(q).reduce((te,le)=>te+"/"+le)),J+=u||"",J.includes("center")&&"CC"==this.sessionService.loginResponse&&(J+="?loginUser="+this.sessionService.getLoggedEmail()),this.http.get(p+J)}getLamdaData(D,q){const u={headers:(new k.WM).set("Authorization",this.sessionService.getJWT()||"").set("Content-Type","application/json;charset=utf-8")},J=q?this.convertParam("get",q):"";return this.http.get(p+D+J,u)}externalGet(D){return this.http.get(D)}convertParam(D="post",q,u){return"post"===D?q:0===Object.keys(q).length?"":"param"===u?"string"==typeof q?"/"+q:Object.keys(q).map(J=>"/"+encodeURIComponent(q[J])).join(""):"string"==typeof q?"?"+q:"?"+Object.keys(q).map(J=>encodeURIComponent(J)+"="+encodeURIComponent(q[J])).join("&")}doPost(D,q,u){let J=new k.LE;Object.keys(q).forEach(te=>{J=J.set(te,q[te])});const ae=u?e.N.apiEndPoint2:p,ce={headers:(new k.WM).set("Content-Type","application/x-www-form-urlencoded")};return this.http.post(ae+D,J,ce)}doPostLogin(D,q,u){let J=new k.LE;Object.keys(q).forEach(te=>{J=J.set(te,q[te])});const ae=p,ce={headers:(new k.WM).set("Content-Type","application/x-www-form-urlencoded").set("clientSource",u)};return this.http.post(ae+D,J,ce)}doOTPPost(D,q){const u=this.sessionService.getJWT()||"",J={headers:(new k.WM).set("authorize",u).set("Content-Type","application/json;charset=utf-8").set("datacenter","GERMANY")};return this.http.post(p+D,q,J)}doOABLogin(D,q){const u={headers:(new k.WM).set("Content-Type","application/json;charset=utf-8").set("datacenter","TMIOAB")};return this.http.post(p+D,q,u)}doOABPost(D,q){const u=this.sessionService.getJWT()||"",J={headers:(new k.WM).set("authorize",u).set("Content-Type","application/json;charset=utf-8").set("datacenter","TMIOAB")};return this.http.post(p+D,q,J)}doPut(D,q){return this.http.put(D,q)}payloadPost(D,q,u){const J=this.sessionService.getJWT()||"",ae={headers:(new k.WM).set("authorize",J).set("Content-Type","application/json;charset=utf-8")};return this.http.post((u?e.N.apiEndPoint2:p)+D,q,ae)}basicPayload(D,q,u){const J={headers:(new k.WM).set("Content-Type","application/json;charset=utf-8")};return this.http.post((u?e.N.apiEndPoint2:p)+D,q,J)}payloadWithoutTokenPost(D,q){const u={headers:(new k.WM).set("Content-Type","application/json;charset=utf-8")};return this.http.post(p+D,q,u)}doCheck(D,q){let u={};switch(D.type){case"GET":if(q){const J=new k.LE({fromObject:q});u=(null==e.N?void 0:e.N.getParamsType)===r.Xu.SLASH&&(null==D?void 0:D.getParamsType)===r.Xu.SLASH?this.slashParamsDoGet(D.url,q):this.doGet(D.url,J)}else u=this.doGet(D.url);break;case"POST":u=this.doPost(D.url,q)}return u}slashParamsDoGetSubvisa(D,q,u,J){let ae=D;q&&(ae=D+"/"+Object.values(q).reduce((V,ue)=>V+"/"+ue)),ae+=u||"",ae.includes("center")&&"CC"==this.sessionService.loginResponse&&(ae+="?loginUser="+this.sessionService.getLoggedEmail());const ce={headers:(new k.WM).set("clientSource",J)};return this.http.get(p+ae,ce)}}return X.\u0275fac=function(D){return new(D||X)(B.LFG(k.eN),B.LFG(v.m))},X.\u0275prov=B.Yz7({token:X,factory:X.\u0275fac,providedIn:"root"}),X})()},1057:(Se,fe,A)=>{"use strict";A.d(fe,{t:()=>V});var k=A(655),e=A(2340),r=A(3075),B=A(2766),v=A(1158),p=A.n(v),a=A(7470),X=A(8065),w=A(591),D=A(5e3),q=A(2466),u=A(2313),J=A(6106),ae=A(8341),ce=A(9123),te=A(974),le=A(7407);let V=(()=>{class ue{constructor(y,x,Z,M,g,b,C){this.translate=y,this.titleService=x,this.sessionService=Z,this.dialogRef=M,this.dataShareService=g,this.httpService=b,this.ngxService=C,this.VFS_FEES="VFS Service Fee",this.isTmiOab=new w.X(!1),this.tmiOab=this.isTmiOab.asObservable()}formatDate(y){return this.momentInstance(y).format("YYYY-MM-DD")}momentInstance(y,x){try{let Z;return Z=y&&x?p()(y,x).tz(Intl.DateTimeFormat().resolvedOptions().timeZone):y?p()(y).tz(Intl.DateTimeFormat().resolvedOptions().timeZone):p()().tz(Intl.DateTimeFormat().resolvedOptions().timeZone),Z}catch(Z){throw console.log(Z),Z}}GAForDeleteServicePage(y){var x,Z;try{const M=null===(x=this.sessionService)||void 0===x?void 0:x.getAppointmentDetails(),g=null===(Z=this.sessionService)||void 0===Z?void 0:Z.eligibilityDetails;this.digitalAnalytics({event:"delete_vas_services",eventCategory:"Delete VAS Services",eventAction:null==y?void 0:y.action,eventLabel:null==y?void 0:y.label,"Visa Center Seleted":(null==g?void 0:g.centerCode)||void 0,"Type of Visa services":(null==g?void 0:g.visaType)||void 0,"Appointment Date":(null==M?void 0:M.date)||void 0,"Appointment Type":(null==M?void 0:M.slotTypeName)||void 0,"Appointment Value.":void 0})}catch(M){throw M}}digitalAnalytics(y){var x;try{if(this.checkIfProd)return;const Z=this.getCookie("_ga"),M=null===(x=this.sessionService)||void 0===x?void 0:x.vaydDetails,g={User_ID:void 0,"Page Name":this.gaPredefiedData.PageName,"Country Of Operation":this.gaPredefiedData.CountryOfOperation,Mission:this.gaPredefiedData.Mission,"Website Language":this.gaPredefiedData.WebsiteLanguage,"City Of Operation":this.gaPredefiedData.CityOfOperation,"Vac Name":this.gaPredefiedData.VacName,"Applicant ID":M.gwfNumber,"GA Client Id":Z,"Hit Timestamp":this.momentInstance().format(),"GWF ID":M.gwfNumber,User_Status:void 0};window.dataLayer=window.dataLayer||[],window.dataLayer.push(Object.assign(Object.assign({},y),g))}catch(Z){throw Z}}clearInProgressApplication(){this.dataShareService.cartAmount.next("0"),this.dataShareService.dashboardTab=1,this.sessionService.deleteOldApplicantDetails()}startNgxUiSpinner(){this.ngxService.start()}stopNgxUiSpinner(){this.ngxService.stop()}setTitle(y){this.titleService.setTitle(y||e.N.pageTitle)}strictCompare(y,x,Z=!0){try{let M=!1;return M=Z?(null==y?void 0:y.toString().toLowerCase())===(null==x?void 0:x.toString().toLowerCase()):(null==y?void 0:y.toString().toLowerCase())==(null==x?void 0:x.toString().toLowerCase()),M}catch(M){throw M}}translationService(y){return new Promise((x,Z)=>{this.translate.get(y).subscribe(M=>{x(M)},M=>console.log(M))}).then(x=>x)}translationTitleService(y){if(0===this.translate.langs.length)return!1;this.translate.get(y).subscribe(x=>{this.setTitle(x)})}getChild(y){return y.firstChild?this.getChild(y.firstChild):y}convertJSONInDate(y){return("0"+y.day).slice(-2)+"/"+("0"+y.month).slice(-2)+"/"+y.year}removeByAttr(y,x,Z){let M=y.length;for(;M--;)y[M]&&y[M].hasOwnProperty(x)&&arguments.length>2&&y[M][x]===Z&&y.splice(M,1);return y}MatchPassword(y,x){return Z=>{const M=Z.controls[y],g=Z.controls[x];return!M||!g||g.errors&&!g.errors.passwordMismatch?null:g.setErrors(M.value!==g.value?{passwordMismatch:!0}:null)}}showFile(y,x){return(0,k.mG)(this,void 0,void 0,function*(){const Z=yield this.base64ToArrayBuffer(y),M=new Blob([Z],{type:"application/pdf"}),g=window.navigator;if(g&&g.msSaveOrOpenBlob)return void g.msSaveOrOpenBlob(M);const b=window.URL.createObjectURL(M),C=document.createElement("a");C.href=b,C.download=x||`${this.sessionService.getLoggedEmail()}.pdf`,C.click(),setTimeout(()=>{window.URL.revokeObjectURL(b)},100)})}base64ToArrayBuffer(y){const x=window.atob(y),Z=x.length,M=new Uint8Array(Z);for(let g=0;g<Z;g++){const b=x.charCodeAt(g);M[g]=b}return M}allowedCaptcha(y){return this.sessionService.captchaConfiguration.indexOf(y)>-1}patchCaptchaValue(y,x,Z,M){y.patchValue({[M||"captcha_api_key"]:x,captcha_version:Z})}patchCaptchaValueForApplicants(y,x,Z){y.patchValue({captcha_key_applicant:x,captcha_version:Z})}externalUrlAppend(y){return`${e.N.externalUrl}/${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/${y}`}externalUrlAppends(y){return`${e.N.externalUrl}/${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/${y}`}closeAllDialog(){this.dialogRef.closeAll()}filterFees(y){return y?y.filter(x=>x.feeName===this.VFS_FEES):[]}updateTotalFees(y=0){var x,Z;return(0,k.mG)(this,void 0,void 0,function*(){let M,g=0;if(0!==y&&void 0!==y)M=y;else{const N=yield this.loadFees();M=null==N?void 0:N.currfeeAmount,this.sessionService.feeAmount=M,g=(null==N?void 0:N.additionalFee)?null==N?void 0:N.additionalFee.reduce((E,Y)=>E+Y.value,0):0}let b=0;const C=this.sessionService.applicantService.filter(N=>"TMIPS"!==N.code);if((null==C?void 0:C.length)>0&&(b=yield C.reduce((N,E)=>N+(E.amount*E.unit||0),0)),this.sessionService.tmiVas){const N=(null===(Z=null===(x=this.sessionService)||void 0===x?void 0:x.tmiVas[0])||void 0===Z?void 0:Z.amount)||0;this.sessionService.updatedCartAmount=b+M+N+g,this.dataShareService.cartAmount.next(b+M+N+g)}else this.sessionService.updatedCartAmount=b+M+g,this.dataShareService.cartAmount.next(b+M+g)})}loadFees(){return(0,k.mG)(this,void 0,void 0,function*(){try{return this.loadFeesWithCaptcha()}catch(y){throw y}})}loadFeesWithCaptcha(){var y,x,Z,M;return(0,k.mG)(this,void 0,void 0,function*(){try{const g={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,languageCode:null===(x=null===(y=this.sessionService)||void 0===y?void 0:y.applicationDetailValue)||void 0===x?void 0:x.languageCode},b=yield this.httpService.payloadPost(B.gT.api.appointmentFees,g).toPromise().catch(C=>console.log(C)).then(C=>C);return b?(this.sessionService.updateFees=!1,!this.sessionService.currencyCode&&b.feeDetails&&(this.sessionService.setCurrencyCode=null===(Z=null==b?void 0:b.feeDetails[0])||void 0===Z?void 0:Z.currency),b.currfeeAmount=(null===(M=null==b?void 0:b.feeDetails)||void 0===M?void 0:M.length)>0?b.feeDetails.reduce((C,N)=>C+N.feeAmount,0):0,b):void 0}catch(g){throw g}})}getnationalityName(y,x){if(!y)return!1;const Z=y.filter(M=>M.isoCode.toLowerCase()===x.toLowerCase());return Z.length>0?Z[0].nationalityName:x}getStateNameFromISOcode(y,x){if(!y)return!1;const Z=y.filter(M=>this.strictCompare(M.isoCode,x));return Z.length>0?Z[0].stateName:x}getNameFromCode(y,x){if(!y)return!1;const Z=y.filter(M=>this.strictCompare(M.code,x));return Z.length>0?Z[0].name:x}getNosOfUnit(y,x){const M=this.sessionService.applicantService.filter(g=>g.id===x);return M.length>0?M[0][y]:1}filterVacFromCode(y,x,Z){if(y.length<0)return!1;const M=y.filter(g=>g.isoCode===x);return M.length>0?M[0][Z]:""}appendGaTrackingCode(){try{const y=document.createElement("script");return y.innerHTML="(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n    })(window,document,'script','dataLayer','GTM-KCT7T5SV');",document.head.appendChild(y),!0}catch(y){console.log("Error appending google analytics :",y)}}handleCaptcha(){return(0,k.mG)(this,void 0,void 0,function*(){try{$(".grecaptcha-badge").remove(),setTimeout(()=>{this.appendCaptcha()})}catch(y){console.log("Error appending google analytics :",y)}})}appendCaptcha(){try{const y=window.location.pathname.split("/"),x=document.createElement("script");x.src=`https://recaptcha.net/recaptcha/api.js?render=${e.N.captchaKey}&hl=${y[2]}`,x.type="text/javascript",x.async=!1,document.getElementsByTagName("head")[0].appendChild(x)}catch(y){console.log(y)}}appendScriptForCookies(){try{const y=document.createElement("script");y.textContent="document.cookie = 'cookieName=cookieValue; SameSite=Strict; httpOnly; secure';",y.type="text/javascript",y.src=e.N.cookieScript1,document.getElementsByTagName("head")[0].appendChild(y);const x=document.createElement("script");return x.textContent="document.cookie = 'cookieName=cookieValue; SameSite=Strict; httpOnly; secure';",x.type="text/javascript",x.src=e.N.cookieScript2,x.setAttribute("data-domain-script",e.N.cookiedomainKey),document.getElementsByTagName("head")[0].appendChild(x),!0}catch(y){console.log(y)}}replacerFunction(y,x,Z,M){return"number"==typeof y[Z]?Z&&y[Z]?String(y[Z]).trim():"":Z&&y[Z]?y[Z].trim():""}resetCaptcha(){grecaptcha.reset()}executeCapctha(y){return new Promise((x,Z)=>(0,k.mG)(this,void 0,void 0,function*(){"object"!=typeof grecaptcha&&(yield new Promise(M=>setTimeout(M,3e3))),grecaptcha.ready(()=>{grecaptcha.execute(e.N.captchaKey,{action:y}).then(M=>x(M))})}))}getCodeName(y,x){const Z=y.filter(M=>M.code===x);return Z.length>0?Z[0].name:x}appendScriptForConsent(){var y;try{const x=document.createElement("script"),Z=e.N.oneTrustPortal;x.id=Z.scriptId,x.type="text/javascript",x.src=Z.url;const M=document.getElementById(Z.scriptId);return null===(y=null==M?void 0:M.parentNode)||void 0===y||y.removeChild(M),x.setAttribute("data-ot-id",Z.dataOtId),x.setAttribute("data-ot-consent-register-even","document-load"),document.getElementsByTagName("head")[0].appendChild(x),!0}catch(x){console.log(x)}}convertKeystoLowercase(y){return Object.keys(y).reduce((x,Z)=>(x[Z.toLowerCase()]=y[Z],x),{})}disableBrowserBack(){history.pushState(null,"",location.href),window.onpopstate=()=>{history.go(1)}}formcontrolReset(y,x){return x.forEach(Z=>{var M;!y.get(Z)||null===(M=y.get(Z))||void 0===M||M.reset()}),!0}makeFieldRequired(y,x){return x.forEach(Z=>{!y.get(Z)||(y.controls[Z].setValidators([r.kI.required]),y.controls[Z].updateValueAndValidity())}),!0}get gaPredefiedData(){var y,x,Z,M,g,b;try{const C=this.sessionService.eligibilityDetails;return{Mission:null===(y=a.xK(window.location.pathname.split("/")[3]))||void 0===y?void 0:y.country,CountryOfOperation:null===(x=a.xK(window.location.pathname.split("/")[1]))||void 0===x?void 0:x.country,CityOfOperation:(null==C?void 0:C.centerCode)||"",WebsiteLanguage:X.Z.getName(window.location.pathname.split("/")[2]),PageName:null===(b=null===(g=null===(M=null===(Z=window.location)||void 0===Z?void 0:Z.pathname)||void 0===M?void 0:M.split("/"))||void 0===g?void 0:g.pop())||void 0===b?void 0:b.split("-").map(N=>N.charAt(0).toUpperCase()+N.substring(1)).join("-"),VacName:(null==C?void 0:C.centerCode)||null}}catch(C){console.log(C)}}get checkIfProd(){return!e.N.production}fireCustomEvent(y){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[];const x={event:"custom_event","Vac Name":this.gaPredefiedData.VacName,"Page Name":this.gaPredefiedData.PageName,"Website Language":this.gaPredefiedData.WebsiteLanguage};window.dataLayer.push(Object.assign(Object.assign({},y),x))}catch(x){console.log(x)}}countrynameByIso(y){var x;return(null===(x=a.xK(y))||void 0===x?void 0:x.country)||y}product_impression(y){return(0,k.mG)(this,void 0,void 0,function*(){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[];const x=[];yield y.map((Z,M)=>{var g,b;x.push({name:Z.name,id:Z.code,price:Z.unitPrice,brand:`${null===(g=a.xK(window.location.pathname.split("/")[1]))||void 0===g?void 0:g.country}/${null===(b=a.xK(window.location.pathname.split("/")[3]))||void 0===b?void 0:b.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:M,uniqueId:Z.id})}),window.dataLayer.push({event:"productImpression",dl_category:"Product Performance",dl_action:"Impression",dl_label:this.gaPredefiedData.PageName+" Page Product Listing",dl_value:"0","Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:y[0].currency,actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},impressions:x}})}catch(x){console.log(x)}})}onCheckout(y){return(0,k.mG)(this,void 0,void 0,function*(){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[];const x=[];yield y.map((Z,M)=>{var g,b;x.push({name:Z.name,id:Z.code,price:Z.unitPrice,brand:`${null===(g=a.xK(window.location.pathname.split("/")[1]))||void 0===g?void 0:g.country}/${null===(b=a.xK(window.location.pathname.split("/")[3]))||void 0===b?void 0:b.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,quantity:Z.total})}),window.dataLayer.push({event:"checkout","Vac Name":this.gaPredefiedData.VacName,ecommerce:{checkout:{actionField:{step:1,option:"Payment Gateway",action:"checkout"},products:x}}})}catch(x){console.log(x)}})}fireGAEvent(){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[],window.dataLayer.push({Mission:this.gaPredefiedData.Mission,"Country Of Operation":this.gaPredefiedData.CountryOfOperation,"City Of Operation":this.gaPredefiedData.CityOfOperation,"Website Language":this.gaPredefiedData.WebsiteLanguage,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName})}catch(y){console.log(y)}}sendConfirmationPageAnalytics(y){var x,Z;try{if(this.checkIfProd)return;const M={event:"custom_event",dl_category:"PageView",dl_action:"PageView - Transaction Successful",dl_label:`${null===(x=a.xK(window.location.pathname.split("/")[1]))||void 0===x?void 0:x.country} & ${null===(Z=a.xK(window.location.pathname.split("/")[3]))||void 0===Z?void 0:Z.country}`,dl_value:void 0,"Vac Name":this.gaPredefiedData.VacName,"Page Name":this.gaPredefiedData.PageName,"Website Language":this.gaPredefiedData.WebsiteLanguage};window.dataLayer.push(Object.assign(Object.assign({},y),M)),this.eventEmitter(y.Applicants,y.vasApplicants,y.vasQuantity)}catch(M){console.log(M)}}product_details(y){return(0,k.mG)(this,void 0,void 0,function*(){try{if(this.checkIfProd)return;const x=[];yield y.map((Z,M)=>{var g,b;x.push({name:Z.name,id:Z.code,price:Z.unitPrice,brand:`${null===(g=a.xK(window.location.pathname.split("/")[1]))||void 0===g?void 0:g.country}/${null===(b=a.xK(window.location.pathname.split("/")[3]))||void 0===b?void 0:b.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:M,uniqueId:Z.id})}),window.dataLayer.push({event:"productDetails",dl_category:"Product Performance",dl_action:"Product Details",dl_label:y.name,dl_value:y.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:y.currency,detail:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:x}}})}catch(x){console.log(x)}})}product_click(y){return(0,k.mG)(this,void 0,void 0,function*(){try{if(this.checkIfProd)return;const x=[];yield[y].map((Z,M)=>{var g,b;x.push({name:Z.name,id:Z.code,price:Z.unitPrice,brand:`${null===(g=a.xK(window.location.pathname.split("/")[1]))||void 0===g?void 0:g.country}/${null===(b=a.xK(window.location.pathname.split("/")[3]))||void 0===b?void 0:b.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:M,uniqueId:Z.id})}),window.dataLayer.push({event:"productClick",dl_category:"Product Performance",dl_action:"Product Click",dl_label:y.name,dl_value:y.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:y.currency,click:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:x}}})}catch(x){console.log(x)}})}add_to_cart(y){return(0,k.mG)(this,void 0,void 0,function*(){try{if(this.checkIfProd)return;const x=[];yield[y].map((Z,M)=>{var g,b;x.push({name:Z.name,id:Z.code,price:Z.unitPrice,brand:`${null===(g=a.xK(window.location.pathname.split("/")[1]))||void 0===g?void 0:g.country}/${null===(b=a.xK(window.location.pathname.split("/")[3]))||void 0===b?void 0:b.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:M,uniqueId:Z.id})}),window.dataLayer.push({event:"addToCart",dl_category:"Add to Cart",dl_action:"Add to Cart From Service Card",dl_label:y.name,dl_value:y.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:y.currencyCode,add:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:x}}})}catch(x){console.log(x)}})}remove_to_cart(y){return(0,k.mG)(this,void 0,void 0,function*(){try{if(this.checkIfProd)return;const x=[];yield[y].map((Z,M)=>{var g,b;x.push({name:Z.name,id:Z.code,price:Z.unitPrice,brand:`${null===(g=a.xK(window.location.pathname.split("/")[1]))||void 0===g?void 0:g.country}/${null===(b=a.xK(window.location.pathname.split("/")[3]))||void 0===b?void 0:b.country}`,category:"VAS",variant:this.gaPredefiedData.VacName,list:this.gaPredefiedData.PageName+" Page Product Listing",position:M,uniqueId:Z.id})}),window.dataLayer.push({event:"removeFromCart",dl_category:"Remove From Cart",dl_action:"Remove From Cart From Shopping Cart",dl_label:y.name,dl_value:y.unitPrice,"Page Name":this.gaPredefiedData.PageName,"Vac Name":this.gaPredefiedData.VacName,ecommerce:{currencyCode:y.currencyCode,remove:{actionField:{list:this.gaPredefiedData.PageName+" Page Product Listing"},products:x}}})}catch(x){console.log(x)}})}eventEmitter(y,x,Z){ga("set","metric1",y),ga("set","metric2",x),ga("set","metric3",Z),ga("send","pageview")}resetSchema(){const y=this.sessionService.getFullApplicationSchema();this.sessionService.saveApplicationSchemaInBrowser(y)}getDateFormat(y,x="/"){return y&&y.day+x+y.month+x+y.year}isDateFormatCheck(y){return this.momentInstance(y,"DD/MM/YYYY").isValid()}gaForTMI(y){try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[];const x={event:"custom_event"};window.dataLayer.push(Object.assign(Object.assign({},y),x))}catch(x){console.log(x)}}getCookie(y){const x=y.length+1;return document.cookie.split(";").map(Z=>Z.trim()).filter(Z=>Z.substring(0,x)===`${y}=`).map(Z=>decodeURIComponent(Z.substring(x)))[0]||null}pushDataLayerGA(y){var x,Z,M,g,b;try{if(!this.checkIfProd)return;const C=this.sessionService.eligibilityDetails;window.dataLayer=window.dataLayer||[];const N=this.getCookie("_ga"),E={"Page Name":null===(x=this.gaPredefiedData)||void 0===x?void 0:x.PageName,"Country Of Operation":null===(Z=this.gaPredefiedData)||void 0===Z?void 0:Z.CountryOfOperation,Mission:null===(M=this.gaPredefiedData)||void 0===M?void 0:M.Mission,"Website Language":null===(g=this.gaPredefiedData)||void 0===g?void 0:g.WebsiteLanguage,"City Of Operation":null===(b=this.gaPredefiedData)||void 0===b?void 0:b.CityOfOperation,"GA Client Id":N,"Hit Timestamp":this.momentInstance().format(),event:"custom_event"};C&&(E["Visa Center Seleted"]=null==C?void 0:C.centerCode,E["Appointment Category"]=null==C?void 0:C.selectedSubvisaCategory,E["Appointment Sub Category"]=null==C?void 0:C.visaCategoryCode),window.dataLayer.push(Object.assign(Object.assign({},y),E))}catch(C){console.log(C)}}calculateApplicantAge(y,x){try{return null==y||y.forEach(Z=>{const M=this.momentInstance().format("DD/MM/YYYY"),g=this.convertJSONInDate(Z[x]),b=this.momentInstance(M,"DD/MM/YYYY").diff(this.momentInstance(g,"DD/MM/YYYY"),"years");Z.age=b}),y}catch(Z){throw Z}}tmiOabISet(y){this.isTmiOab.next(y),this.sessionService.isTmiOabEnable=y}pushDataLayerFFGA(y){var x,Z,M,g,b;try{if(this.checkIfProd)return;window.dataLayer=window.dataLayer||[];const C=this.getCookie("_ga"),N={"Page Name":null===(x=this.gaPredefiedData)||void 0===x?void 0:x.PageName,"Country Of Operation":null===(Z=this.gaPredefiedData)||void 0===Z?void 0:Z.CountryOfOperation,Mission:null===(M=this.gaPredefiedData)||void 0===M?void 0:M.Mission,"Website Language":null===(g=this.gaPredefiedData)||void 0===g?void 0:g.WebsiteLanguage,"City Of Operation":null===(b=this.gaPredefiedData)||void 0===b?void 0:b.CityOfOperation,"GA Client Id":C,"Hit Timestamp":this.momentInstance().format(),"Vac Name":"NA",event:"custom_event"};window.dataLayer.push(Object.assign(Object.assign({},y),N))}catch(C){console.log(C)}}contactNoLength(y){const Z=B.gT.dialCode.dialCodeList.filter(M=>M.dialCode===y.toLowerCase());return Z.length>0?Z[0].number_length:y}}return ue.\u0275fac=function(y){return new(y||ue)(D.LFG(q.sK),D.LFG(u.Dx),D.LFG(J.m),D.LFG(ae.uw),D.LFG(ce._),D.LFG(te.O),D.LFG(le.LA))},ue.\u0275prov=D.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})()},249:(Se,fe,A)=>{"use strict";A.d(fe,{Y:()=>k});class k{constructor(){this._subs=[]}add(...r){this._subs=this._subs.concat(r)}set sink(r){this._subs.push(r)}unsubscribe(){this._subs.forEach(r=>r&&r.unsubscribe()),this._subs=[]}}},3272:(Se,fe,A)=>{"use strict";A.d(fe,{n:()=>r});var k=A(249),e=A(5e3);let r=(()=>{class B{constructor(){this.subs=new k.Y}ngOnDestroy(){var p;null===(p=this.subs)||void 0===p||p.unsubscribe()}}return B.\u0275fac=function(p){return new(p||B)},B.\u0275cmp=e.Xpm({type:B,selectors:[["ng-component"]],decls:0,vars:0,template:function(p,a){},encapsulation:2}),B})()},2340:(Se,fe,A)=>{"use strict";A.d(fe,{N:()=>e});var k=A(6089);const e={clientIpEndPoint:"https://api.ipify.org?format=json",localtranslation:!1,localschema:!1,localReload:!1,production:!0,appVersion:A(4147).i8,apiEndPoint:"https://lift-api.vfsglobal.com",apiEndPoint2:"https://lift-api.vfsglobal.com",lambdaEndpoint:"https://iuk8t24f6d.execute-api.us-east-1.amazonaws.com/prod",defaultCultureCode:"en-US",defaultLang:"en",numberOfPassengers:10,pageTitle:"VFS Global | Official partner of the Government",applicationType:"online",externalUrl:"https://visa.vfsglobal.com",activateLink:"https://visa.vfsglobal.com/",gaUAID:"GTM-K3RCXTZ",captchaKey:"6LdJReUUAAAAAPR1hddg-9JUC_TO13OrlKVpukHL",V2_CaptchaKey:"6LfDUY8bAAAAAPU5MWGT_w0x5M-8RdzC29SClOfI",sessionTime:900,getParamsType:"slash",externalPath:"https://liftassets.vfsglobal.com/_angular",cookieScript1:"https://cdn.cookielaw.org/consent/410ea619-00d1-490a-8784-ea1bbb4c4f7e/OtAutoBlock.js",cookieScript2:"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",cookiedomainKey:"410ea619-00d1-490a-8784-ea1bbb4c4f7e",turnsTile_CaptchaKey:"0x4AAAAAAACYaM3U_Dz-4DN1",contentful:{space:"xxg4p8gt3sg6",value:"5-eABDj_OU_DJAXxsU2tXGFDk6yozcQbKbNnV-6rS8M",host:"d2ab400qlgxn2g.cloudfront.net",basePath:"/dev"},externalUrls:{vfsGlobalUrl:"https://www.vfsglobal.com",externalBaseUrl:"https://visa.vfsglobal.com",UKVisasAndImmigration:"https://www.gov.uk/government/organisations/uk-visas-and-immigration",RescheduleOrUploadDoc:"https://myappointment.vfsglobal.co.uk/MyAppointment",AboutUs:"about-vfs",Contact:"contact-us",FAQ:"faq",TermsAndConditions:"terms-and-condition",CookiePolicy:"general/cookie-policy.html",Privacy:"privacy-policy",refund:"refund-policy",disclaimer:"disclaimer",ukviHandshakeError:"https://testing.dcj.ipt.homeoffice.gov.uk/fes/error"},disableConsoleLogging:!0,serverLogLevel:k._z.ERROR,slotDuration:3,slotDaysEnabled:180,sessionTimeOut:1200,captchaFallbackEnabled:!1,oneTrustPortal:{url:"https://privacyportal-uatde-cdn.onetrust.com/consent-receipt-scripts/scripts/otconsent-1.0.min.js",dataOtId:"2445c202-727e-46d9-8429-f73cbacccf73",dataOtCpId:"c9ab9950-5dc6-4472-ab13-14c4774224f9-active",scriptId:"consent-receipt-script"},contentForMetaTag:"xDNQW5PIy5neaZIL5abWW-IG-Q5bJES_1MB35OX9g38",websiteVFSGlobal:"https://www.vfsglobal.com/en/individuals/index.html",websiteMissionPoland:"https://www.gov.pl/web/dyplomacja",rsaString:"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCpigN3/5Ti/WJk51pbPQdpCe96\n  TPVoeMAk/cUlAPpYh8zGpr6zssbM11Je1SoQTiuipxIL+c0oGXti8vLzln3yfS+N\n  56wuSh0Hyt1Z+waSx6IDFlfzImEtq8m1osS32B83HRiFZbeKB8QIRJhZil1pJSzM\n  sg0Y0QmDyv1yR4FzIQIDAQAB"}},3420:(Se,fe,A)=>{"use strict";var k=A(2313),e=A(5e3),r=A(3075),B=A(325),v=A(655),p=A(2766),a=A(7553),X=A(2930),w=A(9808),D=A(2466),q=A(1223),u=A(6766),J=A(3265),ae=A(9722);let ce=(()=>{class i{constructor(t){this.ngcontrol=t,this.options=[],this.valueKey=""}ngOnChanges(){var t,o;try{const n=null===(t=this.ngcontrol)||void 0===t?void 0:t.control;n&&1===(null===(o=this.options)||void 0===o?void 0:o.length)&&this.valueKey&&null==(null==n?void 0:n.value)&&(n.setValue(this.options[0][this.valueKey]),n.updateValueAndValidity())}catch(n){console.log(n)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.a5))},i.\u0275dir=e.lG2({type:i,selectors:[["","appDefaultSelect",""]],inputs:{options:"options",valueKey:"valueKey"},features:[e.TTD]}),i})();var te=A(6201),le=A(3482),V=A(1377),ue=A(3615);const O=["captchaContainer"];function y(i,s){1&i&&(e.ynx(0),e.TgZ(1,"div",8)(2,"div",9)(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.BQk()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"commonSections.messages.infoMessages.message4")))}function x(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",10),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",11)(5,"div",12)(6,"div",13)(7,"div",14),e._UZ(8,"i",15),e.qZA(),e._UZ(9,"div",16),e.qZA()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"onBoarding.pageDetails.para6")),e.xp6(7),e.Q6J("translate",t.resgistrationResCode)}}function Z(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14),e._UZ(5,"i",15),e.qZA(),e._UZ(6,"div",16),e.qZA()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(6),e.Q6J("translate",t.successCode)}}function M(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",17)(2,"div",18)(3,"div",13)(4,"div",14),e._UZ(5,"i",19),e.qZA(),e._UZ(6,"div",16),e.qZA()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(6),e.Q6J("translate",t.errorCode)}}function g(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message1")," "))}function b(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message13")," "))}function C(i,s){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,g,3,3,"div",51),e.YNc(2,b,3,3,"div",51),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.registerF.firstName.errors.required),e.xp6(1),e.Q6J("ngIf",t.registerF.firstName.errors.pattern)}}function N(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message2")," "))}function E(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message14")," "))}function Y(i,s){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,N,3,3,"div",51),e.YNc(2,E,3,3,"div",51),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.registerF.lastName.errors.required),e.xp6(1),e.Q6J("ngIf",t.registerF.lastName.errors.pattern)}}function W(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message4")," "))}function ne(i,s){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,W,3,3,"div",51),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.registerF.dateOfBirth.errors.required)}}const z=function(i){return{"form-error":i}},se=function(){return{year:1900,month:1,day:1}};function K(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",39)(2,"div",40)(3,"div",13)(4,"div",14),e._UZ(5,"i",41),e.qZA(),e.TgZ(6,"div",42),e._uU(7),e.ALo(8,"translate"),e.qZA()()()(),e.TgZ(9,"div",43)(10,"div",30)(11,"div"),e._uU(12),e.ALo(13,"translate"),e.TgZ(14,"span",22),e._uU(15,"*"),e.qZA()(),e.YNc(16,C,3,2,"div",23),e.TgZ(17,"mat-form-field",24),e._UZ(18,"input",44),e.ALo(19,"translate"),e.qZA()()(),e.TgZ(20,"div",43)(21,"div",30)(22,"div"),e._uU(23),e.ALo(24,"translate"),e.TgZ(25,"span",22),e._uU(26,"*"),e.qZA()(),e.YNc(27,Y,3,2,"div",23),e.TgZ(28,"mat-form-field",24),e._UZ(29,"input",45),e.ALo(30,"translate"),e.qZA()()(),e.TgZ(31,"div",43)(32,"div",30)(33,"div"),e._uU(34),e.ALo(35,"translate"),e.TgZ(36,"span",22),e._uU(37,"*"),e.qZA()(),e.YNc(38,ne,2,1,"div",23),e.TgZ(39,"div",46),e._UZ(40,"input",47,48),e.ALo(42,"translate"),e.TgZ(43,"div",49),e.NdJ("click",function(){return e.CHM(t),e.MAs(41).toggle()}),e.qZA()()()()()}if(2&i){const t=e.oxw(2);e.xp6(7),e.Oqu(e.lcZ(8,15,"onBoarding.messages.infoMessages.message2")),e.xp6(2),e.Q6J("ngClass",e.VKq(29,z,t.registerF.firstName.touched&&t.registerF.firstName.invalid)),e.xp6(3),e.hij(" ",e.lcZ(13,17,"applicantInformation.formLabel.label1")," "),e.xp6(4),e.Q6J("ngIf",t.registerF.firstName.touched&&t.registerF.firstName.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(19,19,"applicantInformation.messages.errorMessages.message1")),e.xp6(2),e.Q6J("ngClass",e.VKq(31,z,t.registerF.lastName.touched&&t.registerF.lastName.invalid)),e.xp6(3),e.hij(" ",e.lcZ(24,21,"applicantInformation.formLabel.label2")," "),e.xp6(4),e.Q6J("ngIf",t.registerF.lastName.touched&&t.registerF.lastName.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(30,23,"applicantInformation.messages.errorMessages.message2")),e.xp6(2),e.Q6J("ngClass",e.VKq(33,z,t.registerF.dateOfBirth.touched&&t.registerF.dateOfBirth.invalid)),e.xp6(3),e.hij(" ",e.lcZ(35,25,"applicantInformation.formLabel.label4")," "),e.xp6(4),e.Q6J("ngIf",t.registerF.dateOfBirth.touched&&t.registerF.dateOfBirth.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(42,27,"travelMedicalInformation.placeholder.label1")),e.Q6J("minDate",e.DdM(35,se))("maxDate",t.initDate.maxDOB)}}function Xe(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Fe(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message1")," "))}function Oe(i,s){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Xe,3,3,"div",51),e.YNc(2,Fe,3,3,"div",51),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.registerF.emailid.errors.required),e.xp6(1),e.Q6J("ngIf",t.registerF.emailid.errors.pattern)}}function ye(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Me(i,s){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,ye,3,3,"div",51),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.registerF.password.errors.required)}}function gt(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"onBoarding.messages.passwordpattern")," "))}function _t(i,s){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,gt,3,3,"div",51),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.registerF.password.errors.pattern)}}function Ue(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Lt(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.misMatch.message1")," "))}function It(i,s){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Ue,3,3,"div",51),e.YNc(2,Lt,3,3,"div",51),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.registerF.confirmPassword.errors.required),e.xp6(1),e.Q6J("ngIf",t.registerF.confirmPassword.errors.passwordMismatch)}}function lt(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.pageDetails.para11")))}function Zt(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Yt(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"login.messages.errorMessages.message1")," "))}function rt(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"login.messages.errorMessages.message2")," "))}function Qt(i,s){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Zt,3,3,"div",51),e.YNc(2,Yt,3,3,"div",51),e.YNc(3,rt,3,3,"div",51),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.registerF.dialcode.errors.required),e.xp6(1),e.Q6J("ngIf",t.registerF.dialcode.errors.pattern),e.xp6(1),e.Q6J("ngIf",!t.registerF.dialcode.errors.pattern&&t.registerF.dialcode.errors.maxlength)}}function Ti(i,s){if(1&i&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.dialCode),e.xp6(1),e.AsE(" ",null==t?null:t.country,"(",t.dialCode,") ")}}function Si(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function xi(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message31")," "))}function Li(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message27")," "))}function Ii(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message25")," "))}function Zi(i,s){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Si,3,3,"div",51),e.YNc(2,xi,3,3,"div",51),e.YNc(3,Li,3,3,"div",51),e.YNc(4,Ii,3,3,"div",51),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.registerF.contact||null==t.registerF.contact.errors?null:t.registerF.contact.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.registerF.contact||null==t.registerF.contact.errors?null:t.registerF.contact.errors.pattern),e.xp6(1),e.Q6J("ngIf",!(null!=t.registerF.contact&&null!=t.registerF.contact.errors&&t.registerF.contact.errors.pattern)&&(null==t.registerF.contact||null==t.registerF.contact.errors?null:t.registerF.contact.errors.minlength)),e.xp6(1),e.Q6J("ngIf",!(null!=t.registerF.contact&&null!=t.registerF.contact.errors&&t.registerF.contact.errors.pattern)&&(null==t.registerF.contact||null==t.registerF.contact.errors?null:t.registerF.contact.errors.maxlength))}}function Ni(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",53)(1,"div",54),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"span",22),e._uU(5,"*"),e.qZA(),e.YNc(6,lt,3,3,"span",6),e.qZA(),e.TgZ(7,"div",55)(8,"div",30),e.YNc(9,Qt,4,3,"div",23),e.TgZ(10,"mat-form-field",24)(11,"mat-select",56),e.NdJ("selectionChange",function(n){return e.CHM(t),e.oxw(2).mobileNumberlength(n)}),e.TgZ(12,"mat-select-trigger"),e._uU(13),e.qZA(),e.YNc(14,Ti,2,3,"mat-option",57),e.ALo(15,"sortBy"),e.qZA()()()(),e.TgZ(16,"div",58)(17,"div",30)(18,"div"),e._UZ(19,"span",22),e.qZA(),e.YNc(20,Zi,5,4,"div",23),e.TgZ(21,"mat-form-field",24),e._UZ(22,"input",59),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(15,z,t.registerF.contact.touched&&t.registerF.contact.invalid||t.registerF.dialcode.touched&&t.registerF.dialcode.invalid)),e.xp6(2),e.hij(" ",e.lcZ(3,10,"login.formLabel.label3")," "),e.xp6(4),e.Q6J("ngIf",null==t.config?null:t.config.enableZeroBeforeMobileNoRegistration),e.xp6(3),e.Q6J("ngIf",t.registerF.dialcode.touched&&t.registerF.dialcode.errors),e.xp6(2),e.Q6J("options",t.dialCodeList)("valueKey","dialCode"),e.xp6(2),e.Oqu(t.registerForm.controls.dialcode.value),e.xp6(1),e.Q6J("ngForOf",e.xi3(15,12,t.dialCodeList,"country"))("ngForTrackBy",t.trackByFn),e.xp6(6),e.Q6J("ngIf",t.registerF.contact.touched&&t.registerF.contact.errors)}}function Di(i,s){if(1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"a",33),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,3,"onBoarding.pageDetails.para10"),""),e.xp6(2),e.Q6J("href",t.processingOfPersonalData,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(5,5,"onBoarding.pageDetails.para11")," ")}}function Oi(i,s){1&i&&(e._uU(0),e.ALo(1,"translate")),2&i&&e.hij(" ",e.lcZ(1,1,"onBoarding.pageDetails.para9")," ")}function Ei(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"onBoarding.buttons.button1"),""))}function ki(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.buttons.button19"),""))}function oi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",20),e.YNc(1,K,44,36,"div",6),e.TgZ(2,"div",21)(3,"div"),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"span",22),e._uU(7,"*"),e.qZA()(),e.YNc(8,Oe,3,2,"div",23),e.TgZ(9,"mat-form-field",24),e._UZ(10,"input",25),e.qZA()(),e.TgZ(11,"div",21)(12,"div"),e._uU(13),e.ALo(14,"translate"),e.TgZ(15,"span",22),e._uU(16,"*"),e.qZA()(),e.YNc(17,Me,2,1,"div",23),e.YNc(18,_t,2,1,"div",23),e.TgZ(19,"mat-form-field",24),e._UZ(20,"input",26),e.TgZ(21,"i",27),e.NdJ("keypress",function(){e.CHM(t);const n=e.oxw();return n.passwordToogle=!n.passwordToogle})("mouseenter",function(){return e.CHM(t),e.oxw().passwordToogle=!0})("mouseleave",function(){return e.CHM(t),e.oxw().passwordToogle=!1})("click",function(){return e.CHM(t),e.oxw().passwordToogle=!0}),e.qZA()()(),e.TgZ(22,"div",21)(23,"div"),e._uU(24),e.ALo(25,"translate"),e.TgZ(26,"span",22),e._uU(27,"*"),e.qZA()(),e.YNc(28,It,3,2,"div",23),e.TgZ(29,"mat-form-field",24),e._UZ(30,"input",28),e.TgZ(31,"i",27),e.NdJ("keypress",function(){e.CHM(t);const n=e.oxw();return n.confirmPasswordToggle=!n.confirmPasswordToggle})("mouseenter",function(){return e.CHM(t),e.oxw().confirmPasswordToggle=!0})("mouseleave",function(){return e.CHM(t),e.oxw().confirmPasswordToggle=!1})("click",function(){return e.CHM(t),e.oxw().confirmPasswordToggle=!0}),e.qZA()()(),e.YNc(32,Ni,23,17,"div",29),e.TgZ(33,"div",30)(34,"mat-checkbox",31)(35,"span",32),e._uU(36),e.ALo(37,"translate"),e.TgZ(38,"a",33),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._uU(41,". "),e.YNc(42,Di,6,7,"ng-container",34),e.YNc(43,Oi,2,3,"ng-template",null,35,e.W1O),e.qZA()()(),e.TgZ(45,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().registerUser()}),e.YNc(46,Ei,3,3,"span",6),e.YNc(47,ki,3,3,"span",6),e.qZA(),e.TgZ(48,"div",37)(49,"span"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"a",38),e.NdJ("click",function(){return e.CHM(t),e.oxw().routeToSignIn()}),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"span"),e._uU(56),e.ALo(57,"translate"),e.qZA()()()}if(2&i){const t=e.MAs(44),o=e.oxw();e.Q6J("formGroup",o.registerForm),e.xp6(1),e.Q6J("ngIf",o.isPersonalEnabled),e.xp6(1),e.Q6J("ngClass",e.VKq(44,z,o.registerF.emailid.touched&&o.registerF.emailid.invalid)),e.xp6(2),e.Oqu(e.lcZ(5,28,"onBoarding.formLabel.label1")),e.xp6(4),e.Q6J("ngIf",o.registerF.emailid.touched&&o.registerF.emailid.errors),e.xp6(3),e.Q6J("ngClass",e.VKq(46,z,o.registerF.password.touched&&o.registerF.password.invalid)),e.xp6(2),e.Oqu(e.lcZ(14,30,"onBoarding.formLabel.label7")),e.xp6(4),e.Q6J("ngIf",o.registerF.password.touched&&o.registerF.password.errors),e.xp6(1),e.Q6J("ngIf",o.registerF.password.touched&&o.registerF.password.errors),e.xp6(2),e.Q6J("type",o.passwordToogle?"text":"password"),e.xp6(1),e.Q6J("ngClass",o.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),e.xp6(1),e.Q6J("ngClass",e.VKq(48,z,o.registerF.confirmPassword.touched&&o.registerF.confirmPassword.invalid)),e.xp6(2),e.Oqu(e.lcZ(25,32,"onBoarding.formLabel.label8")),e.xp6(4),e.Q6J("ngIf",o.registerF.confirmPassword.touched&&o.registerF.confirmPassword.errors),e.xp6(2),e.Q6J("type",o.confirmPasswordToggle?"text":"password"),e.xp6(1),e.Q6J("ngClass",o.confirmPasswordToggle?"fa fa-eye-slash":"fa fa-eye"),e.xp6(1),e.Q6J("ngIf",o.isMobileNumberEnabled||o.isMobileNumberRequired&&!o.otpView),e.xp6(4),e.hij(" ",e.lcZ(37,34,"onBoarding.pageDetails.para7"),""),e.xp6(2),e.Q6J("href",o.privacyPolicy,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(40,36,"onBoarding.pageDetails.para8")," "),e.xp6(3),e.Q6J("ngIf","rus"==o.sessionService.countryCode)("ngIfElse",t),e.xp6(3),e.Q6J("disabled",o.registerForm.invalid),e.xp6(1),e.Q6J("ngIf",!o.isMobileNumberRequired),e.xp6(1),e.Q6J("ngIf",o.isMobileNumberRequired),e.xp6(3),e.Oqu(e.lcZ(51,38,"onBoarding.pageDetails.para3")),e.xp6(3),e.hij(" ",e.lcZ(54,40,"login.buttons.button7")," "),e.xp6(3),e.Oqu(e.lcZ(57,42,"onBoarding.pageDetails.para5"))}}function wi(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Fi(i,s){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,wi,3,3,"div",51),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.registerF?null:t.registerF.otp.errors.required)}}function Mi(i,s){1&i&&(e.TgZ(0,"div",52),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"login.messages.errorMessages.message4")," "))}function Pi(i,s){if(1&i&&(e.TgZ(0,"div",50),e.YNc(1,Mi,3,3,"div",51),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.registerF?null:t.registerF.otp.errors.pattern)}}function Ui(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",21)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"span",22),e._uU(5,"*"),e.qZA()(),e.YNc(6,Fi,2,1,"div",23),e.YNc(7,Pi,2,1,"div",23),e.TgZ(8,"mat-form-field",63),e._UZ(9,"input",64),e.TgZ(10,"i",27),e.NdJ("keypress",function(){e.CHM(t);const n=e.oxw(2);return n.passwordToogle=!n.passwordToogle})("mouseenter",function(){return e.CHM(t),e.oxw(2).passwordToogle=!0})("mouseleave",function(){return e.CHM(t),e.oxw(2).passwordToogle=!1})("click",function(){return e.CHM(t),e.oxw(2).passwordToogle=!0}),e.qZA()(),e.TgZ(11,"span",65),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).generateOtp()}),e._uU(12),e.ALo(13,"translate"),e.qZA()()}if(2&i){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(11,z,(null==t.registerF||null==t.registerF.otp?null:t.registerF.otp.touched)&&(null==t.registerF?null:t.registerF.otp.invalid))),e.xp6(2),e.Oqu(e.lcZ(3,7,"login.messages.errorMessages.message3")),e.xp6(4),e.Q6J("ngIf",(null==t.registerF||null==t.registerF.otp?null:t.registerF.otp.touched)&&(null==t.registerF?null:t.registerF.otp.errors)),e.xp6(1),e.Q6J("ngIf",(null==t.registerF?null:t.registerF.otp.touched)&&(null==t.registerF?null:t.registerF.otp.errors)),e.xp6(2),e.Q6J("type",t.passwordToogle?"text":"password"),e.xp6(1),e.Q6J("ngClass",t.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),e.xp6(2),e.Oqu(e.lcZ(13,9,"applicantInformation.formLabel.label22"))}}function qi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",20)(1,"div",61)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"a",38),e.NdJ("click",function(){return e.CHM(t),e.oxw().switchView()}),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.YNc(8,Ui,14,13,"div",62),e.TgZ(9,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().registerUser()}),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",37)(13,"span"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"a",38),e.NdJ("click",function(){return e.CHM(t),e.oxw().routeToSignIn()}),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"span"),e._uU(20),e.ALo(21,"translate"),e.qZA()()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.registerForm),e.xp6(3),e.Oqu(e.lcZ(4,9,"onBoarding.messages.infoMessages.message1")),e.xp6(3),e.hij(" ",e.lcZ(7,11,"login.buttons.button7"),""),e.xp6(2),e.Q6J("ngIf",t.otpView),e.xp6(1),e.Q6J("disabled",t.registerForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(11,13,"onBoarding.buttons.button1")," "),e.xp6(4),e.Oqu(e.lcZ(15,15,"onBoarding.pageDetails.para3")),e.xp6(3),e.Oqu(e.lcZ(18,17,"onBoarding.pageDetails.para4")),e.xp6(3),e.Oqu(e.lcZ(21,19,"onBoarding.pageDetails.para5"))}}const ni=["captcha_version","captcha_api_key"];let ai=(()=>{class i extends a.e{constructor(t){super(),this.formBuilder=t,this.constants=p.gT,this.minLength=7,this.maxLength=15,this.initDate=[],this.resgistrationResCode=null,this.errorCode=null,this.successCode=null,this.passwordToogle=!1,this.confirmPasswordToggle=!1,this.allowedCaptcha=!1,this.submitAttempt=!1,this.otpView=!1,this.currentCaptcha=this.captchaVersionConst.default}ngOnInit(){this.utilityService.startNgxUiSpinner(),this.dialCodeList=p.gT.dialCode.dialCodeList,this.initRegisterForm(),this.initDatepicker(),setTimeout(()=>{var t;this.config=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration,this.isDisableRegistration&&this.routeToSignIn(),(this.isMobileNumberRequired||this.isMobileNumberEnabled)&&this.addMobileNumberField(),this.utilityService.stopNgxUiSpinner()},5e3)}ngAfterViewInit(){(this.isMobileNumberRequired||this.isMobileNumberEnabled)&&this.addMobileNumberField()}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(t=>(0,v.mG)(this,void 0,void 0,function*(){t?(this.allowedCaptcha=t.indexOf(p.m8.ON_BOARDING)>-1,this.allowedCaptcha&&(ni.forEach(o=>{this.registerForm.addControl(o,new r.NI("",r.kI.required))}),setTimeout(()=>(0,v.mG)(this,void 0,void 0,function*(){const o=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.registerForm,o,this.captchaVersionConst.default)}),1e3))):this.allowedCaptcha=!1}))}addMobileNumberField(){this.registerForm.addControl("dialcode",new r.NI(null,[r.kI.pattern("^[0-9]+$"),r.kI.maxLength(3),r.kI.required])),this.registerForm.addControl("contact",new r.NI(null,[r.kI.pattern("^[0-9]+$"),r.kI.maxLength(this.maxLength),r.kI.minLength(this.minLength),r.kI.required]))}get privacyPolicy(){return this.utilityService.externalUrlAppend("privacy-policy")}get processingOfPersonalData(){return this.utilityService.externalUrlAppend("processing-personal-data")}initRegisterForm(){this.registerForm=this.formBuilder.group({emailid:["",[r.kI.pattern(p.Wg.email_caps_allowed),r.kI.required]],password:["",[r.kI.pattern(p.hE),r.kI.required]],confirmPassword:["",r.kI.required],instructionAgreed:["",r.kI.requiredTrue],missioncode:[this.sessionService.tenent],countrycode:[this.sessionService.countryCode],languageCode:this.sessionService.appLanguageCode},{validator:this.utilityService.MatchPassword("password","confirmPassword")})}get registerF(){return this.registerForm.controls}submitV2Captcha(t){this.utilityService.patchCaptchaValue(this.registerForm,t,this.captchaVersionConst.alternate)}switchView(){return(0,v.mG)(this,void 0,void 0,function*(){this.otpView=!1,this.registerForm.removeControl("otp")})}get isMobileNumberRequired(){var t,o,n,l;return this.config=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration,(null===(o=this.config)||void 0===o?void 0:o.enableOTPLoginRegistration)&&!this.otpView&&!(null===(n=this.registerForm)||void 0===n?void 0:n.contains("dialcode"))&&this.addMobileNumberField(),null===(l=this.config)||void 0===l?void 0:l.enableOTPLoginRegistration}get isMobileNumberEnabled(){var t;const o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration;return(null==o?void 0:o.enableMobileNoRegistration)&&this.addMobileNumberField(),null==o?void 0:o.enableMobileNoRegistration}registerUser(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.submitAttempt=!0,this.registerForm.invalid)return;if(this.isMobileNumberRequired&&!this.otpView)return void(yield this.generateOtp());const n=this.registerForm.value;n.password=this.encriptionPassword(null===(t=this.registerForm.value)||void 0===t?void 0:t.password),n.confirmPassword=this.encriptionPassword(null===(o=this.registerForm.value)||void 0===o?void 0:o.confirmPassword),n.cultureCode=this.sessionService.appCultureCode;const l=yield this.httpService.payloadWithoutTokenPost(p.gT.api.registration,n).toPromise().then(d=>d).catch(d=>d),c="onBoarding.messages.status.";if("200"===l.code||"203"===l.code)this.registerForm.reset(),this.resgistrationResCode=c+l.code;else{if("415"===l.error.code||"414"===l.error.code||"416"===l.error.code)throw this.resgistrationResCode=c+l.error.code,l;if("422"!==l.error.code&&"423"!==l.error.code&&"424"!==l.error.code&&"999"!==l.error.code)throw l;this.errorCode=c+l.error.code,setTimeout(()=>{this.errorCode=null},5e3)}}catch(n){if(!this.allowedCaptcha)return;this.allowedCaptcha&&this.sessionService.captchaMode===this.captchaVersionConst.alternate&&(this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.registerForm,ni),this.utilityService.resetCaptcha())}})}generateOtp(){var t,o,n,l;return(0,v.mG)(this,void 0,void 0,function*(){try{if(!(null===(t=this.registerForm.get("contact"))||void 0===t?void 0:t.valid)||!(null===(o=this.registerForm.get("dialcode"))||void 0===o?void 0:o.valid))return;{const c={missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,contactNo:null===(n=this.registerForm.get("contact"))||void 0===n?void 0:n.value,dialCode:null===(l=this.registerForm.get("dialcode"))||void 0===l?void 0:l.value,action:"Register"},d=yield this.httpService.basicPayload(p.gT.api.generateOtp,c,"gotp").toPromise().catch(f=>f).then(f=>f),_="onBoarding.messages.status.";(null==d?void 0:d.isOTPSend)?(this.successCode=_+"201",setTimeout(()=>{this.successCode=null},4e3),this.registerForm.addControl("otp",new r.NI(null,[r.kI.pattern("^[0-9]+$"),r.kI.required])),this.otpView=!0):("421"===d.error.code||"416"===d.error.code||"424"===d.error.code)&&(this.errorCode=_+d.error.code,setTimeout(()=>{this.errorCode=null},5e3))}}catch(c){console.log(c)}})}mobileNumberlength(t){try{const o=this.utilityService.contactNoLength(t.value);"Default Value"===o?(this.minLength=7,this.maxLength=15):(this.minLength=o?+o:7,this.maxLength=o?+o:15),this.registerForm.valueChanges.subscribe(n=>{this.registerForm.controls.contact.setValidators([r.kI.pattern("^[0-9]+$"),r.kI.maxLength(this.maxLength),r.kI.minLength(this.minLength),r.kI.required])}),console.log(this.maxLength)}catch(o){console.log(o)}}routeToSignIn(){window.location.replace(`${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/login`)}get isPersonalEnabled(){var t;const o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration;return(null==o?void 0:o.enablePersonalOnRegistration)&&(this.registerForm.addControl("firstName",new r.NI(null,[r.kI.pattern(p.Wg.NAME),r.kI.required])),this.registerForm.addControl("lastName",new r.NI(null,[r.kI.pattern(p.Wg.NAME),r.kI.required])),this.registerForm.addControl("dateOfBirth",new r.NI(null,[r.kI.required]))),null==o?void 0:o.enablePersonalOnRegistration}initDatepicker(){const t=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY");this.initDate.maxDOB={year:+t.format("YYYY"),month:+t.format("MM"),day:+t.format("DD")}}get isDisableRegistration(){var t;const o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration;return null==o?void 0:o.isRegistrationDisabled}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-on-boarding"]],viewQuery:function(t,o){if(1&t&&e.Gf(O,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:16,vars:12,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],[4,"ngIf"],[3,"formGroup",4,"ngIf"],[1,"alert-warning",2,"border-left","5px solid"],[1,"alert","alert-warning","border-0","rounded-0","py-20","pl-50"],[1,"mb-15","fs-24"],[1,"border-success",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-check-circle-o","fs-24","mb-0"],[1,"col",3,"translate"],[1,"alert-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20"],[1,"fa","fa-times-circle","fs-24","mb-0"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","jane.doe@email.com","matInput","","formControlName","emailid","type","text","autocomplete","off"],["matInput","","formControlName","password","placeholder","**********","autocomplete","off",3,"type"],["tabindex","0",1,"cursor-pointer","icon-toggle","position-absolute","right-0",3,"ngClass","keypress","mouseenter","mouseleave","click"],["matInput","","formControlName","confirmPassword","placeholder","**********","autocomplete","off",3,"type"],["class","row align-items-end",3,"ngClass",4,"ngIf"],[1,"form-group"],["formControlName","instructionAgreed",1,"mat-checkbox-brand","mr-5"],[1,"text-wrap"],["target","_blank",1,"c-brand-orange","text-decoration-underline",3,"href"],[4,"ngIf","ngIfElse"],["notrus",""],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer","mx-5",3,"click"],[1,"alert-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20"],[1,"fa","fa-info-circle","fs-24","mb-0"],[1,"col"],[3,"ngClass"],["matInput","","formControlName","firstName","type","text","autocomplete","off",3,"placeholder"],["matInput","","formControlName","lastName","type","text","autocomplete","off",3,"placeholder"],[1,"datepicker-div","form-group"],["ngbDatepicker","","autocomplete","off","formControlName","dateOfBirth",1,"form-control","input-lg","mt-5",3,"minDate","maxDate","placeholder"],["datePickerReference1","ngbDatepicker"],[1,"input-group-addon",3,"click"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"row","align-items-end",3,"ngClass"],[1,"col-12","col-sm-12"],[1,"col-12","col-sm-4","col-lg-4","pr-sm-1"],["appDefaultSelect","","formControlName","dialcode","placeholder","44",3,"options","valueKey","selectionChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-sm-8"],["placeholder","1234567890","matInput","","formControlName","contact","type","text","autocomplete","off"],[3,"value"],[1,"c-brand-grey-para","fs-sm-16","mb-20"],["class","form-group",3,"ngClass",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand","mb-10"],["matInput","","formControlName","otp","placeholder","**********","autocomplete","off",3,"type"],[1,"c-brand-grey-para","text-decoration-underline",2,"cursor","pointer",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"h1",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p",5),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,y,6,3,"ng-container",6),e.YNc(11,x,10,4,"ng-container",6),e.YNc(12,Z,7,1,"ng-container",6),e.YNc(13,M,7,1,"ng-container",6),e.YNc(14,oi,58,50,"form",7),e.YNc(15,qi,22,21,"form",7),e.qZA()()()()),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,8,"onBoarding.headerLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(9,10,"onBoarding.pageDetails.para1")),e.xp6(2),e.Q6J("ngIf",o.isPtFlow&&(null==o.config?null:o.config.isCaptureMobileNumberOTPvalidation)),e.xp6(1),e.Q6J("ngIf",o.resgistrationResCode),e.xp6(1),e.Q6J("ngIf",o.otpView&&o.successCode),e.xp6(1),e.Q6J("ngIf",o.errorCode),e.xp6(1),e.Q6J("ngIf",!o.resgistrationResCode&&!o.otpView),e.xp6(1),e.Q6J("ngIf",!o.resgistrationResCode&&o.otpView))},directives:[X.a8,w.O5,D.Pi,r._Y,r.JL,r.sg,w.mk,q.KE,u.Nt,r.Fj,r.JJ,r.u,J.J4,ae.gD,ce,ae.$L,w.sg,te.ey,le.oG,V.lW],pipes:[D.X$,ue.Uw],encapsulation:2}),i})();var re=A(2340),Ve=A(974),et=A(6106),Ye=A(2194);let qe=(()=>{class i{constructor(t,o,n){this.httpServiceHandler=t,this.sessionService=o,this.contentFulService=n}getApplicationSchema(){return(0,v.mG)(this,void 0,void 0,function*(){return re.N.localschema?this.httpServiceHandler.doGet(p.gT.schema.postLogin).toPromise():(yield this.contentFulService.getMockSchema())&&this.sessionService.getFullApplicationSchema()?this.sessionService.getFullApplicationSchema():this.httpServiceHandler.doGet(p.gT.schema.postLogin).toPromise()})}getGssApplicationSchema(t){return(0,v.mG)(this,void 0,void 0,function*(){return re.N.localschema&&"visafee"==t?this.httpServiceHandler.doGet(p.gT.schema.gssVisaFeePayment).toPromise():re.N.localschema&&"docsub"==t?this.httpServiceHandler.doGet(p.gT.schema.gssDocumentSubmission).toPromise():(yield this.contentFulService.getMockSchema())&&this.sessionService.getFullApplicationSchema()?this.sessionService.getFullApplicationSchema():this.httpServiceHandler.doGet(p.gT.schema.postLogin).toPromise()})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Ve.O),e.LFG(et.m),e.LFG(Ye.a))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Qe=A(4095),Ct=A(1057);let si=(()=>{class i{constructor(t,o,n){this.elementRef=t,this.ngZone=o,this.dom=n,this.recaptchaSuccess=new e.vpe,this.recaptchaExpired=new e.vpe,this.recaptchaError=new e.vpe,this.scriptId="volt-recaptcha"}ngOnInit(){this.addScript(),this.registerCaptchaCallback1()}ngOnDestroy(){this.widgetId=null}registerCaptchaCallback(){window.recaptchaCallback=()=>{const t={sitekey:re.N.turnsTile_CaptchaKey,callback:this.onSuccessCallback.bind(this),"error-callback":this.onErrorCallback.bind(this),"expired-callback":this.onExpiredCallback.bind(this)};this.widgetId=this.renderCaptcha(t)}}registerCaptchaCallback1(){window.recaptchaCallback1=()=>{const t={sitekey:re.N.turnsTile_CaptchaKey,callback:this.onSuccessCallback1.bind(this)};this.widgetId=this.renderCaptcha1(t)}}addScript(){const t=this.dom.getElementById(this.scriptId);if(null==t||t.remove(),null!=this.dom.getElementById(this.scriptId))return;const o=this.dom.createElement("script");o.src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=recaptchaCallback1",o.id=this.scriptId,o.async=!0,o.defer=!0,this.dom.body.appendChild(o)}onSuccessCallback(t){this.ngZone.run(()=>{this.recaptchaSuccess.emit(t)})}onSuccessCallback1(t){this.ngZone.run(()=>{this.recaptchaSuccess.emit(t)})}onErrorCallback(){this.ngZone.run(()=>{this.recaptchaError.emit()})}onExpiredCallback(){this.ngZone.run(()=>{this.recaptchaExpired.emit()})}renderCaptcha1(t){return window.turnstile.render(this.elementRef.nativeElement,t)}renderCaptcha(t){return window.rechaptcha.render(this.elementRef.nativeElement,t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(w.K0))},i.\u0275dir=e.lG2({type:i,selectors:[["","appCloudFlareRecaptcha",""]],outputs:{recaptchaSuccess:"recaptchaSuccess",recaptchaExpired:"recaptchaExpired",recaptchaError:"recaptchaError"}}),i})();function Gi(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1),e.NdJ("recaptchaSuccess",function(n){return e.CHM(t),e.oxw().onRecaptchaSuccess(n)}),e.qZA(),e.BQk()}}let Bt=(()=>{class i{constructor(t){this.utilityService=t,this.v2CaptchaSet=new e.vpe,this.captchaType="v2"}onRecaptchaSuccess(t){this.captchaToken=t,this.v2CaptchaSet.emit(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ct.t))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-cloudflare-captcha-container"]],inputs:{captchaType:"captchaType",action:"action"},outputs:{v2CaptchaSet:"v2CaptchaSet"},decls:1,vars:1,consts:[[4,"ngIf"],["appCloudFlareRecaptcha","",1,"my-10",3,"recaptchaSuccess"]],template:function(t,o){1&t&&e.YNc(0,Gi,2,0,"ng-container",0),2&t&&e.Q6J("ngIf","v2"===o.captchaType)},directives:[w.O5,si],encapsulation:2}),i})(),li=(()=>{class i{constructor(t,o,n){this.elementRef=t,this.ngZone=o,this.dom=n,this.recaptchaSuccess=new e.vpe,this.recaptchaExpired=new e.vpe,this.recaptchaError=new e.vpe,this.scriptId="volt-recaptcha"}ngOnInit(){this.registerCaptchaCallback(),this.addScript()}ngOnDestroy(){this.widgetId=null}registerCaptchaCallback(){window.recaptchaCallback=()=>{const t={sitekey:re.N.V2_CaptchaKey,callback:this.onSuccessCallback.bind(this),"error-callback":this.onErrorCallback.bind(this),"expired-callback":this.onExpiredCallback.bind(this)};this.widgetId=this.renderCaptcha(t)}}addScript(){if(null!=this.dom.getElementById(this.scriptId))return;const t=this.dom.createElement("script");t.src="https://www.recaptcha.net/recaptcha/api.js?onload=recaptchaCallback&render=explicit",t.id=this.scriptId,t.async=!0,t.defer=!0,this.dom.body.appendChild(t)}onSuccessCallback(t){this.ngZone.run(()=>{this.recaptchaSuccess.emit(t)})}onErrorCallback(){this.ngZone.run(()=>{this.recaptchaError.emit()})}onExpiredCallback(){this.ngZone.run(()=>{this.recaptchaExpired.emit()})}renderCaptcha(t){return window.grecaptcha.render(this.elementRef.nativeElement,t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(w.K0))},i.\u0275dir=e.lG2({type:i,selectors:[["","appRecaptcha",""]],outputs:{recaptchaSuccess:"recaptchaSuccess",recaptchaExpired:"recaptchaExpired",recaptchaError:"recaptchaError"}}),i})();function Vi(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",1),e.NdJ("recaptchaSuccess",function(n){return e.CHM(t),e.oxw().onRecaptchaSuccess(n)}),e.qZA(),e.BQk()}}let Pt=(()=>{class i{constructor(t){this.utilityService=t,this.v2CaptchaSet=new e.vpe,this.captchaType="v3"}generateToken(){return(0,v.mG)(this,void 0,void 0,function*(){if(this.captchaToken="","v3"===this.captchaType)return new Promise((t,o)=>{this.utilityService.executeCapctha(this.action).then(n=>{t(n),this.captchaToken=n})});this.utilityService.resetCaptcha()})}onRecaptchaSuccess(t){this.captchaToken=t,this.v2CaptchaSet.emit(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ct.t))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-captcha-container"]],inputs:{captchaType:"captchaType",action:"action"},outputs:{v2CaptchaSet:"v2CaptchaSet"},decls:1,vars:1,consts:[[4,"ngIf"],["appRecaptcha","",1,"my-10",3,"recaptchaSuccess"]],template:function(t,o){1&t&&e.YNc(0,Vi,2,0,"ng-container",0),2&t&&e.Q6J("ngIf","v2"===o.captchaType)},directives:[w.O5,li],encapsulation:2}),i})();const Ri=["captchaContainer"];function Ji(i,s){1&i&&(e.TgZ(0,"p",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.pageDetails.para1")))}function Yi(i,s){1&i&&(e.TgZ(0,"p",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.pageDetails.para5")))}const Qi=function(i){return{count:i}};function Bi(i,s){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",e.xi3(2,1,"commonSections.messages.errorMessages.message24",e.VKq(4,Qi,t.remainingCount))," ")}}function ji(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",13)(2,"div",14),e._UZ(3,"i",15),e.TgZ(4,"div"),e._uU(5),e.qZA(),e.YNc(6,Bi,3,6,"div",8),e.qZA()(),e.BQk()),2&i){const t=e.oxw(3);e.xp6(5),e.Oqu(t.actiateMailMessage),e.xp6(1),e.Q6J("ngIf",t.isRemainingCount)}}function Hi(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",16)(2,"div",17)(3,"div",18)(4,"div",19),e._UZ(5,"i",20),e.qZA(),e._UZ(6,"div",21),e.qZA()()(),e.BQk()),2&i){const t=e.oxw(3);e.xp6(6),e.Q6J("translate",t.successCode)}}function $i(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",22)(2,"div",23)(3,"div",18)(4,"div",19),e._UZ(5,"i",24),e.qZA(),e._UZ(6,"div",21),e.qZA()()(),e.BQk()),2&i){const t=e.oxw(3);e.xp6(6),e.Q6J("translate",t.errorCode)}}function Wi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-radio-group",25),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(3).slotType=n})("change",function(n){return e.CHM(t),e.oxw(3).radioChange(n)}),e.TgZ(1,"div",26)(2,"mat-radio-button",27),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",26)(6,"mat-radio-button",27),e._uU(7),e.ALo(8,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(3);e.Q6J("ngModel",t.slotType),e.xp6(2),e.Q6J("value",0),e.xp6(1),e.Oqu(e.lcZ(4,5,"login.formLabel.label1")),e.xp6(3),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(8,7,"login.formLabel.label3"))}}function Ki(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function L(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message1")," "))}function H(i,s){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,Ki,3,3,"div",38),e.YNc(2,L,3,3,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.loginF.username.errors.required),e.xp6(1),e.Q6J("ngIf",t.loginF.username.errors.pattern)}}function m(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function P(i,s){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,m,3,3,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.loginF.password.errors.required)}}function G(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-cloudflare-captcha-container",40,41),e.NdJ("v2CaptchaSet",function(n){return e.CHM(t),e.oxw(4).submitV2Captcha(n)}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("action",t.constants.captcha_action.LOGIN)("captchaType",t.currentCaptcha)}}function F(i,s){1&i&&(e.TgZ(0,"div",37)(1,"div",39),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"commonSections.messages.requiredMessages.message1")," "))}function Ce(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-captcha-container",40,42),e.NdJ("v2CaptchaSet",function(n){return e.CHM(t),e.oxw(4).submitV2Captcha(n)}),e.qZA(),e.YNc(3,F,4,3,"div",30),e.BQk()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("action",t.constants.captcha_action.LOGIN)("captchaType",t.currentCaptcha),e.xp6(2),e.Q6J("ngIf",(null==t.loginF.captcha_api_key||null==t.loginF.captcha_api_key.errors?null:t.loginF.captcha_api_key.errors.required)&&t.loginSubmit)}}const ge=function(i){return{"form-error":i}};function de(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",28)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",29),e._uU(6,"*"),e.qZA()(),e.YNc(7,H,3,2,"div",30),e.TgZ(8,"mat-form-field",31),e._UZ(9,"input",32),e.qZA()(),e.TgZ(10,"div",28)(11,"div"),e._uU(12),e.ALo(13,"translate"),e.TgZ(14,"span",29),e._uU(15,"*"),e.qZA()(),e.YNc(16,P,2,1,"div",30),e.TgZ(17,"mat-form-field",31),e._UZ(18,"input",33),e.TgZ(19,"i",34),e.NdJ("keypress",function(){e.CHM(t);const n=e.oxw(3);return n.passwordToogle=!n.passwordToogle})("mouseenter",function(){return e.CHM(t),e.oxw(3).passwordToogle=!0})("mouseleave",function(){return e.CHM(t),e.oxw(3).passwordToogle=!1})("click",function(){return e.CHM(t),e.oxw(3).passwordToogle=!0}),e.qZA()()(),e.ynx(20),e._UZ(21,"div",35),e.BQk(),e.YNc(22,G,3,2,"ng-container",8),e.YNc(23,Ce,4,3,"ng-container",8),e.TgZ(24,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).submitLogin()}),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(17,ge,t.loginF.username.touched&&t.loginF.username.invalid)),e.xp6(2),e.Oqu(e.lcZ(4,11,"login.formLabel.label1")),e.xp6(4),e.Q6J("ngIf",t.loginF.username.touched&&t.loginF.username.errors),e.xp6(3),e.Q6J("ngClass",e.VKq(19,ge,t.loginF.password.touched&&t.loginF.password.invalid)),e.xp6(2),e.Oqu(e.lcZ(13,13,"login.formLabel.label2")),e.xp6(4),e.Q6J("ngIf",t.loginF.password.touched&&t.loginF.password.errors),e.xp6(2),e.Q6J("type",t.passwordToogle?"text":"password"),e.xp6(1),e.Q6J("ngClass",t.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),e.xp6(3),e.Q6J("ngIf",t.allowedCaptcha&&t.enableCloudFlareCaptchaLogin),e.xp6(1),e.Q6J("ngIf",t.allowedCaptcha&&!t.isChinaCountry&&!t.isServicesDomain),e.xp6(2),e.hij(" ",e.lcZ(26,15,"login.buttons.button8")," ")}}function me(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Ee(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"login.messages.errorMessages.message1")," "))}function ke(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"login.messages.errorMessages.message2")," "))}function Re(i,s){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,me,3,3,"div",38),e.YNc(2,Ee,3,3,"div",38),e.YNc(3,ke,3,3,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.loginF.dailcode.errors.required),e.xp6(1),e.Q6J("ngIf",t.loginF.dailcode.errors.pattern),e.xp6(1),e.Q6J("ngIf",!t.loginF.dailcode.errors.pattern&&t.loginF.dailcode.errors.maxlength)}}function Ge(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function j(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message31")," "))}function Ie(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message27")," "))}function Nt(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message25")," "))}function tt(i,s){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,Ge,3,3,"div",38),e.YNc(2,j,3,3,"div",38),e.YNc(3,Ie,3,3,"div",38),e.YNc(4,Nt,3,3,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.loginF.contact||null==t.loginF.contact.errors?null:t.loginF.contact.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.loginF.contact||null==t.loginF.contact.errors?null:t.loginF.contact.errors.pattern),e.xp6(1),e.Q6J("ngIf",null==t.loginF.contact||null==t.loginF.contact.errors?null:t.loginF.contact.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.loginF.contact||null==t.loginF.contact.errors?null:t.loginF.contact.errors.maxlength)}}function ct(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",43)(2,"div",44)(3,"div",45)(4,"div"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"span",29),e._uU(8,"*"),e.qZA()(),e.YNc(9,Re,4,3,"div",30),e.TgZ(10,"mat-form-field",31),e._UZ(11,"input",46),e.qZA()()(),e.TgZ(12,"div",47)(13,"div",45)(14,"div"),e._UZ(15,"span",29),e.qZA(),e.YNc(16,tt,5,4,"div",30),e.TgZ(17,"mat-form-field",31),e._UZ(18,"input",48),e.qZA()()()(),e.TgZ(19,"button",49),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).generateOtp()}),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(9,ge,t.loginF.contact.touched&&t.loginF.contact.invalid||t.loginF.dailcode.touched&&t.loginF.dailcode.invalid)),e.xp6(4),e.hij("",e.lcZ(6,5,"login.formLabel.label3"),"s"),e.xp6(4),e.Q6J("ngIf",t.loginF.dailcode.touched&&t.loginF.dailcode.errors),e.xp6(7),e.Q6J("ngIf",t.loginF.contact.touched&&t.loginF.contact.errors),e.xp6(4),e.hij(" ",e.lcZ(21,7,"commonSections.buttons.button19")," ")}}function jt(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Pe(i,s){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,jt,3,3,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.loginF?null:t.loginF.otp.errors.required)}}function Ae(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"login.messages.errorMessages.message4")," "))}function Dt(i,s){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,Ae,3,3,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.loginF?null:t.loginF.otp.errors.pattern)}}function xe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",55),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).generateOtp()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"applicantInformation.formLabel.label22")))}function ee(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",50)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",28)(6,"div"),e._uU(7),e.ALo(8,"translate"),e.TgZ(9,"span",29),e._uU(10,"*"),e.qZA()(),e.YNc(11,Pe,2,1,"div",30),e.YNc(12,Dt,2,1,"div",30),e.TgZ(13,"mat-form-field",51),e._UZ(14,"input",52),e.TgZ(15,"i",34),e.NdJ("keypress",function(){e.CHM(t);const n=e.oxw(3);return n.passwordToogle=!n.passwordToogle})("mouseenter",function(){return e.CHM(t),e.oxw(3).passwordToogle=!0})("mouseleave",function(){return e.CHM(t),e.oxw(3).passwordToogle=!1})("click",function(){return e.CHM(t),e.oxw(3).passwordToogle=!0}),e.qZA()(),e.YNc(16,xe,3,3,"span",53),e.qZA(),e.TgZ(17,"button",54),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).submitLogin()}),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,10,"login.messages.infoMessages.message1")),e.xp6(2),e.Q6J("ngClass",e.VKq(16,ge,(null==t.loginF||null==t.loginF.otp?null:t.loginF.otp.touched)&&(null==t.loginF?null:t.loginF.otp.invalid))),e.xp6(2),e.Oqu(e.lcZ(8,12,"login.messages.errorMessages.message3")),e.xp6(4),e.Q6J("ngIf",(null==t.loginF||null==t.loginF.otp?null:t.loginF.otp.touched)&&(null==t.loginF?null:t.loginF.otp.errors)),e.xp6(1),e.Q6J("ngIf",(null==t.loginF?null:t.loginF.otp.touched)&&(null==t.loginF?null:t.loginF.otp.errors)),e.xp6(2),e.Q6J("type",t.passwordToogle?"text":"password"),e.xp6(1),e.Q6J("ngClass",t.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),e.xp6(1),e.Q6J("ngIf",!(null!=t.userDetails&&t.userDetails.enableOTPAuthentication)),e.xp6(1),e.Q6J("disabled",t.loginForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(19,14,"login.buttons.button8")," ")}}function be(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",58)(1,"a",59),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(4);return n.route(n.constants.routes.FORGOT_PASSWORD)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"login.buttons.button5")))}function Le(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",58)(1,"a",59),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(4);return n.route(n.constants.routes.ON_BOARDING)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"login.buttons.button9")))}function Ht(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",58)(1,"a",59),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(4);return n.route(n.constants.routes.RESEND_EMAIL_ACTIVATION)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"login.buttons.button10")))}function ri(i,s){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,be,4,3,"div",57),e.YNc(2,Le,4,3,"div",57),e.YNc(3,Ht,4,3,"div",57),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",0===t.slotType),e.xp6(1),e.Q6J("ngIf",!t.isDisableRegistration&&!t.appConfigure.isBelgiumHandshakeEnabled),e.xp6(1),e.Q6J("ngIf",!t.appConfigure.isBelgiumHandshakeEnabled)}}function $t(i,s){if(1&i&&(e.TgZ(0,"div",3)(1,"div",4)(2,"mat-card",5)(3,"h1",6),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,Ji,3,3,"p",7),e.YNc(7,Yi,3,3,"p",7),e.YNc(8,ji,7,2,"ng-container",8),e.YNc(9,Hi,7,1,"ng-container",8),e.YNc(10,$i,7,1,"ng-container",8),e.YNc(11,Wi,9,9,"mat-radio-group",9),e.TgZ(12,"form",10),e.YNc(13,de,27,21,"ng-container",8),e.YNc(14,ct,22,11,"ng-container",8),e.YNc(15,ee,20,18,"ng-container",8),e.YNc(16,ri,4,3,"div",11),e.qZA()()()()),2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,12,"login.headerLabel.label1")),e.xp6(2),e.Q6J("ngIf",!t.isOtpLoginEnabled&&!t.otpScreen),e.xp6(1),e.Q6J("ngIf",t.isOtpLoginEnabled&&!t.otpScreen),e.xp6(1),e.Q6J("ngIf",t.actiateMailMessage),e.xp6(1),e.Q6J("ngIf",t.otpScreen&&t.successCode),e.xp6(1),e.Q6J("ngIf",t.errorCode),e.xp6(1),e.Q6J("ngIf",t.isOtpLoginEnabled&&!t.otpScreen),e.xp6(1),e.Q6J("formGroup",t.loginForm),e.xp6(1),e.Q6J("ngIf",0===t.slotType),e.xp6(1),e.Q6J("ngIf",1===t.slotType&&!t.otpScreen),e.xp6(1),e.Q6J("ngIf",1===t.slotType&&t.otpScreen),e.xp6(1),e.Q6J("ngIf",!(null!=t.userDetails&&t.userDetails.enableOTPAuthentication))}}function zi(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",22)(2,"div",23)(3,"div",18)(4,"div",19),e._UZ(5,"i",24),e.qZA(),e._UZ(6,"div",21),e.qZA()()(),e.BQk()),2&i){const t=e.oxw(3);e.xp6(6),e.Q6J("translate",t.errorCode)}}function Je(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",22)(2,"div",63),e._UZ(3,"i",15),e.TgZ(4,"div"),e._uU(5),e.qZA()()(),e.BQk()),2&i){const t=e.oxw(3);e.xp6(5),e.Oqu(t.actiateErrorMessage)}}function $e(i,s){1&i&&(e.ynx(0),e.TgZ(1,"div",64)(2,"div",65)(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.BQk()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"commonSections.messages.infoMessages.message4")))}function ci(i,s){1&i&&(e.TgZ(0,"p",66),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span",29),e._uU(4,"*"),e.qZA()()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"login.formLabel.label3"),""))}function ui(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function di(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"login.messages.errorMessages.message1")," "))}function pi(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"login.messages.errorMessages.message2")," "))}function mi(i,s){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,ui,3,3,"div",38),e.YNc(2,di,3,3,"div",38),e.YNc(3,pi,3,3,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.updatesForm.controls||null==t.updatesForm.controls.dialCode?null:t.updatesForm.controls.dialCode.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.updatesForm.controls||null==t.updatesForm.controls.dialCode?null:t.updatesForm.controls.dialCode.errors.pattern),e.xp6(1),e.Q6J("ngIf",!(null!=t.updatesForm.controls&&null!=t.updatesForm.controls.dialCode&&t.updatesForm.controls.dialCode.errors.pattern)&&(null==t.updatesForm.controls||null==t.updatesForm.controls.dialCode?null:t.updatesForm.controls.dialCode.errors.maxlength))}}function We(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Xi(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message31")," "))}function eo(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message27")," "))}function ve(i,s){1&i&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message25")," "))}function to(i,s){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,We,3,3,"div",38),e.YNc(2,Xi,3,3,"div",38),e.YNc(3,eo,3,3,"div",38),e.YNc(4,ve,3,3,"div",38),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.updatesForm.controls||null==t.updatesForm.controls.contactNo||null==t.updatesForm.controls.contactNo.errors?null:t.updatesForm.controls.contactNo.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.updatesForm.controls||null==t.updatesForm.controls.contactNo||null==t.updatesForm.controls.contactNo.errors?null:t.updatesForm.controls.contactNo.errors.pattern),e.xp6(1),e.Q6J("ngIf",null==t.updatesForm.controls||null==t.updatesForm.controls.contactNo||null==t.updatesForm.controls.contactNo.errors?null:t.updatesForm.controls.contactNo.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.updatesForm.controls||null==t.updatesForm.controls.contactNo||null==t.updatesForm.controls.contactNo.errors?null:t.updatesForm.controls.contactNo.errors.maxlength)}}function it(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",70),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).saveMobileNo()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.buttons.button36")," "))}function ot(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",70),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).generateOtp()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.buttons.button1")," "))}function Ot(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",43)(2,"div",44)(3,"div",45),e.YNc(4,mi,4,3,"div",30),e.TgZ(5,"mat-form-field",31),e._UZ(6,"input",67),e.qZA()()(),e.TgZ(7,"div",47)(8,"div",45)(9,"div"),e._UZ(10,"span",29),e.qZA(),e.YNc(11,to,5,4,"div",30),e.TgZ(12,"mat-form-field",31),e._UZ(13,"input",68),e.qZA()()()(),e.YNc(14,it,3,3,"button",69),e.YNc(15,ot,3,3,"button",69),e.BQk()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(5,ge,(null==t.updatesForm.controls||null==t.updatesForm.controls.contactNo?null:t.updatesForm.controls.contactNo.touched)&&(null==t.updatesForm.controls||null==t.updatesForm.controls.contactNo?null:t.updatesForm.controls.contactNo.invalid)||(null==t.updatesForm.controls||null==t.updatesForm.controls.dialCode?null:t.updatesForm.controls.dialCode.touched)&&(null==t.updatesForm.controls||null==t.updatesForm.controls.dialCode?null:t.updatesForm.controls.dialCode.invalid))),e.xp6(3),e.Q6J("ngIf",(null==t.updatesForm.controls||null==t.updatesForm.controls.dialCode?null:t.updatesForm.controls.dialCode.touched)&&(null==t.updatesForm.controls||null==t.updatesForm.controls.dialCode?null:t.updatesForm.controls.dialCode.errors)),e.xp6(7),e.Q6J("ngIf",(null==t.updatesForm.controls||null==t.updatesForm.controls.contactNo?null:t.updatesForm.controls.contactNo.touched)&&(null==t.updatesForm.controls||null==t.updatesForm.controls.contactNo?null:t.updatesForm.controls.contactNo.errors)),e.xp6(3),e.Q6J("ngIf",!(null!=t.appConfigure&&t.appConfigure.isCaptureMobileNumberOTPvalidation)),e.xp6(1),e.Q6J("ngIf",null==t.appConfigure?null:t.appConfigure.isCaptureMobileNumberOTPvalidation)}}function Fn(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",28)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",29),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"mat-form-field",51),e._UZ(8,"input",52),e.TgZ(9,"i",34),e.NdJ("keypress",function(){e.CHM(t);const n=e.oxw(3);return n.passwordToogle=!n.passwordToogle})("mouseenter",function(){return e.CHM(t),e.oxw(3).passwordToogle=!0})("mouseleave",function(){return e.CHM(t),e.oxw(3).passwordToogle=!1})("click",function(){return e.CHM(t),e.oxw(3).passwordToogle=!0}),e.qZA()(),e.TgZ(10,"span",55),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).generateOtp()}),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"button",70),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).saveMobileNo()}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(12,ge,(null==t.updatesForm||null==t.updatesForm.otp?null:t.updatesForm.otp.touched)&&(null==t.updatesForm?null:t.updatesForm.otp.invalid))),e.xp6(2),e.Oqu(e.lcZ(4,6,"login.messages.errorMessages.message3")),e.xp6(5),e.Q6J("type",t.passwordToogle?"text":"password"),e.xp6(1),e.Q6J("ngClass",t.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),e.xp6(2),e.Oqu(e.lcZ(12,8,"applicantInformation.formLabel.label22")),e.xp6(3),e.hij(" ",e.lcZ(15,10,"commonSections.buttons.button36")," ")}}function Mn(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card-subtitle",71),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",72),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).logout()}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.BQk()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"login.pageDetails.para10")," "),e.xp6(3),e.hij(" ",e.lcZ(6,4,"login.buttons.button11")," "))}function Pn(i,s){if(1&i&&(e.TgZ(0,"div",3)(1,"div",4)(2,"mat-card",5)(3,"h1",60),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,zi,7,1,"ng-container",8),e.YNc(7,Je,6,1,"ng-container",8),e.YNc(8,$e,6,3,"ng-container",8),e.YNc(9,ci,5,3,"p",61),e.TgZ(10,"form",62),e.YNc(11,Ot,16,7,"ng-container",8),e.YNc(12,Fn,16,14,"ng-container",8),e.YNc(13,Mn,7,6,"ng-container",8),e.qZA()()()()),2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,9,"login.headerLabel.label2")),e.xp6(2),e.Q6J("ngIf",t.errorCode),e.xp6(1),e.Q6J("ngIf",t.actiateErrorMessage),e.xp6(1),e.Q6J("ngIf",t.isPtFlow&&(null==t.appConfigure?null:t.appConfigure.isCaptureMobileNumberOTPvalidation)),e.xp6(1),e.Q6J("ngIf",!t.isMobileUpdateScesses&&!t.otpScreen),e.xp6(1),e.Q6J("formGroup",t.updatesForm),e.xp6(1),e.Q6J("ngIf",!t.isMobileUpdateScesses&&!t.otpScreen),e.xp6(1),e.Q6J("ngIf",!t.isMobileUpdateScesses&&(null==t.appConfigure?null:t.appConfigure.isCaptureMobileNumberOTPvalidation)&&t.otpScreen),e.xp6(1),e.Q6J("ngIf",t.isMobileUpdateScesses)}}function Un(i,s){if(1&i&&(e.TgZ(0,"section",1),e.YNc(1,$t,17,14,"div",2),e.YNc(2,Pn,14,11,"div",2),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.updateMobileNoScreen),e.xp6(1),e.Q6J("ngIf",t.updateMobileNoScreen)}}const io=["captcha_version","captcha_api_key"];let Do=(()=>{class i extends a.e{constructor(t,o){super(),this.formBuilder=t,this.baseService=o,this.constants=p.gT,this.loginSubmit=!1,this.enableCloudFlareCaptchaLogin=!1,this.updateMobileNoScreen=!1,this.isMobileUpdateScesses=!1,this.isRemainingCount=!1,this.passwordToogle=!1,this.errorCode=null,this.successCode=null,this.actiateMailMessage=null,this.allowedCaptcha=!1,this.slotType=0,this.otpScreen=!1,this.agreeToTermsAndCondition=!1,this.currentCaptcha=this.captchaVersionConst.alternate,this.enableCloudFlareCaptchaLogin=!1,this.updateMobileNoScreen=!1,this.updatesForm=this.formBuilder.group({}),this.isMobileUpdateScesses=!1,this.actiateErrorMessage=null,this.appConfigure=[]}ngAfterViewInit(){setTimeout(()=>{this.sessionService.clearActivateMessage(),this.actiateMailMessage=null},1e4)}ngOnInit(){this.utilityService.startNgxUiSpinner(),this.utilityService.fireCustomEvent({dl_category:"Authenticate",dl_action:"Authentication page is loaded",dl_label:void 0,value:void 0});try{this.actiateMailMessage=this.sessionService.activateMessage||"",setTimeout(()=>{var o,n,l;this.enableCloudFlareCaptchaLogin=null===(n=null===(o=this.sessionService)||void 0===o?void 0:o.applicationConfiguration)||void 0===n?void 0:n.enableCloudFlareCaptchaLogin,this.appConfigure=null===(l=this.sessionService)||void 0===l?void 0:l.applicationConfiguration,this.initLoginForm(),this.checkCaptchaAllowed(),this.utilityService.stopNgxUiSpinner()},5e3)}catch(o){console.log(o)}}radioChange(t){0===t.value&&(!this.isServicesDomain&&!this.isChinaCountry&&this.allowedCaptcha&&window.location.reload(),this.loginForm.contains("username")||this.loginForm.addControl("username",new r.NI(null,[r.kI.pattern(p.Wg.email_caps_allowed),r.kI.required])),this.loginForm.contains("password")||this.loginForm.addControl("password",new r.NI(null,[r.kI.required])),this.loginForm.removeControl("dailcode"),this.loginForm.removeControl("contact"),this.loginForm.removeControl("otp")),1===t.value&&(this.loginForm.removeControl("username"),this.loginForm.removeControl("password"),!this.isServicesDomain&&!this.isChinaCountry&&this.allowedCaptcha&&io.forEach(o=>{this.loginForm.removeControl(o)}),this.loginForm.addControl("dailcode",new r.NI(null,[r.kI.pattern("^[0-9]+$"),r.kI.maxLength(3),r.kI.required])),this.loginForm.addControl("contact",new r.NI(null,[r.kI.pattern("^[0-9]+$"),r.kI.maxLength(15),r.kI.minLength(7),r.kI.required])),this.loginForm.addControl("otp",new r.NI(null,[r.kI.pattern("^[0-9]+$"),r.kI.required])))}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(t=>(0,v.mG)(this,void 0,void 0,function*(){!t||(this.allowedCaptcha=t.indexOf(p.m8.LOGIN)>-1,(this.allowedCaptcha&&!this.isServicesDomain&&!this.isChinaCountry||this.enableCloudFlareCaptchaLogin)&&(io.forEach(o=>{this.loginForm.addControl(o,new r.NI("",r.kI.required))}),setTimeout(()=>(0,v.mG)(this,void 0,void 0,function*(){if(!this.enableCloudFlareCaptchaLogin){const o=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.loginForm,o,this.captchaVersionConst.alternate)}}),1e3)))}))}initLoginForm(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.loginForm=this.formBuilder.group({username:["",[r.kI.pattern(p.Wg.email_caps_allowed),r.kI.required]],password:["",r.kI.required],missioncode:[this.sessionService.tenent],countrycode:[this.sessionService.countryCode]})}catch(t){console.log(t)}})}get isOtpLoginEnabled(){var t;const o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration;return null==o?void 0:o.enableOTPLoginRegistration}get isServicesDomain(){return window.location.hostname.indexOf("services")>-1}get loginF(){return this.loginForm.controls}get isChinaCountry(){return this.utilityService.strictCompare(this.sessionService.countryCode,"chn")||this.utilityService.strictCompare(this.sessionService.countryCode,"hkg")}submitV2Captcha(t){this.allowedCaptcha&&this.enableCloudFlareCaptchaLogin?this.utilityService.patchCaptchaValue(this.loginForm,t,this.captchaVersionConst.cloudflare,"captcha_api_key"):this.allowedCaptcha&&!this.isChinaCountry&&!this.isServicesDomain&&this.utilityService.patchCaptchaValue(this.loginForm,t,this.captchaVersionConst.alternate,"captcha_api_key")}switchView(){}generateOtp(){var t,o,n,l,c,d;return(0,v.mG)(this,void 0,void 0,function*(){try{let _;if((null===(t=this.loginForm.get("contact"))||void 0===t?void 0:t.valid)&&(null===(o=this.loginForm.get("dailcode"))||void 0===o?void 0:o.valid))_={missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,contactNo:null===(n=this.loginForm.get("contact"))||void 0===n?void 0:n.value,dialCode:null===(l=this.loginForm.get("dailcode"))||void 0===l?void 0:l.value,action:"Login"};else{if(!(null===(c=this.appConfigure)||void 0===c?void 0:c.isCaptureMobileNumberOTPvalidation)||!this.updatesForm.valid)return;_={missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,contactNo:this.updatesForm.value.contactNo,dialCode:this.updatesForm.value.dialCode,loginUser:this.userDetails.loginUser,action:"Login"}}const f=yield this.httpService.basicPayload(p.gT.api.generateOtp,_,"gotp").toPromise().catch(T=>T).then(T=>T),h="onBoarding.messages.status.";(null==f?void 0:f.isOTPSend)?(this.successCode=h+"201",(null===(d=this.appConfigure)||void 0===d?void 0:d.isCaptureMobileNumberOTPvalidation)&&this.updatesForm.addControl("otp",new r.NI(null,[r.kI.pattern("^[0-9]+$"),r.kI.required])),setTimeout(()=>{this.successCode=null},4e3),this.otpScreen=!0):("421"===f.error.code||"416"===f.error.code||"413"===f.error.code||"424"===f.error.code)&&(this.errorCode=h+f.error.code,setTimeout(()=>{this.errorCode=null},5e3))}catch(_){console.log(_)}})}get disableLogin(){return this.isPtFlow&&!this.agreeToTermsAndCondition}get criticalInformation(){var t;return null===(t=this.sessionService.resourceGroupData)||void 0===t?void 0:t.criricalinformation}submitLogin(){var t,o,n,l,c,d,_,f,h,T,I,S,R,U;return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.loginSubmit=!0,this.loginForm.invalid)return;const ie=this.loginForm.value;1===this.slotType&&!(null===(t=this.appConfigure)||void 0===t?void 0:t.isEnableOTPAuthentication)&&(delete ie.contact,delete ie.otp,delete ie.dailcode,ie.username=null===(o=this.loginForm.get("contact"))||void 0===o?void 0:o.value,ie.password=this.encriptionPassword(null===(n=this.loginForm.get("otp"))||void 0===n?void 0:n.value)),1===this.slotType&&(null===(l=this.userDetails)||void 0===l?void 0:l.enableOTPAuthentication)&&(null===(c=this.appConfigure)||void 0===c?void 0:c.isEnableOTPAuthentication)&&(delete ie.captcha_version,delete ie.captcha_api_key,delete ie.dailcode,delete ie.contact,ie.password=this.encriptionPassword(null===(d=this.loginForm.value)||void 0===d?void 0:d.password),ie.otp=null===(_=this.loginForm.get("otp"))||void 0===_?void 0:_.value),0===this.slotType&&(ie.password=this.encriptionPassword(null===(f=this.loginForm.value)||void 0===f?void 0:f.password));const he=this.utilityService.momentInstance().format("YYYY-MM-DDTHH:mm:ss"),pe=this.encriptionPassword("GA;"+he+"Z");let Q;Q=yield this.httpService.doPostLogin(p.gT.api.login,ie,pe).toPromise(),!(null==Q?void 0:Q.error)&&Q.enableOTPAuthentication&&(null===(h=this.appConfigure)||void 0===h?void 0:h.isEnableOTPAuthentication)?(this.userDetails=Q,this.loginForm.addControl("otp",new r.NI(null,[r.kI.pattern("^[0-9]+$"),r.kI.required])),this.slotType=1,this.otpScreen=!0):Q.accessToken||Q.enableOTPAuthentication?!(null==Q?void 0:Q.error)&&(""==Q.contactNumber&&""==Q.dialCode||null==Q.contactNumber&&null==Q.dialCode)?(this.userDetails=Q,this.updateMobileNoScreen=!0,yield this.sessionService.updateJwt(Q),this.initUpdateMobileForm()):(null==Q?void 0:Q.error)||(this.userDetails=Q,this.loginResponse=Q.roleName,this.sessionService.loginResponse=this.loginResponse,this.sessionService.updateLoggedEmail(this.loginForm.contains("username")?null===(U=this.loginForm.value)||void 0===U?void 0:U.username:null==Q?void 0:Q.loginUser),this.sessionService.userContactDetails={contactNumber:null==Q?void 0:Q.contactNumber,dialCode:null==Q?void 0:Q.dialCode,firstName:null==Q?void 0:Q.firstName,lastName:null==Q?void 0:Q.lastName,dateOfBirth:null==Q?void 0:Q.dateOfBirth},yield this.commonService.postLoginActivity(this.baseService,Q),this.isPtFlow&&this.commonService.loadConfiguration(),this.commonService.routeToDashboard()):(this.actiateMailMessage=421===(null===(T=null==Q?void 0:Q.error)||void 0===T?void 0:T.code)?this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(I=null==Q?void 0:Q.error)||void 0===I?void 0:I.code)).replace(" X ",` ${null==Q?void 0:Q.accountLockHours} `):this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(S=null==Q?void 0:Q.error)||void 0===S?void 0:S.code))||(null===(R=null==Q?void 0:Q.error)||void 0===R?void 0:R.description)||(null==Q?void 0:Q.message),(null==Q?void 0:Q.error)&&(null==Q?void 0:Q.remainingCount)>0&&(this.remainingCount=null==Q?void 0:Q.remainingCount,this.isRemainingCount=!0),setTimeout(()=>{this.actiateMailMessage="",this.isRemainingCount=!1},1e4))}catch(ie){if(!this.allowedCaptcha)return;if(re.N.captchaFallbackEnabled)this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.loginForm,io),this.utilityService.resetCaptcha();else{const he=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.loginForm,he,this.captchaVersionConst.default)}}})}initUpdateMobileForm(){return(0,v.mG)(this,void 0,void 0,function*(){this.updatesForm=this.formBuilder.group({dialCode:["",[r.kI.pattern("^[0-9]+$"),r.kI.maxLength(3),r.kI.required]],contactNo:["",[r.kI.pattern("^[0-9]+$"),r.kI.maxLength(15),r.kI.minLength(7),r.kI.required]]})})}saveMobileNo(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.updatesForm.invalid)return;const n={missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,loginUser:this.userDetails.loginUser,dialCode:this.updatesForm.value.dialCode,contactNumber:this.updatesForm.value.contactNo,otp:(null===(t=this.updatesForm.get("otp"))||void 0===t?void 0:t.valid)?this.updatesForm.value.otp:""},l=yield this.httpService.payloadPost(p.gT.api.updateMobileNumber,n).toPromise();l.status?this.isMobileUpdateScesses=!0:l.error&&(this.actiateErrorMessage=this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(o=null==l?void 0:l.error)||void 0===o?void 0:o.code)),setTimeout(()=>{this.actiateErrorMessage=""},5e3))}catch(n){console.log(n)}})}get isDisableRegistration(){var t,o;return null===(o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration)||void 0===o?void 0:o.isRegistrationDisabled}logout(){try{this.commonService.logoutAndRouteToLogin()}catch(t){console.log(t)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(qe))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-login"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ri,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:1,vars:1,consts:[["class","container py-15 py-md-30",4,"ngIf"],[1,"container","py-15","py-md-30"],["class","row justify-content-center",4,"ngIf"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"fs-21","fs-sm-24","mb-10"],["class","c-brand-grey-para fs-sm-18 mb-25",4,"ngIf"],[4,"ngIf"],["class","row mat-radio-group-brand mb-10",3,"ngModel","ngModelChange","change",4,"ngIf"],["autocomplete","off",3,"formGroup"],["class","row no-gutters justify-content-between mt-20",4,"ngIf"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"border-success",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-check-circle-o","fs-24","mb-0"],[1,"col",3,"translate"],[1,"alert-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20"],[1,"fa","fa-times-circle","fs-24","mb-0"],[1,"row","mat-radio-group-brand","mb-10",3,"ngModel","ngModelChange","change"],[1,"col-12","col-sm","mb-15"],[1,"mat-block",3,"value"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","jane.doe@email.com","matInput","","formControlName","username","type","text","autocomplete","off"],["matInput","","formControlName","password","placeholder","**********","autocomplete","off",3,"type"],["tabindex","0",1,"cursor-pointer","icon-toggle","position-absolute","right-0",3,"ngClass","keypress","mouseenter","mouseleave","click"],["id","widgetId"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"action","captchaType","v2CaptchaSet"],["cloudflareCaptchaContainer",""],["captchaContainer",""],[1,"row","align-items-end",3,"ngClass"],[1,"col-12","col-sm-4","col-lg-4","pr-sm-1"],[1,"form-group"],["placeholder","44","matInput","","formControlName","dailcode","type","text","autocomplete","off"],[1,"col-12","col-sm-8"],["placeholder","1234567890","matInput","","formControlName","contact","type","text","autocomplete","off"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"c-brand-grey-para","fs-sm-16","mb-20"],["appearance","outline",1,"mat-form-field-outline-brand","mb-10"],["matInput","","formControlName","otp","placeholder","**********","autocomplete","off",3,"type"],["style","cursor: pointer","class","c-brand-grey-para text-decoration-underline",3,"click",4,"ngIf"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"c-brand-grey-para","text-decoration-underline",2,"cursor","pointer",3,"click"],[1,"row","no-gutters","justify-content-between","mt-20"],["class","col-auto mb-10",4,"ngIf"],[1,"col-auto","mb-10"],[1,"fs-14","fs-sm-18","text-decoration-underline","cursor-pointer","c-inherit",3,"click"],[1,"fs-21","fs-sm-24","mb-25"],["class","c-brand-grey-para fs-20 mb-25",4,"ngIf"],[3,"formGroup"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"alert-warning",2,"border-left","5px solid"],[1,"alert","alert-warning","border-0","rounded-0","py-20","pl-50"],[1,"c-brand-grey-para","fs-20","mb-25"],["placeholder","44","matInput","","formControlName","dialCode","type","text","autocomplete","off"],["placeholder","1234567890","matInput","","formControlName","contactNo","type","text","autocomplete","off"],["mat-raised-button","","class","btn mat-btn-lg btn-block btn-brand-orange mt-15",3,"click",4,"ngIf"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"click"],[1,"mobileNoUpdateSucessMessage","mb-10"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-10","mb-10",3,"click"]],template:function(t,o){1&t&&e.YNc(0,Un,3,2,"section",0),2&t&&e.Q6J("ngIf",o.loginForm)},directives:[w.O5,X.a8,D.Pi,Qe.VQ,r.JJ,r.On,Qe.U0,r._Y,r.JL,r.sg,w.mk,q.KE,u.Nt,r.Fj,r.u,Bt,Pt,V.lW,X.$j],pipes:[D.X$],encapsulation:2}),i})();const qn=["captchaContainer"];function Gn(i,s){if(1&i&&(e.TgZ(0,"div",18)(1,"div",19),e._UZ(2,"i",20),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,1,t.message))}}const Vn=function(i,s){return{limit:i,TimeOut:s}};function Rn(i,s){if(1&i&&(e.TgZ(0,"div",21)(1,"div",22),e._UZ(2,"i",23),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(e.xi3(5,1,"forogotpassword.messages.errorMessages.message1",e.WLB(4,Vn,t.errorDescription[0],t.errorDescription[1])))}}function Jn(i,s){if(1&i&&(e.TgZ(0,"div",21)(1,"div",22),e._UZ(2,"i",20),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,1,t.errorMessage))}}function Yn(i,s){1&i&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Qn(i,s){1&i&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message1")," "))}function Bn(i,s){if(1&i&&(e.TgZ(0,"div",24),e.YNc(1,Yn,3,3,"div",25),e.YNc(2,Qn,3,3,"div",25),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.forgotF.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.forgotF.email.errors.pattern)}}function jn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",27)(1,"a",28),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).routeToSignUp()}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"forogotpassword.buttons.button2")))}const Hn=function(i){return{"form-error":i}};function $n(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"section",1)(1,"div",2)(2,"div",3)(3,"mat-card",4)(4,"div",5)(5,"h1",6),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p",7),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,Gn,6,3,"div",8),e.YNc(12,Rn,6,7,"div",9),e.YNc(13,Jn,6,3,"div",9),e.TgZ(14,"form",10),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmit()}),e.TgZ(15,"div",11)(16,"div"),e._uU(17),e.ALo(18,"translate"),e.TgZ(19,"span",12),e._uU(20,"*"),e.qZA()(),e.YNc(21,Bn,3,2,"div",13),e.TgZ(22,"mat-form-field",14),e._UZ(23,"input",15),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"button",16),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.YNc(28,jn,4,3,"div",17),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,12,"forogotpassword.headerLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(10,14,"forogotpassword.pageDetails.para1")),e.xp6(2),e.Q6J("ngIf",t.message),e.xp6(1),e.Q6J("ngIf",t.isErrorMessage),e.xp6(1),e.Q6J("ngIf",t.errorMessage),e.xp6(1),e.Q6J("formGroup",t.forgotPasswordForm),e.xp6(1),e.Q6J("ngClass",e.VKq(22,Hn,t.forgotF.email.touched&&t.forgotF.email.invalid)),e.xp6(2),e.Oqu(e.lcZ(18,16,"forogotpassword.formLabel.label1")),e.xp6(4),e.Q6J("ngIf",t.forgotF.email.touched&&t.forgotF.email.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(24,18,"commonSections.formLabel.label2")),e.xp6(3),e.hij(" ",e.lcZ(27,20,"forogotpassword.buttons.button1")," "),e.xp6(2),e.Q6J("ngIf",(null==t.sessionService?null:t.sessionService.applicationConfiguration)&&!(null!=t.sessionService&&t.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled))}}const Oo=["captcha_version","captcha_api_key"];let Eo=(()=>{class i extends a.e{constructor(t){var o;super(),this.formBuilder=t,this.constants=p.gT,this.submitAttempt=!1,this.isErrorMessage=!1,this.message="",this.errorMessage="",this.allowedCaptcha=!1,this.currentCaptcha=this.captchaVersionConst.default,(null===(o=this.sessionService)||void 0===o?void 0:o.applicationConfiguration)||this.commonService.loadConfiguration().catch(n=>n).then(n=>this.sessionService.applicationConfiguration=n)}ngOnInit(){setTimeout(()=>{this.intitForgotForm()},1e3)}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(t=>(0,v.mG)(this,void 0,void 0,function*(){t?(this.allowedCaptcha=t.indexOf(p.m8.FORGOT_PASSWORD)>-1,this.allowedCaptcha&&(Oo.forEach(o=>{this.forgotPasswordForm.addControl(o,new r.NI("",r.kI.required))}),setTimeout(()=>(0,v.mG)(this,void 0,void 0,function*(){const o=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.forgotPasswordForm,o,this.captchaVersionConst.default)}),1e3))):this.allowedCaptcha=!1}))}intitForgotForm(){this.forgotPasswordForm=this.formBuilder.group({email:["",[r.kI.pattern(p.Wg.email_caps_allowed),r.kI.required]],missioncode:[this.sessionService.tenent,r.kI.required],countrycode:[this.sessionService.countryCode,r.kI.required],languageCode:this.sessionService.appLanguageCode})}get forgotF(){var t;return null===(t=this.forgotPasswordForm)||void 0===t?void 0:t.controls}submitV2Captcha(t){this.utilityService.patchCaptchaValue(this.forgotPasswordForm,t,this.captchaVersionConst.alternate)}onSubmit(){return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.submitAttempt=!0,this.forgotPasswordForm.invalid)return;const t=this.forgotPasswordForm.value;t.cultureCode=this.sessionService.appCultureCode;const o=yield this.httpService.payloadWithoutTokenPost(p.gT.api.forgotPassword,t).toPromise();this.message="",this.errorMessage="",this.isErrorMessage=!1,"200"===o.code?(this.message=this.commonService.translateValue("commonSections.messages.statusMessages.418"),setTimeout(()=>{this.message=""},5e3)):"419"===o.error.code?(this.errorDescription=o.error.description.split(","),this.isErrorMessage=!0,setTimeout(()=>{this.isErrorMessage=!1},5e3)):o.error&&"419"!==o.error.code&&(this.errorMessage=this.commonService.translateValue("commonSections.messages.statusMessages."+o.error.code),setTimeout(()=>{this.errorMessage=""},5e3))}catch(t){if(!this.allowedCaptcha)return;this.allowedCaptcha&&this.sessionService.captchaMode===this.captchaVersionConst.alternate&&(this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.forgotPasswordForm,Oo),this.utilityService.resetCaptcha())}})}routeToSignUp(){this.commonService.routeToOnBoarding()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-forgot-password"]],viewQuery:function(t,o){if(1&t&&e.Gf(qn,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:1,vars:1,consts:[["class","container py-15 py-md-30",4,"ngIf"],[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"d-none","d-block"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],["class","border-info","style","border-left: 5px solid",4,"ngIf"],["class","border-danger","style","border-left: 5px solid",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","formControlName","email","type","text","autocomplete","off",3,"placeholder"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],["class","fs-sm-18 mt-20",4,"ngIf"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-chdangereck-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"]],template:function(t,o){1&t&&e.YNc(0,$n,29,24,"section",0),2&t&&e.Q6J("ngIf",o.forgotPasswordForm)},directives:[w.O5,X.a8,r._Y,r.JL,r.sg,w.mk,q.KE,u.Nt,r.Fj,r.JJ,r.u,V.lW],pipes:[D.X$],encapsulation:2}),i})(),Wn=(()=>{class i extends a.e{constructor(t){super(),this.activatedRoute=t}ngOnInit(){this.activateEmail(this.activatedRoute.params._value,this.activatedRoute.queryParams._value.q)}activateEmail(t,o){return(0,v.mG)(this,void 0,void 0,function*(){const n={missioncode:t.mission,countrycode:t.countrycode,token:o},l=yield this.httpService.payloadPost(p.gT.api.activateEmail,n).toPromise().then(c=>c).catch(c=>c);l&&(this.sessionService.activateMessage=l.message?l.message:l.error.description,this.router.navigateByUrl(`${t.countrycode}/${this.sessionService.appLanguageCode}/${t.mission}/${p.m8.LOGIN}`))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-activate-email"]],features:[e.qOj],decls:0,vars:0,template:function(t,o){},encapsulation:2}),i})();var gi=A(4830);let Kn=(()=>{class i{constructor(t,o){this.sessionService=t,this.commonService=o}canActivate(){const t=this.sessionService.loginStatus&&this.sessionService.containsAppSchema;return t||this.commonService.routeToLogin(),t}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(et.m),e.LFG(gi.v))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ko=(()=>{class i{constructor(t,o){this.sessionService=t,this.commonService=o}canActivate(){return this.sessionService.loginStatus&&this.sessionService.containsAppSchema?(this.commonService.routeToDashboard(),!1):(this.sessionService.clearSession(),!0)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(et.m),e.LFG(gi.v))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Ze=A(2379),oo=A(567),zn=A(5439),ft=A.n(zn),Et=A(3500),At=A(6156);const Xn=["captchaContainer"];function ea(i,s){if(1&i&&(e.TgZ(0,"div",22)(1,"span",23),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"a",24)(5,"span",25),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"span",23),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",24)(12,"span",25),e._uU(13),e.ALo(14,"translate"),e.qZA()()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"eligibilityCriteria.pageDetails.para3")),e.xp6(2),e.Q6J("href",t.attendCenter,e.LSH),e.xp6(2),e.Oqu(e.lcZ(7,8,"eligibilityCriteria.pageDetails.para4")),e.xp6(3),e.hij(" ",e.lcZ(10,10,"eligibilityCriteria.pageDetails.para5"),""),e.xp6(2),e.Q6J("href",t.appointmentCategory,e.LSH),e.xp6(2),e.Oqu(e.lcZ(14,12,"eligibilityCriteria.pageDetails.para6"))}}function ta(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37)(2,"div",38),e._uU(3,"\u2713"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"div",39),e.NdJ("click",function(){return e.CHM(t),e.oxw().openFileSelector()}),e._uU(6),e.ALo(7,"translate"),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(4),e.hij(" ",t.relativePath," "),e.xp6(2),e.hij(" ",e.lcZ(7,2,"eligibilityCriteria.buttons.button3")," ")}}function ia(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",29)(1,"div",30)(2,"h5",31)(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",32),e._uU(7," *"),e.qZA()(),e.TgZ(8,"div",33)(9,"button",34),e.NdJ("click",function(){return e.CHM(t).openFileSelector()}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,ta,8,4,"div",35),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,3,"eligibilityCriteria.placeholder.label10")),e.xp6(6),e.hij(" ",e.lcZ(11,5,"eligibilityCriteria.buttons.button2")," "),e.xp6(2),e.Q6J("ngForOf",t.files)}}function oa(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",40)(2,"div",41),e._uU(3),e.qZA()(),e.BQk()),2&i){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.dragFleError," ")}}function na(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",26)(2,"ngx-file-drop",27),e.NdJ("onFileDrop",function(n){return e.CHM(t),e.oxw().dropped(n)}),e.YNc(3,ia,13,7,"ng-template",28),e.qZA()(),e.YNc(4,oa,4,1,"ng-container",7),e.BQk()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("multiple",!1),e.xp6(2),e.Q6J("ngIf",t.dragFleError)}}function aa(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",42,43),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip1")))}function sa(i,s){if(1&i&&(e.TgZ(0,"h6",44),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.AsE(" ",null==t.vacCenters?null:t.vacCenters.length," ",e.lcZ(2,2,"eligibilityCriteria.formLabel.label17")," ")}}function la(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message1")," "))}function ra(i,s){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,la,3,3,"div",45),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode||null==t.formGroup.controls.centerCode.errors?null:t.formGroup.controls.centerCode.errors.required)}}function ca(i,s){if(1&i&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.isoCode),e.xp6(1),e.hij(" ",null==t?null:t.centerName," ")}}function ua(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",42,43),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip2")))}function da(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message9")," "))}function pa(i,s){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,da,3,3,"div",45),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.serviceType.errors.required)}}function ma(i,s){if(1&i&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}const Be=function(i){return{"form-error":i}};function _a(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",10),e._uU(6,"*"),e.qZA(),e.YNc(7,ua,4,3,"ng-container",7),e.qZA(),e.YNc(8,pa,2,1,"div",12),e.TgZ(9,"mat-form-field",13)(10,"mat-select",47),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().onServiceTypeSelection(n)}),e.ALo(11,"translate"),e.YNc(12,ma,2,2,"mat-option",15),e.ALo(13,"sortBy"),e.qZA()()(),e._UZ(14,"hr"),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(16,Be,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.serviceType?null:t.formGroup.controls.serviceType.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.serviceType?null:t.formGroup.controls.serviceType.invalid))),e.xp6(2),e.hij(" ",e.lcZ(4,9,"eligibilityCriteria.formLabel.label18"),""),e.xp6(4),e.Q6J("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip2")),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.serviceType.touched&&t.formGroup.controls.serviceType.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(11,11,"eligibilityCriteria.placeholder.label9")),e.Q6J("options",t.serviceTypes)("valueKey","code"),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,13,t.serviceTypes,"name"))("ngForTrackBy",t.trackByFn)}}function fa(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",42,43),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip3")))}function va(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message4")," "))}function ha(i,s){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,va,3,3,"div",45),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.nationalityCode||null==t.formGroup.controls.nationalityCode.errors?null:t.formGroup.controls.nationalityCode.errors.required)}}function ya(i,s){if(1&i&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.isoCode),e.xp6(1),e.hij(" ",null==t?null:t.nationalityName," ")}}function ba(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",10),e._uU(6,"*"),e.qZA(),e.YNc(7,fa,4,3,"ng-container",7),e.qZA(),e.YNc(8,ha,2,1,"div",12),e.TgZ(9,"mat-form-field",13)(10,"mat-select",48),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().onNationalityChange(n)}),e.ALo(11,"translate"),e.YNc(12,ya,2,2,"mat-option",15),e.ALo(13,"sortBy"),e.qZA()()(),e._UZ(14,"hr"),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(16,Be,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.nationalityCode?null:t.formGroup.controls.nationalityCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.nationalityCode?null:t.formGroup.controls.nationalityCode.invalid))),e.xp6(2),e.hij(" ",e.lcZ(4,9,"eligibilityCriteria.formLabel.label8"),""),e.xp6(4),e.Q6J("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip3")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.nationalityCode?null:t.formGroup.controls.nationalityCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.nationalityCode?null:t.formGroup.controls.nationalityCode.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(11,11,"eligibilityCriteria.placeholder.label4")),e.Q6J("options",t.nationalityList)("valueKey","isoCode"),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,13,t.nationalityList,"nationalityName"))("ngForTrackBy",t.trackByFn)}}function Ca(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",42,43),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip4")))}function Aa(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message2")," "))}function Ta(i,s){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,Aa,3,3,"div",45),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory||null==t.formGroup.controls.selectedSubvisaCategory.errors?null:t.formGroup.controls.selectedSubvisaCategory.errors.required)}}function Sa(i,s){if(1&i&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function xa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"div"),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"span",10),e._uU(5,"*"),e.qZA(),e.YNc(6,Ca,4,3,"ng-container",7),e.qZA(),e.YNc(7,Ta,2,1,"div",12),e.TgZ(8,"mat-form-field",13)(9,"mat-select",49),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().appointmentCatgoryChange(n)}),e.ALo(10,"translate"),e.YNc(11,Sa,2,2,"mat-option",15),e.ALo(12,"sortBy"),e.qZA()()()}if(2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(16,Be,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.invalid))),e.xp6(2),e.hij(" ",e.lcZ(3,9,"eligibilityCriteria.formLabel.label2"),""),e.xp6(4),e.Q6J("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip4")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory?null:t.formGroup.controls.selectedSubvisaCategory.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(10,11,"eligibilityCriteria.placeholder.label2")),e.Q6J("options",t.visaTypes)("valueKey","code"),e.xp6(2),e.Q6J("ngForOf",e.xi3(12,13,t.visaTypes,"name"))("ngForTrackBy",t.trackByFn)}}function La(i,s){1&i&&e._UZ(0,"hr")}function Ia(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",42,43),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip5")))}function Za(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message3")," "))}function Na(i,s){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,Za,3,3,"div",45),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode||null==t.formGroup.controls.visaCategoryCode.errors?null:t.formGroup.controls.visaCategoryCode.errors.required)}}function Da(i,s){if(1&i&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function Oa(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",42,43),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip6")))}function Ea(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message5")," "))}function ka(i,s){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,Ea,3,3,"div",45),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.entryType||null==t.formGroup.controls.entryType.errors?null:t.formGroup.controls.entryType.errors.required)}}function wa(i,s){if(1&i&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function Fa(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",8)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",10),e._uU(6,"*"),e.qZA(),e.YNc(7,Oa,4,3,"ng-container",7),e.qZA(),e.YNc(8,ka,2,1,"div",12),e.TgZ(9,"mat-form-field",13)(10,"mat-select",50),e.ALo(11,"translate"),e.YNc(12,wa,2,2,"mat-option",15),e.ALo(13,"sortBy"),e.qZA()()(),e._UZ(14,"hr"),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(16,Be,(null==t.formGroup.controls||null==t.formGroup.controls.entryType?null:t.formGroup.controls.entryType.touched)&&(null==t.formGroup.controls||null==t.formGroup.controls.entryType?null:t.formGroup.controls.entryType.invalid))),e.xp6(2),e.hij(" ",e.lcZ(4,9,"eligibilityCriteria.formLabel.label9"),""),e.xp6(4),e.Q6J("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip6")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup.controls.entryType?null:t.formGroup.controls.entryType.touched)&&(null==t.formGroup.controls.entryType?null:t.formGroup.controls.entryType.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(11,11,"eligibilityCriteria.placeholder.label5")),e.Q6J("options",t.entryTypeList)("valueKey","code"),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,13,t.entryTypeList,"name"))("ngForTrackBy",t.trackByFn)}}function Ma(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",42,43),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip7")))}function Pa(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message6")," "))}function Ua(i,s){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,Pa,3,3,"div",45),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.visaType||null==t.formGroup.controls.visaType.errors?null:t.formGroup.controls.visaType.errors.required)}}function qa(i,s){if(1&i&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function Ga(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",8)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",10),e._uU(6,"*"),e.qZA(),e.YNc(7,Ma,4,3,"ng-container",7),e.qZA(),e.YNc(8,Ua,2,1,"div",12),e.TgZ(9,"mat-form-field",13)(10,"mat-select",51),e.ALo(11,"translate"),e.YNc(12,qa,2,2,"mat-option",15),e.ALo(13,"sortBy"),e.qZA()()(),e._UZ(14,"hr"),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(16,Be,(null==t.formGroup.controls||null==t.formGroup.controls.visaType?null:t.formGroup.controls.visaType.touched)&&(null==t.formGroup.controls||null==t.formGroup.controls.visaType?null:t.formGroup.controls.visaType.invalid))),e.xp6(2),e.hij(" ",e.lcZ(4,9,"eligibilityCriteria.formLabel.label10"),""),e.xp6(4),e.Q6J("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip7")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup.controls.visaType?null:t.formGroup.controls.visaType.touched)&&(null==t.formGroup.controls.visaType?null:t.formGroup.controls.visaType.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(11,11,"eligibilityCriteria.placeholder.label6")),e.Q6J("options",t.eoiVisaTypeList)("valueKey","code"),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,13,t.eoiVisaTypeList,"name"))("ngForTrackBy",t.trackByFn)}}function Va(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",42,43),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip8")))}function Ra(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message7")," "))}function Ja(i,s){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,Ra,3,3,"div",45),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.applicationType||null==t.formGroup.controls.applicationType.errors?null:t.formGroup.controls.applicationType.errors.required)}}function Ya(i,s){if(1&i&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function Qa(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",10),e._uU(6,"*"),e.qZA(),e.YNc(7,Va,4,3,"ng-container",7),e.qZA(),e.YNc(8,Ja,2,1,"div",12),e.TgZ(9,"mat-form-field",13)(10,"mat-select",52),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().submissionTypeChange(n)}),e.ALo(11,"translate"),e.YNc(12,Ya,2,2,"mat-option",15),e.ALo(13,"sortBy"),e.qZA()()(),e._UZ(14,"hr"),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(16,Be,t.formGroup.controls.applicationType.touched&&t.formGroup.controls.applicationType.invalid)),e.xp6(2),e.hij(" ",e.lcZ(4,9,"eligibilityCriteria.formLabel.label11"),""),e.xp6(4),e.Q6J("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip8")),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.applicationType.touched&&t.formGroup.controls.applicationType.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(11,11,"eligibilityCriteria.placeholder.label7")),e.Q6J("options",t.submissionTypeList)("valueKey","code"),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,13,t.submissionTypeList,"name"))("ngForTrackBy",t.trackByFn)}}function Ba(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",42,43),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip2")))}function ja(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message10")," "))}function Ha(i,s){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,ja,3,3,"div",45),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.entryTypes.errors.required)}}function $a(i,s){if(1&i&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function Wa(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",8)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",10),e._uU(6,"*"),e.qZA(),e.YNc(7,Ba,4,3,"ng-container",7),e.qZA(),e.YNc(8,Ha,2,1,"div",12),e.TgZ(9,"mat-form-field",13)(10,"mat-select",53),e.ALo(11,"translate"),e.YNc(12,$a,2,2,"mat-option",15),e.ALo(13,"sortBy"),e.qZA()()(),e._UZ(14,"hr"),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(16,Be,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.entryTypes?null:t.formGroup.controls.entryTypes.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.entryTypes?null:t.formGroup.controls.entryTypes.invalid))),e.xp6(2),e.hij(" ",e.lcZ(4,9,"eligibilityCriteria.formLabel.label14"),""),e.xp6(4),e.Q6J("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip2")),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.entryTypes.touched&&t.formGroup.controls.entryTypes.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(11,11,"eligibilityCriteria.placeholder.label5")),e.Q6J("options",t.entryTypesList)("valueKey","code"),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,13,t.entryTypesList,"name"))("ngForTrackBy",t.trackByFn)}}function Ka(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",42,43),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip2")))}function za(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message11")," "))}function Xa(i,s){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,za,3,3,"div",45),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.feeExcemption.errors.required)}}function es(i,s){if(1&i&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function ts(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",10),e._uU(6,"*"),e.qZA(),e.YNc(7,Ka,4,3,"ng-container",7),e.qZA(),e.YNc(8,Xa,2,1,"div",12),e.TgZ(9,"mat-form-field",13)(10,"mat-select",54),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().onExemptionTypeSelection(n)}),e.ALo(11,"translate"),e.YNc(12,es,2,2,"mat-option",15),e.ALo(13,"sortBy"),e.qZA()()(),e._UZ(14,"hr"),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(16,Be,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.feeExcemption?null:t.formGroup.controls.feeExcemption.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.feeExcemption?null:t.formGroup.controls.feeExcemption.invalid))),e.xp6(2),e.hij(" ",e.lcZ(4,9,"eligibilityCriteria.formLabel.label21"),""),e.xp6(4),e.Q6J("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip2")),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.feeExcemption.touched&&t.formGroup.controls.feeExcemption.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(11,11,"eligibilityCriteria.placeholder.label11")),e.Q6J("options",t.feeExemptionList)("valueKey","code"),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,13,t.feeExemptionList,"name"))("ngForTrackBy",t.trackByFn)}}function is(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",42,43),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip2")))}function os(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message12")," "))}function ns(i,s){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,os,3,3,"div",45),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.feeExemptionDetails.errors.required)}}function as(i,s){if(1&i&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function ss(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",8)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",10),e._uU(6,"*"),e.qZA(),e.YNc(7,is,4,3,"ng-container",7),e.qZA(),e.YNc(8,ns,2,1,"div",12),e.TgZ(9,"mat-form-field",13)(10,"mat-select",55),e.ALo(11,"translate"),e.YNc(12,as,2,2,"mat-option",15),e.ALo(13,"sortBy"),e.qZA()()(),e._UZ(14,"hr"),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(16,Be,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.feeExemptionDetails?null:t.formGroup.controls.feeExemptionDetails.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.feeExemptionDetails?null:t.formGroup.controls.feeExemptionDetails.invalid))),e.xp6(2),e.hij(" ",e.lcZ(4,9,"eligibilityCriteria.formLabel.label22"),""),e.xp6(4),e.Q6J("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip2")),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.feeExemptionDetails.touched&&t.formGroup.controls.feeExemptionDetails.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(11,11,"eligibilityCriteria.placeholder.label12")),e.Q6J("options",t.feeExemptionDetails)("valueKey","code"),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,13,t.feeExemptionDetails,"name"))("ngForTrackBy",t.trackByFn)}}function ls(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",56)(2,"div",57)(3,"div",58)(4,"div",59),e._uU(5),e.ALo(6,"translate"),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,1,t.additionalPlaceholder))}}function rs(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",64,43),e.BQk())}function cs(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message4")," "))}function us(i,s){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,cs,3,3,"div",45),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.dateOfBirth||null==t.formGroup.controls.dateOfBirth.errors?null:t.formGroup.controls.dateOfBirth.errors.required)}}const ds=function(){return{year:1900,month:1,day:1}};function ps(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",10),e._uU(6,"*"),e.qZA(),e.YNc(7,rs,3,0,"ng-container",7),e.qZA(),e.YNc(8,us,2,1,"div",12),e.TgZ(9,"div",60),e._UZ(10,"input",61,62),e.ALo(12,"translate"),e.TgZ(13,"div",63),e.NdJ("click",function(){return e.CHM(t),e.MAs(11).toggle()}),e.qZA()()(),e._UZ(14,"hr"),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(11,Be,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.dateOfBirth?null:t.formGroup.controls.dateOfBirth.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.dateOfBirth?null:t.formGroup.controls.dateOfBirth.invalid))),e.xp6(2),e.hij(" ",e.lcZ(4,7,"applicantInformation.formLabel.label4"),""),e.xp6(4),e.Q6J("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip3")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.dateOfBirth?null:t.formGroup.controls.dateOfBirth.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.dateOfBirth?null:t.formGroup.controls.dateOfBirth.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(12,9,"travelMedicalInformation.placeholder.label1")),e.Q6J("minDate",e.DdM(13,ds))("maxDate",t.initDate.maxDOB)}}function ms(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",42,43),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip3")))}function gs(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message4")," "))}function _s(i,s){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,gs,3,3,"div",45),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.nationalityCode||null==t.formGroup.controls.nationalityCode.errors?null:t.formGroup.controls.nationalityCode.errors.required)}}function fs(i,s){if(1&i&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.isoCode),e.xp6(1),e.hij(" ",null==t?null:t.nationalityName," ")}}function vs(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",8)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",10),e._uU(6,"*"),e.qZA(),e.YNc(7,ms,4,3,"ng-container",7),e.qZA(),e.YNc(8,_s,2,1,"div",12),e.TgZ(9,"mat-form-field",13)(10,"mat-select",65),e.ALo(11,"translate"),e.YNc(12,fs,2,2,"mat-option",15),e.ALo(13,"sortBy"),e.qZA()()(),e._UZ(14,"hr"),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(16,Be,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.nationalityCode?null:t.formGroup.controls.nationalityCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.nationalityCode?null:t.formGroup.controls.nationalityCode.invalid))),e.xp6(2),e.hij(" ",e.lcZ(4,9,"applicantInformation.formLabel.label5"),""),e.xp6(4),e.Q6J("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip3")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.nationalityCode?null:t.formGroup.controls.nationalityCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.nationalityCode?null:t.formGroup.controls.nationalityCode.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(11,11,"eligibilityCriteria.placeholder.label4")),e.Q6J("options",t.nationalityList)("valueKey","isoCode"),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,13,t.nationalityList,"nationalityName"))("ngForTrackBy",t.trackByFn)}}function hs(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",42,43),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip3")))}function ys(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message13")," "))}function bs(i,s){if(1&i&&(e.TgZ(0,"div",40),e.YNc(1,ys,3,3,"div",45),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.paymentMode||null==t.formGroup.controls.paymentMode.errors?null:t.formGroup.controls.paymentMode.errors.required)}}function Cs(i,s){if(1&i&&(e.TgZ(0,"mat-option",46),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function As(i,s){1&i&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ul")(5,"li"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"li"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"li"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"li"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"li"),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"p")(21,"span",67),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._uU(24),e.ALo(25,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,8,"eligibilityCriteria.pageDetails.para7")),e.xp6(4),e.Oqu(e.lcZ(7,10,"eligibilityCriteria.pageDetails.para8")),e.xp6(3),e.Oqu(e.lcZ(10,12,"eligibilityCriteria.pageDetails.para9")),e.xp6(3),e.Oqu(e.lcZ(13,14,"eligibilityCriteria.pageDetails.para11")),e.xp6(3),e.Oqu(e.lcZ(16,16,"eligibilityCriteria.pageDetails.para12")),e.xp6(3),e.Oqu(e.lcZ(19,18,"eligibilityCriteria.pageDetails.para13")),e.xp6(4),e.Oqu(e.lcZ(23,20,"eligibilityCriteria.pageDetails.para14")),e.xp6(2),e.hij(" ",e.lcZ(25,22,"eligibilityCriteria.pageDetails.para15")," "))}function Ts(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",10),e._uU(6,"*"),e.qZA(),e.YNc(7,hs,4,3,"ng-container",7),e.qZA(),e.YNc(8,bs,2,1,"div",12),e.TgZ(9,"mat-form-field",13)(10,"mat-select",66),e.NdJ("selectionChange",function(n){return e.CHM(t),e.oxw().isPayModeChange(n)}),e.ALo(11,"translate"),e.YNc(12,Cs,2,2,"mat-option",15),e.ALo(13,"sortBy"),e.qZA()()(),e.ynx(14),e.YNc(15,As,26,24,"div",7),e.BQk(),e._UZ(16,"hr"),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(17,Be,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.paymentMode?null:t.formGroup.controls.paymentMode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.paymentMode?null:t.formGroup.controls.paymentMode.invalid))),e.xp6(2),e.hij(" ",e.lcZ(4,10,"eligibilityCriteria.formLabel.label24")," "),e.xp6(4),e.Q6J("ngIf",t.hasTranslation("eligibilityCriteria.formLabel.tooltip3")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.paymentMode?null:t.formGroup.controls.paymentMode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.paymentMode?null:t.formGroup.controls.paymentMode.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(11,12,"eligibilityCriteria.placeholder.label13")),e.Q6J("options",t.paymentModeList)("valueKey","code"),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,14,t.paymentModeList,"name"))("ngForTrackBy",t.trackByFn),e.xp6(3),e.Q6J("ngIf",t.isPayAtBankTerms)}}function Ss(i,s){1&i&&(e.TgZ(0,"div",68)(1,"div",69),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"eligibilityCriteria.formLabel.label6")," "))}function xs(i,s){if(1&i&&(e.TgZ(0,"div",71),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.ALo(4,"date"),e.qZA()),2&i){const t=s.$implicit,o=e.oxw(2);e.xp6(1),e.HOy(" ",e.lcZ(2,4,"eligibilityCriteria.formLabel.label26")," ",null==t?null:t.applicant," ",e.lcZ(3,6,"eligibilityCriteria.formLabel.label25")," : ",e.xi3(4,8,null==t?null:t.date,o.dateFormat)," ")}}function Ls(i,s){if(1&i&&(e.TgZ(0,"div",56),e.YNc(1,xs,5,11,"div",70),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.latestAvailableDateList)}}function Is(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",72)(2,"div",73)(3,"mat-checkbox",74)(4,"span",75),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"a",24)(8,"span",76),e._uU(9),e.ALo(10,"translate"),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,3,"eligibilityCriteria.formLabel.label19")),e.xp6(2),e.Q6J("href",t.termCondition,e.LSH),e.xp6(2),e.Oqu(e.lcZ(10,5,"eligibilityCriteria.formLabel.label20"))}}const wo=["captcha_version","captcha_api_key"];let Fo=(()=>{class i extends Ze.o{constructor(t,o,n){super(),this.ngbCalendar=t,this.fb=o,this.httpService=n,this.maxCallTime=12,this.files=[],this.environment=re.N,this.nationalityList=[],this.eoiVisaTypeList=[],this.submissionTypeList=[],this.constants=p.gT,this.initDate=[],this.initBaseForm(p.gT.modules.ELIGIBILITY_CRITERIA),this.appointmentSlots=!1,this.appointmentSlotsList=!1,this.noSlotCheck=!1,this.serviceTypes=[],this.entryTypeError="",this.entryTypeList=[],this.visaCategories=[],this.vacCenters=[],this.visaTypes=[],this.entryTypesList=[],this.feeExemptionList=[],this.feeExemptionDetails=[],this.isEditMode=!1,this.latestAvailableDate=null,this.signedUrl=[],this.documentextracted=!1,this.dragFleError="",this.waitlistJourney=!1,this.allowedCaptcha=!1,this.currentCaptcha=this.captchaVersionConst.default,this.captchaToken="",this.noWaitListSlots=!1,this.latestAvailableDateList=[]}ngOnInit(){try{this.utilityService.fireCustomEvent({dl_category:"form loaded",dl_action:"form loaded - application details",dl_label:void 0,value:void 0}),this.initFormGroup(),this.initApplication(),this.removeTmiModule(),this.initDatepicker(),setTimeout(()=>(0,v.mG)(this,void 0,void 0,function*(){var o,n;this.sessionService.applicationConfiguration&&this.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled&&(null===(o=this.formGroup.controls.centerCode)||void 0===o||o.setValue(this.sessionService.centerCodeLs),yield this.loadConfiguration(this.sessionService.centerCodeLs),this.loadVisaCategory(this.sessionService.travelCategory),null===(n=this.formGroup.controls.centerCode)||void 0===n||n.disable(),this.filterModuleBasedOnVac(this.sessionService.centerCodeLs))}),500),this.commonService.bookingMaxtimeSessionTrackStart()}catch(t){this.logger.error(t)}}get showExtractionField(){return!1}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(t=>(0,v.mG)(this,void 0,void 0,function*(){t?(this.allowedCaptcha=t.indexOf(p.m8.ELIGIBILITY_CRITERIA)>-1,this.allowedCaptcha&&(wo.forEach(o=>{this.formGroup.addControl(o,new r.NI("",r.kI.required))}),setTimeout(()=>(0,v.mG)(this,void 0,void 0,function*(){const o=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.formGroup,o,this.captchaVersionConst.default)}),1e3))):this.allowedCaptcha=!1}))}generateSignedUrl(){return(0,v.mG)(this,void 0,void 0,function*(){return yield this.httpService.externalGet(preSignedUrl).toPromise().then(o=>o).catch(o=>o)})}get isPtFlow(){var t;return this.utilityService.strictCompare(null===(t=this.sessionService.resourceGroupData)||void 0===t?void 0:t.isloginConcentRequired,"true")}urlGeneration(t){if(!(t.length>1))return this.dragFleError="",new Promise((o,n)=>{const l=[];t.forEach(()=>{l.push(this.generateSignedUrl())}),this.subs.sink=(0,oo.D)(l).subscribe(c=>{this.signedUrl=[].concat(...c),o(!0)})});this.dragFleError="Only one file at time allow"}dropped(t){return(0,v.mG)(this,void 0,void 0,function*(){yield this.urlGeneration(t),this.sessionService.clearDocumentExtration(),this.files=t,this.maxCallTime=4,t.forEach((o,n)=>{o.fileEntry.isFile&&o.fileEntry.file(c=>(0,v.mG)(this,void 0,void 0,function*(){yield this.httpService.doPut(this.signedUrl[n].uploadUrl,c).toPromise(),this.utilityService.startNgxUiSpinner(),setTimeout(()=>{this.checkForResult(n)},1e4)}))})})}checkForResult(t){return(0,v.mG)(this,void 0,void 0,function*(){try{this.maxCallTime--;const o=yield this.httpService.externalGet(this.signedUrl[t].resultUrl).toPromise();if(o){clearTimeout(this.timeout),this.documentextracted=!0;const n=ft()(o.expirationDate).format("DD-MM-yyyy"),c=ft()(o.dateOfBirth).format("DD-MM-yyyy").split("-"),d=n.split("-");o.firstName=o.givenname,o.lastName=o.surname,o.emailId=o.emailAddress,o.dialCode=o.phoneNumber.substr(0,1),o.contactNumber=o.phoneNumber.substr(1),o.referenceNumber=o.visaNumber.substr(4),o.gender="MALE"===o.gender?1:"FEMALE"===o.gender?2:3,o.passportExpirtyDate={year:Number(d[2]),month:Number(d[1]),day:Number(d[0])},o.dateOfBirth={year:Number(c[2]),month:Number(c[1]),day:Number(c[0])},o.centerCode=o.visaNumber.substr(0,4),o.nationalityCode=yield this.commonService.filterNationalityByName(o.nationality),this.formGroup.patchValue(o),this.utilityService.stopNgxUiSpinner(),this.sessionService.documentExtractionData=this.sessionService.documentExtractionData.concat(o)}}catch(o){!this.documentextracted&&this.maxCallTime?this.timeout=setTimeout(()=>{this.checkForResult(t)},1e4):this.utilityService.stopNgxUiSpinner()}})}initApplication(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t=this.sessionService.applicationConfiguration?this.sessionService.applicationConfiguration:{},o=this.sessionService.eligibilityDetails;o?(yield this.addFieldWithValue(t),this.appConfiguration=t,yield this.loadVacCodes(),this.checkForEditMode().then(n=>this.onEditMode(n)),yield this.loadVacCodes(),this.formGroup.patchValue(o)):this.loadVacCodes()}catch(t){this.logger.error(t)}})}setWaitlistMode(){const t=this.sessionService.eligibilityDetails;(null==t?void 0:t.agreeToWaitlist)&&(this.waitlistJourney=!0,this.formGroup.controls.agreeToWaitlist.setValue(!0),this.checkForEditMode().then(o=>this.onEditMode(o)))}addFieldWithValue(t){return new Promise((o,n)=>(0,v.mG)(this,void 0,void 0,function*(){var l,c;(null==t?void 0:t.enableNationalityFilterForVisaCategory)&&(this.nationalityList=yield this.commonService.loadNationality(),this.formGroup.addControl("nationalityCode",new r.NI(null,r.kI.required))),(null==t?void 0:t.enableServiceType)&&(this.serviceTypes=yield this.commonService.loadServiceType(),this.formGroup.addControl("serviceType",new r.NI(null,r.kI.required))),(null==t?void 0:t.enableEntryType)&&(yield this.loadEntryType(),this.formGroup.addControl("entryType",new r.NI(null,r.kI.required))),(null==t?void 0:t.enableVisaType)&&(null==t?void 0:t.enableServiceType)&&(yield this.loadEOIVisaType(),this.formGroup.addControl("visaType",new r.NI(null,r.kI.required))),(null==t?void 0:t.enableApplicationType)&&(this.submissionTypeList=yield this.commonService.loadSubmissionType(),this.formGroup.addControl("applicationType",new r.NI(null,r.kI.required))),(null==t?void 0:t.enableFeeExemption)&&(this.entryTypesList=yield this.commonService.loadFeeEntryType(),this.formGroup.addControl("entryTypes",new r.NI(null,r.kI.required)),this.feeExemptionList=yield this.commonService.loadFeeExcemptionType(),this.formGroup.addControl("feeExcemption",new r.NI(null,r.kI.required)),this.feeExemptionDetails=yield this.commonService.loadFeeExcemptionDetails(),this.formGroup.addControl("feeExemptionDetails",new r.NI(null,r.kI.required))),(null==t?void 0:t.isPolandBelarusScheme)&&(this.formGroup.addControl("dateOfBirth",new r.NI(null,r.kI.required)),this.nationalityList=yield this.commonService.loadNationality(),this.formGroup.addControl("nationalityCode",new r.NI(null,r.kI.required))),(null==t?void 0:t.isPaymentModeEnabled)&&(this.paymentModeList=yield this.commonService.paymentModeEnabled(null===(l=this.formGroup.value)||void 0===l?void 0:l.centerCode,null===(c=this.formGroup.value)||void 0===c?void 0:c.visaCategoryCode),this.formGroup.addControl("paymentMode",new r.NI(null,r.kI.required))),o(!0)}))}initFormGroup(){this.formGroup=this.fb.group({centerCode:[null,r.kI.required],selectedSubvisaCategory:[null,r.kI.required],visaCategoryCode:[null,r.kI.required]})}submitV2Captcha(t){this.utilityService.patchCaptchaValue(this.formGroup,t,this.captchaVersionConst.alternate)}checkSlotAvailability(){var t,o,n,l,c,d,_;return(0,v.mG)(this,void 0,void 0,function*(){try{if((null===(t=this.appConfiguration)||void 0===t?void 0:t.isPaymentModeEnabled)&&!(null===(n=null===(o=this.formGroup)||void 0===o?void 0:o.value)||void 0===n?void 0:n.paymentMode))return;this.appointmentSlots=!1,this.appointmentSlotsList=!1;const f={centerCode:this.formGroup.value.centerCode,SubVisaCategory:null===(l=this.formGroup.get("visaCategoryCode"))||void 0===l?void 0:l.value,vacCode:"",roleName:this.sessionService.loginResponse,payCode:(null===(c=this.appConfiguration)||void 0===c?void 0:c.isPaymentModeEnabled)?null===(_=null===(d=this.formGroup)||void 0===d?void 0:d.value)||void 0===_?void 0:_.paymentMode:""};this.sessionService.applicationConfiguration&&this.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled&&(f.centerCode=this.sessionService.centerCodeLs);const h=(yield this.commonService.checkIfSlotAvailiable(f))||{},T=null==h?void 0:h.earliestDate,I=null==h?void 0:h.earliestSlotLists;if(this.latestAvailableDate=T?this.utilityService.momentInstance(T,"MM/DD/YYYY").format("DD/MM/YYYY"):null,this.sessionService.latestSlotAvailiable=this.latestAvailableDate||"",this.latestAvailableDateList=I,this.appointmentSlots=!0,this.noWaitListSlots=!1,this.appointmentSlotsList=!0,this.latestAvailableDate){const S=ft()(this.latestAvailableDate,"DD/MM/YYYY");this.latestAvailableDate=S.toDate()}}catch(f){throw new Error(`${p.Sg.INVALID_REGISTRATION_RESPONSE}: ${f}`)}})}loadVacCodes(){var t;return(0,v.mG)(this,void 0,void 0,function*(){try{this.vacCenters=[],this.visaTypes=[],this.visaCategories=[];const o=yield this.commonService.getVacCenters(null===(t=this.sessionService)||void 0===t?void 0:t.appCultureCode);return o&&(this.vacCenters=o),!0}catch(o){this.logger.error(o)}})}onServiceTypeSelection(t){return(0,v.mG)(this,void 0,void 0,function*(){this.visaTypes=[],this.visaCategories=[],this.entryTypeList=[],this.eoiVisaTypeList=[],this.nationalityList=[];const o=["selectedSubvisaCategory","visaCategoryCode","entryType","visaType","nationalityCode"];!0===this.waitlistJourney&&(o.push("agreeToWaitlist"),this.waitlistJourney=!1),this.utilityService.formcontrolReset(this.formGroup,o),this.loadNationality(t),this.loadVisaType(this.formGroup.value.centerCode)})}onCenterCodeChange(t){var o;return(0,v.mG)(this,void 0,void 0,function*(){this.utilityService.startNgxUiSpinner(),this.sessionService.eligibilityDetails||this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Choose Visa Application Centre",dl_label:"page_url"}),this.additionalPlaceholder="",this.nationalityList=[],this.serviceTypes=[],this.visaTypes=[],this.visaCategories=[],this.entryTypeList=[],this.entryTypesList=[],this.feeExemptionList=[],this.feeExemptionDetails=[],this.eoiVisaTypeList=[];const n=["nationalityCode","serviceType","selectedSubvisaCategory","visaCategoryCode","entryType","visaType","entryTypes","feeExcemptionDetails","feeExcemption","dateOfBirth","paymentMode"];!0===this.waitlistJourney&&(n.push("agreeToWaitlist"),this.waitlistJourney=!1),this.utilityService.formcontrolReset(this.formGroup,n),yield this.loadConfiguration(t),(null===(o=this.appConfiguration)||void 0===o?void 0:o.enableServiceType)||this.loadVisaType(t),this.utilityService.stopNgxUiSpinner()})}onNationalityChange(t){this.entryTypeList=[],this.eoiVisaTypeList=[],this.visaTypes=[],this.visaCategories=[];const o=["selectedSubvisaCategory","visaCategoryCode","entryType","visaType"];!0===this.waitlistJourney&&(o.push("agreeToWaitlist"),this.waitlistJourney=!1),this.utilityService.formcontrolReset(this.formGroup,o),this.loadVisaType(this.formGroup.value.centerCode),this.loadEntryType(),this.loadEOIVisaType()}appointmentCatgoryChange(t){this.additionalPlaceholder="",this.entryTypeList=[],this.eoiVisaTypeList=[];const o=["entryType","visaType"];!0===this.waitlistJourney&&(o.push("agreeToWaitlist"),this.waitlistJourney=!1),this.utilityService.formcontrolReset(this.formGroup,o),this.loadVisaCategory(this.sessionService.applicationConfiguration&&this.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled?this.sessionService.travelCategory:t),null==t||this.sessionService.eligibilityDetails||this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Choose appointment category",dl_label:"page_url"})}loadNationality(t){var o,n;return(0,v.mG)(this,void 0,void 0,function*(){if(null===(o=this.appConfiguration)||void 0===o?void 0:o.enableNationalityFilterForVisaCategory){this.nationalityList=yield this.commonService.loadNationality(t);const l=this.sessionService.eligibilityDetails;l&&l.hasOwnProperty("nationalityCode")&&(null===(n=this.formGroup.get("nationalityCode"))||void 0===n||n.setValue(l.nationalityCode))}})}submitVisacategory(t){var o,n,l,c,d,_,f,h,T,I,S,R,U,ie,he,_e;return(0,v.mG)(this,void 0,void 0,function*(){try{if(!t)return;null==t||this.sessionService.eligibilityDetails||this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Choose sub-category",dl_label:"page_url"});const pe=this.visaCategories.filter(Q=>(null==Q?void 0:Q.code)===t);if((null===(o=pe[0])||void 0===o?void 0:o.isVLNNumberEnable)?(this.sessionService.isVLNRequired=!0,this.sessionService.regex=pe[0].vlnNumberRegex):this.sessionService.isVLNRequired=!1,(null===(n=pe[0])||void 0===n?void 0:n.isTMIEnabled)&&(this.sessionService.tmiEnabled=!0),this.sessionService.mftConsentEnabled=!!(null===(l=pe[0])||void 0===l?void 0:l.IsMaltaExtServiceConsentsEnabled),this.sessionService.isMIGRISNumberEnabled=!!(null===(c=pe[0])||void 0===c?void 0:c.isMIGRISNumberEnabled),this.sessionService.maltaWorkPermitNumberEnabled=!!(null===(d=pe[0])||void 0===d?void 0:d.isEmployerDetailsRequired),this.sessionService.isMaltaFamilyReunificationEnabled=!!(null===(_=pe[0])||void 0===_?void 0:_.isMaltaFamilyReunificationEnabled),this.sessionService.documentUploadEnabled=!!(null===(f=pe[0])||void 0===f?void 0:f.isApplicantDocumentUploadEnabled),this.sessionService.isGRNEnabled=!!(null===(h=pe[0])||void 0===h?void 0:h.enableReferenceNumber),this.sessionService.isApplicantOTPEnabled=!!(null===(T=pe[0])||void 0===T?void 0:T.isApplicantOTPEnabled),this.sessionService.isReferenceNumberWithPassportEnabled=!!(null===(I=pe[0])||void 0===I?void 0:I.isReferenceNumberWithPassportEnabled),this.additionalPlaceholder=null===(S=pe[0])||void 0===S?void 0:S.description,this.waitlistJourney=!1,this.sessionService.waitlistJourney=!1,this.formGroup.removeControl("agreeToWaitlist"),(null===(R=this.appConfiguration)||void 0===R?void 0:R.isPaymentModeEnabled)&&(this.paymentModeList=yield this.commonService.paymentModeEnabled(this.formGroup.value.centerCode,this.formGroup.value.visaCategoryCode)),this.appConfiguration.enableNationalityFilterForVisaCategory&&this.appConfiguration.enableEntryType&&this.appConfiguration.enableApplicationType)this.entryTypeList=[],this.eoiVisaTypeList=[],this.latestAvailableDateList=[],this.utilityService.formcontrolReset(this.formGroup,["entryType","visaType","agreeToWaitlist"]),this.noSlotCheck=!0,this.loadEntryType(t),this.loadEOIVisaType(t);else if(this.appConfiguration.enableApplicationType)this.noSlotCheck=!0;else{const{iswaitlist:Q}=this.visaCategories.find(De=>De.code===t)||{};if(Q){const De={centerCode:this.formGroup.value.centerCode,SubVisaCategory:t,roleName:this.sessionService.loginResponse,payCode:(null===(U=this.appConfiguration)||void 0===U?void 0:U.isPaymentModeEnabled)?null===(he=null===(ie=this.formGroup)||void 0===ie?void 0:ie.value)||void 0===he?void 0:he.paymentMode:""},ze=(yield this.commonService.checkIfSlotAvailiable(De))||{},we=ze.earliestDate,St=null==ze?void 0:ze.earliestSlotLists;if(we||(this.sessionService.waitlistJourney=!0,this.waitlistJourney=!0,this.formGroup.addControl("agreeToWaitlist",new r.NI("",r.kI.requiredTrue)),this.setWaitlistMode()),this.appointmentSlots=Boolean(we),this.appointmentSlotsList=Boolean(null==St?void 0:St.length),this.latestAvailableDate=we?this.utilityService.momentInstance(we,"MM/DD/YYYY").format("DD/MM/YYYY"):null,4008==(null===(_e=null==ze?void 0:ze.error)||void 0===_e?void 0:_e.code)&&(this.noWaitListSlots=!0),this.latestAvailableDateList=St,this.sessionService.latestSlotAvailiable=this.latestAvailableDate||"",this.latestAvailableDate){const ei=ft()(this.latestAvailableDate,"DD/MM/YYYY");this.latestAvailableDate=ei.toDate()}this.noSlotCheck=!0}else this.noSlotCheck=!1,this.submitCaptcha()}this.appConfiguration.enableNationalityFilterForVisaCategory&&this.appConfiguration.enableServiceType&&this.appConfiguration.enableVisaType&&this.loadEOIVisaType(t)}catch(pe){console.log(pe)}})}loadVisaType(t){var o,n,l;return(0,v.mG)(this,void 0,void 0,function*(){try{const c=this.sessionService.eligibilityDetails,d=t||(c&&c.centerCode?c.centerCode:this.formGroup.value.centerCode);if(!d)return!1;this.utilityService.formcontrolReset(this.formGroup,["selectedSubvisaCategory"]);let _=null,f=null;this.appConfiguration.enableServiceType&&(_=c&&c.serviceType?c.serviceType:this.formGroup.value.serviceType),this.appConfiguration.enableNationalityFilterForVisaCategory&&(f=c&&c.nationalityCode?c.nationalityCode:this.formGroup.value.nationalityCode);const h=yield this.commonService.getVisaCategories(d,_,f);h&&(this.visaTypes=h);const T=this.sessionService.eligibilityDetails;return T&&T.hasOwnProperty("selectedSubvisaCategory")&&(null===(o=this.formGroup.get("selectedSubvisaCategory"))||void 0===o||o.setValue(T.selectedSubvisaCategory)),this.sessionService.applicationConfiguration&&this.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled&&(null===(n=this.formGroup.controls.selectedSubvisaCategory)||void 0===n||n.setValue(String(this.sessionService.travelCategory)),null===(l=this.formGroup.controls.selectedSubvisaCategory)||void 0===l||l.disable()),!0}catch(c){this.logger.error(c)}})}loadVisaCategory(t,o){var n,l,c,d;return(0,v.mG)(this,void 0,void 0,function*(){try{if(!t)return;this.utilityService.formcontrolReset(this.formGroup,["visaCategoryCode"]);const _=o||(null===(n=this.formGroup.get("centerCode"))||void 0===n?void 0:n.value);let f=null,h=null;this.appConfiguration.enableServiceType&&(f=this.formGroup.value.serviceType),this.appConfiguration.enableNationalityFilterForVisaCategory&&(h=this.formGroup.value.nationalityCode);const T=yield this.commonService.getSubVisaCategories(_,t,f,h);T&&(this.visaCategories=T);const I=this.sessionService.eligibilityDetails;return I&&I.visaCategoryCode&&(null===(l=this.formGroup.get("visaCategoryCode"))||void 0===l||l.setValue(I.visaCategoryCode)),this.sessionService.applicationConfiguration&&this.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled&&(null===(c=this.formGroup.controls.visaCategoryCode)||void 0===c||c.setValue(String(this.sessionService.visaType)),null===(d=this.formGroup.controls.visaCategoryCode)||void 0===d||d.disable()),!0}catch(_){this.logger.error(_)}})}submitCaptcha(){var t;this.isEditMode||!(null===(t=this.formGroup.get("visaCategoryCode"))||void 0===t?void 0:t.value)||this.checkSlotAvailability()}submissionTypeChange(t){this.commonService.checkIfPostal(t)||this.commonService.checkIfOWA(t)?this.noSlotCheck=!0:(this.noSlotCheck=!1,this.submitCaptcha())}onExemptionTypeSelection(t){return(0,v.mG)(this,void 0,void 0,function*(){try{this.feeExemptionDetails=[],this.utilityService.formcontrolReset(this.formGroup,["feeExemptionDetails"]),this.feeExemptionDetails=yield this.commonService.loadFeeExcemptionDetails(t)}catch(o){this.logger.error(o)}})}loadEntryType(t){var o,n,l,c;return(0,v.mG)(this,void 0,void 0,function*(){try{if(!this.appConfiguration.enableEntryType)return!1;const d=this.sessionService.eligibilityDetails,_=d&&d.centerCode?d.centerCode:this.formGroup.value.centerCode,f=t||(d&&d.visaCategoryCode?d.visaCategoryCode:this.formGroup.value.visaCategoryCode),h=d&&d.nationalityCode?d.nationalityCode:this.formGroup.value.nationalityCode,T=d&&d.serviceType?d.serviceType:this.formGroup.value.serviceType;if(_&&f&&h&&T){const I=yield this.commonService.loadEntryType(_,f,h,T);this.entryTypeList=(null==I?void 0:I.entryTypes)||[],0===(null===(o=null==I?void 0:I.entryTypes)||void 0===o?void 0:o.length)?this.utilityService.formcontrolReset(this.formGroup,["entryType"]):d&&d.hasOwnProperty("entryType")&&this.formGroup.get("entryType")&&(null===(n=this.formGroup.get("entryType"))||void 0===n||n.setValue(d.entryType)),this.entryTypeError=3010===(null===(l=null==I?void 0:I.error)||void 0===l?void 0:l.code)?null===(c=null==I?void 0:I.error)||void 0===c?void 0:c.description:null}}catch(d){console.log(d)}})}loadEOIVisaType(t){var o,n,l,c;return(0,v.mG)(this,void 0,void 0,function*(){try{if(!(null===(o=this.appConfiguration)||void 0===o?void 0:o.enableNationalityFilterForVisaCategory)||!(null===(n=this.appConfiguration)||void 0===n?void 0:n.enableServiceType)||!(null===(l=this.appConfiguration)||void 0===l?void 0:l.enableVisaType))return!1;const d=this.sessionService.eligibilityDetails,_=d&&d.centerCode?d.centerCode:this.formGroup.value.centerCode,f=t||(d&&d.visaCategoryCode?d.visaCategoryCode:this.formGroup.value.visaCategoryCode),h=d&&d.nationalityCode?d.nationalityCode:this.formGroup.value.nationalityCode,T=d&&d.serviceType?d.serviceType:this.formGroup.value.serviceType;if(_&&f&&h&&T){const I=yield this.commonService.loadEOIVisaType(_,f,h,T);this.eoiVisaTypeList=(null==I?void 0:I.eoiVisaTypes)||[]}d&&d.visaType&&(null===(c=this.formGroup.get("visaType"))||void 0===c||c.setValue(d.visaType))}catch(d){console.log(d)}})}checkForEditMode(){return(0,v.mG)(this,void 0,void 0,function*(){try{return this.isEditMode=!!this.sessionService.eligibilityDetails,this.isEditMode}catch(t){this.logger.error(t)}})}onEditMode(t){var o;return(0,v.mG)(this,void 0,void 0,function*(){try{t&&(this.formGroup.disable(),(null===(o=this.appConfiguration)||void 0===o?void 0:o.isPolandBelarusScheme)&&(this.formGroup.controls.dateOfBirth.enable(),this.formGroup.controls.nationalityCode.enable()))}catch(n){throw n}})}get disableButton(){return this.noSlotCheck||this.isEditMode?this.formGroup.invalid:this.formGroup.invalid||null===this.latestAvailableDate}submitForm(t){var o,n;return(0,v.mG)(this,void 0,void 0,function*(){!this.sessionService.applicationConfiguration||this.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled||this.isEditMode||this.formGroup.valid?this.isEditMode&&(null===(o=this.appConfiguration)||void 0===o?void 0:o.isPolandBelarusScheme)?((null===(n=this.appConfiguration)||void 0===n?void 0:n.isPolandBelarusScheme)&&(this.formGroup.value.dateOfBirth=this.utilityService.convertJSONInDate(this.formGroup.value.dateOfBirth),this.ageCalculation(this.formGroup.value.dateOfBirth,this.formGroup.value.nationalityCode),this.sessionService.polBel={dateOfBirth:this.formGroup.value.dateOfBirth,nationalityCode:this.formGroup.value.nationalityCode}),this.getApplicationDetails(this.formGroup.value)&&this.routeNext()):this.isEditMode||this.sessionService.applicationDetailValue?this.routeNext():this.submitEligibility():this.commonService.touchAllFields(this.formGroup)})}submitEligibility(){var t,o,n;return(0,v.mG)(this,void 0,void 0,function*(){try{const l={dl_category:"form submission",dl_action:"form submission - application details",dl_label:null===(t=this.formGroup.value)||void 0===t?void 0:t.selectedSubvisaCategory,value:void 0};this.utilityService.fireCustomEvent(l),yield this.filterModuleOnEligibilitySubmit(this.formGroup.value.centerCode,this.formGroup.value.applicationType),this.sessionService.applicationType=this.formGroup.value.applicationType,this.sessionService.centerCode=this.formGroup.value.centerCode,this.sessionService.visaSubCategory=this.formGroup.value.selectedSubvisaCategory,this.sessionService.setCurrApplicantVisaType(this.formGroup.value.visaCategoryCode),(null===(o=this.appConfiguration)||void 0===o?void 0:o.enableServiceType)&&(this.sessionService.serviceTypeCode=this.formGroup.value.serviceType),(null===(n=this.appConfiguration)||void 0===n?void 0:n.isPolandBelarusScheme)&&(this.formGroup.value.dateOfBirth=this.utilityService.convertJSONInDate(this.formGroup.value.dateOfBirth),this.ageCalculation(this.formGroup.value.dateOfBirth,this.formGroup.value.nationalityCode),this.sessionService.polBel={dateOfBirth:this.formGroup.value.dateOfBirth,nationalityCode:this.formGroup.value.nationalityCode});const c=this.getApplicationDetails(this.formGroup.value);this.sessionService.applicationDetailValue=c,this.sessionService.eligibilityDetails=this.formGroup.value,c&&this.routeNext(),this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Appointment Details Continue",dl_label:"Continue"})}catch(l){if(this.logger.error(l),!this.allowedCaptcha)return;if(re.N.captchaFallbackEnabled)this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.formGroup,wo),this.utilityService.resetCaptcha();else{const c=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.formGroup,c,this.captchaVersionConst.default)}}})}getApplicationDetails(t){const o=this.initApplicationDetails();for(const n of Object.keys(t))o.hasOwnProperty(n)&&(o[n]=t[n]);return o}initApplicationDetails(){var t,o,n,l;const c=(null===(o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration)||void 0===o?void 0:o.enableApplicationType)?"":void 0,d=(null===(l=null===(n=this.sessionService)||void 0===n?void 0:n.applicationConfiguration)||void 0===l?void 0:l.enableServiceType)?"":void 0;return{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.sessionService.getLoggedEmail()||"",visaCategoryCode:"",isEdit:!1,feeEntryTypeCode:null,feeExemptionTypeCode:null,feeExemptionDetailsCode:null,applicantList:[],languageCode:this.sessionService.appCultureCode,applicationType:c,serviceType:d}}loadConfiguration(t){return(0,v.mG)(this,void 0,void 0,function*(){t||(t=this.sessionService.centerCode);const o=yield this.commonService.loadVacConfiguration(t);if(o){yield this.alterFormField(o),this.sessionService.applicationConfiguration=o,this.appConfiguration=o;const n=this.calculateMaxAllowedTravelDays(o);this.sessionService.setMaxAlwdDepartureDate(n)}return o})}alterFormField(t){return(0,v.mG)(this,void 0,void 0,function*(){return new Promise((o,n)=>(0,v.mG)(this,void 0,void 0,function*(){t.enableNationalityFilterForVisaCategory?(this.nationalityList=yield this.commonService.loadNationality(),this.formGroup.addControl("nationalityCode",new r.NI(null,r.kI.required))):this.formGroup.removeControl("nationalityCode"),t.enableEntryType?this.formGroup.addControl("entryType",new r.NI(null,r.kI.required)):this.formGroup.removeControl("entryType"),t.enableVisaType?this.formGroup.addControl("visaType",new r.NI(null,r.kI.required)):this.formGroup.removeControl("visaType"),t.enableApplicationType?(this.submissionTypeList=yield this.commonService.loadSubmissionType(),this.formGroup.addControl("applicationType",new r.NI(null,r.kI.required))):this.formGroup.removeControl("applicationType"),t.enableServiceType?(this.serviceTypes=yield this.commonService.loadServiceType(),this.formGroup.addControl("serviceType",new r.NI(null,r.kI.required))):this.formGroup.removeControl("serviceType"),t.enableFeeExemption?(this.entryTypesList=yield this.commonService.loadFeeEntryType(),this.feeExemptionList=yield this.commonService.loadFeeExcemptionType(),this.formGroup.addControl("entryTypes",new r.NI(null,r.kI.required)),this.formGroup.addControl("feeExcemption",new r.NI(null,r.kI.required)),this.formGroup.addControl("feeExemptionDetails",new r.NI(null,r.kI.required))):(this.formGroup.removeControl("entryTypes"),this.formGroup.removeControl("feeExcemption"),this.formGroup.removeControl("feeExcemptionDetails")),t.isPolandBelarusScheme?(this.nationalityList=yield this.commonService.loadNationality(),this.formGroup.addControl("dateOfBirth",new r.NI(null,r.kI.required)),this.formGroup.addControl("nationalityCode",new r.NI(null,r.kI.required))):this.formGroup.removeControl("dateOfBirth"),!t.enableNationalityFilterForVisaCategory&&!t.isPolandBelarusScheme&&this.formGroup.removeControl("nationalityCode"),(null==t?void 0:t.isPaymentModeEnabled)&&this.formGroup.addControl("paymentMode",new r.NI(null,r.kI.required)),o(!0)}))})}calculateMaxAllowedTravelDays(t){try{const o=Number(null==t?void 0:t.xTravelDaysToBeAllowed);return this.ngbCalendar.getNext(this.ngbCalendar.getToday(),"d",o>0?o-1:0)}catch(o){this.logger.error(o)}}removeTmiModule(){return(0,v.mG)(this,void 0,void 0,function*(){try{if(!this.sessionService.isSchemaUpdated){const o=this.sessionService.getFullApplicationSchema(),n=[];n.push(p.gT.modules.TRAVEL_MEDICAL_INSURANCE);const l=yield this.commonService.removeModule(o,n);this.sessionService.saveApplicationSchemaInBrowser(l),this.sessionService.isSchemaUpdated=!0}}catch(t){this.logger.error(t)}})}get termCondition(){return this.utilityService.externalUrlAppend("termsandconditions")}get attendCenter(){return this.utilityService.externalUrlAppend("attend-centre")}get appointmentCategory(){var t;return null===(t=this.sessionService.resourceGroupData)||void 0===t?void 0:t.onepager}initDatepicker(){const t=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY");this.initDate.maxDOB={year:+t.format("YYYY"),month:+t.format("MM"),day:+t.format("DD")}}ageCalculation(t,o){const n=this.utilityService.momentInstance().format("DD/MM/YYYY"),l=this.utilityService.momentInstance(n,"DD/MM/YYYY").diff(this.utilityService.momentInstance(t,"DD/MM/YYYY"),"years");"BLR"===o.toUpperCase()&&l>=18&&l<60||(this.sessionService.applicationConfiguration=Object.assign(Object.assign({},this.sessionService.applicationConfiguration),{isnationalIdEnabled:!1,isVisaTokenEnabled:!1}))}isPayModeChange(t){const o=this.paymentModeList.filter(n=>n.code===t.value);this.sessionService.paymentModeinSubvisaCategory=o[0],this.submitCaptcha()}get isPayAtBankTerms(){var t,o;return"BANK"===(null===(o=null===(t=this.formGroup)||void 0===t?void 0:t.value)||void 0===o?void 0:o.paymentMode)}get isFormValid(){return!!this.formGroup.disabled||this.formGroup.valid}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(J.vL),e.Y36(r.qu),e.Y36(Ve.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-eligibility-criteria"]],viewQuery:function(t,o){if(1&t&&e.Gf(Xn,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:65,vars:70,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"c-brand-grey","mb-5"],[1,"fs-24","fs-sm-46","mb-25"],[1,"c-brand-grey-para","mb-30"],["class","mb-30",4,"ngIf"],[3,"formGroup"],[4,"ngIf"],[1,"form-group",3,"ngClass"],[1,"mt-15"],[1,"c-brand-error"],["class","d-inline pull-right text-right",4,"ngIf"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["formControlName","centerCode","appDefaultSelect","",3,"options","valueKey","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["class","form-group",3,"ngClass",4,"ngIf"],["formControlName","visaCategoryCode","appDefaultSelect","",3,"placeholder","options","valueKey","ngModelChange"],["class","border-info mb-0","style","border-left: 5px solid",4,"ngIf"],["class","border-info mb-0",4,"ngIf"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],["type","button","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"mb-30"],[1,"fs-sm-16","text-wrap","mr-5"],["target","_blank",3,"href"],[1,"c-brand-orange","fs-sm-16","text-decoration-underline","cursor-pointer"],[1,"card-upload-document"],["accept",".pdf",3,"multiple","onFileDrop"],["ngx-file-drop-content-tmp",""],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"asterisk"],[1,"file-upload-wrapper"],["type","button",1,"file-browse",3,"click"],["class","row no-gutters file-path-box",4,"ngFor","ngForOf"],[1,"row","no-gutters","file-path-box"],[1,"col","file-name","text-overflow"],[1,"check-mark","text-center","bg-brand-green"],[1,"c-brand-error","text-decoration-underline","cursor-pointer",3,"click"],[1,"errorMessage"],[1,"errorMessage","c-brand-error"],["matTooltipPosition","above",1,"brand-tooltip","fa","fa-info",3,"matTooltip"],["tooltip","matTooltip"],[1,"d-inline","pull-right","text-right"],["class","errorMessage c-brand-error",4,"ngIf"],[3,"value"],["appDefaultSelect","","formControlName","serviceType",3,"options","valueKey","placeholder","ngModelChange"],["appDefaultSelect","","formControlName","nationalityCode",3,"options","valueKey","placeholder","ngModelChange"],["formControlName","selectedSubvisaCategory","appDefaultSelect","",3,"placeholder","options","valueKey","ngModelChange"],["appDefaultSelect","","formControlName","entryType",3,"options","valueKey","placeholder"],["formControlName","visaType","appDefaultSelect","",3,"options","valueKey","placeholder"],["formControlName","applicationType","appDefaultSelect","",3,"placeholder","options","valueKey","ngModelChange"],["appDefaultSelect","","formControlName","entryTypes",3,"options","valueKey","placeholder"],["appDefaultSelect","","formControlName","feeExcemption",3,"options","valueKey","placeholder","ngModelChange"],["appDefaultSelect","","formControlName","feeExemptionDetails",3,"options","valueKey","placeholder"],[1,"border-info","mb-0"],[1,"alert","alert-info","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col"],[1,"datepicker-div","form-group"],["ngbDatepicker","","autocomplete","off","formControlName","dateOfBirth",1,"form-control","input-lg","mt-5",3,"minDate","maxDate","placeholder"],["datePickerReference1","ngbDatepicker"],[1,"input-group-addon",3,"click"],["matTooltip","Date Of Birthday","matTooltipPosition","above",1,"brand-tooltip","fa","fa-info"],["appDefaultSelect","","formControlName","nationalityCode",3,"options","valueKey","placeholder"],["appDefaultSelect","","formControlName","paymentMode",3,"options","valueKey","placeholder","selectionChange"],[2,"font-size","18px"],[1,"border-info","mb-0",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0"],["class","alert alert-info border-0 rounded-0","style","border-left: 5px solid !important; border-color: #17a2b8 !important",4,"ngFor","ngForOf"],[1,"alert","alert-info","border-0","rounded-0",2,"border-left","5px solid !important","border-color","#17a2b8 !important"],[1,"form-group","mb-20"],[1,"pl-35"],["formControlName","agreeToWaitlist",1,"mat-checkbox-brand","ml-n35"],[1,"fs-sm-18","text-wrap","mr-5"],[1,"c-brand-orange","fs-sm-18","text-decoration-underline","cursor-pointer"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"form")(2,"mat-card",1)(3,"p",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"h1",3),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"p",4),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.YNc(12,ea,15,14,"div",5),e.TgZ(13,"form",6),e.YNc(14,na,5,2,"ng-container",7),e.TgZ(15,"div",8)(16,"div",9),e._uU(17),e.ALo(18,"translate"),e.TgZ(19,"span",10),e._uU(20,"*"),e.qZA(),e.YNc(21,aa,4,3,"ng-container",7),e.YNc(22,sa,3,4,"h6",11),e.qZA(),e.YNc(23,ra,2,1,"div",12),e.TgZ(24,"mat-form-field",13)(25,"mat-select",14),e.NdJ("ngModelChange",function(l){return o.onCenterCodeChange(l)}),e.ALo(26,"translate"),e.YNc(27,ca,2,2,"mat-option",15),e.ALo(28,"sortBy"),e.qZA()()(),e._UZ(29,"hr"),e.YNc(30,_a,15,18,"ng-container",7),e.YNc(31,ba,15,18,"ng-container",7),e.YNc(32,xa,13,18,"div",16),e.YNc(33,La,1,0,"hr",7),e.TgZ(34,"div",8)(35,"div"),e._uU(36),e.ALo(37,"translate"),e.TgZ(38,"span",10),e._uU(39,"*"),e.qZA(),e.YNc(40,Ia,4,3,"ng-container",7),e.qZA(),e.YNc(41,Na,2,1,"div",12),e.TgZ(42,"mat-form-field",13)(43,"mat-select",17),e.NdJ("ngModelChange",function(l){return o.submitVisacategory(l)}),e.ALo(44,"translate"),e.YNc(45,Da,2,2,"mat-option",15),e.ALo(46,"sortBy"),e.qZA()()(),e._UZ(47,"hr"),e.YNc(48,Fa,15,18,"ng-container",7),e.YNc(49,Ga,15,18,"ng-container",7),e.YNc(50,Qa,15,18,"ng-container",7),e.YNc(51,Wa,15,18,"ng-container",7),e.YNc(52,ts,15,18,"ng-container",7),e.YNc(53,ss,15,18,"ng-container",7),e.YNc(54,ls,7,3,"ng-container",7),e.YNc(55,ps,15,14,"ng-container",7),e.YNc(56,vs,15,18,"ng-container",7),e.YNc(57,Ts,17,19,"ng-container",7),e.YNc(58,Ss,4,3,"div",18),e.YNc(59,Ls,2,1,"div",19),e.YNc(60,Is,11,7,"ng-container",7),e.qZA()(),e.TgZ(61,"mat-card",20)(62,"button",21),e.NdJ("click",function(){return o.submitForm()}),e._uU(63),e.ALo(64,"translate"),e.qZA()()()()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,44,"eligibilityCriteria.pageDetails.para1")),e.xp6(3),e.Oqu(e.lcZ(8,46,"eligibilityCriteria.headerLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(11,48,"eligibilityCriteria.pageDetails.para2")),e.xp6(2),e.Q6J("ngIf",o.isPtFlow),e.xp6(1),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("ngIf",o.showExtractionField),e.xp6(1),e.Q6J("ngClass",e.VKq(66,Be,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.centerCode?null:o.formGroup.controls.centerCode.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.centerCode?null:o.formGroup.controls.centerCode.invalid))),e.xp6(2),e.hij(" ",e.lcZ(18,50,"eligibilityCriteria.formLabel.label1"),""),e.xp6(4),e.Q6J("ngIf",o.hasTranslation("eligibilityCriteria.formLabel.tooltip1")),e.xp6(1),e.Q6J("ngIf",null==o.vacCenters?null:o.vacCenters.length),e.xp6(1),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.centerCode?null:o.formGroup.controls.centerCode.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.centerCode?null:o.formGroup.controls.centerCode.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(26,52,"eligibilityCriteria.placeholder.label1")),e.Q6J("options",o.vacCenters)("valueKey","isoCode"),e.xp6(2),e.Q6J("ngForOf",e.xi3(28,54,o.vacCenters,"centerName"))("ngForTrackBy",o.trackByFn),e.xp6(3),e.Q6J("ngIf",(null==o.appConfiguration?null:o.appConfiguration.enableServiceType)&&(null==o.serviceTypes?null:o.serviceTypes.length)>0),e.xp6(1),e.Q6J("ngIf",null==o.appConfiguration?null:o.appConfiguration.enableNationalityFilterForVisaCategory),e.xp6(1),e.Q6J("ngIf",o.sessionService.applicationConfiguration&&!o.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled),e.xp6(1),e.Q6J("ngIf",o.sessionService.applicationConfiguration&&!o.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled),e.xp6(1),e.Q6J("ngClass",e.VKq(68,Be,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.visaCategoryCode?null:o.formGroup.controls.visaCategoryCode.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.visaCategoryCode?null:o.formGroup.controls.visaCategoryCode.invalid))),e.xp6(2),e.hij(" ",e.lcZ(37,57,"eligibilityCriteria.formLabel.label3"),""),e.xp6(4),e.Q6J("ngIf",o.hasTranslation("eligibilityCriteria.formLabel.tooltip5")),e.xp6(1),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.visaCategoryCode?null:o.formGroup.controls.visaCategoryCode.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.visaCategoryCode?null:o.formGroup.controls.visaCategoryCode.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(44,59,"eligibilityCriteria.placeholder.label3")),e.Q6J("options",o.visaCategories)("valueKey","code"),e.xp6(2),e.Q6J("ngForOf",e.xi3(46,61,o.visaCategories,"name"))("ngForTrackBy",o.trackByFn),e.xp6(3),e.Q6J("ngIf",null==o.appConfiguration?null:o.appConfiguration.enableEntryType),e.xp6(1),e.Q6J("ngIf",null==o.appConfiguration?null:o.appConfiguration.enableVisaType),e.xp6(1),e.Q6J("ngIf",(null==o.appConfiguration?null:o.appConfiguration.enableApplicationType)&&(null==o.submissionTypeList?null:o.submissionTypeList.length)),e.xp6(1),e.Q6J("ngIf",(null==o.appConfiguration?null:o.appConfiguration.enableFeeExemption)&&o.entryTypesList.length>0),e.xp6(1),e.Q6J("ngIf",null==o.appConfiguration?null:o.appConfiguration.enableFeeExemption),e.xp6(1),e.Q6J("ngIf",null==o.appConfiguration?null:o.appConfiguration.enableFeeExemption),e.xp6(1),e.Q6J("ngIf",o.additionalPlaceholder),e.xp6(1),e.Q6J("ngIf",null==o.appConfiguration?null:o.appConfiguration.isPolandBelarusScheme),e.xp6(1),e.Q6J("ngIf",null==o.appConfiguration?null:o.appConfiguration.isPolandBelarusScheme),e.xp6(1),e.Q6J("ngIf",(null==o.appConfiguration?null:o.appConfiguration.isPaymentModeEnabled)&&o.paymentModeList),e.xp6(1),e.Q6J("ngIf",o.isFormValid&&o.appointmentSlots&&!o.latestAvailableDate&&o.appointmentSlotsList&&!o.latestAvailableDateList.length||o.noWaitListSlots),e.xp6(1),e.Q6J("ngIf",o.isFormValid&&o.appointmentSlotsList&&o.latestAvailableDateList.length),e.xp6(1),e.Q6J("ngIf",o.waitlistJourney&&!o.noWaitListSlots),e.xp6(2),e.Q6J("disabled",o.disableButton),e.xp6(1),e.hij(" ",e.lcZ(64,64,"commonSections.buttons.button19")," "))},directives:[r._Y,r.JL,r.F,X.a8,w.O5,r.sg,Et.CB,Et.w5,w.sg,w.mk,At.gM,q.KE,ae.gD,r.JJ,r.u,ce,te.ey,J.J4,r.Fj,le.oG,V.lW],pipes:[D.X$,ue.Uw,w.uU],encapsulation:2}),i})();var Mo=A(864),oe=A(8341),no=A(9213);function Zs(i,s){1&i&&(e.TgZ(0,"p",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"dashboard.pageDetails.para10")))}function Ns(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmReschedule()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"dashboard.buttons.button3")))}let Po=(()=>{class i extends a.e{constructor(t,o,n){super(),this.data=t,this.dialog=o,this.dialogRef=n}confirmReschedule(){var t;!(null===(t=this.data)||void 0===t?void 0:t.isReschedulingAllowed)||this.dialogRef.close({data:"reschedule"})}close(){this.dialogRef.close()}confirmCancel(){this.dialogRef.close({data:"cancel"})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.WI),e.Y36(oe.uw),e.Y36(oe.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-cancel-appointment-modal"]],features:[e.qOj],decls:16,vars:9,consts:[[1,"mat-modal-container",2,"max-width","550px"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10","pr-20"],[1,"my-20"],["class","fs-sm-20 c-brand-grey-para mb-15",4,"ngIf"],[1,"row"],[1,"col-6","col-md"],["mat-stroked-button","","class","btn mat-btn-lg btn-block btn-outline-brand-orange mt-15","data-dismiss","modal",3,"click",4,"ngIf"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"click"],[1,"fs-sm-20","c-brand-grey-para","mb-15"],["mat-stroked-button","","data-dismiss","modal",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mt-15",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.close()}),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"h4",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"hr",5),e.YNc(8,Zs,3,3,"p",6),e.TgZ(9,"div",7)(10,"div",8),e.YNc(11,Ns,3,3,"button",9),e.qZA(),e.TgZ(12,"div",8)(13,"button",10),e.NdJ("click",function(){return o.confirmCancel()}),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()),2&t&&(e.xp6(3),e.MGl("src","",o.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(2),e.Oqu(e.lcZ(6,5,"dashboard.pageDetails.para9")),e.xp6(3),e.Q6J("ngIf",null==o.data?null:o.data.isReschedulingAllowed),e.xp6(3),e.Q6J("ngIf",null==o.data?null:o.data.isReschedulingAllowed),e.xp6(3),e.Oqu(e.lcZ(15,7,"dashboard.buttons.button4")))},directives:[w.O5,V.lW],pipes:[D.X$],encapsulation:2}),i})();var Wt=A(5778),Uo=A(4850);let nt=(()=>{class i extends a.e{constructor(t,o,n){super(),this.dialog=t,this.data=o,this.dialogRef=n}close(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.uw),e.Y36(oe.WI),e.Y36(oe.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-same-passport-modal"]],features:[e.qOj],decls:16,vars:8,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.close()}),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"h4",4),e._UZ(5,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"hr",6),e.TgZ(9,"p",7),e._uU(10),e.qZA(),e.TgZ(11,"div",8)(12,"div",9)(13,"button",10),e.NdJ("click",function(){return o.close()}),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()),2&t&&(e.xp6(3),e.MGl("src","",o.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(3),e.hij(" ",e.lcZ(7,4,"commonSections.headerLabel.label3")," "),e.xp6(4),e.Oqu(o.data),e.xp6(4),e.hij(" ",e.lcZ(15,6,"commonSections.buttons.button19")," "))},directives:[V.lW],pipes:[D.X$],encapsulation:2}),i})(),Ds=(()=>{class i extends a.e{constructor(t,o){super(),this.data=t,this.dialogRef=o}ngOnInit(){}get editableBtn(){return["isMandatory"].indexOf(this.data.service.timeSlot)>-1}deleteService(){var t;return(0,v.mG)(this,void 0,void 0,function*(){const o=this.sessionService.applicantService;if(o&&o.length>0){const n=this.utilityService.removeByAttr(o,"id",this.data.service.id);this.sessionService.applicantService=n,(null===(t=this.data.service)||void 0===t?void 0:t.isODMV)&&(this.sessionService.clearAppointmentDetail(),this.commonService.routeToBookAppointment())}this.close(!0,"yes Delete service")})}close(t=!1,o){this.dialogRef.close(t)}continue(t=!0,o){this.dialogRef.close(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.WI),e.Y36(oe.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-resend-confirmation-letter-modal"]],features:[e.qOj],decls:16,vars:8,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.close()}),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"h4",4),e._UZ(5,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"hr",6),e.TgZ(9,"p",7),e._uU(10),e.qZA(),e.TgZ(11,"div",8)(12,"div",9)(13,"button",10),e.NdJ("click",function(){return o.continue()}),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()),2&t&&(e.xp6(3),e.MGl("src","",o.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(3),e.hij(" ",e.lcZ(7,4,"commonSections.headerLabel.label3")," "),e.xp6(4),e.Oqu(o.data),e.xp6(4),e.hij(" ",e.lcZ(15,6,"commonSections.buttons.button19")," "))},directives:[V.lW],pipes:[D.X$],encapsulation:2}),i})();function Os(i,s){1&i&&(e.TgZ(0,"p",11),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commonSections.messages.bhsMessages.message4")))}function Es(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmReschedule()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commonSections.buttons.button15")))}let ks=(()=>{class i extends a.e{constructor(t,o,n){super(),this.data=t,this.dialog=o,this.dialogRef=n}confirmReschedule(){var t;!(null===(t=this.data)||void 0===t?void 0:t.isReschedulingAllowed)||this.dialogRef.close({data:"no"})}close(){this.dialogRef.close()}confirmCancel(){this.dialogRef.close({data:"yes"})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.WI),e.Y36(oe.uw),e.Y36(oe.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-handshake-cancel-appointment-modal"]],features:[e.qOj],decls:16,vars:9,consts:[[1,"mat-modal-container",2,"max-width","550px"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10","pr-20"],[1,"my-20"],["class","fs-sm-20 c-brand-grey-para mb-15",4,"ngIf"],[1,"row"],[1,"col-6","col-md"],["mat-raised-button","","class","btn mat-btn-lg btn-block btn-brand-orange mt-15",3,"click",4,"ngIf"],["mat-stroked-button","","data-dismiss","modal",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mt-15",3,"click"],[1,"fs-sm-20","c-brand-grey-para","mb-15"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.close()}),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"h4",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"hr",5),e.YNc(8,Os,3,3,"p",6),e.TgZ(9,"div",7)(10,"div",8),e.YNc(11,Es,3,3,"button",9),e.qZA(),e.TgZ(12,"div",8)(13,"button",10),e.NdJ("click",function(){return o.confirmCancel()}),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()),2&t&&(e.xp6(3),e.MGl("src","",o.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(2),e.Oqu(e.lcZ(6,5,"dashboard.pageDetails.para9")),e.xp6(3),e.Q6J("ngIf",null==o.data?null:o.data.isReschedulingAllowed),e.xp6(3),e.Q6J("ngIf",null==o.data?null:o.data.isReschedulingAllowed),e.xp6(3),e.Oqu(e.lcZ(15,7,"commonSections.buttons.button14")))},directives:[w.O5,V.lW],pipes:[D.X$],encapsulation:2}),i})();function ws(i,s){1&i&&(e.TgZ(0,"div",22)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"applicantInformation.messages.errorMessages.message8")))}function Fs(i,s){1&i&&(e.TgZ(0,"div",22)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"applicantInformation.messages.errorMessages.message11")))}function Ms(i,s){1&i&&(e.TgZ(0,"div",22)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij("",e.lcZ(3,1,"commonSections.messages.patternMessages.message25")," "))}function Ps(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,ws,4,3,"div",21),e.YNc(2,Fs,4,3,"div",21),e.YNc(3,Ms,4,3,"div",21),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.dialCode||null==t.mobileUpdateForm.controls.dialCode.errors?null:t.mobileUpdateForm.controls.dialCode.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.dialCode||null==t.mobileUpdateForm.controls.dialCode.errors?null:t.mobileUpdateForm.controls.dialCode.errors.pattern),e.xp6(1),e.Q6J("ngIf",null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.dialCode?null:t.mobileUpdateForm.controls.dialCode.hasError("maxlength"))}}function Us(i,s){1&i&&(e.TgZ(0,"div",22)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"applicantInformation.messages.errorMessages.message9")))}function qs(i,s){1&i&&(e.TgZ(0,"div",22)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"applicantInformation.messages.errorMessages.message12")))}function Gs(i,s){1&i&&(e.TgZ(0,"div",22)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij("",e.lcZ(3,1,"commonSections.messages.patternMessages.message25")," "))}function Vs(i,s){1&i&&(e.TgZ(0,"div",22)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"commonSections.messages.patternMessages.message27")," "))}function Rs(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,Us,4,3,"div",21),e.YNc(2,qs,4,3,"div",21),e.YNc(3,Gs,4,3,"div",21),e.YNc(4,Vs,4,3,"div",21),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.contactNumber||null==t.mobileUpdateForm.controls.contactNumber.errors?null:t.mobileUpdateForm.controls.contactNumber.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.contactNumber||null==t.mobileUpdateForm.controls.contactNumber.errors?null:t.mobileUpdateForm.controls.contactNumber.errors.pattern),e.xp6(1),e.Q6J("ngIf",null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.contactNumber?null:t.mobileUpdateForm.controls.contactNumber.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.contactNumber?null:t.mobileUpdateForm.controls.contactNumber.hasError("minlength"))}}const ao=function(i){return{"form-error":i}};function Js(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"h2",5),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"form",6)(5,"div",7)(6,"div",8)(7,"h5",9),e._uU(8),e.ALo(9,"translate"),e.TgZ(10,"span",10),e._uU(11,"*"),e.qZA()(),e.TgZ(12,"div",7)(13,"div",11)(14,"div",12),e.YNc(15,Ps,4,3,"div",13),e.TgZ(16,"mat-form-field",14),e._UZ(17,"input",15),e.qZA()()(),e.TgZ(18,"div",16)(19,"div",12),e.YNc(20,Rs,5,4,"div",13),e.TgZ(21,"mat-form-field",14),e._UZ(22,"input",17),e.ALo(23,"translate"),e.qZA()()()()()(),e.TgZ(24,"div",7)(25,"div",18)(26,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickBtnAction("mobile")}),e._uU(27),e.ALo(28,"translate"),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,10,"ccAustralia.headerLabel.label4")),e.xp6(2),e.Q6J("formGroup",t.mobileUpdateForm),e.xp6(4),e.Oqu(e.lcZ(9,12,"applicantInformation.formLabel.label8")),e.xp6(6),e.Q6J("ngClass",e.VKq(18,ao,(null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.dialCode?null:t.mobileUpdateForm.controls.dialCode.touched)&&(null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.dialCode?null:t.mobileUpdateForm.controls.dialCode.invalid))),e.xp6(1),e.Q6J("ngIf",(null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.dialCode?null:t.mobileUpdateForm.controls.dialCode.touched)&&(null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.dialCode?null:t.mobileUpdateForm.controls.dialCode.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(20,ao,(null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.contactNumber?null:t.mobileUpdateForm.controls.contactNumber.touched)&&(null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.contactNumber?null:t.mobileUpdateForm.controls.contactNumber.invalid))),e.xp6(1),e.Q6J("ngIf",(null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.contactNumber?null:t.mobileUpdateForm.controls.contactNumber.touched)&&(null==t.mobileUpdateForm||null==t.mobileUpdateForm.controls||null==t.mobileUpdateForm.controls.contactNumber?null:t.mobileUpdateForm.controls.contactNumber.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(23,14,"applicantInformation.placeholder.label7")),e.xp6(4),e.Q6J("disabled",t.mobileUpdateForm.invalid),e.xp6(1),e.Oqu(e.lcZ(28,16,"reviewAndPayment.buttons.button3"))}}function Ys(i,s){1&i&&(e.TgZ(0,"div",22),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Qs(i,s){1&i&&(e.TgZ(0,"div",22),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message1")," "))}function Bs(i,s){if(1&i&&(e.TgZ(0,"div",26),e.YNc(1,Ys,3,3,"div",21),e.YNc(2,Qs,3,3,"div",21),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.emailUpdateForm.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.emailUpdateForm.controls.email.errors.pattern)}}function js(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"h2",5),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"form",6)(5,"div",7)(6,"div",23)(7,"div",12)(8,"h5",9),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,Bs,3,2,"div",24),e.TgZ(12,"mat-form-field",14),e._UZ(13,"input",25),e.ALo(14,"translate"),e.qZA()()()()(),e.TgZ(15,"div",7)(16,"div",18)(17,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickBtnAction("email")}),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,8,"ccAustralia.headerLabel.label5")),e.xp6(2),e.Q6J("formGroup",t.emailUpdateForm),e.xp6(3),e.Q6J("ngClass",e.VKq(16,ao,t.emailUpdateForm.controls.email.touched&&t.emailUpdateForm.controls.email.invalid)),e.xp6(2),e.Oqu(e.lcZ(10,10,"reviewAndPayment.formLabel.label7")),e.xp6(2),e.Q6J("ngIf",t.emailUpdateForm.controls.email.touched&&t.emailUpdateForm.controls.email.errors),e.xp6(2),e.uIk("aria-label",e.lcZ(14,12,"formFilling.formLabel.label2")),e.xp6(4),e.Q6J("disabled",t.emailUpdateForm.invalid),e.xp6(1),e.Oqu(e.lcZ(19,14,"reviewAndPayment.buttons.button3"))}}function Hs(i,s){if(1&i&&(e.TgZ(0,"p",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,t.data.alertInfo))}}function $s(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"h2",5),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,Hs,3,3,"p",27),e.TgZ(5,"div",7)(6,"div",18)(7,"button",28),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickBtnAction("warning")}),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"commonSections.headerLabel.label3")),e.xp6(2),e.Q6J("ngIf",null==t.data?null:t.data.alertInfo),e.xp6(4),e.Oqu(e.lcZ(9,5,"reviewAndPayment.buttons.button3"))}}function Ws(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",30),e._UZ(2,"i",31),e.qZA(),e.TgZ(3,"h2",5),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"p",29),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"div",7)(10,"div",18)(11,"p")(12,"span",32),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickBtnAction("success")}),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,3,null==t.data?null:t.data.headerInfo)),e.xp6(3),e.Oqu(e.lcZ(8,5,t.data.successInfo)),e.xp6(6),e.Oqu(e.lcZ(14,7,"header.headerLabel.label2"))}}function Ks(i,s){if(1&i&&(e.TgZ(0,"div")(1,"div",30),e._UZ(2,"i",31),e.qZA(),e.TgZ(3,"h2",5),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,1,null==t.data?null:t.data.headerInfo))}}function zs(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"h2",5),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",29),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p",33),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",7)(11,"div",34)(12,"div",35)(13,"mat-form-field",14)(14,"input",36),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().enteredOTP=n}),e.qZA()()()(),e.TgZ(15,"div",37)(16,"button",38),e.NdJ("click",function(){return e.CHM(t),e.oxw().onClickBtnAction("otpVerify")}),e._uU(17),e.ALo(18,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"commonSections.headerLabel.label3")),e.xp6(3),e.Oqu(e.lcZ(6,8,t.data.alertInfo)),e.xp6(3),e.hij("",e.lcZ(9,10,"applicantInformation.pageDetails.para3")," "),e.xp6(6),e.Q6J("ngModel",t.enteredOTP),e.xp6(2),e.Q6J("disabled",!t.enteredOTP),e.xp6(1),e.hij(" ",e.lcZ(18,12,"applicantInformation.buttons.button2")," ")}}let Kt=(()=>{class i extends a.e{constructor(t,o,n,l){super(),this.data=t,this.dialog=o,this.dialogRef=n,this._fb=l,this.mobileUpdateForm=this._fb.group({dialCode:["",[r.kI.required,r.kI.pattern(p.Wg.phone)]],contactNumber:["",[r.kI.required,r.kI.pattern(p.Wg.phone)]]}),this.emailUpdateForm=this._fb.group({email:["",[r.kI.required,r.kI.pattern(p.Wg.email_caps_allowed)]]})}close(){this.dialogRef.close()}onClickBtnAction(t){this.dialogRef.close({data:t,formData:"mobile"==t?this.mobileUpdateForm.value:"email"==t?this.emailUpdateForm.value:"otpVerify"==t?this.enteredOTP:null})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.WI),e.Y36(oe.uw),e.Y36(oe.so),e.Y36(r.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ccuser-model"]],features:[e.qOj],decls:10,vars:7,consts:[[1,"mat-modal-container",2,"max-width","550px"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[4,"ngIf"],[1,"fs-18","fs-sm-21","mb-20","pr-20","font-weight-bold"],[3,"formGroup"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","mt-20"],[1,"fs-sm-16","mb-10"],[1,"c-brand-error"],[1,"col-12","col-sm-4","col-md-5","col-lg-4"],["tabindex","3",1,"form-group","p-3",3,"ngClass"],["class","errorMessage","aria-live","assertive",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","44","matInput","","type","text","name","dialCode","formControlName","dialCode","autocomplete","off","maxlength","3","attr.aria-required","true",2,"text-transform","uppercase"],[1,"col-12","col-sm-8","col-md-7","col-lg-8"],["matInput","","type","text","name","contactNumber","formControlName","contactNumber","autocomplete","off","maxlength","15","minlength","7","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder"],[1,"col-12"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"disabled","click"],["aria-live","assertive",1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"col-12","mt-20"],["class","errorMessage",4,"ngIf"],["name","email","formControlName","email","placeholder","Enter email address","autocomplete","off","attr.aria-required","true","matInput","","type","text","minlength","3","maxlength","50",2,"text-transform","uppercase"],[1,"errorMessage"],["class","fs-sm-20 c-brand-grey-para mb-15",4,"ngIf"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"click"],[1,"fs-sm-20","c-brand-grey-para","mb-15"],[1,"mb-20"],[1,"fa","fa-check-circle","fs-40","c-brand-green"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"c-brand-grey-para","mb-15"],[1,"col-8"],[1,"form-group","mb-0"],["placeholder","OTP","matInput","","type","text","maxlength","6","required","",3,"ngModel","ngModelChange"],[1,"col-4"],["mat-raised-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.close()}),e._UZ(3,"img",3),e.qZA()(),e.YNc(4,Js,29,22,"div",4),e.YNc(5,js,20,18,"div",4),e.YNc(6,$s,10,7,"div",4),e.YNc(7,Ws,15,9,"div",4),e.YNc(8,Ks,6,3,"div",4),e.YNc(9,zs,19,14,"div",4),e.qZA()),2&t&&(e.xp6(3),e.MGl("src","",o.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(1),e.Q6J("ngIf","mobile"==(null==o.data?null:o.data.action)),e.xp6(1),e.Q6J("ngIf","email"==(null==o.data?null:o.data.action)),e.xp6(1),e.Q6J("ngIf","warning"==(null==o.data?null:o.data.action)),e.xp6(1),e.Q6J("ngIf","success"==(null==o.data?null:o.data.action)),e.xp6(1),e.Q6J("ngIf","verify"==(null==o.data?null:o.data.action)),e.xp6(1),e.Q6J("ngIf","otpVerify"==(null==o.data?null:o.data.action)))},directives:[w.O5,r._Y,r.JL,r.sg,w.mk,q.KE,u.Nt,r.Fj,r.JJ,r.u,r.nD,r.wO,V.lW,r.Q7,r.On],pipes:[D.X$],encapsulation:2}),i})();var _i=A(5498);function Xs(i,s){1&i&&(e.ynx(0),e.TgZ(1,"div",7)(2,"div",8),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",9),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.BQk()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"dashboard.pageDetails.para1")),e.xp6(3),e.Oqu(e.lcZ(7,4,"dashboard.pageDetails.para2")))}const el=function(i){return{"my-12":i}};function tl(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"li",0),e._uU(2),e.qZA(),e.BQk()),2&i){const t=s.$implicit,o=s.odd;e.xp6(1),e.Q6J("ngClass",e.VKq(2,el,o)),e.xp6(1),e.Oqu(null==t?null:t.value)}}function il(i,s){if(1&i&&(e.TgZ(0,"ul",14),e.YNc(1,tl,3,4,"ng-container",15),e.ALo(2,"keyvalue"),e.ALo(3,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,2,e.lcZ(3,4,"dashboard.pageDetails.para11")))("ngForTrackBy",t.trackByFn)}}function ol(i,s){1&i&&(e.TgZ(0,"div",10)(1,"div",11),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",12),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,il,4,6,"ul",13),e.qZA()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,3,"dashboard.pageDetails.para1")),e.xp6(3),e.Oqu(e.lcZ(6,5,"dashboard.pageDetails.para2")),e.xp6(2),e.Q6J("ngIf",!0))}const nl=function(i){return{"col-12":i}},al=function(i){return{"col-lg-12 mb-lg-35":i}},sl=function(i){return{"col-lg-12 text-lg-center":i}};let qo=(()=>{class i extends a.e{constructor(){super(),this.constants=p.gT,this.type=""}get travelInsurance(){return this.utilityService.externalUrlAppend("travel-insurance")}GAForClickDatails(){this.utilityService.pushDataLayerGA({dl_event:"travel_medical_insurance",dl_category:"Travel Medical Insurance",dl_action:"Get Quote",dl_label:"Apply For Travel Medical Insurance"})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-medical-insurance"]],inputs:{type:"type"},features:[e.qOj],decls:11,vars:18,consts:[[3,"ngClass"],[1,"row","no-gutters","align-items-center","bg-brand-footer","text-center","text-md-left","p-25",3,"ngClass"],[1,"col-12","col-md-auto",3,"ngClass"],["alt","Travel Medical Insurance",1,"img-fluid-center","mb-20","mb-md-0",3,"src"],[4,"ngIf","ngIfElse"],["secondTemplate",""],["target","_blank",1,"btn","btn-lg","btn-outline-brand-orange","min-w-160",3,"ngClass","href","click"],[1,"col-12","col-md","mb-40","mb-md-0","px-md-20"],[1,"c-brand-blue","fs-18","fs-sm-22","fs-lg-25","mb-5"],[1,"c-brand-grey-para","fs-lg-18"],[1,"col-12","col-md","col-lg-12","mb-40","mb-md-0","px-md-20","px-lg-0","mb-lg-40"],[1,"c-brand-blue","fs-18","fs-sm-22","fs-lg-18","mb-5","mb-lg-15"],[1,"c-brand-grey-para"],["class","c-brand-grey-para text-left mt-15 pl-20",4,"ngIf"],[1,"c-brand-grey-para","text-left","mt-15","pl-20"],[4,"ngFor","ngForOf","ngForTrackBy"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.YNc(4,Xs,8,6,"ng-container",4),e.YNc(5,ol,8,7,"ng-template",null,5,e.W1O),e.TgZ(7,"div",2)(8,"a",6),e.NdJ("click",function(){return o.GAForClickDatails()}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()()),2&t){const n=e.MAs(6);e.Q6J("ngClass",e.VKq(12,nl,"1"===o.type)),e.xp6(1),e.Q6J("ngClass","1"===o.type?"p-lg-50":"py-lg-35"),e.xp6(1),e.Q6J("ngClass",e.VKq(14,al,"1"!==o.type)),e.xp6(1),e.MGl("src","",o.getGlobalImagePath,"/travel.png",e.LSH),e.xp6(1),e.Q6J("ngIf","1"===o.type)("ngIfElse",n),e.xp6(3),e.Q6J("ngClass",e.VKq(16,sl,"1"!==o.type)),e.xp6(1),e.Q6J("ngClass","1"===o.type?"min-lg-w-180":"min-xl-w-180")("href",o.travelInsurance,e.LSH),e.xp6(1),e.Oqu(e.lcZ(10,10,"dashboard.buttons.button5"))}},directives:[w.mk,w.O5,w.sg],pipes:[D.X$,w.Nd],encapsulation:2}),i})();var ll=A(799),rl=A(5009);let kt=(()=>{class i{constructor(){}_returnHtmlFromRichText(t){return null==t||"document"!==t.nodeType?"<p>Error</p>":(0,ll.S)(t,{renderNode:{[rl.Ev.HYPERLINK]:(n,l)=>`<a  href="${n.data.uri}"' target="_blank" '}><span class="c-brand-orange fs-sm-16 text-decoration-underline cursor-pointer">${l(n.content)}</span></a>`}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-contentful-richtext"]],inputs:{richData:"richData"},decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(t,o){1&t&&e._UZ(0,"div",0),2&t&&e.Q6J("innerHtml",o._returnHtmlFromRichText(o.richData),e.oJD)},encapsulation:2}),i})();var at=A(7030);const cl=["viewChangeAppointmentModal"];function ul(i,s){if(1&i&&(e.TgZ(0,"div",16)(1,"div",17),e._UZ(2,"i",18),e.TgZ(3,"div"),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(t.cancelAppointmentMsg)}}const dl=function(i,s){return{rescheduledTime:i,rescheduledDate:s}};function pl(i,s){if(1&i&&(e.TgZ(0,"div",16)(1,"div",17),e._UZ(2,"i",18),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.xi3(5,1,"dashboard.messages.infoMessages.message2",e.WLB(4,dl,null==t.rescheduledDetails?null:t.rescheduledDetails.rescheduledTime,null==t.rescheduledDetails?null:t.rescheduledDetails.rescheduledDate))," ")}}const ml=function(i){return{expiry:i}};function gl(i,s){if(1&i&&(e.TgZ(0,"div",19)(1,"div",20),e._UZ(2,"i",21),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(e.xi3(5,1,"ccAustralia.messages.errorMessages.message2",e.VKq(4,ml,t.PasswordExpirydays)))}}function _l(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).applyNow()}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.checkIfDisabled()),e.xp6(1),e.hij(" ",e.lcZ(3,2,"dashboard.buttons.button2")," ")}}function fl(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).applyNow()}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.checkIfDisabled()),e.xp6(1),e.hij(" ",e.lcZ(3,2,"dashboard.buttons.button2")," ")}}function vl(i,s){1&i&&(e.TgZ(0,"div",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function hl(i,s){1&i&&(e.TgZ(0,"div",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message1")," "))}function yl(i,s){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,vl,3,3,"div",46),e.YNc(2,hl,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.email.errors.pattern)}}function bl(i,s){if(1&i&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,"dashboard.headerLabel.label7")," - ",t.urn," ")}}function Cl(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",57),e.YNc(1,bl,3,4,"div",58),e.TgZ(2,"div",59)(3,"span",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw(4).displayDetail(n)}),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA()()()}if(2&i){const t=e.oxw().$implicit,o=e.oxw(4);e.xp6(1),e.Q6J("ngIf",!(null!=o.allConfiguration[0]&&o.allConfiguration[0].enableIRLNumber)),e.xp6(3),e.hij(" ",null!=t&&t.isAppointment?e.lcZ(5,2,"dashboard.headerLabel.label20"):e.lcZ(6,4,"dashboard.headerLabel.label23")," ")}}function Al(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",57)(1,"div",62)(2,"div",63)(3,"span",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw(4).PayNowAppointment(n)}),e._uU(4),e.ALo(5,"translate"),e.qZA()()()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"dashboard.headerLabel.label37")))}function Tl(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"span",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.oxw(4).scheduleWaitlist(n)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"dashboard.headerLabel.label27")," "))}function Sl(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"span",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.oxw(4).updateCategory(n)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"dashboard.headerLabel.label28")," "))}function xl(i,s){if(1&i&&(e.TgZ(0,"div",57)(1,"div",61),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,Tl,4,3,"div",64),e.YNc(5,Sl,4,3,"div",64),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw(4);e.xp6(2),e.AsE(" ",e.lcZ(3,4,"dashboard.headerLabel.label25"),": ",null==t?null:t.waitlistStatus," "),e.xp6(2),e.Q6J("ngIf",t.isWaitlist&&(null==t?null:t.waitlistStatus)===o.waitlistAllowed),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.isWaitlistUpdate)&&(null==t?null:t.waitlistStatus)===o.waitlisted)}}function Ll(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"polandTurkey.pageDetails.para30")," "))}function Il(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"polandTurkey.pageDetails.para31")," "))}function Zl(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",65),e._uU(2),e.ALo(3,"translate"),e.YNc(4,Ll,3,3,"span",13),e.YNc(5,Il,3,3,"span",13),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,3,"polandTurkey.formLabel.label10"),": "),e.xp6(2),e.Q6J("ngIf","Confirmed"==(null==t?null:t.PayAtBankStatus)),e.xp6(1),e.Q6J("ngIf","Pending"==(null==t?null:t.PayAtBankStatus))}}function Nl(i,s){if(1&i&&(e.TgZ(0,"div")(1,"div",66),e._uU(2),e.qZA()()),2&i){const t=s.$implicit;e.xp6(2),e.AsE("",t.firstName," ",t.lastName,"")}}function Dl(i,s){if(1&i&&(e.TgZ(0,"div",49)(1,"div",50)(2,"div",51),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"h2",52),e._uU(8),e.qZA(),e.YNc(9,Cl,7,6,"div",53),e.YNc(10,Al,6,3,"div",53),e.YNc(11,xl,6,6,"div",53),e.YNc(12,Zl,6,5,"ng-container",13),e._UZ(13,"hr",54),e.TgZ(14,"div",55),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,Nl,3,2,"div",56),e.qZA()()),2&i){const t=s.$implicit,o=e.oxw(4);e.xp6(3),e.hij(" ",null!=t&&t.isAppointment||null!=t&&t.isWaitlist?e.lcZ(4,9,"dashboard.headerLabel.label8"):"hmp"===t.missionCode?e.lcZ(5,11,"dashboard.headerLabel.label4"):e.lcZ(6,13,"dashboard.headerLabel.label6")," "),e.xp6(5),e.Oqu(t.visaCategoryName),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.IsBookedByCC)||"Pending"!==(null==t?null:t.PayAtBankStatus)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.IsBookedByCC)&&"Pending"===(null==t?null:t.PayAtBankStatus)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.waitlistStatus),e.xp6(1),e.Q6J("ngIf",null==t?null:t.isPayAtBankSelected),e.xp6(3),e.hij("",e.lcZ(16,15,"dashboard.headerLabel.label19"),":"),e.xp6(2),e.Q6J("ngForOf",t.applicants)("ngForTrackBy",o.trackByFn)}}function Ol(i,s){if(1&i&&(e.ynx(0),e.YNc(1,Dl,18,17,"div",48),e.BQk()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.applicationList)("ngForTrackBy",t.trackByFn)}}function El(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",67)(1,"div",68)(2,"h2",69),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",70),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",71)(9,"div",72)(10,"mat-checkbox",73),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(3).ptImportantCheck=n}),e.TgZ(11,"div",74),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()(),e.TgZ(14,"div",68)(15,"h2",69),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"p",70),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",71)(22,"div",72)(23,"mat-checkbox",73),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(3).ptWarningCheck=n}),e.TgZ(24,"div",74),e._uU(25),e.ALo(26,"translate"),e.qZA()()()()()()}if(2&i){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,8,"polandTurkey.pageDetails.para6")),e.xp6(3),e.Oqu(e.lcZ(7,10,"polandTurkey.pageDetails.para7")),e.xp6(4),e.Q6J("ngModel",t.ptImportantCheck),e.xp6(2),e.Oqu(e.lcZ(13,12,"polandTurkey.pageDetails.para8")),e.xp6(4),e.Oqu(e.lcZ(17,14,"polandTurkey.pageDetails.para9")),e.xp6(3),e.Oqu(e.lcZ(20,16,"polandTurkey.pageDetails.para10")),e.xp6(4),e.Q6J("ngModel",t.ptWarningCheck),e.xp6(2),e.Oqu(e.lcZ(26,18,"polandTurkey.pageDetails.para11"))}}function kl(i,s){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"dashboard.messages.infoMessages.message1")," "))}const ut=function(i){return{"form-error":i}};function wl(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tab-group",25),e.NdJ("selectedIndexChange",function(n){e.CHM(t);const l=e.oxw(2);return null==l.selected?null:l.selected.setValue(n)})("selectedTabChange",function(n){return e.CHM(t),e.oxw(2).tabChanged(n)}),e.TgZ(1,"mat-tab",26),e.ALo(2,"translate"),e.TgZ(3,"form",27)(4,"div",28)(5,"div",29)(6,"div",30)(7,"div",31)(8,"h5",32),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"mat-form-field",33),e._UZ(12,"input",34),e.ALo(13,"translate"),e.qZA()()(),e.TgZ(14,"div",30)(15,"div",31)(16,"h5",32),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"mat-form-field",33),e._UZ(20,"input",35),e.ALo(21,"translate"),e.qZA()()()(),e.TgZ(22,"div",29)(23,"div",30)(24,"div",36)(25,"h5",37),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.YNc(28,yl,3,2,"div",38),e.qZA(),e.TgZ(29,"mat-form-field",33),e._UZ(30,"input",39),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"div",30)(33,"div",31)(34,"h5",32),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"mat-form-field",33),e._UZ(38,"input",40),e.ALo(39,"translate"),e.qZA()()()()(),e.TgZ(40,"div",29)(41,"div",41)(42,"button",42),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onRest()}),e._uU(43),e.ALo(44,"translate"),e.qZA()(),e.TgZ(45,"div",43)(46,"button",42),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onSearch()}),e._uU(47),e.ALo(48,"translate"),e.qZA()()()(),e.YNc(49,Ol,2,2,"ng-container",13),e.YNc(50,El,27,20,"div",44),e._UZ(51,"br"),e.YNc(52,kl,3,3,"div",13),e.qZA(),e._UZ(53,"mat-tab",26),e.ALo(54,"translate"),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("selectedIndex",t.selectedIdx),e.xp6(1),e.s9C("label",e.lcZ(2,19,"dashboard.headerLabel.label32")),e.xp6(2),e.Q6J("formGroup",t.formGroup),e.xp6(6),e.hij("",e.lcZ(10,21,"dashboard.headerLabel.label34")," "),e.xp6(3),e.uIk("aria-label",e.lcZ(13,23,"dashboard.headerLabel.label33")),e.xp6(5),e.hij("",e.lcZ(18,25,"dashboard.headerLabel.label14")," "),e.xp6(3),e.uIk("aria-label",e.lcZ(21,27,"formFilling.formLabel.label2")),e.xp6(4),e.Q6J("ngClass",e.VKq(43,ut,t.formGroup.controls.email.touched&&t.formGroup.controls.email.invalid)),e.xp6(2),e.hij("",e.lcZ(27,29,"applicantInformation.formLabel.label9")," "),e.xp6(2),e.Q6J("ngIf",t.formGroup.controls.email.touched&&t.formGroup.controls.email.errors),e.xp6(2),e.uIk("aria-label",e.lcZ(31,31,"formFilling.formLabel.label2")),e.xp6(5),e.hij("",e.lcZ(36,33,"login.formLabel.label3")," "),e.xp6(3),e.uIk("aria-label",e.lcZ(39,35,"formFilling.formLabel.label2")),e.xp6(5),e.Oqu(e.lcZ(44,37,"dashboard.buttons.button9")),e.xp6(4),e.Oqu(e.lcZ(48,39,"dashboard.buttons.button8")),e.xp6(2),e.Q6J("ngIf",(null==t.applicationList?null:t.applicationList.length)>0),e.xp6(1),e.Q6J("ngIf",t.isPtFlow&&t.ptWarningView),e.xp6(2),e.Q6J("ngIf",0===(null==t.applicationList?null:t.applicationList.length)&&!t.isPtFlow),e.xp6(1),e.s9C("label",e.lcZ(54,41,"dashboard.headerLabel.label33"))}}function Fl(i,s){if(1&i&&(e.TgZ(0,"div",61),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit,o=e.oxw(4);e.xp6(1),e.AsE(" ",o.groupURNlabel," - ",o.isOverSeasEnable?t.anyGRNumber:t.urn," ")}}function Ml(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",57),e.YNc(1,Fl,2,2,"div",58),e.TgZ(2,"div",59)(3,"span",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw(4).displayDetail(n)}),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA()()()}if(2&i){const t=e.oxw().$implicit,o=e.oxw(4);e.xp6(1),e.Q6J("ngIf",!(null!=o.allConfiguration[0]&&o.allConfiguration[0].enableIRLNumber)),e.xp6(3),e.hij(" ",null!=t&&t.isAppointment?e.lcZ(5,2,"dashboard.headerLabel.label20"):e.lcZ(6,4,"dashboard.headerLabel.label23")," ")}}function Pl(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",57)(1,"div",62)(2,"div",63)(3,"span",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw(4).PayNowAppointment(n)}),e._uU(4),e.ALo(5,"translate"),e.qZA()()()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"dashboard.headerLabel.label37")))}function Ul(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"span",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.oxw(4).scheduleWaitlist(n)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"dashboard.headerLabel.label27")," "))}function ql(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"span",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.oxw(4).updateCategory(n)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"dashboard.headerLabel.label28")," "))}function Gl(i,s){if(1&i&&(e.TgZ(0,"div",57)(1,"div",61),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,Ul,4,3,"div",64),e.YNc(5,ql,4,3,"div",64),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw(4);e.xp6(2),e.AsE(" ",e.lcZ(3,4,"dashboard.headerLabel.label25"),": ",null==t?null:t.waitlistStatus," "),e.xp6(2),e.Q6J("ngIf",t.isWaitlist&&(null==t?null:t.waitlistStatus)===o.waitlistAllowed),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.isWaitlistUpdate)&&(null==t?null:t.waitlistStatus)===o.waitlisted)}}function Vl(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"polandTurkey.pageDetails.para30")," "))}function Rl(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"polandTurkey.pageDetails.para31")," "))}function Jl(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",65),e._uU(2),e.ALo(3,"translate"),e.YNc(4,Vl,3,3,"span",13),e.YNc(5,Rl,3,3,"span",13),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,3,"polandTurkey.formLabel.label10"),": "),e.xp6(2),e.Q6J("ngIf","Confirmed"==(null==t?null:t.PayAtBankStatus)),e.xp6(1),e.Q6J("ngIf","Pending"==(null==t?null:t.PayAtBankStatus))}}function Yl(i,s){if(1&i&&(e.TgZ(0,"div")(1,"div",66),e._uU(2),e.qZA()()),2&i){const t=s.$implicit;e.xp6(2),e.AsE("",t.firstName," ",t.lastName,"")}}function Ql(i,s){if(1&i&&(e.TgZ(0,"div",76)(1,"div",50)(2,"div",51),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"h2",52),e._uU(8),e.qZA(),e.YNc(9,Ml,7,6,"div",53),e.YNc(10,Pl,6,3,"div",53),e.YNc(11,Gl,6,6,"div",53),e.YNc(12,Jl,6,5,"ng-container",13),e._UZ(13,"hr",54),e.TgZ(14,"div",55),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.YNc(17,Yl,3,2,"div",56),e.qZA()()),2&i){const t=s.$implicit,o=e.oxw(4);e.xp6(3),e.hij(" ",null!=t&&t.isAppointment||null!=t&&t.isWaitlist?e.lcZ(4,9,"dashboard.headerLabel.label8"):"hmp"===t.missionCode?e.lcZ(5,11,"dashboard.headerLabel.label4"):e.lcZ(6,13,"dashboard.headerLabel.label6")," "),e.xp6(5),e.Oqu(t.visaCategoryName),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.IsBookedByCC)||"Pending"!==(null==t?null:t.PayAtBankStatus)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.IsBookedByCC)&&"Pending"===(null==t?null:t.PayAtBankStatus)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.waitlistStatus),e.xp6(1),e.Q6J("ngIf",null==t?null:t.isPayAtBankSelected),e.xp6(3),e.hij("",e.lcZ(16,15,"dashboard.headerLabel.label19"),":"),e.xp6(2),e.Q6J("ngForOf",t.applicants)("ngForTrackBy",o.trackByFn)}}function Bl(i,s){if(1&i&&(e.ynx(0),e.YNc(1,Ql,18,17,"div",75),e.BQk()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.applicationList)("ngForTrackBy",t.trackByFn)}}function jl(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",67)(1,"div",68)(2,"h2",69),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",70),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",71)(9,"div",72)(10,"mat-checkbox",73),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(3).ptImportantCheck=n}),e.TgZ(11,"div",74),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()(),e.TgZ(14,"div",68)(15,"h2",69),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"p",70),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",71)(22,"div",72)(23,"mat-checkbox",73),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(3).ptWarningCheck=n}),e.TgZ(24,"div",74),e._uU(25),e.ALo(26,"translate"),e.qZA()()()()()()}if(2&i){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,8,"polandTurkey.pageDetails.para6")),e.xp6(3),e.Oqu(e.lcZ(7,10,"polandTurkey.pageDetails.para7")),e.xp6(4),e.Q6J("ngModel",t.ptImportantCheck),e.xp6(2),e.Oqu(e.lcZ(13,12,"polandTurkey.pageDetails.para8")),e.xp6(4),e.Oqu(e.lcZ(17,14,"polandTurkey.pageDetails.para9")),e.xp6(3),e.Oqu(e.lcZ(20,16,"polandTurkey.pageDetails.para10")),e.xp6(4),e.Q6J("ngModel",t.ptWarningCheck),e.xp6(2),e.Oqu(e.lcZ(26,18,"polandTurkey.pageDetails.para11"))}}function Hl(i,s){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"dashboard.messages.infoMessages.message1")," "))}function $l(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tab-group",25),e.NdJ("selectedIndexChange",function(n){e.CHM(t);const l=e.oxw(2);return null==l.selected?null:l.selected.setValue(n)})("selectedTabChange",function(n){return e.CHM(t),e.oxw(2).tabChanged(n)}),e.TgZ(1,"mat-tab",26),e.ALo(2,"translate"),e.YNc(3,Bl,2,2,"ng-container",13),e.YNc(4,jl,27,20,"div",44),e._UZ(5,"br"),e.YNc(6,Hl,3,3,"div",13),e.qZA()()}if(2&i){const t=e.oxw(2);e.Q6J("selectedIndex",t.selectedIdx),e.xp6(1),e.s9C("label",e.lcZ(2,5,"dashboard.headerLabel.label3")),e.xp6(2),e.Q6J("ngIf",(null==t.applicationList?null:t.applicationList.length)>0),e.xp6(1),e.Q6J("ngIf",t.isPtFlow&&t.ptWarningView),e.xp6(2),e.Q6J("ngIf",0===(null==t.applicationList?null:t.applicationList.length)&&!t.isPtFlow)}}function Wl(i,s){1&i&&(e.TgZ(0,"div",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ccAustralia.messages.errorMessages.message1")," "))}function Kl(i,s){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,Wl,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.fetchApplicationForm.controls.refNumber.errors.pattern||(null==t.fetchApplicationForm||null==t.fetchApplicationForm.controls||null==t.fetchApplicationForm.controls.refNumber?null:t.fetchApplicationForm.controls.refNumber.hasError("minlength")))}}function zl(i,s){1&i&&(e.TgZ(0,"div",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ccAustralia.messages.errorMessages.message1")," "))}function Xl(i,s){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,zl,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.fetchApplicationForm.controls.documentNumber.errors.pattern||(null==t.fetchApplicationForm||null==t.fetchApplicationForm.controls||null==t.fetchApplicationForm.controls.documentNumber?null:t.fetchApplicationForm.controls.documentNumber.hasError("minlength")))}}function er(i,s){1&i&&(e.TgZ(0,"div",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function tr(i,s){1&i&&(e.TgZ(0,"div",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message1")," "))}function ir(i,s){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,er,3,3,"div",46),e.YNc(2,tr,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.fetchApplicationForm.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.fetchApplicationForm.controls.email.errors.pattern)}}function or(i,s){1&i&&(e.TgZ(0,"div",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ccAustralia.messages.errorMessages.message1")," "))}function nr(i,s){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,or,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.fetchApplicationForm.controls.mobileNumber.errors.pattern||(null==t.fetchApplicationForm||null==t.fetchApplicationForm.controls||null==t.fetchApplicationForm.controls.mobileNumber?null:t.fetchApplicationForm.controls.mobileNumber.hasError("minlength")))}}function ar(i,s){1&i&&(e.TgZ(0,"div",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ccAustralia.messages.errorMessages.message1")," "))}function sr(i,s){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,ar,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.fetchApplicationForm.controls.vlnNumber.errors.pattern||(null==t.fetchApplicationForm||null==t.fetchApplicationForm.controls||null==t.fetchApplicationForm.controls.vlnNumber?null:t.fetchApplicationForm.controls.vlnNumber.hasError("minlength")))}}function lr(i,s){if(1&i&&(e.TgZ(0,"div",61),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.AsE(" ",e.lcZ(2,2,"dashboard.headerLabel.label7")," - ",t.urn," ")}}function rr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",57),e.YNc(1,lr,3,4,"div",58),e.TgZ(2,"div",59)(3,"span",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw(5).displayDetail(n)}),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA()()()}if(2&i){const t=e.oxw().$implicit,o=e.oxw(5);e.xp6(1),e.Q6J("ngIf",!(null!=o.allConfiguration[0]&&o.allConfiguration[0].enableIRLNumber)),e.xp6(3),e.hij(" ",null!=t&&t.isAppointment?e.lcZ(5,2,"dashboard.headerLabel.label20"):e.lcZ(6,4,"dashboard.headerLabel.label23")," ")}}function cr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",57)(1,"div",62)(2,"div",63)(3,"span",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw(5).PayNowAppointment(n)}),e._uU(4),e.ALo(5,"translate"),e.qZA()()()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"dashboard.headerLabel.label37")))}function ur(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"span",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.oxw(5).scheduleWaitlist(n)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"dashboard.headerLabel.label27")," "))}function dr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",59)(1,"span",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.oxw(5).updateCategory(n)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"dashboard.headerLabel.label28")," "))}function pr(i,s){if(1&i&&(e.TgZ(0,"div",57)(1,"div",61),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,ur,4,3,"div",64),e.YNc(5,dr,4,3,"div",64),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw(5);e.xp6(2),e.AsE(" ",e.lcZ(3,4,"dashboard.headerLabel.label25"),": ",null==t?null:t.waitlistStatus," "),e.xp6(2),e.Q6J("ngIf",t.isWaitlist&&(null==t?null:t.waitlistStatus)===o.waitlistAllowed),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.isWaitlistUpdate)&&(null==t?null:t.waitlistStatus)===o.waitlisted)}}function mr(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"polandTurkey.pageDetails.para30")," "))}function gr(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"polandTurkey.pageDetails.para31")," "))}function _r(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",65),e._uU(2),e.ALo(3,"translate"),e.YNc(4,mr,3,3,"span",13),e.YNc(5,gr,3,3,"span",13),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",e.lcZ(3,3,"polandTurkey.formLabel.label10"),": "),e.xp6(2),e.Q6J("ngIf","Confirmed"==(null==t?null:t.PayAtBankStatus)),e.xp6(1),e.Q6J("ngIf","Pending"==(null==t?null:t.PayAtBankStatus))}}function fr(i,s){if(1&i&&(e.TgZ(0,"div")(1,"div",66),e._uU(2),e.qZA()()),2&i){const t=s.$implicit;e.xp6(2),e.AsE("",t.firstName," ",t.lastName,"")}}function vr(i,s){if(1&i&&(e.TgZ(0,"div",49)(1,"div",50)(2,"div",51),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"h2",52),e._uU(7),e.qZA(),e.YNc(8,rr,7,6,"div",53),e.YNc(9,cr,6,3,"div",53),e.YNc(10,pr,6,6,"div",53),e.YNc(11,_r,6,5,"ng-container",13),e._UZ(12,"hr",54),e.TgZ(13,"div",55),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.YNc(16,fr,3,2,"div",56),e.qZA()()),2&i){const t=s.$implicit,o=e.oxw(5);e.xp6(3),e.hij(" ",null!=t&&t.isAppointment||null!=t&&t.isWaitlist?e.lcZ(4,9,"dashboard.headerLabel.label8"):e.lcZ(5,11,"dashboard.headerLabel.label6")," "),e.xp6(4),e.Oqu(t.visaCategoryName),e.xp6(1),e.Q6J("ngIf",!(null!=t&&t.IsBookedByCC)||"Pending"!==(null==t?null:t.PayAtBankStatus)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.IsBookedByCC)&&"Pending"===(null==t?null:t.PayAtBankStatus)),e.xp6(1),e.Q6J("ngIf",null==t?null:t.waitlistStatus),e.xp6(1),e.Q6J("ngIf",null==t?null:t.isPayAtBankSelected),e.xp6(3),e.hij("",e.lcZ(15,13,"dashboard.headerLabel.label19"),":"),e.xp6(2),e.Q6J("ngForOf",t.applicants)("ngForTrackBy",o.trackByFn)}}function hr(i,s){if(1&i&&(e.ynx(0),e.YNc(1,vr,17,15,"div",48),e.BQk()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.applicationList)("ngForTrackBy",t.trackByFn)}}function yr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",67)(1,"div",68)(2,"h2",69),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",70),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",71)(9,"div",72)(10,"mat-checkbox",73),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(4).ptImportantCheck=n}),e.TgZ(11,"div",74),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()(),e.TgZ(14,"div",68)(15,"h2",69),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"p",70),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",71)(22,"div",72)(23,"mat-checkbox",73),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(4).ptWarningCheck=n}),e.TgZ(24,"div",74),e._uU(25),e.ALo(26,"translate"),e.qZA()()()()()()}if(2&i){const t=e.oxw(4);e.xp6(3),e.Oqu(e.lcZ(4,8,"polandTurkey.pageDetails.para6")),e.xp6(3),e.Oqu(e.lcZ(7,10,"polandTurkey.pageDetails.para7")),e.xp6(4),e.Q6J("ngModel",t.ptImportantCheck),e.xp6(2),e.Oqu(e.lcZ(13,12,"polandTurkey.pageDetails.para8")),e.xp6(4),e.Oqu(e.lcZ(17,14,"polandTurkey.pageDetails.para9")),e.xp6(3),e.Oqu(e.lcZ(20,16,"polandTurkey.pageDetails.para10")),e.xp6(4),e.Q6J("ngModel",t.ptWarningCheck),e.xp6(2),e.Oqu(e.lcZ(26,18,"polandTurkey.pageDetails.para11"))}}function br(i,s){1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"dashboard.messages.infoMessages.message1")," "))}function Cr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tab-group",25),e.NdJ("selectedIndexChange",function(n){e.CHM(t);const l=e.oxw(3);return null==l.selected?null:l.selected.setValue(n)})("selectedTabChange",function(n){return e.CHM(t),e.oxw(3).tabChanged(n)}),e.TgZ(1,"mat-tab",100),e.YNc(2,hr,2,2,"ng-container",13),e.YNc(3,yr,27,20,"div",44),e._UZ(4,"br"),e.YNc(5,br,3,3,"div",13),e.qZA()()}if(2&i){const t=e.oxw(3);e.Q6J("selectedIndex",t.selectedIdx),e.xp6(2),e.Q6J("ngIf",(null==t.applicationList?null:t.applicationList.length)>0),e.xp6(1),e.Q6J("ngIf",t.isPtFlow&&t.ptWarningView),e.xp6(2),e.Q6J("ngIf",0===(null==t.applicationList?null:t.applicationList.length)&&!t.isPtFlow)}}function Ar(i,s){1&i&&(e.TgZ(0,"div",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ccAustralia.messages.errorMessages.message1")," "))}function Tr(i,s){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,Ar,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.trackDocStatusForm.controls.refNumber.errors.pattern||(null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.refNumber?null:t.trackDocStatusForm.controls.refNumber.hasError("minlength")))}}function Sr(i,s){1&i&&(e.TgZ(0,"div",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ccAustralia.messages.errorMessages.message1")," "))}function xr(i,s){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,Sr,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.trackDocStatusForm.controls.documentNumber.errors.pattern||(null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.documentNumber?null:t.trackDocStatusForm.controls.documentNumber.hasError("minlength")))}}function Lr(i,s){1&i&&(e.TgZ(0,"div",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ccAustralia.messages.errorMessages.message1")," "))}function Ir(i,s){if(1&i&&(e.TgZ(0,"div",99),e.YNc(1,Lr,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.trackDocStatusForm.controls.vlnNumber.errors.pattern||(null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.vlnNumber?null:t.trackDocStatusForm.controls.vlnNumber.hasError("minlength")))}}function Zr(i,s){1&i&&(e.TgZ(0,"div",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message4"),""))}function Nr(i,s){1&i&&(e.TgZ(0,"div",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message27")," "))}function Dr(i,s){1&i&&(e.TgZ(0,"div",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message15")," "))}function Or(i,s){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Zr,3,3,"div",46),e.YNc(2,Nr,3,3,"div",46),e.YNc(3,Dr,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.dateOfBirth||null==t.trackDocStatusForm.controls.dateOfBirth.errors?null:t.trackDocStatusForm.controls.dateOfBirth.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.trackDocStatusForm.controls.dateOfBirth||null==t.trackDocStatusForm.controls.dateOfBirth.errors?null:t.trackDocStatusForm.controls.dateOfBirth.errors.formate),e.xp6(1),e.Q6J("ngIf",null==t.trackDocStatusForm.controls.dateOfBirth||null==t.trackDocStatusForm.controls.dateOfBirth.errors||null==t.trackDocStatusForm.controls.dateOfBirth.errors.ngbDate?null:t.trackDocStatusForm.controls.dateOfBirth.errors.ngbDate.invalid)}}function Er(i,s){1&i&&(e.TgZ(0,"div",47)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"applicantInformation.messages.errorMessages.message2")," "))}function kr(i,s){1&i&&(e.TgZ(0,"div",47)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"applicantInformation.messages.errorMessages.message14")," "))}function wr(i,s){1&i&&(e.TgZ(0,"div",47)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"commonSections.messages.patternMessages.message22"),""))}function Fr(i,s){1&i&&(e.TgZ(0,"div",47)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"commonSections.messages.patternMessages.message23"),""))}function Mr(i,s){if(1&i&&(e.TgZ(0,"div",101),e.YNc(1,Er,4,3,"div",46),e.YNc(2,kr,4,3,"div",46),e.YNc(3,wr,4,3,"div",46),e.YNc(4,Fr,4,3,"div",46),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.lastName||null==t.trackDocStatusForm.controls.lastName.errors?null:t.trackDocStatusForm.controls.lastName.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.lastName||null==t.trackDocStatusForm.controls.lastName.errors?null:t.trackDocStatusForm.controls.lastName.errors.pattern),e.xp6(1),e.Q6J("ngIf",null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.lastName?null:t.trackDocStatusForm.controls.lastName.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.lastName?null:t.trackDocStatusForm.controls.lastName.hasError("minlength"))}}function Pr(i,s){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.ScanMessage," ")}}function Ur(i,s){if(1&i&&(e.TgZ(0,"div",16)(1,"div",17),e._UZ(2,"i",102),e.TgZ(3,"ul"),e.YNc(4,Pr,2,1,"li",103),e.qZA()()()),2&i){const t=e.oxw(3);e.xp6(4),e.Q6J("ngForOf",t.passportStatusData)}}function qr(i,s){1&i&&(e.TgZ(0,"div",104)(1,"div",105),e._UZ(2,"i",102),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"ccAustralia.messages.infoMessages.message6")))}const Gr=function(){return{year:1900,month:1,day:1}};function Vr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tab-group",77),e.NdJ("selectedIndexChange",function(n){e.CHM(t);const l=e.oxw(2);return null==l.selected?null:l.selected.setValue(n)}),e.TgZ(1,"mat-tab",26),e.ALo(2,"translate"),e.TgZ(3,"mat-card",78)(4,"h4",79),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"form",27)(8,"div",28)(9,"div",29)(10,"div",30)(11,"div",80)(12,"h5",81),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"mat-form-field",33),e._UZ(16,"input",82),e.ALo(17,"translate"),e.ALo(18,"translate"),e.qZA(),e.YNc(19,Kl,2,1,"div",83),e.qZA()(),e.TgZ(20,"div",30)(21,"div",80)(22,"h5",81),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"mat-form-field",33),e._UZ(26,"input",84),e.ALo(27,"translate"),e.qZA(),e.YNc(28,Xl,2,1,"div",83),e.qZA()()(),e.TgZ(29,"div",29)(30,"div",30)(31,"div",80)(32,"h5",81),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"mat-form-field",33),e._UZ(36,"input",85),e.ALo(37,"translate"),e.ALo(38,"translate"),e.qZA(),e.YNc(39,ir,3,2,"div",83),e.qZA()(),e.TgZ(40,"div",30)(41,"div",80)(42,"h5",81),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"mat-form-field",33),e._UZ(46,"input",86),e.ALo(47,"translate"),e.ALo(48,"translate"),e.qZA(),e.YNc(49,nr,2,1,"div",83),e.qZA()()(),e.TgZ(50,"div",29)(51,"div",30)(52,"div",80)(53,"h5",81),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"mat-form-field",33),e._UZ(57,"input",87),e.ALo(58,"translate"),e.qZA(),e.YNc(59,sr,2,1,"div",83),e.qZA()()(),e.TgZ(60,"div",29)(61,"div",88)(62,"button",89),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onReset("fetchAppForm")}),e._uU(63),e.ALo(64,"translate"),e.qZA()(),e.TgZ(65,"div",43)(66,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onSearch()}),e._uU(67,"Search"),e.qZA()()()()()(),e._UZ(68,"br"),e.YNc(69,Cr,6,4,"mat-tab-group",14),e.qZA(),e.TgZ(70,"mat-tab",90)(71,"mat-card",78)(72,"h4",79),e._uU(73),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"form",27)(76,"div",28)(77,"div",29)(78,"div",30)(79,"div",80)(80,"h5",81),e._uU(81),e.ALo(82,"translate"),e.TgZ(83,"span",91),e._uU(84,"*"),e.qZA()(),e.TgZ(85,"mat-form-field",33),e._UZ(86,"input",82),e.ALo(87,"translate"),e.ALo(88,"translate"),e.qZA(),e.YNc(89,Tr,2,1,"div",83),e.qZA()(),e.TgZ(90,"div",30)(91,"div",80)(92,"h5",81),e._uU(93),e.ALo(94,"translate"),e.qZA(),e.TgZ(95,"mat-form-field",33),e._UZ(96,"input",84),e.ALo(97,"translate"),e.qZA(),e.YNc(98,xr,2,1,"div",83),e.qZA()()(),e.TgZ(99,"div",29)(100,"div",30)(101,"div",80)(102,"h5",81),e._uU(103),e.ALo(104,"translate"),e.qZA(),e.TgZ(105,"mat-form-field",33),e._UZ(106,"input",87),e.ALo(107,"translate"),e.qZA(),e.YNc(108,Ir,2,1,"div",83),e.qZA()(),e.TgZ(109,"div",30)(110,"div",80)(111,"h5",81),e._uU(112),e.ALo(113,"translate"),e.qZA(),e.TgZ(114,"div",92),e._UZ(115,"input",93,94),e.ALo(117,"translate"),e.TgZ(118,"div",95),e.NdJ("click",function(){return e.CHM(t),e.MAs(116).toggle()}),e.qZA()(),e.YNc(119,Or,4,3,"div",38),e.qZA()()(),e.TgZ(120,"div",29)(121,"div",30)(122,"div",80)(123,"h5",81),e._uU(124),e.ALo(125,"translate"),e.TgZ(126,"span",91),e._uU(127,"*"),e.qZA()(),e.TgZ(128,"mat-form-field",33),e._UZ(129,"input",96),e.ALo(130,"translate"),e.qZA(),e.YNc(131,Mr,5,4,"div",97),e.qZA()()(),e.TgZ(132,"div",29)(133,"div",88)(134,"button",89),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onReset("trackDocForm")}),e._uU(135),e.ALo(136,"translate"),e.qZA()(),e.TgZ(137,"div",43)(138,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onSubmitFetchFields()}),e._uU(139),e.ALo(140,"translate"),e.qZA()()()()()(),e.YNc(141,Ur,5,1,"div",9),e.YNc(142,qr,6,3,"div",98),e.qZA()()}if(2&i){const t=e.oxw(2);e.Q6J("selectedIndex",t.selectedIdx),e.xp6(1),e.s9C("label",e.lcZ(2,60,"dashboard.headerLabel.label32")),e.xp6(4),e.Oqu(e.lcZ(6,62,"ccAustralia.headerLabel.label1")),e.xp6(2),e.Q6J("formGroup",t.fetchApplicationForm),e.xp6(4),e.Q6J("ngClass",e.VKq(120,ut,t.fetchApplicationForm.controls.refNumber.touched&&t.fetchApplicationForm.controls.refNumber.invalid)),e.xp6(2),e.Oqu(e.lcZ(14,64,"ccAustralia.formLabel.label1")),e.xp6(3),e.s9C("placeholder",e.lcZ(17,66,"ccAustralia.placeholder.label6")),e.uIk("aria-label",e.lcZ(18,68,"dashboard.headerLabel.label33")),e.xp6(3),e.Q6J("ngIf",t.fetchApplicationForm.controls.refNumber.touched&&t.fetchApplicationForm.controls.refNumber.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(122,ut,t.fetchApplicationForm.controls.documentNumber.touched&&t.fetchApplicationForm.controls.documentNumber.invalid)),e.xp6(2),e.Oqu(e.lcZ(24,70,"ccAustralia.formLabel.label2")),e.xp6(3),e.s9C("placeholder",e.lcZ(27,72,"ccAustralia.placeholder.label2")),e.xp6(2),e.Q6J("ngIf",t.fetchApplicationForm.controls.documentNumber.touched&&t.fetchApplicationForm.controls.documentNumber.errors),e.xp6(3),e.Q6J("ngClass",e.VKq(124,ut,t.fetchApplicationForm.controls.email.touched&&t.fetchApplicationForm.controls.email.invalid)),e.xp6(2),e.Oqu(e.lcZ(34,74,"applicantInformation.formLabel.label9")),e.xp6(3),e.s9C("placeholder",e.lcZ(37,76,"commonSections.formLabel.label4")),e.uIk("aria-label",e.lcZ(38,78,"commonSections.formLabel.label4")),e.xp6(3),e.Q6J("ngIf",t.fetchApplicationForm.controls.email.touched&&t.fetchApplicationForm.controls.email.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(126,ut,t.fetchApplicationForm.controls.mobileNumber.touched&&t.fetchApplicationForm.controls.mobileNumber.invalid)),e.xp6(2),e.Oqu(e.lcZ(44,80,"login.formLabel.label3")),e.xp6(3),e.s9C("placeholder",e.lcZ(47,82,"applicantInformation.placeholder.label7")),e.uIk("aria-label",e.lcZ(48,84,"formFilling.formLabel.label2")),e.xp6(3),e.Q6J("ngIf",t.fetchApplicationForm.controls.mobileNumber.touched&&t.fetchApplicationForm.controls.mobileNumber.errors),e.xp6(3),e.Q6J("ngClass",e.VKq(128,ut,t.fetchApplicationForm.controls.vlnNumber.touched&&t.fetchApplicationForm.controls.vlnNumber.invalid)),e.xp6(2),e.Oqu(e.lcZ(55,86,"ccAustralia.formLabel.label3")),e.xp6(3),e.s9C("placeholder",e.lcZ(58,88,"ccAustralia.placeholder.label4")),e.xp6(2),e.Q6J("ngIf",t.fetchApplicationForm.controls.vlnNumber.touched&&t.fetchApplicationForm.controls.vlnNumber.errors),e.xp6(4),e.Oqu(e.lcZ(64,90,"dashboard.buttons.button9")),e.xp6(3),e.Q6J("disabled",t.disableSearchBtn),e.xp6(3),e.Q6J("ngIf",t.showActiveApplicants),e.xp6(4),e.Oqu(e.lcZ(74,92,"ccAustralia.headerLabel.label2")),e.xp6(2),e.Q6J("formGroup",t.trackDocStatusForm),e.xp6(4),e.Q6J("ngClass",e.VKq(130,ut,t.trackDocStatusForm.controls.refNumber.touched&&t.trackDocStatusForm.controls.refNumber.invalid)),e.xp6(2),e.hij("",e.lcZ(82,94,"ccAustralia.formLabel.label4")," "),e.xp6(5),e.s9C("placeholder",e.lcZ(87,96,"ccAustralia.placeholder.label1")),e.uIk("aria-label",e.lcZ(88,98,"dashboard.headerLabel.label33")),e.xp6(3),e.Q6J("ngIf",t.trackDocStatusForm.controls.refNumber.touched&&t.trackDocStatusForm.controls.refNumber.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(132,ut,t.trackDocStatusForm.controls.documentNumber.touched&&t.trackDocStatusForm.controls.documentNumber.invalid)),e.xp6(2),e.Oqu(e.lcZ(94,100,"ccAustralia.formLabel.label5")),e.xp6(3),e.s9C("placeholder",e.lcZ(97,102,"ccAustralia.placeholder.label2")),e.xp6(2),e.Q6J("ngIf",t.trackDocStatusForm.controls.documentNumber.touched&&t.trackDocStatusForm.controls.documentNumber.errors),e.xp6(3),e.Q6J("ngClass",e.VKq(134,ut,t.trackDocStatusForm.controls.vlnNumber.touched&&t.trackDocStatusForm.controls.vlnNumber.invalid)),e.xp6(2),e.Oqu(e.lcZ(104,104,"ccAustralia.formLabel.label3")),e.xp6(3),e.s9C("placeholder",e.lcZ(107,106,"ccAustralia.placeholder.label4")),e.xp6(2),e.Q6J("ngIf",t.trackDocStatusForm.controls.vlnNumber.touched&&t.trackDocStatusForm.controls.vlnNumber.errors),e.xp6(2),e.Q6J("ngClass",e.VKq(136,ut,(null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.dateOfBirth?null:t.trackDocStatusForm.controls.dateOfBirth.touched)&&(null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.dateOfBirth?null:t.trackDocStatusForm.controls.dateOfBirth.invalid))),e.xp6(2),e.Oqu(e.lcZ(113,108,"applicantInformation.formLabel.label4")),e.xp6(3),e.s9C("placeholder",e.lcZ(117,110,"applicantInformation.placeholder.label4")),e.Q6J("minDate",e.DdM(138,Gr))("maxDate",t.initDate.maxDOB),e.xp6(4),e.Q6J("ngIf",(null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.dateOfBirth?null:t.trackDocStatusForm.controls.dateOfBirth.touched)&&(null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.dateOfBirth?null:t.trackDocStatusForm.controls.dateOfBirth.errors)),e.xp6(3),e.Q6J("ngClass",e.VKq(139,ut,(null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.lastName?null:t.trackDocStatusForm.controls.lastName.touched)&&(null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.lastName?null:t.trackDocStatusForm.controls.lastName.invalid))),e.xp6(2),e.hij("",e.lcZ(125,112,"applicantInformation.formLabel.label2")," "),e.xp6(5),e.s9C("placeholder",e.lcZ(130,114,"ccAustralia.placeholder.label5")),e.xp6(2),e.Q6J("ngIf",(null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.lastName?null:t.trackDocStatusForm.controls.lastName.touched)&&(null==t.trackDocStatusForm||null==t.trackDocStatusForm.controls||null==t.trackDocStatusForm.controls.lastName?null:t.trackDocStatusForm.controls.lastName.errors)),e.xp6(4),e.Oqu(e.lcZ(136,116,"dashboard.buttons.button9")),e.xp6(3),e.Q6J("disabled",t.disableFetchFieldsBtn),e.xp6(1),e.Oqu(e.lcZ(140,118,"ccAustralia.buttons.button1")),e.xp6(2),e.Q6J("ngIf",t.canShowDocStatus&&t.passportStatusData),e.xp6(1),e.Q6J("ngIf",t.canShowNorecords&&!t.canShowDocStatus)}}function Rr(i,s){1&i&&(e.ynx(0),e._UZ(1,"app-medical-insurance",106),e.BQk()),2&i&&(e.xp6(1),e.Q6J("type","1"))}function Jr(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",107)(2,"div",108)(3,"div",109)(4,"div",110),e._UZ(5,"i",111),e.qZA(),e.TgZ(6,"div",112),e._UZ(7,"app-contentful-richtext",113),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw(2);e.xp6(7),e.Q6J("richData",null==t.bannerContent?null:t.bannerContent.body)}}function Yr(i,s){if(1&i&&(e.TgZ(0,"section",5)(1,"div",6)(2,"div",7)(3,"div",8),e.YNc(4,ul,5,1,"div",9),e.YNc(5,pl,6,7,"div",9),e.YNc(6,gl,6,6,"div",10),e.qZA(),e.YNc(7,_l,4,4,"div",11),e.qZA(),e.TgZ(8,"div",12),e.YNc(9,fl,4,4,"div",13),e.YNc(10,wl,55,45,"mat-tab-group",14),e.YNc(11,$l,7,7,"mat-tab-group",14),e.YNc(12,Vr,143,141,"mat-tab-group",15),e.qZA(),e.YNc(13,Rr,2,1,"ng-container",13),e.YNc(14,Jr,8,1,"ng-container",13),e.qZA()()),2&i){const t=e.oxw();e.Q6J("ngClass",t.detailMode||t.OTPPage?"d-none":"d-block"),e.xp6(4),e.Q6J("ngIf",t.cancelAppointmentMsg),e.xp6(1),e.Q6J("ngIf",t.viewRescheduledMsgFlag),e.xp6(1),e.Q6J("ngIf",t.isPasswordExpiryMessage),e.xp6(1),e.Q6J("ngIf",!t.ccUserFlag),e.xp6(2),e.Q6J("ngIf",!t.ccUserFlag),e.xp6(1),e.Q6J("ngIf",t.ccUserFlag),e.xp6(1),e.Q6J("ngIf",!t.ccUserFlag&&!t.ccUserAusFlag),e.xp6(1),e.Q6J("ngIf",t.ccUserAusFlag),e.xp6(1),e.Q6J("ngIf",t.insuranceBox),e.xp6(1),e.Q6J("ngIf",t.bannerContent)}}function Qr(i,s){1&i&&(e.TgZ(0,"div",16)(1,"div",17),e._UZ(2,"i",18)(3,"div",125),e.qZA()()),2&i&&(e.xp6(3),e.Q6J("translate","dashboard.messages.resendConfirmationLetter.message1"))}function Br(i,s){if(1&i&&(e.TgZ(0,"div",16)(1,"div",17),e._UZ(2,"i",18),e.TgZ(3,"div"),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(t.errorMessage)}}function jr(i,s){if(1&i&&(e.TgZ(0,"p",126),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.AsE(" ",t.groupURNlabel,": ",t.isOverSeasEnable?t.applicationDetail.anyGRNumber:t.applicationDetail.urn," ")}}function Hr(i,s){1&i&&(e.ynx(0),e.TgZ(1,"div",127)(2,"div",128)(3,"div",129)(4,"div",130),e._UZ(5,"i",131),e.qZA(),e.TgZ(6,"div",132),e._uU(7),e.ALo(8,"translate"),e.qZA()()()(),e.BQk()),2&i&&(e.xp6(7),e.Oqu(e.lcZ(8,1,"dashboard.messages.errorMessages.message3")))}function $r(i,s){if(1&i&&(e.TgZ(0,"p",126),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.AsE(" ",e.lcZ(2,2,"dashboard.headerLabel.label25"),": ",null==t.applicationDetail?null:t.applicationDetail.waitlistStatus," ")}}function Wr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",133)(1,"div",134)(2,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return n.scheduleWaitlist(n.applicationDetail)}),e._uU(3),e.ALo(4,"translate"),e.qZA()()()}2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"dashboard.headerLabel.label27")," "))}function Kr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",138)(1,"span",115),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(4);return n.cancelWaitlist(n.applicationDetail.urn)}),e._UZ(2,"i",139),e.TgZ(3,"span",140),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"dashboard.headerLabel.label29")))}function zr(i,s){if(1&i&&(e.TgZ(0,"div",136),e.YNc(1,Kr,6,3,"div",137),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.applicationDetail.cancellationAllowed)}}function Xr(i,s){if(1&i&&(e.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header",122)(2,"div",123),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.YNc(5,zr,2,1,"div",135),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("@.disabled",!0),e.xp6(2),e.hij("",e.lcZ(4,3,"dashboard.headerLabel.label8"),":"),e.xp6(2),e.Q6J("ngIf",t.applicationDetail.isWaitlist)}}function ec(i,s){if(1&i&&(e.TgZ(0,"div",145),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.appointmentDateFormat," ")}}function tc(i,s){if(1&i&&(e.TgZ(0,"div",146),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",null==t.applicationDetail||null==t.applicationDetail.applicants[0]||null==t.applicationDetail.applicants[0].appointment?null:t.applicationDetail.applicants[0].appointment.appointmentTime," ")}}function ic(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",115),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(5);return n.cancelAppointment(n.applicationDetail.urn,n.applicationDetail)}),e._UZ(1,"i",139),e.TgZ(2,"span",140),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"dashboard.headerLabel.label9")))}function oc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",115),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(5);return n.onCCAusAppointmentActions("CC-CANCEL",n.applicationDetail)}),e._UZ(1,"i",139),e.TgZ(2,"span",140),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"dashboard.headerLabel.label9")))}function nc(i,s){if(1&i&&(e.TgZ(0,"div",138),e.YNc(1,ic,5,3,"span",147),e.YNc(2,oc,5,3,"span",147),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",!t.ccUserAusFlag),e.xp6(1),e.Q6J("ngIf",t.ccUserAusFlag)}}function ac(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",115),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(5);return n.rescheduleAppointment(n.applicationDetail)}),e._UZ(1,"i",148),e.TgZ(2,"span",149),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"dashboard.headerLabel.label10")))}function sc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",115),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(5);return n.onCCAusAppointmentActions("CC-RESCHEDULE",n.applicationDetail)}),e._UZ(1,"i",148),e.TgZ(2,"span",149),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"dashboard.headerLabel.label10")))}function lc(i,s){if(1&i&&(e.TgZ(0,"div",138),e.YNc(1,ac,5,3,"span",147),e.YNc(2,sc,5,3,"span",147),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",!t.ccUserAusFlag),e.xp6(1),e.Q6J("ngIf",t.ccUserAusFlag)}}function rc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",115),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(5);return n.resendConfirmationLetter(n.applicationDetail.urn)}),e._UZ(1,"i",150),e.TgZ(2,"span",149),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"dashboard.headerLabel.label11")))}function cc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",115),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(5);return n.onCCAusAppointmentActions("CC-RESEND",n.applicationDetail)}),e._UZ(1,"i",150),e.TgZ(2,"span",149),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"dashboard.headerLabel.label11")))}function uc(i,s){if(1&i&&(e.TgZ(0,"div",138),e.YNc(1,rc,5,3,"span",147),e.YNc(2,cc,5,3,"span",147),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",!t.ccUserAusFlag),e.xp6(1),e.Q6J("ngIf",t.ccUserAusFlag)}}function dc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",138)(1,"span",115),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(4);return n.printAppointmentLetter(n.applicationDetail.urn)}),e._UZ(2,"i",151),e.TgZ(3,"span",149),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"dashboard.headerLabel.label12")))}function pc(i,s){if(1&i&&(e.TgZ(0,"div",133),e.YNc(1,nc,3,2,"div",137),e.YNc(2,lc,3,2,"div",137),e.YNc(3,uc,3,2,"div",137),e.YNc(4,dc,6,3,"div",137),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.applicationDetail.cancellationAllowed&&(null==t.applicationDetail||null==t.applicationDetail.applicants[0]?null:t.applicationDetail.applicants[0].IsAppointmentCancellationEnable)&&!t.isPtFlow&&!t.disabledCancelApptForCCUser),e.xp6(1),e.Q6J("ngIf",t.applicationDetail.rescheduleAllowed&&!t.applicationDetail.isRescheduleDisabled&&"Pending"!==(null==t.applicationDetail?null:t.applicationDetail.PayAtBankStatus)&&!t.disabledRescheduleApptForCCUser),e.xp6(1),e.Q6J("ngIf","Pending"!==(null==t.applicationDetail?null:t.applicationDetail.PayAtBankStatus)&&!t.disabledResendConfLetterForCCUser),e.xp6(1),e.Q6J("ngIf","Pending"!==(null==t.applicationDetail?null:t.applicationDetail.PayAtBankStatus)&&!t.disabledPrintApptForCCUser)}}function mc(i,s){if(1&i&&(e.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header",122)(2,"div",123),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.YNc(5,ec,2,1,"div",141),e.TgZ(6,"div",142),e._uU(7),e.qZA(),e.YNc(8,tc,2,1,"div",143),e._UZ(9,"hr",144),e.YNc(10,pc,5,4,"div",120),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("@.disabled",!0),e.xp6(2),e.hij("",e.lcZ(4,6,"dashboard.headerLabel.label8"),":"),e.xp6(2),e.Q6J("ngIf",null==t.applicationDetail||null==t.applicationDetail.applicants[0]||null==t.applicationDetail.applicants[0].appointment?null:t.applicationDetail.applicants[0].appointment.appoinmentDate),e.xp6(2),e.hij(" ",t.applicationDetail.vacAddress," "),e.xp6(1),e.Q6J("ngIf",null==t.applicationDetail||null==t.applicationDetail.applicants[0]||null==t.applicationDetail.applicants[0].appointment?null:t.applicationDetail.applicants[0].appointment.appointmentTime),e.xp6(2),e.Q6J("ngIf",t.applicationDetail.isAppointment)}}function gc(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td",154),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td",154),e._uU(5),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij("",e.lcZ(3,2,"dashboard.headerLabel.label14"),":"),e.xp6(3),e.Oqu(t.passportNumber)}}function _c(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td",154),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td",154),e._uU(5),e.qZA()()),2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,2,"dashboard.headerLabel.label15"),":"),e.xp6(3),e.hij(" ",o.utilityService.momentInstance(t.dateOfBirth,"DD/MM/YYYY").format(o.dateFormat.toUpperCase())," ")}}function fc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw(2).onClickModify("CC-PREEMAILEDIT",n)}),e._uU(1,"Modify"),e.qZA()}}function vc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit;return e.oxw(2).onClickModify("CC-PRECONTACTEDIT",n)}),e._uU(1,"Modify"),e.qZA()}}function hc(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td",154),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td",154),e._uU(5),e.YNc(6,vc,2,0,"span",156),e.qZA()()),2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,4,"dashboard.headerLabel.label17"),":"),e.xp6(3),e.AsE("",t.dialCode," ",t.contactNumber," "),e.xp6(1),e.Q6J("ngIf",o.ccUserAusFlag)}}function yc(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td",154),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td",154),e._uU(5),e.qZA()()),2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,2,"dashboard.headerLabel.label18"),":"),e.xp6(3),e.Oqu(o.getnationalityName(t.nationalityCode))}}function bc(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td",154),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td",154),e._uU(5),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij("",e.lcZ(3,2,"postalInformation.formLabel.label8")," :"),e.xp6(3),e.Oqu(null==t||null==t.postalList[0]?null:t.postalList[0].courierType)}}function Cc(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td",154),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"td",154),e._uU(6),e.qZA()(),e.TgZ(7,"tr")(8,"td",154),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"td",154),e._uU(12),e.qZA()(),e.TgZ(13,"tr")(14,"td",154),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"td",154),e._uU(18),e.qZA()(),e.TgZ(19,"tr")(20,"td",154),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"td",154),e._uU(24),e.qZA()(),e.TgZ(25,"tr")(26,"td",154),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"td",154),e._uU(30),e.qZA()(),e.TgZ(31,"tr")(32,"td",154),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"td",154),e._uU(36),e.qZA()(),e.TgZ(37,"tr")(38,"td",157)(39,"div",133)(40,"div",138)(41,"span",115),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw(2);return l.downloadCourierDetails(n.arn,l.applicationDetail.vacCode,l.courierLabels.inLabel)}),e._UZ(42,"i",151),e.TgZ(43,"span",149),e._uU(44),e.ALo(45,"translate"),e.qZA()()()()()(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(3),e.hij("",e.lcZ(4,13,"postalInformation.formLabel.label1")," :"),e.xp6(3),e.Oqu(null==t||null==t.postalList[0]?null:t.postalList[0].pincode),e.xp6(3),e.hij("",e.lcZ(10,15,"postalInformation.formLabel.label2")," :"),e.xp6(3),e.Oqu(null==t||null==t.postalList[0]?null:t.postalList[0].addressline1),e.xp6(3),e.hij("",e.lcZ(16,17,"postalInformation.formLabel.label3")," :"),e.xp6(3),e.Oqu(null==t||null==t.postalList[0]?null:t.postalList[0].addressline2),e.xp6(3),e.hij("",e.lcZ(22,19,"postalInformation.formLabel.label4")," :"),e.xp6(3),e.Oqu(null==t||null==t.postalList[0]?null:t.postalList[0].state),e.xp6(3),e.hij("",e.lcZ(28,21,"postalInformation.formLabel.label5")," :"),e.xp6(3),e.Oqu(null==t||null==t.postalList[0]?null:t.postalList[0].city),e.xp6(3),e.hij("",e.lcZ(34,23,"postalInformation.formLabel.label6")," :"),e.xp6(3),e.Oqu(null==t||null==t.postalList[0]?null:t.postalList[0].country),e.xp6(8),e.Oqu(e.lcZ(45,25,"postalInformation.headerLabel.label2"))}}function Ac(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",154),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"td",154),e._uU(6),e.qZA()(),e.TgZ(7,"tr")(8,"td",154),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"td",154),e._uU(12),e.qZA()(),e.TgZ(13,"tr")(14,"td",154),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"td",154),e._uU(18),e.qZA()(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.hij("",e.lcZ(4,6,"postalInformation.formLabel.label11")," :"),e.xp6(3),e.Oqu(null==t||null==t.postalList[0]?null:t.postalList[0].courierServiceProvider),e.xp6(3),e.hij("",e.lcZ(10,8,"postalInformation.formLabel.label12")," :"),e.xp6(3),e.Oqu(null==t||null==t.postalList[0]?null:t.postalList[0].incomingAWBNumber),e.xp6(3),e.hij("",e.lcZ(16,10,"postalInformation.formLabel.label13")," :"),e.xp6(3),e.Oqu(null==t||null==t.postalList[0]?null:t.postalList[0].outgoingAWBNumber)}}function Tc(i,s){if(1&i&&(e.TgZ(0,"table",152)(1,"tr")(2,"td",153),e._uU(3),e.qZA()(),e.YNc(4,gc,6,4,"tr",13),e.YNc(5,_c,6,4,"tr",13),e.TgZ(6,"tr")(7,"td",154),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"td",155),e._uU(11),e.YNc(12,fc,2,0,"span",156),e.qZA()(),e.YNc(13,hc,7,6,"tr",13),e.YNc(14,yc,6,4,"tr",13),e.YNc(15,bc,6,4,"tr",13),e.YNc(16,Cc,46,27,"ng-container",13),e.YNc(17,Ac,19,12,"ng-container",13),e.qZA()),2&i){const t=s.$implicit,o=e.oxw(2);e.xp6(3),e.AsE("",t.firstName," ",t.lastName,""),e.xp6(1),e.Q6J("ngIf",!o.isOverSeasEnable&&t.passportNumber.length>0),e.xp6(1),e.Q6J("ngIf",!o.isPtFlow&&!o.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled),e.xp6(3),e.hij("",e.lcZ(9,12,"dashboard.headerLabel.label16"),":"),e.xp6(3),e.hij("",t.emailId," "),e.xp6(1),e.Q6J("ngIf",o.ccUserAusFlag),e.xp6(1),e.Q6J("ngIf",!o.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled),e.xp6(1),e.Q6J("ngIf",!o.isOverSeasEnable&&!o.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled),e.xp6(1),e.Q6J("ngIf",!o.applicationDetail.isAppointment&&(null==t||null==t.postalList?null:t.postalList.length)>0&&(null==t?null:t.postalList[0].courierType)),e.xp6(1),e.Q6J("ngIf",!o.applicationDetail.isAppointment&&(null==t||null==t.postalList?null:t.postalList.length)>0&&!o.commonService.checkIfPrepaidCourier(null==t||null==t.postalList[0]?null:t.postalList[0].courierType)),e.xp6(1),e.Q6J("ngIf",!o.applicationDetail.isAppointment&&(null==t||null==t.postalList?null:t.postalList.length)>0&&o.commonService.checkIfPrepaidCourier(null==t||null==t.postalList[0]?null:t.postalList[0].courierType))}}function Sc(i,s){1&i&&(e.TgZ(0,"div",162)(1,"label",163)(2,"span",164),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"dashboard.headerLabel.label31")," "))}function xc(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td",153)(2,"span"),e._uU(3),e.qZA(),e.YNc(4,Sc,5,3,"div",161),e.qZA()()),2&i){const t=s.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.isRefundInitiated)}}function Lc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"label",169),e._UZ(1,"i",139),e._uU(2,"\xa0 "),e.TgZ(3,"a",170),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3).$implicit;return e.oxw(3).cancelServices(n)}),e._uU(4),e.ALo(5,"translate"),e.qZA()()}2&i&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"dashboard.buttons.button6")," "))}function Ic(i,s){if(1&i&&(e.TgZ(0,"div",165),e._UZ(1,"div",166),e.TgZ(2,"div",167),e.YNc(3,Lc,6,3,"label",168),e.qZA()()),2&i){const t=e.oxw(2).$implicit,o=e.oxw(3);e.xp6(3),e.Q6J("ngIf",!o.isRefundInitiatedForAll(t)&&(null==o.applicationDetail?null:o.applicationDetail.isRefundForVASAllowed)&&t.IsVASCancellationEnable)}}function Zc(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",160),e._uU(3),e.qZA()(),e.YNc(4,xc,5,2,"tr",56),e.TgZ(5,"tr")(6,"td",153),e.YNc(7,Ic,4,1,"div",159),e.qZA()(),e._UZ(8,"hr"),e.BQk()),2&i){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(3),e.AsE("",t.firstName," ",t.lastName,""),e.xp6(1),e.Q6J("ngForOf",t.vas)("ngForTrackBy",o.trackByFn),e.xp6(3),e.Q6J("ngIf",o.applicationDetail.isAppointment)}}function Nc(i,s){if(1&i&&(e.TgZ(0,"table",152),e.YNc(1,Zc,9,5,"ng-container",13),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.vas&&(null==t.vas?null:t.vas.length)>0)}}function Dc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",172),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(4);return n.addExtraService(n.applicationDetail)}),e.TgZ(1,"div",173),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"dashboard.buttons.button7")))}function Oc(i,s){if(1&i&&(e.TgZ(0,"div",165)(1,"div",166),e.YNc(2,Dc,4,3,"button",171),e.qZA(),e._UZ(3,"div",167),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.Q6J("ngIf",t.isServicesAvailabletoAdd&&t.IfNonUKVIToupVASEnabled)}}function Ec(i,s){if(1&i&&(e.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header",122)(2,"h2",158),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div"),e.YNc(6,Nc,2,1,"table",124),e.YNc(7,Oc,4,1,"div",159),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("@.disabled",!0),e.xp6(2),e.hij(" ",e.lcZ(4,5,"dashboard.headerLabel.label21")," "),e.xp6(3),e.Q6J("ngForOf",t.applicationDetail.applicants)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngIf",t.applicationDetail.isAppointment)}}function kc(i,s){1&i&&(e.ynx(0),e._UZ(1,"app-medical-insurance",174),e.BQk()),2&i&&(e.xp6(1),e.Q6J("type","2"))}const wc=function(i){return{applicantLength:i}};function Fc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"section",3)(1,"div",114)(2,"span",115),e.NdJ("click",function(){return e.CHM(t),e.oxw().back()}),e._UZ(3,"i",116),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.YNc(6,Qr,4,1,"div",9),e.YNc(7,Br,5,1,"div",9),e.TgZ(8,"div",67)(9,"div",117)(10,"h2",118),e._uU(11),e.qZA(),e.YNc(12,jr,2,2,"p",119),e.YNc(13,Hr,9,3,"ng-container",13),e.YNc(14,$r,3,4,"p",119),e.YNc(15,Wr,5,3,"div",120),e.TgZ(16,"mat-accordion",121),e.YNc(17,Xr,6,5,"mat-expansion-panel",13),e.YNc(18,mc,11,8,"mat-expansion-panel",13),e.TgZ(19,"mat-expansion-panel")(20,"mat-expansion-panel-header",122)(21,"div",123),e._uU(22),e.ALo(23,"translate"),e.qZA()(),e.YNc(24,Tc,18,14,"table",124),e.qZA(),e.YNc(25,Ec,8,7,"mat-expansion-panel",13),e.qZA()(),e.YNc(26,kc,2,1,"ng-container",13),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,16,"commonSections.buttons.button31"),""),e.xp6(2),e.Q6J("ngIf",t.resendConfirmationLetterMsg),e.xp6(1),e.Q6J("ngIf",t.showErrorMessage),e.xp6(4),e.Oqu(t.applicationDetail.visaCategoryName),e.xp6(1),e.Q6J("ngIf",!(null!=t.allConfiguration[0]&&t.allConfiguration[0].enableIRLNumber)),e.xp6(1),e.Q6J("ngIf",t.isSlotAvailableForReschedule),e.xp6(1),e.Q6J("ngIf",t.applicationDetail.isWaitlist&&(null==t.applicationDetail?null:t.applicationDetail.waitlistStatus)),e.xp6(1),e.Q6J("ngIf",t.applicationDetail.isWaitlist&&(null==t.applicationDetail?null:t.applicationDetail.waitlistStatus)===t.waitlistAllowed),e.xp6(2),e.Q6J("ngIf",t.applicationDetail.isWaitlist),e.xp6(1),e.Q6J("ngIf",t.applicationDetail.isAppointment),e.xp6(2),e.Q6J("@.disabled",!0),e.xp6(2),e.hij(" ",e.xi3(23,18,"dashboard.headerLabel.label24",e.VKq(21,wc,null==t.applicationDetail.applicants?null:t.applicationDetail.applicants.length))," "),e.xp6(2),e.Q6J("ngForOf",t.applicationDetail.applicants)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngIf",t.isServicesAvailable),e.xp6(1),e.Q6J("ngIf",t.insuranceBox)}}function Mc(i,s){if(1&i&&(e.TgZ(0,"div",19)(1,"div",20),e._UZ(2,"i",21),e.TgZ(3,"div"),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(t.isSoltAvailableError)}}function Pc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",182),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).sendOTP()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.buttons.button1")," "))}function Uc(i,s){1&i&&(e.TgZ(0,"div",19)(1,"div",20),e._UZ(2,"i",21),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"applicantInformation.messages.errorMessages.message34")))}function qc(i,s){1&i&&(e.TgZ(0,"div",19)(1,"div",20),e._UZ(2,"i",21),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"applicantInformation.messages.errorMessages.message35")))}function Gc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",192)(1,"span",193),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).sendOTP()}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"applicantInformation.formLabel.label22")))}const Vc=function(i){return{time:i}};function Rc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",183)(1,"div",8),e.YNc(2,Uc,6,3,"div",10),e.YNc(3,qc,6,3,"div",10),e.qZA(),e.TgZ(4,"div",184)(5,"div",185)(6,"div"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"div",186),e._uU(10),e.ALo(11,"translate"),e._UZ(12,"br"),e.qZA()()(),e.TgZ(13,"div",187)(14,"div",185)(15,"mat-form-field",33)(16,"input",188),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(2).enteredOTP=n}),e.qZA()()()(),e.TgZ(17,"div",189)(18,"button",190),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).verifyOTPForAppointmentActions()}),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.YNc(21,Gc,4,3,"div",191),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",1==t.OTPUnsuccess&&0==t.OTPSuccess),e.xp6(1),e.Q6J("ngIf",1==t.otpLimitExceed),e.xp6(4),e.Oqu(e.lcZ(8,8,"applicantInformation.pageDetails.para4")),e.xp6(3),e.hij(" ",e.xi3(11,10,"applicantInformation.pageDetails.para5",e.VKq(15,Vc,t.otpExpiryInMinutes))," "),e.xp6(6),e.Q6J("ngModel",t.enteredOTP),e.xp6(2),e.Q6J("disabled",!t.enteredOTP),e.xp6(1),e.hij(" ",e.lcZ(20,13,"applicantInformation.buttons.button2")," "),e.xp6(2),e.Q6J("ngIf",!t.isOTPRegenerateDisabled)}}function Jc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",194)(2,"div",195)(3,"div",196),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",197),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"div",198)(10,"div",199),e._UZ(11,"i",21),e.TgZ(12,"div"),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()(),e.TgZ(15,"div",200)(16,"div",8)(17,"button",201),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).continueWithCCAppointment()}),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,5,"applicantInformation.pageDetails.para4")),e.xp6(3),e.hij(" ",e.lcZ(8,7,"applicantInformation.messages.successMessages.message1")," "),e.xp6(6),e.Oqu(e.lcZ(14,9,"applicantInformation.messages.successMessages.message2")),e.xp6(4),e.Q6J("disabled",t.checkIfOtpDisabled()),e.xp6(1),e.Oqu(e.lcZ(19,11,"reviewAndPayment.buttons.button3"))}}function Yc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"section",3)(1,"div",114)(2,"span",115),e.NdJ("click",function(){return e.CHM(t),e.oxw().otpPageBack()}),e._UZ(3,"i",116),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"mat-card",78)(7,"h5",175),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",176),e.YNc(11,Mc,5,1,"div",10),e.TgZ(12,"h2",177),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"p",178),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",179),e.YNc(19,Pc,3,3,"button",180),e.qZA(),e.YNc(20,Rc,22,17,"div",181),e.YNc(21,Jc,20,13,"div",13),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,8,"commonSections.buttons.button31"),""),e.xp6(4),e.Oqu(e.lcZ(9,10,"ccAustralia.headerLabel.label3")),e.xp6(3),e.Q6J("ngIf",t.isSoltAvailableError),e.xp6(2),e.Oqu(e.lcZ(14,12,"applicantInformation.subHeaderLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(17,14,"applicantInformation.pageDetails.para3")),e.xp6(3),e.Q6J("ngIf",!t.OTPHandler),e.xp6(1),e.Q6J("ngIf",1==t.OTPHandler&&0==t.OTPSuccess),e.xp6(1),e.Q6J("ngIf",1==t.OTPSuccess)}}function Qc(i,s){if(1&i&&(e.TgZ(0,"div",202)(1,"div",203)(2,"button",204),e._UZ(3,"img",205),e.qZA()(),e.TgZ(4,"h2",206),e._UZ(5,"i",207),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"hr",144),e.TgZ(9,"p",208),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",67)(13,"div",209)(14,"button",210),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",209)(18,"button",211),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(3),e.MGl("src","",t.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(3),e.hij(" ",e.lcZ(7,5,"commonSections.headerLabel.label3")," "),e.xp6(4),e.hij(" ",e.lcZ(11,7,"dashboard.pageDetails.para12")," "),e.xp6(5),e.hij(" ",e.lcZ(16,9,"commonSections.buttons.button3")," "),e.xp6(4),e.hij(" ",e.lcZ(20,11,"commonSections.buttons.button4")," ")}}function Bc(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",108)(1,"h1",212),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-accordion",213)(5,"mat-expansion-panel")(6,"mat-expansion-panel-header"),e._uU(7),e.ALo(8,"translate"),e.TgZ(9,"div",63)(10,"span",214),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"span",215),e._uU(14),e.ALo(15,"translate"),e.qZA()()(),e.TgZ(16,"div",66),e._uU(17),e.ALo(18,"translate"),e.TgZ(19,"a",216),e._uU(20),e.ALo(21,"translate"),e.qZA()()(),e.TgZ(22,"mat-expansion-panel")(23,"mat-expansion-panel-header"),e._uU(24),e.ALo(25,"translate"),e.TgZ(26,"div",63)(27,"span",214),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"span",215),e._uU(31),e.ALo(32,"translate"),e.qZA()()(),e.TgZ(33,"div",66),e._uU(34),e.ALo(35,"translate"),e._UZ(36,"br")(37,"br"),e._uU(38),e.ALo(39,"translate"),e._UZ(40,"br")(41,"br"),e._uU(42),e.ALo(43,"translate"),e.TgZ(44,"a",216),e._uU(45),e.ALo(46,"translate"),e.qZA()()(),e.TgZ(47,"mat-expansion-panel")(48,"mat-expansion-panel-header"),e._uU(49),e.ALo(50,"translate"),e.TgZ(51,"div",63)(52,"span",214),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"span",215),e._uU(56),e.ALo(57,"translate"),e.qZA()()(),e.TgZ(58,"div",66),e._uU(59),e.ALo(60,"translate"),e.TgZ(61,"a",216),e._uU(62),e.ALo(63,"translate"),e.qZA(),e._UZ(64,"br")(65,"br"),e.qZA()(),e.TgZ(66,"mat-expansion-panel")(67,"mat-expansion-panel-header"),e._uU(68),e.ALo(69,"translate"),e.TgZ(70,"div",63)(71,"span",214),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.TgZ(74,"span",215),e._uU(75),e.ALo(76,"translate"),e.qZA()()(),e.TgZ(77,"div",66),e._uU(78),e.ALo(79,"translate"),e.TgZ(80,"a",216),e._uU(81),e.ALo(82,"translate"),e.qZA(),e._UZ(83,"br")(84,"br"),e._uU(85),e.ALo(86,"translate"),e.TgZ(87,"a",216),e._uU(88),e.ALo(89,"translate"),e.qZA(),e._UZ(90,"br")(91,"br"),e._uU(92),e.ALo(93,"translate"),e.qZA()(),e.TgZ(94,"mat-expansion-panel")(95,"mat-expansion-panel-header"),e._uU(96),e.ALo(97,"translate"),e.TgZ(98,"div",63)(99,"span",214),e._uU(100),e.ALo(101,"translate"),e.qZA(),e.TgZ(102,"span",215),e._uU(103),e.ALo(104,"translate"),e.qZA()()(),e.TgZ(105,"div",66),e._uU(106),e.ALo(107,"translate"),e._UZ(108,"br")(109,"br"),e._uU(110),e.ALo(111,"translate"),e._UZ(112,"br")(113,"br"),e._uU(114),e.ALo(115,"translate"),e._UZ(116,"br")(117,"br"),e._uU(118),e.ALo(119,"translate"),e.qZA()(),e.TgZ(120,"mat-expansion-panel")(121,"mat-expansion-panel-header"),e._uU(122),e.ALo(123,"translate"),e.TgZ(124,"div",63)(125,"span",214),e._uU(126),e.ALo(127,"translate"),e.qZA(),e.TgZ(128,"span",215),e._uU(129),e.ALo(130,"translate"),e.qZA()()(),e.TgZ(131,"div",66),e._uU(132),e.ALo(133,"translate"),e.TgZ(134,"a",216),e._uU(135),e.ALo(136,"translate"),e.qZA()()(),e.TgZ(137,"mat-expansion-panel")(138,"mat-expansion-panel-header"),e._uU(139),e.ALo(140,"translate"),e.TgZ(141,"div",63)(142,"span",214),e._uU(143),e.ALo(144,"translate"),e.qZA(),e.TgZ(145,"span",215),e._uU(146),e.ALo(147,"translate"),e.qZA()()(),e.TgZ(148,"div",66),e._uU(149),e.ALo(150,"translate"),e._UZ(151,"br")(152,"br"),e._uU(153),e.ALo(154,"translate"),e._UZ(155,"br")(156,"br"),e._uU(157),e.ALo(158,"translate"),e.qZA()()(),e.TgZ(159,"div",217)(160,"div",72)(161,"mat-checkbox",73),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().ptTermsandConditions=n}),e.TgZ(162,"div",74),e._uU(163),e.ALo(164,"translate"),e.qZA()()()(),e.TgZ(165,"button",218),e.NdJ("click",function(){return e.CHM(t),e.oxw().applyNow()}),e._uU(166),e.ALo(167,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,54,"termsAndConditions.headerLabel.label1")),e.xp6(5),e.hij(" ",e.lcZ(8,56,"termsAndConditions.formLabel.label1")," "),e.xp6(4),e.hij("",e.lcZ(12,58,"termsAndConditions.formLabel.label8")," \u2193"),e.xp6(3),e.hij("",e.lcZ(15,60,"termsAndConditions.formLabel.label9")," \u2191"),e.xp6(3),e.hij(" ",e.lcZ(18,62,"termsAndConditions.pageDetails.para1"),""),e.xp6(2),e.Q6J("href",t.appointmentCategory,e.LSH),e.xp6(1),e.Oqu(e.lcZ(21,64,"termsAndConditions.buttons.button_click_here")),e.xp6(4),e.hij(" ",e.lcZ(25,66,"termsAndConditions.formLabel.label2")," "),e.xp6(4),e.hij("",e.lcZ(29,68,"termsAndConditions.formLabel.label8")," \u2193"),e.xp6(3),e.hij("",e.lcZ(32,70,"termsAndConditions.formLabel.label9")," \u2191"),e.xp6(3),e.hij(" ",e.lcZ(35,72,"termsAndConditions.pageDetails.para2_1"),""),e.xp6(4),e.Oqu(e.lcZ(39,74,"termsAndConditions.pageDetails.para2_2")),e.xp6(4),e.hij("",e.lcZ(43,76,"termsAndConditions.pageDetails.para2_3")," "),e.xp6(2),e.Q6J("href",t.appointmentCategory,e.LSH),e.xp6(1),e.Oqu(e.lcZ(46,78,"termsAndConditions.buttons.button_click_here")),e.xp6(4),e.hij(" ",e.lcZ(50,80,"termsAndConditions.formLabel.label3")," "),e.xp6(4),e.hij("",e.lcZ(54,82,"termsAndConditions.formLabel.label8")," \u2193"),e.xp6(3),e.hij("",e.lcZ(57,84,"termsAndConditions.formLabel.label9")," \u2191"),e.xp6(3),e.hij(" ",e.lcZ(60,86,"termsAndConditions.pageDetails.para3"),""),e.xp6(2),e.Q6J("href",t.appointmentCategory,e.LSH),e.xp6(1),e.Oqu(e.lcZ(63,88,"termsAndConditions.buttons.button_click_here")),e.xp6(6),e.hij(" ",e.lcZ(69,90,"termsAndConditions.formLabel.label4")," "),e.xp6(4),e.hij("",e.lcZ(73,92,"termsAndConditions.formLabel.label8")," \u2193"),e.xp6(3),e.hij("",e.lcZ(76,94,"termsAndConditions.formLabel.label9")," \u2191"),e.xp6(3),e.hij(" ",e.lcZ(79,96,"termsAndConditions.pageDetails.para4_1")," "),e.xp6(2),e.Q6J("href",t.appointmentCategory,e.LSH),e.xp6(1),e.Oqu(e.lcZ(82,98,"termsAndConditions.buttons.button_click_here")),e.xp6(4),e.hij(" ",e.lcZ(86,100,"termsAndConditions.pageDetails.para4_2")," "),e.xp6(2),e.Q6J("href",t.appointmentCategory,e.LSH),e.xp6(1),e.Oqu(e.lcZ(89,102,"termsAndConditions.buttons.button_click_here")),e.xp6(4),e.hij(" ",e.lcZ(93,104,"termsAndConditions.pageDetails.para4_3")," "),e.xp6(4),e.hij(" ",e.lcZ(97,106,"termsAndConditions.formLabel.label5")," "),e.xp6(4),e.hij("",e.lcZ(101,108,"termsAndConditions.formLabel.label8")," \u2193"),e.xp6(3),e.hij("",e.lcZ(104,110,"termsAndConditions.formLabel.label9")," \u2191"),e.xp6(3),e.hij(" ",e.lcZ(107,112,"termsAndConditions.pageDetails.para5_1"),""),e.xp6(4),e.hij(" ",e.lcZ(111,114,"termsAndConditions.pageDetails.para5_2"),""),e.xp6(4),e.hij(" ",e.lcZ(115,116,"termsAndConditions.pageDetails.para5_3"),""),e.xp6(4),e.hij(" ",e.lcZ(119,118,"termsAndConditions.pageDetails.para5_4")," "),e.xp6(4),e.hij(" ",e.lcZ(123,120,"termsAndConditions.formLabel.label6")," "),e.xp6(4),e.hij("",e.lcZ(127,122,"termsAndConditions.formLabel.label8")," \u2193"),e.xp6(3),e.hij("",e.lcZ(130,124,"termsAndConditions.formLabel.label9")," \u2191"),e.xp6(3),e.hij(" ",e.lcZ(133,126,"termsAndConditions.pageDetails.para6"),""),e.xp6(2),e.Q6J("href",t.attendCenter,e.LSH),e.xp6(1),e.Oqu(e.lcZ(136,128,"termsAndConditions.buttons.button_click_here")),e.xp6(4),e.hij(" ",e.lcZ(140,130,"termsAndConditions.formLabel.label7")," "),e.xp6(4),e.hij("",e.lcZ(144,132,"termsAndConditions.formLabel.label8")," \u2193"),e.xp6(3),e.hij("",e.lcZ(147,134,"termsAndConditions.formLabel.label9")," \u2191"),e.xp6(3),e.hij(" ",e.lcZ(150,136,"termsAndConditions.pageDetails.para8"),""),e.xp6(4),e.hij(" ",e.lcZ(154,138,"termsAndConditions.pageDetails.para9"),""),e.xp6(4),e.hij(" ",e.lcZ(158,140,"termsAndConditions.pageDetails.para10")," "),e.xp6(4),e.Q6J("ngModel",t.ptTermsandConditions),e.xp6(2),e.Oqu(e.lcZ(164,142,"termsAndConditions.pageDetails.para7")),e.xp6(2),e.Q6J("disabled",!t.ptTermsandConditions),e.xp6(1),e.hij(" ",e.lcZ(167,144,"termsAndConditions.buttons.button1")," ")}}let Go=(()=>{class i extends a.e{constructor(t,o,n,l,c){super(),this.dialog=t,this.datePipe=o,this.contentfulService=n,this.translate=l,this._fb=c,this.waitlistAllowed=p.QY.allowed,this.waitlisted=p.QY.waitlisted,this.statusOnTabChnaged="Active",this.CONSTANTS=p.gT,this.viewRescheduledMsgFlag=!1,this.walkinCode=p.EB,this.primeLongueCode=p.XJ,this.formGroup=new r.cw({}),this.isSlotAvailableForReschedule=!1,this.initDate=[],this.canShowDocStatus=!1,this.OTPPage=!1,this.OTPHandler=!1,this.OTPSuccess=!1,this.OTPUnsuccess=!1,this.otpLimitExceed=!1,this.showActiveApplicants=!1,this.isOTPRegenerateDisabled=!1,this.canShowNorecords=!1,this.applicationDetail={},this.subVisaCategoryCode=[],this.applicationList=[],this.vacList=[],this.nationalityList=[],this.allConfiguration=[],this.inprogressApplications={},this.detailMode=!1,this.resendConfirmationLetterMsg=!1,this.cancelAppointmentMsg="",this.insuranceBox=!1,this.selectedIdx=1,this.rescheduledDetails={rescheduledTime:"-",rescheduledDate:""},this.checkAndLoadTravelInsurance(),this.loadContentfulContent(),this.ptWarningCheck=!1,this.ptImportantCheck=!1,this.ptTermsandConditions=!1,this.ptTermsAndConditionView=!1,this.ptWarningView=!1,this.isServicesAvailable=!1,this.isServicesAvailabletoAdd=!1,this.showErrorMessage=!1,this.ccUserFlag=!1,this.resendAppLetter=!1,this.ccUserAusFlag=!1}checkAndLoadTravelInsurance(){return(0,v.mG)(this,void 0,void 0,function*(){this.insuranceBox=yield this.contentfulService.getTravelInsurance()})}ngOnInit(){var t,o;const n={dl_category:"pageview",dl_action:"pageview- dashboard",dl_label:this.utilityService.countrynameByIso(this.sessionService.countryCode),value:0};if(this.utilityService.fireCustomEvent(n),this.commonService.loadConfiguration().then(c=>{c&&(this.roleName=this.sessionService.loginResponse,"CC"==this.roleName&&!c.isAustraliaCC&&(this.ccUserFlag=!0),"CC"==this.roleName&&c.isAustraliaCC&&(this.ccUserAusFlag=!0),this.initModule(),"CC"!=this.roleName&&(this.getAllApplications(this.statusOnTabChnaged),1===this.selectedIdx&&(this.getAllApplications("Active"),setTimeout(()=>{this.dataShareService.dashboardTab=0}))))}),this.isPtFlow&&(this.ptWarningView=!0),this.sessionService.clearSessionOnDashboardRoute(),this.viewRescheduledMsgFlag=!1,this.dataShareService.cartAmount.next("0"),this.sessionService.isRescheduleAptmntMode&&this.dataShareService.rescheduledData){this.selectedIdx=1;const c=(this.dataShareService.rescheduledData.appointmentTime?null===(o=null===(t=this.dataShareService.rescheduledData)||void 0===t?void 0:t.appointmentTime.split("-"))||void 0===o?void 0:o.shift():"-")||"",d=(this.dataShareService.rescheduledData.appointmentDate?this.datePipe.transform(this.dataShareService.rescheduledData.appointmentDate,"EEEE d, MMMM y"):"-")||"";this.rescheduledDetails.rescheduledTime=c,this.rescheduledDetails.rescheduledDate=d,this.viewRescheduledMsgFlag=!0,setTimeout(()=>{this.viewRescheduledMsgFlag=!1,this.dataShareService.clearrescheduledData(),this.dataShareService.rescheduledData=null},5e3)}else this.selectedIdx=this.dataShareService.dashboardTab;this.sessionService.isRescheduleAptmntMode&&this.sessionService.clearApplicationDetails(),this.sessionService.setIsRescheduleAptmntMode(!1),this.sessionService.setIsAddExtraServiceMode(!1),this.sessionService.tempAppSchema&&this.sessionService.saveApplicationSchemaInBrowser(this.sessionService.tempAppSchema),this.sessionService.pwdExpiryData&&(this.isPasswordExpiryMessage=this.sessionService.pwdExpiryData.isPasswordExpiryMessage,this.PasswordExpirydays=this.sessionService.pwdExpiryData.PasswordExpirydays,setTimeout(()=>{this.isPasswordExpiryMessage=!1},1e4))}initModule(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.ccUserAusFlag?(this.getFetchAppForm(),this.getTrackDocStatusForm(),this.initDatepicker()):this.formGroup=this.getInitForm()}catch(t){this.logger.error(t)}})}getInitForm(){try{let t;return t=new r.cw({refNumber:new r.NI,passportNumber:new r.NI,email:new r.NI("",[r.kI.pattern(p.Wg.email_caps_allowed)]),mobileNumber:new r.NI}),t}catch(t){throw t}}getFetchAppForm(){this.fetchApplicationForm=this._fb.group({refNumber:["",[r.kI.pattern(p.Wg.ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE)]],documentNumber:["",[r.kI.pattern(p.Wg.NO_SPACE_APLHA_NUMERIC)]],email:["",[r.kI.pattern(p.Wg.email_caps_allowed)]],mobileNumber:["",[r.kI.pattern(p.Wg.phone)]],vlnNumber:["",[r.kI.pattern(p.Wg.ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE)]]})}getTrackDocStatusForm(){this.trackDocStatusForm=this._fb.group({refNumber:["",[r.kI.pattern(p.Wg.ADDRESS_LINE_1)]],documentNumber:["",[r.kI.pattern(p.Wg.NO_SPACE_APLHA_NUMERIC)]],vlnNumber:["",[r.kI.pattern(p.Wg.ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE)]],dateOfBirth:[null],lastName:["",[r.kI.pattern(p.Wg.NAME)]]})}onSearch(){this.getAllApplications(this.statusOnTabChnaged),1===this.selectedIdx&&(this.getAllApplications("Active"),setTimeout(()=>{this.dataShareService.dashboardTab=0}))}onRest(){this.formGroup.reset(),this.applicationList=[]}getApplicationData(){return(0,v.mG)(this,void 0,void 0,function*(){const t=yield this.commonService.getVacCenters(this.sessionService.appCultureCode);t&&(this.vacList=t,this.sessionService.appCenterCode=t)})}openDialog(t){try{const o=new oe.vA;o.data={dialogDisplay:"small",body:"dashboard.pageDetails.para6",translateBody:!0,rightButton:"dashboard.buttons.button1",translateRightButton:!0,leftButton:"commonSections.buttons.button3",translateLeftButton:!0};const n=this.dialog.open(no.Y,o);this.subs.sink=n.afterClosed().subscribe(l=>{l&&this.deleteApplication({applicationAlphId:t.applicationAlphId,applicantGroupAlphId:t.applicantGroupAlphId})})}catch(o){console.log(o)}}deleteApplication(t){return(0,v.mG)(this,void 0,void 0,function*(){try{yield this.httpService.doPost(p.gT.api.deleteApplication,t).toPromise().then(n=>n).catch(n=>{throw new Error(n)}),this.getAllApplications(this.statusOnTabChnaged)}catch(o){throw new Error(o)}})}applyNow(){this.isPtFlow&&0==this.ptTermsAndConditionView?(this.ptTermsAndConditionView=!0,this.ptWarningView=!1):(this.utilityService.pushDataLayerGA({dl_event:"dashboard_page",dl_category:"Dashboard Page",dl_action:"Start New Booking",dl_label:"cta_click"}),this.utilityService.resetSchema(),this.contentfulService.loadDecimalAllowed(),this.utilityService.clearInProgressApplication(),this.sessionService.clearSessionOnDashboardRoute(),this.dataShareService.cartAmount.next("0"),this.commonService.routeToPostLoginModuleByIndex(0),this.ptTermsAndConditionView=!1)}getInprogressApplication(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.sessionService.applicationDetailCopy&&(this.sessionService.applicationDetailValue=this.sessionService.applicationDetailCopy);const t=this.sessionService.applicationDetailValue;if(t){t.vacCode=null==t?void 0:t.centerCode,yield this.getSubvisaCategoryCode([t]);const o=yield this.utilityService.getNameFromCode(this.subVisaCategoryCode,t.visaCategoryCode);this.inprogressApplications=t,this.inprogressApplications.visaCategoryName=o}this.utilityService.stopNgxUiSpinner()}catch(t){console.log(t)}})}isRefundInitiatedForAll(t){return((null==t?void 0:t.vas)||[]).every(l=>!0===(null==l?void 0:l.isRefundInitiated))}modifyResponse(t){return(0,v.mG)(this,void 0,void 0,function*(){try{const o=Array.from(t);for(const n of o){const l=this.cancelAllowed(n.vacCode),c=this.isRescheduleAllowed(n.vacCode),d=this.utilityService.getnationalityName(this.nationalityList,n.countryCode),_=this.utilityService.getnationalityName(this.nationalityList,n.missionCode),f=this.utilityService.getNameFromCode(this.subVisaCategoryCode,n.visaCategoryCode),h=this.utilityService.filterVacFromCode(this.vacList,n.vacCode,"centerName"),T=this.utilityService.filterVacFromCode(this.vacList,n.vacCode,"address"),I=!(this.commonService.checkIfPostal(n.applicationType)||this.commonService.checkIfOWA(n.applicationType)||n.isWaitlist),S=yield Promise.all([l,c,d,_,f,h,T,I]);n.rescheduleAllowed=S[1],n.cancellationAllowed=S[0],n.countryName=S[2],n.missionName=S[3],n.visaCategoryName=S[4],n.vacAddress=S[6],n.vacCodeName=S[5],n.isAppointment=S[7]}return o}catch(o){console.log(o)}})}scheduleWaitlist(t){return(0,v.mG)(this,void 0,void 0,function*(){this.utilityService.resetSchema();const n=[...this.allConfiguration].filter(_=>_.vacCode===(null==t?void 0:t.vacCode));this.sessionService.applicationConfiguration=n[0],this.sessionService.applicationDetailValue&&(this.sessionService.applicationDetailCopy=this.sessionService.applicationDetailValue);const l=this.getApplicationDetails(t);this.sessionService.applicationDetailValue=l;const c=this.commonService.getSchemaByModuleName(p.gT.modules.ELIGIBILITY_CRITERIA);this.saveEligibilityToSession(l,c);const d=this.sessionService.getApplicationSchema();if("True"===t.isPaymentDone){const _=[p.gT.modules.BOOK_APPOINTMENT],f=d.modules.filter(h=>_.indexOf(h.logicalName)>-1);d.modules=f}else{const _=[p.gT.modules.BOOK_APPOINTMENT,p.gT.modules.SERVICES,p.gT.modules.REVIEW_PAYMENT],f=d.modules.filter(h=>_.indexOf(h.logicalName)>-1);d.modules=f}this.sessionService.tempAppSchema=this.sessionService.getApplicationSchema(),this.sessionService.clearAppointmentDetail(),this.sessionService.saveApplicationSchemaInBrowser(d),this.sessionService.setIsWaitlistScheduleMode(!0),this.sessionService.isWaitlistPayment=t.isPaymentDone,this.sessionService.isWaitlistApplicant=t.isWaitlistUpdate,this.sessionService.urn=t.urn,yield this.checkSlotAvailability(null==t?void 0:t.vacCode,null==t?void 0:t.visaCategoryCode),this.route(p.gT.modules.BOOK_APPOINTMENT)})}cancelAllowed(t){let o=!0;const l=[...this.allConfiguration].filter(c=>c.vacCode===t);return 0===l.length||l[0].hasOwnProperty("cancellationEnabled")&&!1===l[0].cancellationEnabled?o=!1:l[0].hasOwnProperty("cancellationEnabled")&&!0===l[0].cancellationEnabled&&(o=!0),o}preloadData(t){return(0,v.mG)(this,void 0,void 0,function*(){return new Promise((o,n)=>(0,v.mG)(this,void 0,void 0,function*(){const l=[...new Set(t.map(c=>c.vacCode))];yield this.getSubvisaCategoryCode(t),yield this.loadConfiguration(l),yield this.getApplicationData(),yield this.loadNationality(),o(!0)}))})}filterVacFromCode(t,o){if(this.vacList.length<0)return;const n=this.vacList.filter(l=>l.isoCode===t);return n.length>0?n[0][o]:""}continueApplications(){try{const t=this.sessionService.getAllModulesSchema(),o=t.findIndex(n=>n.logicalName===this.sessionService.completedModuleName);if(o>-1){let n;o<t.length-1?n=t[o+1]:o===t.length-1&&(n=t[o]),n&&this.commonService.routeToPostLoginModule(n.routeUrl)}}catch(t){console.log(t)}}loadContentfulContent(){try{this.subs.sink=this.dataShareService.resourceGroupObservable.pipe((0,Wt.x)()).subscribe(t=>(0,v.mG)(this,void 0,void 0,function*(){yield this.loadBannerText()}))}catch(t){console.log(t)}}get existInprogress(){return Object.keys(this.inprogressApplications).length}getSubvisaCategoryCode(t){return(0,v.mG)(this,void 0,void 0,function*(){try{return new Promise((o,n)=>(0,v.mG)(this,void 0,void 0,function*(){const l=[];t.forEach(c=>{l.push(this.commonService.getSubVisaCategories(c.vacCode,c.parentVisaCategoryCode))}),this.subs.sink=(0,oo.D)(l).subscribe(c=>{const d=[].concat(...c);this.subVisaCategoryCode=d,o(d)})}))}catch(o){console.log(`Error Status: ${o.status}\nMessage: ${o.message} : ${o.error.data}`)}})}isRescheduleAllowed(t){return(0,v.mG)(this,void 0,void 0,function*(){try{let o=!0;const l=[...this.allConfiguration].filter(c=>c.vacCode===t);return(0===l.length||l[0].hasOwnProperty("rescheduleEnabled")&&!1===l[0].rescheduleEnabled||l[0].hasOwnProperty("noOfRescheduleEligible")&&"0"===String(l[0].noOfRescheduleEligible))&&(o=!1),o}catch(o){console.log(o)}})}loadConfiguration(t){return(0,v.mG)(this,void 0,void 0,function*(){try{return new Promise((o,n)=>(0,v.mG)(this,void 0,void 0,function*(){const l=[];t.forEach(c=>{l.push(this.commonService.loadVacConfiguration(c))}),this.subs.sink=(0,oo.D)(l).pipe((0,Uo.U)(c=>(c.map((d,_)=>{d.vacCode=t[_]}),c))).subscribe(c=>{const d=[].concat(...c);this.allConfiguration=d,o(d)})}))}catch(o){console.log(`Error Status: ${o.status}\nMessage: ${o.message} : ${o.error.data}`)}})}get travelInsurance(){return this.utilityService.externalUrlAppend("travel-insurance")}getnationalityName(t){return this.utilityService.getnationalityName(this.nationalityList,t)}loadNationality(){return(0,v.mG)(this,void 0,void 0,function*(){this.nationalityList=yield this.commonService.loadNationality()})}checkSlotAvailability(t,o){return(0,v.mG)(this,void 0,void 0,function*(){try{const n={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,vacCode:t,visaCategoryCode:o,roleName:this.sessionService.loginResponse,loginUser:this.sessionService.getLoggedEmail(),payCode:""},l=yield this.httpService.payloadPost(p.gT.api.checkSlotavailiable,n).toPromise().then(c=>c).catch(c=>c);if(l.error)return l;if(l&&l.earliestDate){const c=l.earliestDate?this.utilityService.momentInstance(l.earliestDate,"MM/DD/YYYY").format("DD/MM/YYYY"):null;this.sessionService.latestSlotAvailiable=c||""}}catch(n){throw n}})}getAllApplications(t){try{"Active"===t?this.getActiveApplicationList():this.getInprogressApplication()}catch(o){console.log(o)}}getActiveApplicationList(){return(0,v.mG)(this,void 0,void 0,function*(){if(this.utilityService.startNgxUiSpinner(),this.ccUserFlag||this.ccUserAusFlag){const t=this.ccUserFlag?{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"MUM1",loginUser:this.sessionService.getLoggedEmail(),languageCode:this.sessionService.appCultureCode,emailId:this.formGroup.value.email,referenceNumber:this.formGroup.value.refNumber,passportNumber:this.formGroup.value.passportNumber,contactNumber:this.formGroup.value.mobileNumber}:{missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),referenceNumber:this.fetchApplicationForm.value.refNumber,contactNumber:this.fetchApplicationForm.value.mobileNumber,emailId:this.fetchApplicationForm.value.email,passportNumber:this.fetchApplicationForm.value.documentNumber,vln:this.fetchApplicationForm.value.vlnNumber};this.requestList=yield this.httpService.payloadPost(p.gT.api.searchApplication,t).toPromise().then(o=>o).catch(o=>o)}else this.requestList=yield this.httpService.payloadPost(p.gT.api.getActiveApplication,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),languageCode:this.sessionService.appCultureCode}).toPromise().then(t=>t).catch(t=>t);if(this.requestList.data){this.allConfiguration=[];const t=[...new Set(this.requestList.data.map(_=>_.vacCode))],o=this.getSubvisaCategoryCode(this.requestList.data),n=this.loadConfiguration(t),l=this.getApplicationData(),c=this.loadNationality();yield Promise.all([o,n,l,c]),this.applicationList=yield this.modifyResponse(this.requestList.data),this.sessionService.urn=this.applicationList[0].urn,this.utilityService.fireCustomEvent({dl_category:"navigate",dl_action:"dashboard pageview",dl_label:`${this.applicationList.length>0?this.applicationList.length:"no"} appointments`,value:0}),this.utilityService.stopNgxUiSpinner(),this.showActiveApplicants=!0}else this.applicationList=[],this.utilityService.stopNgxUiSpinner(),this.showActiveApplicants=!0})}displayDetail(t){var o,n,l,c,d,_;this.utilityService.pushDataLayerGA({dl_event:"dashboard_page",dl_category:"Dashboard Page",dl_action:"Manage Appointment",dl_label:"cta_click"}),this.detailMode=!0,this.sessionService.urn=t.urn,this.applicationDetail=t,this.applicationDetail.isRefundForVASAllowed=null===(n=null===(o=this.sessionService)||void 0===o?void 0:o.applicationConfiguration)||void 0===n?void 0:n.isRefundForVASAllowed;const h=null===(d=null===(c=null===(l=this.applicationDetail)||void 0===l?void 0:l.applicants[0])||void 0===c?void 0:c.appointment)||void 0===d?void 0:d.appoinmentDate;this.appointmentDateFormat=this.utilityService.momentInstance(h,"DD/MM/YYYY").format(null===(_=this.dateFormat)||void 0===_?void 0:_.toUpperCase()),this.commonService.checkIfPostal(t.applicationType)&&this.fetchAddress(),this.loadServices()}fetchAddress(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){if(!this.applicationDetail.isAppointment&&this.applicationDetail.applicants)for(const n of this.applicationDetail.applicants){n.postalList=[];const l=yield this.httpService.payloadPost(p.gT.api.getAddress,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:this.applicationDetail.vacCode,loginUser:this.sessionService.getLoggedEmail(),aurn:null==n?void 0:n.arn}).toPromise().then(c=>c).catch(c=>c);if(l&&(n.postalList.push(l),!this.commonService.checkIfPrepaidCourier(null===(t=null==n?void 0:n.postalList[0])||void 0===t?void 0:t.courierType))){const c=yield this.httpService.slashParamsDoGet(p.gT.api.masterState,{countryCode:this.sessionService.countryCode}).toPromise();n.postalList[0].state=this.utilityService.getStateNameFromISOcode(c,null===(o=null==n?void 0:n.postalList[0])||void 0===o?void 0:o.state)}}})}printAppointmentLetter(t){return(0,v.mG)(this,void 0,void 0,function*(){const o=yield this.httpService.payloadPost(p.gT.api.downloadPdf,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),urn:t,cultureCode:""}).toPromise().then(n=>n).catch(n=>n);o.code?(document.body.scrollTop=document.documentElement.scrollTop=0,this.showErrorMessage=!0,this.errorMessage=o.description,setTimeout(()=>{this.showErrorMessage=!1},5e3)):this.utilityService.showFile(o)})}resendConfirmationLetter(t){return(0,v.mG)(this,void 0,void 0,function*(){if(this.ccUserFlag){const o=this.dialog.open(Ds,{data:"Do you wish to send an appointment confirmation email to the applicant?",disableClose:!0,restoreFocus:!0});this.subs.sink=o.afterClosed().subscribe(n=>(0,v.mG)(this,void 0,void 0,function*(){1==n&&(yield this.resendConfirmLetterPopup(t))}))}else yield this.resendConfirmLetterPopup(t)})}resendConfirmLetterPopup(t){return(0,v.mG)(this,void 0,void 0,function*(){const o=yield this.httpService.payloadPost(p.gT.api.emailPdf,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),urn:t,cultureCode:this.sessionService.appCultureCode}).toPromise().then(n=>n).catch(n=>n);o.IsAppointmentLetterEmailSend?(document.body.scrollTop=document.documentElement.scrollTop=0,this.resendConfirmationLetterMsg=!0,setTimeout(()=>{this.resendConfirmationLetterMsg=!1},5e3)):(document.body.scrollTop=document.documentElement.scrollTop=0,this.showErrorMessage=!0,this.errorMessage=o.error.description,setTimeout(()=>{this.showErrorMessage=!1},5e3))})}cancelAppointment(t,o){var n;return(0,v.mG)(this,void 0,void 0,function*(){const l=new oe.vA;l.data={urnvalue:t,isReschedulingAllowed:null===(n=this.applicationDetail)||void 0===n?void 0:n.rescheduleAllowed};const c=this.dialog.open(Po,l);this.subs.sink=c.afterClosed().subscribe(d=>(0,v.mG)(this,void 0,void 0,function*(){var _;if(d)if("cancel"===d.data)if(this.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled){const f=this.dialog.open(ks,l);this.subs.sink=f.afterClosed().subscribe(h=>(0,v.mG)(this,void 0,void 0,function*(){var T;if(h&&"yes"===h.data){const I={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),urn:t},S=yield this.httpService.payloadPost(p.gT.api.cancelAppointment,I).toPromise().then(R=>R).catch(R=>R);if(S){const U=[...this.allConfiguration].filter(ie=>ie.vacCode===(null==o?void 0:o.vacCode));S.IsAppointmentCancelled?this.utilityService.translationService("dashboard.messages.cancelAppointment.message1").then(ie=>{this.cancelAppointmentMsg=ie}):this.cancelAppointmentMsg=S.error.description.replace(" X ",` ${null===(T=U[0])||void 0===T?void 0:T.allowRescheduleXDaysPriorToAppointment} `),this.back(),setTimeout(()=>{this.getAllApplications("Active")},1e3),setTimeout(()=>{this.cancelAppointmentMsg=""},1e4)}}}))}else{const f={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),urn:t},h=yield this.httpService.payloadPost(p.gT.api.cancelAppointment,f).toPromise().then(T=>T).catch(T=>T);if(h){const I=[...this.allConfiguration].filter(S=>S.vacCode===(null==o?void 0:o.vacCode));h.IsAppointmentCancelled?this.utilityService.translationService("dashboard.messages.cancelAppointment.message1").then(S=>{this.cancelAppointmentMsg=S}):this.cancelAppointmentMsg=h.error.description.replace(" X ",` ${null===(_=I[0])||void 0===_?void 0:_.allowRescheduleXDaysPriorToAppointment} `),this.back(),setTimeout(()=>{this.getAllApplications("Active")},1e3),setTimeout(()=>{this.cancelAppointmentMsg=""},1e4)}}else"reschedule"===d.data&&this.rescheduleAppointment(o)}))})}cancelServices(t){try{t.vacCode=this.applicationDetail.vacCode,this.sessionService.applicationDetailValue=t,this.commonService.routeToPostLoginModule(p.m8.REQUEST_REFUND)}catch(o){}}cancelWaitlist(t){var o;return(0,v.mG)(this,void 0,void 0,function*(){const n=null===(o=this.dialog)||void 0===o?void 0:o.open(this.changeAppointmentModal,{disableClose:!0,restoreFocus:!0});this.subs.sink=n.afterClosed().subscribe(l=>(0,v.mG)(this,void 0,void 0,function*(){if("true"===l){const c={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:this.applicationDetail.vacCode,cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),urn:t},d=yield this.httpService.payloadPost(p.gT.api.cancelWaitlist,c).toPromise().then(_=>_).catch(_=>_);d&&(d.isCancelled?this.utilityService.translationService("dashboard.messages.cancelAppointment.message2").then(_=>{this.cancelAppointmentMsg=_}):this.cancelAppointmentMsg=d.error.description,this.back(),setTimeout(()=>{this.getAllApplications("Active")},1e3),setTimeout(()=>{this.cancelAppointmentMsg=""},1e4))}}))})}rescheduleAppointment(t){return(0,v.mG)(this,void 0,void 0,function*(){try{if(!1===t.isSlotAvailableForReschedule)return this.isSlotAvailableForReschedule=!0,void setTimeout(()=>{this.isSlotAvailableForReschedule=!1},1e4);const n=[...this.allConfiguration].filter(h=>h.vacCode===(null==t?void 0:t.vacCode));this.sessionService.applicationConfiguration=n[0],yield this.checkSlotAvailability(null==t?void 0:t.vacCode,null==t?void 0:t.visaCategoryCode),this.sessionService.applicationDetailValue&&(this.sessionService.applicationDetailCopy=this.sessionService.applicationDetailValue);const l=this.getApplicationDetails(t);this.sessionService.applicationDetailValue=l;const c=this.commonService.getSchemaByModuleName(p.gT.modules.ELIGIBILITY_CRITERIA);this.saveEligibilityToSession(l,c);const d=this.sessionService.getApplicationSchema(),_=[p.gT.modules.BOOK_APPOINTMENT,p.gT.modules.REVIEW_PAYMENT],f=d.modules.filter(h=>_.indexOf(h.logicalName)>-1);d.modules=f,this.sessionService.tempAppSchema=this.sessionService.getApplicationSchema(),this.sessionService.saveApplicationSchemaInBrowser(d),this.sessionService.setIsRescheduleAptmntMode(!0),this.sessionService.urn=t.urn,this.route(p.gT.modules.BOOK_APPOINTMENT)}catch(o){console.log(o)}})}saveAppointmentDetails(t){try{let o;o=t.categoryCode.indexOf(this.primeLongueCode)>-1?"Premium Longue":t.categoryCode.indexOf(this.walkinCode)>-1?"Walk-in Anytime":"Standard";const n={appointmentSlotType:parseFloat(t.slotType),slotTypeName:o,slotType:t.categoryCode,date:String(t.appoinmentDate).split("/").reverse().join("-"),time:String(t.appointmentTime),allocationId:t.allocationId};return this.sessionService.saveAppointmentDetails(n),!0}catch(o){throw o}}getApplicationDetails(t){const o=this.initApplicationDetails();for(const n of Object.keys(t))o.hasOwnProperty(n)&&(o[n]=t[n]);return o.centerCode=t.vacCode,o.selectedSubvisaCategory=t.visaCategoryCode,t.applicants=t.applicants.map(n=>Object.assign(Object.assign({},n),{urn:t.urn})),o.applicantList=t.applicants,o}initApplicationDetails(){var t,o,n,l;const c=(null===(o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration)||void 0===o?void 0:o.enableApplicationType)?"":void 0,d=(null===(l=null===(n=this.sessionService)||void 0===n?void 0:n.applicationConfiguration)||void 0===l?void 0:l.enableServiceType)?"":void 0;return{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.sessionService.getLoggedEmail()||"",visaCategoryCode:"",isEdit:!1,applicantList:[],languageCode:this.sessionService.appCultureCode,applicationType:c,serviceType:d}}saveEligibilityToSession(t,o){try{const n={};for(const l of o.controls)for(const c of l.fields)-1===p.gT.BUTTON_CONTROLS_LIST.indexOf(c.fieldType)&&-1===p.gT.NON_INTERACTIVE_CONTROLS.indexOf(c.fieldType)&&(n[c.displayName]=t[c.logicalName]);return this.sessionService.eligibilityDetails=n,this.sessionService.centerCode=t.centerCode,this.sessionService.visaSubCategory=t.visaCategoryCode,this.sessionService.visaCategory="-",!0}catch(n){throw n}}route(t){try{const o=this.commonService.getSchemaByModuleName(t);this.commonService.routeToPostLoginModule(o.routeUrl)}catch(o){console.log(o)}}tabChanged(t){this.statusOnTabChnaged=0===t.index?"InProgress":"Active",this.getAllApplications(this.statusOnTabChnaged)}back(){this.detailMode=!1,this.applicationDetail={},this.statusOnTabChnaged="Active"}updateCategory(t){const o=this.getApplicationDetails(t);this.sessionService.applicationDetailValue=o,this.sessionService.urn=t.urn,this.commonService.routeToPostLoginModule(p.gT.modules.UPDATE_CATEGORY)}checkIfDisabled(){return this.isPtFlow?!(this.isPtFlow&&this.ptImportantCheck&&this.ptWarningCheck&&!this.disabledNewBookingForCCUser):!(!this.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled&&!this.disabledNewBookingForCCUser)}getLinkUrl(){return this.translate.get("termsAndConditions.urls.link1").subscribe(t=>{this.urlLink=t}),this.urlLink}addExtraService(t){return(0,v.mG)(this,void 0,void 0,function*(){try{const n=[...this.allConfiguration].filter(h=>h.vacCode===(null==t?void 0:t.vacCode));this.sessionService.applicationConfiguration=n[0],yield this.checkSlotAvailability(null==t?void 0:t.vacCode,null==t?void 0:t.visaCategoryCode),this.sessionService.applicationDetailValue&&(this.sessionService.applicationDetailCopy=this.sessionService.applicationDetailValue);const l=this.getApplicationDetails(t);this.sessionService.applicationDetailValue=l,this.sessionService.saveApplicationSchemaInBrowser(this.sessionService.getFullApplicationSchema());const c=this.commonService.getSchemaByModuleName(p.gT.modules.ELIGIBILITY_CRITERIA);this.saveEligibilityToSession(l,c),this.setEligibilityDetails(t);const d=this.sessionService.getFullApplicationSchema(),_=[p.gT.modules.SERVICES,p.gT.modules.REVIEW_PAYMENT],f=d.modules.filter(h=>_.indexOf(h.logicalName)>-1);d.modules=f,this.sessionService.tempAppSchema=this.sessionService.getApplicationSchema(),this.sessionService.saveApplicationSchemaInBrowser(d),this.sessionService.setIsAddExtraServiceMode(!0),this.sessionService.urn=t.urn,this.dataShareService.cartAmount.next("0"),this.route(p.gT.modules.SERVICES)}catch(o){console.log(o)}})}setEligibilityDetails(t){try{this.sessionService.centerCode=null==t?void 0:t.vacCode,this.sessionService.setCurrApplicantVisaType(null==t?void 0:t.visaType),this.sessionService.eligibilityDetails={centerCode:null==t?void 0:t.vacCode,visaType:null==t?void 0:t.visaType,username:null==t?void 0:t.loginUser,password:null==t?void 0:t.urn}}catch(o){}}loadServices(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){try{this.sessionService.centerCode=null===(t=this.applicationDetail)||void 0===t?void 0:t.vacCode;const n=yield this.commonService.loadServices();if(n&&(null==n?void 0:n.length)>0){const l=n,c=n.filter(_=>!0===(null==_?void 0:_.isAvailableOnline));let d=[];yield null===(o=this.applicationDetail)||void 0===o?void 0:o.applicants.forEach(_=>{d=this.commonService.availableServicesForTopup(_.vas,l)}),c&&(null==c?void 0:c.length)>0&&(this.isServicesAvailable=!0),d&&d.length>0&&(this.isServicesAvailabletoAdd=!0)}}catch(n){}})}loadBannerText(){return(0,v.mG)(this,void 0,void 0,function*(){try{return new Promise(t=>(0,v.mG)(this,void 0,void 0,function*(){var o,n;const l=[`${this.sessionService.tenent} > ${this.sessionService.countryCode} > ${this.sessionService.appLanguageCode}`,`${this.sessionService.tenent} > ${this.sessionService.appLanguageCode}`,this.sessionService.appLanguageCode],c=yield this.contentfulService.getEnteries({content_type:"countryNewsflash","fields.locale":l.join("&"),order:"-sys.updatedAt"}),_=(null==c?void 0:c.items).filter(f=>!1===f.fields.applicableFor);_.length>0&&(this.bannerContent=null===(o=_[0])||void 0===o?void 0:o.fields),t(null===(n=_[0])||void 0===n?void 0:n.fields)}))}catch(t){throw t}})}get IfNonUKVIToupVASEnabled(){const t=this.sessionService.applicationConfiguration;return!0===(null==t?void 0:t.NonUKVIToupVASEnabled)}showErrorMsgPopup(t,o){try{const n=this.dialog.open(nt,{data:t});n.afterClosed().subscribe(l=>(0,v.mG)(this,void 0,void 0,function*(){this.resendAppLetter=!0,1069===o&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner())})),this.router.events.subscribe(()=>{n.close()})}catch(n){throw n}}get isOverSeasEnable(){var t;return 1==(null===(t=this.sessionService.applicationConfiguration)||void 0===t?void 0:t.isOverSeasEnable)}get groupURNlabel(){let t="";return 1==this.isOverSeasEnable?this.translate.get("applicantInformation.formLabel.label25").subscribe(o=>{t=o}):this.translate.get("dashboard.headerLabel.label7").subscribe(o=>{t=o}),t}get disableSearchBtn(){return!((this.fetchApplicationForm.controls.refNumber.value||this.fetchApplicationForm.controls.documentNumber.value||this.fetchApplicationForm.controls.email.value||this.fetchApplicationForm.controls.mobileNumber.value||this.fetchApplicationForm.controls.vlnNumber.value)&&"VALID"===this.fetchApplicationForm.status)}get disableFetchFieldsBtn(){return!(this.trackDocStatusForm.controls.refNumber.value&&this.trackDocStatusForm.controls.lastName.value&&"VALID"===this.trackDocStatusForm.status)}initDatepicker(){const t=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY");this.initDate.maxDOB={year:+t.format("YYYY"),month:+t.format("MM"),day:+t.format("DD")}}onReset(t){"fetchAppForm"==t?(this.applicationList=[],this.showActiveApplicants=!1,this.fetchApplicationForm.reset()):(this.trackDocStatusForm.reset(),this.canShowDocStatus=!1,this.canShowNorecords=!1)}onSubmitFetchFields(){return(0,v.mG)(this,void 0,void 0,function*(){})}onClickModify(t,o){return(0,v.mG)(this,void 0,void 0,function*(){this.userAction=t,this.sendOTP();const n=new oe.vA;n.data={action:"otpVerify",alertInfo:"CC-PREEMAILEDIT"==t?"ccAustralia.messages.infoMessages.message1":"ccAustralia.messages.infoMessages.message2"};const l=this.dialog.open(Kt,n);this.subs.sink=l.afterClosed().subscribe(c=>(0,v.mG)(this,void 0,void 0,function*(){c&&"otpVerify"==c.data&&(this.enteredOTP=c.formData,this.otpApplicantPayLoad("VALIDATE").then(_=>{if((null==_?void 0:_.isOTPValidated)||(null==_?void 0:_.isUpdated)){n.data={action:"CC-PREEMAILEDIT"==t?"email":"mobile"};const f=this.dialog.open(Kt,n);this.subs.sink=f.afterClosed().subscribe(h=>(0,v.mG)(this,void 0,void 0,function*(){this.enteredOTP="",this.userAction="mobile"==h.data?"CC-CONTACTEDIT":"CC-EMAILEDIT",this.updateField="mobile"==h.data?"ContactNumber":"Email",this.updatedValue="mobile"==h.data?`${h.formData.dialCode}$${h.formData.contactNumber}`:h.formData.email,this.applicantArn=o.arn;try{this.updateContactInfo().then(I=>{if(null==I?void 0:I.isUpdated){const S=new oe.vA;S.data={action:"success",headerInfo:"CC-EMAILEDIT"==this.userAction?"ccAustralia.messages.successMessages.message1":"ccAustralia.messages.successMessages.message2",successInfo:"CC-EMAILEDIT"==this.userAction?"ccAustralia.messages.successMessages.message3":"ccAustralia.messages.successMessages.message4"};const R=this.dialog.open(Kt,S);this.subs.sink=R.afterClosed().subscribe(U=>(0,v.mG)(this,void 0,void 0,function*(){"success"==(null==U?void 0:U.data)&&(this.detailMode=!1,this.applicationList=[],this.showActiveApplicants=!1,this.fetchApplicationForm.reset())}))}else this.showErrorMsgPopup(null==I?void 0:I.error.description,null==I?void 0:I.error.code)})}catch(T){console.log(T)}}))}else this.showErrorMsgPopup(null==_?void 0:_.error.description,null==_?void 0:_.error.code)}))}))})}updateContactInfo(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t={aurn:this.applicantArn,missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),userAction:this.userAction,updateField:this.updateField,updateValue:this.updatedValue};return yield this.httpService.doOTPPost(p.gT.api.updateContactInfo,Object.assign({},t)).toPromise()}catch(t){throw t}})}sendOTP(){try{this.otpApplicantPayLoad("GENERATE").then(o=>{var n,l,c;(null==o?void 0:o.error)?(null==o?void 0:o.error)&&(this.OTPHandler=!1,this.isSoltAvailableError=4009===(null===(n=null==o?void 0:o.error)||void 0===n?void 0:n.code)?this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(l=null==o?void 0:o.error)||void 0===l?void 0:l.code)).replace(" X ",` ${null==o?void 0:o.otpGeneratedBlockedHours} `):this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(c=null==o?void 0:o.error)||void 0===c?void 0:c.code)),setTimeout(()=>{this.isSoltAvailableError=""},1e4)):(this.OTPHandler=!0,this.otpExpiryInMinutes=null==o?void 0:o.otpExpiryInMinutes,(null==o?void 0:o.isOTPRegenerateDisabled)&&(this.sessionService.isReGenerateOTPDisabled=null==o?void 0:o.isOTPRegenerateDisabled,this.isOTPRegenerateDisabled=null==o?void 0:o.isOTPRegenerateDisabled),this.createOTPLimit=null==o?void 0:o.remainingOTPLimit)})}catch(t){throw t}}otpApplicantPayLoad(t){return(0,v.mG)(this,void 0,void 0,function*(){try{const o={urn:this.sessionService.urn,loginUser:this.sessionService.getLoggedEmail(),missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,languageCode:this.sessionService.appCultureCode,OTP:this.enteredOTP?this.enteredOTP:"",otpAction:t,userAction:this.userAction?this.userAction:""};return yield this.httpService.doOTPPost(p.gT.api.applicantOTP,Object.assign({},o)).toPromise()}catch(o){throw o}})}onCCAusAppointmentActions(t,o){return(0,v.mG)(this,void 0,void 0,function*(){this.userAction=t,this.applicationDetail=o;let n="";const l=new oe.vA;"CC-CANCEL"==this.userAction?n="ccAustralia.messages.infoMessages.message3":"CC-RESCHEDULE"==this.userAction?n="ccAustralia.messages.infoMessages.message4":"CC-RESEND"==this.userAction&&(n="ccAustralia.messages.infoMessages.message5"),l.data={action:"warning",alertInfo:n};const c=this.dialog.open(Kt,l);this.subs.sink=c.afterClosed().subscribe(d=>(0,v.mG)(this,void 0,void 0,function*(){d&&"warning"==d.data&&(this.OTPPage=!0,this.OTPHandler=!1)}))})}verifyOTPForAppointmentActions(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.otpApplicantPayLoad("VALIDATE").then(o=>{if((null==o?void 0:o.isOTPValidated)||(null==o?void 0:o.isUpdated))this.OTPSuccess=!0;else if(o.error&&(this.OTPUnsuccess=!0,setTimeout(()=>{this.OTPUnsuccess=!1},5e3),(null==o?void 0:o.error)&&4005===(null==o?void 0:o.error.code)))return void this.commonService.logoutAndRouteToLogin()})}catch(t){throw t}})}checkIfOtpDisabled(){return!!this.OTPPage&&!this.OTPSuccess}continueWithCCAppointment(){var t;return(0,v.mG)(this,void 0,void 0,function*(){switch(this.OTPPage=!1,this.enteredOTP="",this.OTPSuccess=!1,this.userAction){case"CC-CANCEL":const o={countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn},n=yield this.httpService.payloadPost(p.gT.api.cancelAppointment,o).toPromise().then(l=>l).catch(l=>l);if(n){const c=[...this.allConfiguration].filter(d=>{var _;return d.vacCode===(null===(_=this.applicationDetail)||void 0===_?void 0:_.vacCode)});n.IsAppointmentCancelled?this.utilityService.translationService("dashboard.messages.cancelAppointment.message1").then(d=>{this.cancelAppointmentMsg=d}):this.cancelAppointmentMsg=n.error.description.replace(" X ",` ${null===(t=c[0])||void 0===t?void 0:t.allowRescheduleXDaysPriorToAppointment} `),this.back(),setTimeout(()=>{this.getAllApplications("Active")},1e3),setTimeout(()=>{this.cancelAppointmentMsg=""},1e4)}break;case"CC-RESCHEDULE":yield this.rescheduleAppointment(this.applicationDetail);break;case"CC-RESEND":yield this.resendConfirmLetterPopup(this.sessionService.urn)}})}PayNowAppointment(t){return(0,v.mG)(this,void 0,void 0,function*(){try{const n=[...this.allConfiguration].filter(T=>T.vacCode===(null==t?void 0:t.vacCode));this.sessionService.applicationConfiguration=n[0],this.sessionService.centerCode=null==t?void 0:t.vacCode;const l=yield this.commonService.loadVacConfiguration(null==t?void 0:t.vacCode);l&&(this.sessionService.applicationConfiguration=l),this.sessionService.applicationDetailValue&&(this.sessionService.applicationDetailCopy=this.sessionService.applicationDetailValue);const c=this.getApplicationDetails(t);this.sessionService.applicationDetailValue=c;const d=this.commonService.getSchemaByModuleName(p.gT.modules.ELIGIBILITY_CRITERIA);this.saveEligibilityToSession(c,d);const _=this.sessionService.getApplicationSchema(),f=[p.gT.modules.REVIEW_PAYMENT],h=_.modules.filter(T=>f.indexOf(T.logicalName)>-1);_.modules=h,this.sessionService.tempAppSchema=this.sessionService.getApplicationSchema(),this.sessionService.saveApplicationSchemaInBrowser(_),this.sessionService.setIsCCPayNowAptmntMode(!0),this.sessionService.urn=t.urn,this.route(p.gT.modules.REVIEW_PAYMENT)}catch(o){console.log(o)}})}get disabledCancelApptForCCUser(){var t;return!(1!=(null===(t=this.sessionService.applicationConfiguration)||void 0===t?void 0:t.disabledCancelApptForCCUser)||!this.ccUserAusFlag)}get disabledRescheduleApptForCCUser(){var t;return!(1!=(null===(t=this.sessionService.applicationConfiguration)||void 0===t?void 0:t.disabledRescheduleApptForCCUser)||!this.ccUserAusFlag)}get disabledResendConfLetterForCCUser(){var t;return!(1!=(null===(t=this.sessionService.applicationConfiguration)||void 0===t?void 0:t.disabledResendConfLetterForCCUser)||!this.ccUserAusFlag)}get disabledPrintApptForCCUser(){var t;return!(1!=(null===(t=this.sessionService.applicationConfiguration)||void 0===t?void 0:t.disabledPrintApptForCCUser)||!this.ccUserAusFlag)}get disabledNewBookingForCCUser(){var t;return!(1!=(null===(t=this.sessionService.applicationConfiguration)||void 0===t?void 0:t.disabledNewBookingForCCUser)||!this.ccUserAusFlag)}get isCCUser(){return"CC"==this.sessionService.loginResponse}otpPageBack(){this.OTPPage=!1}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.uw),e.Y36(w.uU),e.Y36(Ye.a),e.Y36(D.sK),e.Y36(r.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],viewQuery:function(t,o){if(1&t&&e.Gf(cl,5),2&t){let n;e.iGM(n=e.CRH())&&(o.changeAppointmentModal=n.first)}},features:[e.qOj],decls:7,vars:4,consts:[["class","container py-15 py-md-30",3,"ngClass",4,"ngIf"],["class","container py-15 py-md-30",4,"ngIf"],["viewChangeAppointmentModal",""],[1,"container","py-15","py-md-30"],["class","container",4,"ngIf"],[1,"container","py-15","py-md-30",3,"ngClass"],[1,"card-accordion","mx-auto","d-flex","flex-column",2,"min-height","calc(100vh - 190px)"],[1,"row","mb-10","mb-md-25"],[1,"col-12"],["class","border-info mt-20","style","border-left: 5px solid",4,"ngIf"],["class","border-danger","style","border-left: 5px solid",4,"ngIf"],["class","col-12 col-sm-auto d-lg-none",4,"ngIf"],[1,"position-relative"],[4,"ngIf"],["class","mat-tab-group-brand","animationDuration","0ms",3,"selectedIndex","selectedIndexChange","selectedTabChange",4,"ngIf"],["class","mat-tab-group-brand","animationDuration","0ms",3,"selectedIndex","selectedIndexChange",4,"ngIf"],[1,"border-info","mt-20",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-info-circle","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-15","pl-50"],[1,"fa","fa-check-circle","fs-24","position-absolute","left-15","top-13"],[1,"col-12","col-sm-auto","d-lg-none"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-brand-orange","d-none","d-lg-inline-block","position-absolute","top-n3","right-0","z-index-999",3,"disabled","click"],["animationDuration","0ms",1,"mat-tab-group-brand",3,"selectedIndex","selectedIndexChange","selectedTabChange"],[3,"label"],[3,"formGroup"],[1,"form-card","p-3","border-0","shadow-none"],[1,"row","col-sm-12","col-md-12","col-lg-12"],[1,"col-lg-6","col-md-12","col-sm-12","mt-20"],["tabindex","3",1,"form-group","p-3"],[1,"fs-sm-16","mb-10"],["appearance","outline",1,"mat-form-field-outline-brand"],["name","ReferenceNumber","formControlName","refNumber","placeholder","Enter reference number","autocomplete","off","attr.aria-required","true","matInput","","type","text","minlength","3","maxlength","50",2,"text-transform","uppercase"],["name","PassportNumber","formControlName","passportNumber","placeholder","Enter passport number","autocomplete","off","attr.aria-required","true","matInput","","type","text","minlength","3","maxlength","50",2,"text-transform","uppercase"],["tabindex","3",1,"form-group",3,"ngClass"],[1,"fs-sm-16"],["class","errorMessage",4,"ngIf"],["name","email","formControlName","email","placeholder","Enter email address","autocomplete","off","attr.aria-required","true","matInput","","type","text","minlength","3","maxlength","50",2,"text-transform","uppercase"],["name","mobileNumber","formControlName","mobileNumber","placeholder","Enter mobile number","autocomplete","off","attr.aria-required","true","matInput","","type","text","minlength","3","maxlength","50",2,"text-transform","uppercase"],[1,"col-lg-3","col-md-6","col-sm-6","mb-10"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"col-lg-9","col-md-6","col-sm-6"],["class","row",4,"ngIf"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],["class","card mt-20 mb-20",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card","mt-20","mb-20"],[1,"card-header","bg-brand-footer","px-15","px-lg-30"],[1,"mt-10","mb-25"],[1,"fs-18","fs-sm-24","mb-15"],["class","row fs-md-18",4,"ngIf"],[1,"my-5","mx-n30"],[1,"pt-15","fs-md-18","ff-700","mb-5"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","fs-md-18"],["class","col-12 col-md mb-15 c-brand-grey-para",4,"ngIf"],[1,"col-12","col-md-auto","mb-15"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"col-12","col-md","mb-15","c-brand-grey-para"],[1,"col-12","col-md","mb-15"],[1,"c-brand-orange","ml-auto","text-nowrap"],["class","col-12 col-md-auto mb-15",4,"ngIf"],[1,"pt-15","fs-md-18","mb-10"],[1,"c-brand-grey-para"],[1,"row"],[1,"col-12","mt-30"],[1,"fs-18"],[1,"c-brand-grey-para","fs-sm-18"],[1,"form-group"],[1,"pl-35"],["type","checkbox",1,"mat-checkbox-brand","ml-n35",3,"ngModel","ngModelChange"],[1,"fs-sm-18","text-wrap","mr-5"],["class","card mb-20",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card","mb-20"],["animationDuration","0ms",1,"mat-tab-group-brand",3,"selectedIndex","selectedIndexChange"],[1,"form-card"],[1,"fs-24","fs-sm-33","mb-25","ml-20","font-weight-bold"],["tabindex","3",1,"form-group","p-3",3,"ngClass"],[1,"fs-sm-16","mb-10","font-weight-bold"],["name","ReferenceNumber","formControlName","refNumber","autocomplete","off","attr.aria-required","true","matInput","","type","text","minlength","3","maxlength","50",2,"text-transform","uppercase",3,"placeholder"],["class","errorMessage pt-5",4,"ngIf"],["name","documentNumber","formControlName","documentNumber","autocomplete","off","attr.aria-required","true","matInput","","type","text","minlength","3","maxlength","50",2,"text-transform","uppercase",3,"placeholder"],["name","email","formControlName","email","autocomplete","off","attr.aria-required","true","matInput","","type","text","minlength","3","maxlength","50",2,"text-transform","uppercase",3,"placeholder"],["name","mobileNumber","formControlName","mobileNumber","autocomplete","off","attr.aria-required","true","matInput","","type","text","minlength","3","maxlength","50","onkeypress","return event.charCode >= 48 && event.charCode <= 57",2,"text-transform","uppercase",3,"placeholder"],["name","vlnNumber","formControlName","vlnNumber","autocomplete","off","attr.aria-required","true","matInput","","type","text","minlength","3","maxlength","50",2,"text-transform","uppercase",3,"placeholder"],[1,"col-lg-3","col-md-6","col-sm-6"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],["label","Track Document Status"],[1,"c-brand-error"],[1,"datepicker-div","form-group"],["ngbDatepicker","","autocomplete","off","formControlName","dateOfBirth",1,"form-control","input-lg","mt-5",3,"minDate","maxDate","placeholder"],["datePickerReference1","ngbDatepicker"],[1,"input-group-addon",3,"click"],["matInput","","type","text","name","lastName","formControlName","lastName","autocomplete","off","minlength","1","maxlength","30",2,"text-transform","uppercase",3,"placeholder"],["class","errorMessage pt-5","aria-live","assertive",4,"ngIf"],["class","border-danger mt-30","style","border-left: 5px solid;width: 100%;",4,"ngIf"],[1,"errorMessage","pt-5"],["label","Search Results"],["aria-live","assertive",1,"errorMessage","pt-5"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[4,"ngFor","ngForOf"],[1,"border-danger","mt-30",2,"border-left","5px solid","width","100%"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"row","mt-auto",3,"type"],[1,"flash-msg","py-23","row","mt-auto"],[1,"container"],[1,"row","align-items-center","c-brand-blue-navy"],[1,"col-auto","fs-25","pr-0"],[1,"fa","fa-exclamation-triangle"],[1,"col","fs-sm-18"],[3,"richData"],[1,"c-brand-orange","fs-18","mb-20"],[1,"cursor-pointer",3,"click"],[1,"fa","fa-arrow-left"],[1,"col-12","col-lg-8","col-xl-8"],[1,"fs-18","fs-sm-24","mb-25"],["class","c-brand-grey-para fs-18 fs-md-22 mb-15",4,"ngIf"],["class","row no-gutters fs-16",4,"ngIf"],[1,"dashboard-accordion","card"],[1,"card-header","bg-brand-footer"],[1,"fs-18","fs-md-22"],["class","c-brand-grey-para w-100 fs-16 fs-md-18 mt-15",4,"ngFor","ngForOf","ngForTrackBy"],[3,"translate"],[1,"c-brand-grey-para","fs-18","fs-md-22","mb-15"],[1,"alert-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-times-circle","fs-24","mb-0"],[1,"col"],[1,"row","no-gutters","fs-16"],[1,"col-12","col-md-6","my-20"],["class","row no-gutters mt-10 fs-16",4,"ngIf"],[1,"row","no-gutters","mt-10","fs-16"],["class","col-12 col-md-6 my-15 pl-35",4,"ngIf"],[1,"col-12","col-md-6","my-15","pl-35"],[1,"fa","fa-times-circle-o","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","text-decoration-underline"],["class","ff-700 fs-18 mt-25",4,"ngIf"],[1,"my-20","c-brand-grey-para","fs-16","fs-md-18","lh-md-26"],["class","fs-16 fs-md-18",4,"ngIf"],[1,"my-20"],[1,"ff-700","fs-18","mt-25"],[1,"fs-16","fs-md-18"],["class","cursor-pointer",3,"click",4,"ngIf"],[1,"fa","fa-clock-o","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","text-decoration-underline","cursor-pointer"],[1,"fa","fa-arrow-circle-o-right","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"fa","fa-print","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","w-100","fs-16","fs-md-18","mt-15"],["colspan","2",1,"ff-500","py-8","c-brand-blue-light"],[1,"py-8"],[1,"py-8","w-wrap-break-all"],["class","c-brand-orange text-decoration-underline cursor-pointer",3,"click",4,"ngIf"],["colspan","2"],[1,"fs-18","fs-md-22","fw-normal"],["class","row align-items-center",4,"ngIf"],["colspan","2",1,"py-8"],["class","custom-file-input-brand mb-5 pull-right",4,"ngIf"],[1,"custom-file-input-brand","mb-5","pull-right"],[1,"mb-0"],[1,"ff-400","c-brand-grey-para"],[1,"row","align-items-center"],[1,"col-12","col-sm"],[1,"col-12","col-sm-auto"],["class","cursor-pointer mb-0 mt-15 mt-sm-0",4,"ngIf"],[1,"cursor-pointer","mb-0","mt-15","mt-sm-0"],["href","javascript:void(0)","role","button",1,"ff-400","c-brand-grey-para","on-hover-orange","text-decoration-underline",3,"click"],["mat-raised-button","","class","btn mat-btn-lg btn-brand-orange min-w-255",3,"click",4,"ngIf"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-brand-orange","min-w-255",3,"click"],[1,"text-wrap"],[1,"col-12","col-lg-4","col-xl-4","mt-35","mt-lg-0",3,"type"],[1,"font-weight-bold"],[1,"p-15","mt-20","border","rounded-5"],[1,"fs-18","fs-sm-21","mb-15"],[1,"c-brand-grey-para","mb-10"],[1,"max-sm-w-500","mt-20"],["mat-raised-button","","class","btn btn-block mat-btn-lg btn-brand-orange",3,"click",4,"ngIf"],["class","row align-items-end mt-20",4,"ngIf"],["mat-raised-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange",3,"click"],[1,"row","align-items-end","mt-20"],[1,"col-12","col-sm-9","col-lg-12"],[1,"form-group","mb-0"],[1,"c-brand-grey-para","fs-14","mt-3","mb-5"],[1,"col-12","col-sm-9","col-lg-6"],["placeholder","OTP","matInput","","type","text","maxlength","6","required","",3,"ngModel","ngModelChange"],[1,"col-12","col-sm-3","col-lg-2","my-15","my-sm-0"],["mat-raised-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange",3,"disabled","click"],["class","col-12 mt-sm-10",4,"ngIf"],[1,"col-12","mt-sm-10"],[1,"c-brand-grey-para","text-decoration-underline",2,"cursor","pointer",3,"click"],[1,"border-success","mt-20",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-20","pl-sm-50","mb-0"],[1,"c-black","fs-18"],[1,"c-brand-grey-para","fs-14","mt-3","mb-8"],[1,"border-success"],[1,"alert","alert-success","border-0","rounded-0","py-15","pl-50"],[1,"row","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"disabled","click"],[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],["matDialogClose","false",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999"],["alt","","aria-label","Close",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"col-12","col-sm-6","col-sm"],["mat-stroked-button","","matDialogClose","false",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0"],["mat-stroked-button","","matDialogClose","true",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mb-10","mb-sm-0"],[1,"mb-30"],[1,"vm-vl-accordion"],[1,"vm-link","text-decoration-underline"],[1,"vl-link","text-decoration-underline"],["target","_blank",1,"c-brand-orange","text-decoration-underline",3,"href"],[1,"form-group","my-40"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"]],template:function(t,o){1&t&&(e.YNc(0,Yr,15,11,"section",0),e.YNc(1,Fc,27,23,"section",1),e.YNc(2,Yc,22,16,"section",1),e.YNc(3,Qc,21,13,"ng-template",null,2,e.W1O),e.TgZ(5,"section",3),e.YNc(6,Bc,168,146,"div",4),e.qZA()),2&t&&(e.Q6J("ngIf",o.isPtFlow&&0==o.ptTermsAndConditionView||!o.isPtFlow),e.xp6(1),e.Q6J("ngIf",o.applicationDetail&&(null==o.applicationDetail.applicants?null:o.applicationDetail.applicants.length)>0&&o.detailMode&&!o.OTPPage),e.xp6(1),e.Q6J("ngIf",1==o.OTPPage),e.xp6(4),e.Q6J("ngIf",o.ptTermsAndConditionView))},directives:[w.O5,w.mk,V.lW,_i.SP,_i.uX,r._Y,r.JL,r.sg,q.KE,r.Fj,u.Nt,r.JJ,r.u,r.wO,r.nD,w.sg,le.oG,r.On,X.a8,J.J4,qo,kt,D.Pi,at.pp,at.ib,at.yz,r.Q7,oe.ZT],pipes:[D.X$],encapsulation:2}),i})(),Vo=(()=>{class i{constructor(){this.mask="MM/dd/yyyy"}setMask(t){this.mask=t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),jc=(()=>{class i{constructor(t){this.maskController=t,this.test=""}get mask(){return this.maskController.mask}parse(t){let o=t.split("/");return"dd/MM/yyyy"==this.mask?{year:+o[2],month:+o[1],day:+o[0]}:"MM/dd/yyyy"==this.mask?{month:+o[1],year:+o[2],day:+o[0]}:{year:+o[0],month:+o[1],day:+o[2]}}format(t){return"dd/MM/yyyy"==this.mask?t?("0"+t.day).slice(-2)+"/"+("0"+t.month).slice(-2)+"/"+t.year:"":"MM/dd/yyyy"==this.mask?t?("0"+t.month).slice(-2)+"/"+("0"+t.day).slice(-2)+"/"+t.year:"":t?t.year+"/"+("0"+t.month).slice(-2)+"/"+("0"+t.day).slice(-2):""}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Vo))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})();var zt=A(3172),Hc=A(8929),$c=A(7739),Ro=A(2986),wt=A(5769),Ut=A(7965);const Wc=["captchaContainer"];function Kc(i,s){if(1&i&&(e.TgZ(0,"div",4),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"countdown",5,6),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,"header.headerLabel.label17"),""),e.xp6(2),e.Q6J("config",t.configg)}}const Jo=function(i){return{time:i}};function zc(i,s){if(1&i&&(e.TgZ(0,"p",14),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"applicantInformation.messages.errorMessages.message52",e.VKq(4,Jo,t.config.minConfigurableTime)),"")}}function Xc(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18),e._UZ(5,"i",19),e.qZA(),e._UZ(6,"div",20),e.qZA()()(),e.BQk()),2&i){const t=e.oxw(2);e.xp6(6),e.Q6J("translate",t.errorDescription)}}function eu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"div",35),e._uU(3,"\u2713"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"div",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().openFileSelector()}),e._uU(6),e.ALo(7,"translate"),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(4),e.hij(" ",t.relativePath," "),e.xp6(2),e.hij(" ",e.lcZ(7,2,"eligibilityCriteria.buttons.button3")," ")}}function tu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"h5",28)(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",29),e._uU(7," *"),e.qZA()(),e.TgZ(8,"div",30)(9,"button",31),e.NdJ("click",function(){return e.CHM(t).openFileSelector()}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,eu,8,4,"div",32),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(4),e.Oqu(e.lcZ(5,3,"eligibilityCriteria.placeholder.label10")),e.xp6(6),e.hij(" ",e.lcZ(11,5,"eligibilityCriteria.buttons.button2")," "),e.xp6(2),e.Q6J("ngForOf",t.files)}}function iu(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",37)(2,"div",38),e._uU(3),e.qZA()(),e.BQk()),2&i){const t=e.oxw(3);e.xp6(3),e.hij(" ",t.dragFleError," ")}}function ou(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",21),e._UZ(2,"i",22),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"div"),e.qZA(),e.TgZ(7,"div",23)(8,"ngx-file-drop",24),e.NdJ("onFileDrop",function(n){return e.CHM(t),e.oxw(2).dropped(n)}),e.YNc(9,tu,13,7,"ng-template",25),e.qZA()(),e.YNc(10,iu,4,1,"ng-container",3),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,3,"applicantInformation.pageDetails.para7")),e.xp6(4),e.Q6J("multiple",!1),e.xp6(2),e.Q6J("ngIf",t.dragFleError)}}function nu(i,s){1&i&&(e.TgZ(0,"div",39)(1,"div",21),e._UZ(2,"i",22),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"applicantInformation.messages.errorMessages.message36")))}function au(i,s){1&i&&(e.TgZ(0,"div",39)(1,"div",21),e._UZ(2,"i",22)(3,"div",40),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Q6J("innerHTML",e.lcZ(4,1,"PhotoVerificationInformation.messages.infoMessages.message15"),e.oJD))}function su(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"h5",41),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&i){const t=e.oxw(2);e.xp6(2),e.AsE(" ",e.lcZ(3,2,"applicantInformation.pageDetails.para1")," ",t.isEditModeFlag?t.editApplicantIndex+1:(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)+1," ")}}function lu(i,s){if(1&i&&(e.TgZ(0,"h5",42),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.lnq(" ",null==t.currentFormGroup||null==t.currentFormGroup.value?null:t.currentFormGroup.value.firstName," ",t.isOverSeasEnable?null==t.currentFormGroup||null==t.currentFormGroup.value?null:t.currentFormGroup.value.middleName:""," ",null==t.currentFormGroup||null==t.currentFormGroup.value?null:t.currentFormGroup.value.lastName," ")}}function ru(i,s){if(1&i&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(null==t?null:t.passportNumber)}}function cu(i,s){if(1&i&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(null==t?null:t.emailId)}}function uu(i,s){if(1&i&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(null==t?null:t.referenceNumber)}}function du(i,s){if(1&i&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(null==t?null:t.contactNumber)}}function pu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",61),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).index;return e.oxw(3).IDNFYupdateANDredirect(!0,n,!0)}),e.TgZ(1,"u")(2,"b"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"PhotoVerificationInformation.messages.infoMessages.message12")))}function mu(i,s){if(1&i&&(e.TgZ(0,"div",58),e.YNc(1,pu,5,3,"span",59),e.TgZ(2,"span",60)(3,"b"),e._uU(4),e.qZA()()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",(null==t?null:t.PVCanAllowRetry)&&!(null!=t&&t.PVisVerified)&&(null==t?null:t.PVStatus)),e.xp6(3),e.Oqu(null==t?null:t.PVStatusDescription)}}function gu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"i",62),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).FetchStatusofPV()}),e.ALo(1,"translate"),e.qZA()}2&i&&e.s9C("title",e.lcZ(1,1,"PhotoVerificationInformation.messages.infoMessages.message14"))}function _u(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"i",63),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().index;return e.oxw(3).openDialog(n)}),e.qZA()}}function fu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"i",64),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().index;return e.oxw(3).editApplicantDetails(n)}),e.qZA()}}function vu(i,s){if(1&i&&(e.TgZ(0,"div",45)(1,"div",46)(2,"div",47)(3,"div",48),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",49),e._uU(7),e.qZA(),e.YNc(8,ru,2,1,"div",50),e.YNc(9,cu,2,1,"div",50),e.YNc(10,uu,2,1,"div",50),e.YNc(11,du,2,1,"div",50),e.qZA(),e.TgZ(12,"div",51)(13,"div",52),e.YNc(14,mu,5,2,"div",53),e.qZA(),e.TgZ(15,"div",54),e.YNc(16,gu,2,3,"i",55),e.YNc(17,_u,1,0,"i",56),e.YNc(18,fu,1,0,"i",57),e.qZA()()()()),2&i){const t=s.$implicit,o=s.index,n=e.oxw(3);e.xp6(4),e.AsE("",e.lcZ(5,13,"applicantInformation.pageDetails.para1")," ",o+1,""),e.xp6(3),e.lnq("",null==t?null:t.firstName," ",n.isOverSeasEnable?null==n.currentFormGroup||null==n.currentFormGroup.value?null:n.currentFormGroup.value.middleName:""," ",null==t?null:t.lastName,""),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.passportNumber)&&n.config.isBelgiumHandshakeEnabled),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.emailId)&&n.config.isBelgiumHandshakeEnabled),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.referenceNumber)&&n.config.isBelgiumHandshakeEnabled),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.contactNumber)&&n.config.isBelgiumHandshakeEnabled),e.xp6(3),e.Q6J("ngIf",n.config.isPhotoVerificationRequired),e.xp6(2),e.Q6J("ngIf",!(null!=t&&t.PVisVerified||"REVIEWING"!=(null==t?null:t.PVStatus)||n.config.isBelgiumHandshakeEnabled)),e.xp6(1),e.Q6J("ngIf",n.isRemoveEditAndDeleteIcon(o)&&!n.config.isBelgiumHandshakeEnabled),e.xp6(1),e.Q6J("ngIf",!n.isDocumentUploadEnabled&&!n.isNationalVisaEdit(t)&&!n.config.isPolandBelarusScheme&&n.isRemoveEditAndDeleteIcon(o)&&!n.config.isBelgiumHandshakeEnabled)}}function hu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",65)(1,"button",66),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).addApplicant()}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("disabled",t.disableAddApplicant),e.xp6(1),e.hij(" ",e.lcZ(3,2,"commonSections.buttons.button32")," ")}}function yu(i,s){if(1&i&&(e.ynx(0),e.YNc(1,vu,19,15,"div",43),e.YNc(2,hu,4,4,"div",44),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",null==t.applicationDetails?null:t.applicationDetails.applicantList)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngIf",!t.config.isBelgiumHandshakeEnabled)}}function bu(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",68)(2,"mat-checkbox",69),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(3).isBookedByEmployer=n}),e.TgZ(3,"span",70),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.BQk()}if(2&i){const t=e.oxw(3);e.xp6(2),e.Q6J("ngModel",t.isBookedByEmployer),e.xp6(2),e.Oqu(e.lcZ(5,2,"applicantInformation.pageDetails.para8"))}}function Cu(i,s){1&i&&(e.TgZ(0,"div")(1,"p",74),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"applicantInformation.para.label2")))}function Au(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"h2",71),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",72)(5,"div",73)(6,"mat-checkbox",69),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(3).isChild=n})("ngModelChange",function(n){return e.CHM(t),e.oxw(3).onIsChildSelection(n)}),e.TgZ(7,"span",70),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.YNc(10,Cu,4,3,"div",3),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(3);e.xp6(2),e.AsE(" ",e.lcZ(3,5,"applicantInformation.pageDetails.para1")," ",t.isEditModeFlag?t.editApplicantIndex+1:(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)+1," "),e.xp6(4),e.Q6J("ngModel",t.isChild),e.xp6(2),e.Oqu(e.lcZ(9,7,"applicantInformation.pageDetails.para2")),e.xp6(2),e.Q6J("ngIf",t.isChild)}}function Tu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",75)(1,"app-dynamic-form",76),e.NdJ("formGroupCopy",function(n){return e.CHM(t),e.oxw(3).postPageLoadActivities(n,!0)}),e.qZA()()}if(2&i){const t=e.oxw(3);e.Q6J("formGroup",t.currentFormGroup),e.xp6(1),e.Q6J("scope",t.scope)("schema",t.currentModule)}}function Su(i,s){if(1&i&&(e.ynx(0),e.YNc(1,bu,6,4,"ng-container",3),e.YNc(2,Au,11,9,"ng-container",3),e.YNc(3,Tu,2,3,"form",67),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.employerDetailsrequired),e.xp6(1),e.Q6J("ngIf",t.viewIsChildFlag),e.xp6(1),e.Q6J("ngIf",t.isChild||!t.isDocumentUploadEnabled||t.isEditModeFlag&&(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)>0||t.isDocumentUploadEnabled&&t.documentextracted)}}function xu(i,s){if(1&i&&(e.TgZ(0,"mat-card",7)(1,"p",8),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"h1",9),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",10),e.YNc(8,zc,3,6,"p",11),e.qZA(),e.YNc(9,Xc,7,1,"ng-container",3),e.YNc(10,ou,11,5,"ng-container",3),e.YNc(11,nu,6,3,"div",12),e.YNc(12,au,5,3,"div",12),e.YNc(13,su,4,4,"ng-container",3),e.YNc(14,lu,2,3,"h5",13),e.YNc(15,yu,3,3,"ng-container",3),e.YNc(16,Su,4,3,"ng-container",3),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,11,t.viewApplicantsListFlag?"applicantInformation.para.label3":"applicantInformation.para.label1")," "),e.xp6(3),e.Oqu(e.lcZ(6,13,t.currentModule.displayName)),e.xp6(3),e.Q6J("ngIf",t.canShowMinTimeMsg&&t.disableSaveButton),e.xp6(1),e.Q6J("ngIf",t.errorDescription),e.xp6(1),e.Q6J("ngIf",t.isDocumentUploadEnabled&&!t.viewApplicantsListFlag&&!t.isEditModeFlag&&!t.isChild),e.xp6(1),e.Q6J("ngIf",t.disableAddApplicant&&!t.isEditModeFlag&&!t.isPtFlow),e.xp6(1),e.Q6J("ngIf",t.IsPVstatusInREVIEWING&&!t.isEditModeFlag),e.xp6(1),e.Q6J("ngIf",!t.viewApplicantsListFlag&&!t.viewIsChildFlag&&(!t.isDocumentUploadEnabled||t.isEditModeFlag&&(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)>0||t.isDocumentUploadEnabled&&t.documentextracted)),e.xp6(1),e.Q6J("ngIf",t.isEditModeFlag&&(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)>0),e.xp6(1),e.Q6J("ngIf",t.viewApplicantsListFlag&&(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)>0),e.xp6(1),e.Q6J("ngIf",!t.viewApplicantsListFlag)}}function Lu(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-card",77),e._UZ(2,"app-dynamic-form",78),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("scope",t.scope)("schema",t.currentModuleButtons)}}function Iu(i,s){if(1&i&&(e.TgZ(0,"div")(1,"div",83)(2,"div",84)(3,"div",17)(4,"div",18),e._UZ(5,"i",85),e.qZA(),e.TgZ(6,"div",86)(7,"span",87),e._uU(8),e.ALo(9,"translate"),e.TgZ(10,"a",88),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e._UZ(15,"br"),e.qZA()()()()),2&i){const t=e.oxw(2);e.xp6(8),e.hij(" ",e.lcZ(9,4,"PhotoVerificationInformation.messages.infoMessages.message10")," "),e.xp6(2),e.Q6J("href",t.links,e.LSH),e.xp6(1),e.Oqu(e.lcZ(12,6,"PhotoVerificationInformation.messages.infoMessages.message16")),e.xp6(2),e.hij(" ",e.lcZ(14,8,"PhotoVerificationInformation.messages.infoMessages.message17"),"")}}const Yo=function(i){return{amount:i}};function Zu(i,s){if(1&i&&(e.TgZ(0,"div",86),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"commonSections.messages.infoMessages.message2",e.VKq(4,Yo,t.serviceFees))," ")}}const Nu=function(i,s){return{currency:i,amount:s}};function Du(i,s){if(1&i&&(e.TgZ(0,"div",86),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"commonSections.messages.infoMessages.message5",e.WLB(4,Nu,t.feeCurrency,t.totalFeeAmount))," ")}}function Ou(i,s){if(1&i&&(e.TgZ(0,"div",86),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.xi3(2,1,"commonSections.messages.infoMessages.message3",e.VKq(4,Yo,t.serviceFees))," ")}}function Eu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",92)(1,"div",86)(2,"mat-checkbox",93),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(3).payServiceFeeOnline=n}),e._uU(3),e.ALo(4,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(3);e.xp6(2),e.Q6J("ngModel",t.payServiceFeeOnline),e.xp6(1),e.hij(" ",e.lcZ(4,2,"applicantInformation.formLabel.label20")," ")}}function ku(i,s){if(1&i&&(e.TgZ(0,"div")(1,"div",83)(2,"div",84)(3,"div",17)(4,"div",18),e._UZ(5,"i",89),e.qZA(),e.YNc(6,Zu,3,6,"div",90),e.YNc(7,Du,3,7,"div",90),e._UZ(8,"br"),e.YNc(9,Ou,3,6,"div",90),e._UZ(10,"br"),e.qZA(),e.YNc(11,Eu,5,4,"div",91),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(6),e.Q6J("ngIf",t.payOnlineMode&&!t.sessionService.isHmpoJourney),e.xp6(1),e.Q6J("ngIf",t.sessionService.isHmpoJourney),e.xp6(2),e.Q6J("ngIf",!t.payOnlineMode&&!t.sessionService.isHmpoJourney),e.xp6(2),e.Q6J("ngIf",t.isOnlineFeesPaymentOptional&&!t.config.isBelgiumHandshakeEnabled)}}function wu(i,s){if(1&i&&(e.TgZ(0,"div",102)(1,"div",103),e._UZ(2,"i",104),e.TgZ(3,"div"),e._uU(4),e.qZA()()()),2&i){const t=e.oxw(4);e.xp6(4),e.Oqu(t.isSoltAvailableError)}}function Fu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",105),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).sendOTP("OTP Send",!0)}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.buttons.button1")," "))}function Mu(i,s){1&i&&(e.TgZ(0,"div",102)(1,"div",103),e._UZ(2,"i",104),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"applicantInformation.messages.errorMessages.message34")))}function Pu(i,s){1&i&&(e.TgZ(0,"div",102)(1,"div",103),e._UZ(2,"i",104),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"applicantInformation.messages.errorMessages.message35")))}const Uu=function(i){return{createOTPLimit:i}};function qu(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.Oqu(e.xi3(2,1,"applicantInformation.pageDetails.para6",e.VKq(4,Uu,t.createOTPLimit)))}}function Gu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",117)(1,"input",118),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(5).enteredOTP=n}),e.qZA()()}if(2&i){const t=e.oxw(5);e.xp6(1),e.Q6J("ngModel",t.enteredOTP)}}function Vu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",117)(1,"input",119),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(5).enteredOTP=n})("enterClick",function(){return e.CHM(t),e.oxw(5).verifyOTP()}),e.qZA()()}if(2&i){const t=e.oxw(5);e.xp6(1),e.Q6J("ngModel",t.enteredOTP)("matKeyboard","numeric_keyboard")}}function Ru(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",120)(1,"span",121),e.NdJ("click",function(){return e.CHM(t),e.oxw(5).sendOTP("OTP Resend",!0)}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"applicantInformation.formLabel.label22")))}function Ju(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-cloudflare-captcha-container",123,124),e.NdJ("v2CaptchaSet",function(n){return e.CHM(t),e.oxw(6).submitV2Captcha(n)}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(6);e.xp6(1),e.Q6J("captchaType",t.currentCaptcha)}}function Yu(i,s){if(1&i&&(e.TgZ(0,"div",107),e.ynx(1),e._UZ(2,"div",122),e.BQk(),e.YNc(3,Ju,3,1,"ng-container",3),e.qZA()),2&i){const t=e.oxw(5);e.xp6(3),e.Q6J("ngIf",t.enableAddApplicantOTPCloudFlareCaptcha)}}function Qu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",106)(1,"div",107),e.YNc(2,Mu,6,3,"div",96),e.YNc(3,Pu,6,3,"div",96),e.qZA(),e.TgZ(4,"div",108)(5,"div",109)(6,"div"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"div",110),e._uU(10),e.ALo(11,"translate"),e._UZ(12,"br"),e.YNc(13,qu,3,6,"span",3),e.qZA()()(),e.TgZ(14,"div",111)(15,"div",109),e.YNc(16,Gu,2,1,"mat-form-field",112),e.YNc(17,Vu,2,2,"mat-form-field",112),e.qZA()(),e.TgZ(18,"div",113)(19,"button",114),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).verifyOTP()}),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e.YNc(22,Ru,4,3,"div",115),e.YNc(23,Yu,4,1,"div",116),e.qZA()}if(2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("ngIf",1==t.OTPUnsuccess&&0==t.OTPSuccess),e.xp6(1),e.Q6J("ngIf",1==t.otpLimitExceed),e.xp6(4),e.Oqu(e.lcZ(8,11,"applicantInformation.pageDetails.para4")),e.xp6(3),e.hij(" ",e.xi3(11,13,"applicantInformation.pageDetails.para5",e.VKq(18,Jo,t.otpExpiryInMinutes))," "),e.xp6(3),e.Q6J("ngIf",!(null!=t.config&&t.config.removeNoOfAttempsLineFromOTP)),e.xp6(3),e.Q6J("ngIf",!t.config.enableAddApplicantOTPVirtualKeyboard),e.xp6(1),e.Q6J("ngIf",t.config.enableAddApplicantOTPVirtualKeyboard),e.xp6(2),e.Q6J("disabled",!t.enteredOTP),e.xp6(1),e.hij(" ",e.lcZ(21,16,"applicantInformation.buttons.button2")," "),e.xp6(2),e.Q6J("ngIf",!t.isOTPRegenerateDisabled),e.xp6(1),e.Q6J("ngIf",t.cloudFlareCaptchaHideShowFlag)}}function Bu(i,s){1&i&&(e.TgZ(0,"div",125)(1,"div",126)(2,"div",127),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",128),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",129)(9,"div",130),e._UZ(10,"i",104),e.TgZ(11,"div"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,3,"applicantInformation.pageDetails.para4")),e.xp6(3),e.hij(" ",e.lcZ(7,5,"applicantInformation.messages.successMessages.message1")," "),e.xp6(6),e.Oqu(e.lcZ(13,7,"applicantInformation.messages.successMessages.message2")))}function ju(i,s){if(1&i&&(e.TgZ(0,"div",95),e.YNc(1,wu,5,1,"div",96),e.TgZ(2,"h2",97),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",8),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",98),e.YNc(9,Fu,3,3,"button",99),e.qZA(),e.YNc(10,Qu,24,20,"div",100),e.YNc(11,Bu,14,9,"div",101),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.isSoltAvailableError),e.xp6(2),e.Oqu(e.lcZ(4,6,"applicantInformation.subHeaderLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(7,8,"applicantInformation.pageDetails.para3")),e.xp6(3),e.Q6J("ngIf",!t.OTPHandler),e.xp6(1),e.Q6J("ngIf",1==t.OTPHandler&&0==t.OTPSuccess),e.xp6(1),e.Q6J("ngIf",1==t.OTPSuccess)}}function Hu(i,s){if(1&i&&(e.TgZ(0,"mat-card",7),e.YNc(1,ju,12,10,"div",94),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",1==t.IsOTPEnable)}}function $u(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",81)(1,"button",131),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).goBack()}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"commonSections.buttons.button8")," "))}function Wu(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card",77),e.YNc(2,Iu,16,10,"div",3),e.YNc(3,ku,12,4,"div",3),e.YNc(4,Hu,2,1,"mat-card",2),e.TgZ(5,"div",79),e.YNc(6,$u,4,3,"div",80),e.TgZ(7,"div",81)(8,"button",82),e.NdJ("click",function(){return e.CHM(t),e.oxw().continue()}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.isPVEligibleToContinue),e.xp6(1),e.Q6J("ngIf",t.isBannerDisplayed),e.xp6(1),e.Q6J("ngIf",1==t.OTPCard),e.xp6(2),e.Q6J("ngIf",!t.config.isPolandBelarusScheme),e.xp6(2),e.Q6J("disabled",t.checkIfDisabled()),e.xp6(1),e.hij(" ",e.lcZ(10,6,"commonSections.buttons.button19")," ")}}const so=["captcha_version","captcha_key_applicant"];let Qo=(()=>{class i extends Ze.o{constructor(t,o){var n,l;super(),this.dialog=t,this.maskController=o,this.submitAttempt=!1,this.isReferenceNumberWithPassportEnabled=!1,this.maxCallTime=12,this.files=[],this.scope=this,this.viewApplicantsListFlag=!1,this.isEditModeFlag=!1,this.isChild=!1,this.constants=p.gT,this.OTPHandler=!1,this.OTPSuccess=!1,this.OTPUnsuccess=!1,this.OTPCard=!1,this.otpInProgress=!1,this.otpLimitExceed=!1,this.enableAddApplicantOTPCloudFlareCaptcha=!1,this.addedApplicantPB=!1,this.disableSaveButton=!0,this.canShowMinTimeMsg=!1,this.cloudFlareCaptchaHideShowFlag=!1,this.unsubscriber=new Hc.xQ,this.PVStatusStop=!1,this.PVMessageBoxReq=!1,this.initBaseForm(p.gT.modules.APPLICANT_DETAILS),this.isEditingFromSamePage=!1,this.feesAmount=0,this.totalFeeAmount=0,this.feeCurrency="",this.serviceFees="",this.applicationDetails={},this.editApplicantIndex=0,this.config={},this.currentPageEditFlag=!1,this.payServiceFeeOnline=!1,this.allowedCaptcha=!1,this.documentextracted=!1,this.isMIGRISNumberEnabled=null===(n=this.sessionService)||void 0===n?void 0:n.isMIGRISNumberEnabled,this.dragFleError="",this.errorDescription="",this.currentCaptcha=this.captchaVersionConst.default,this.captchaVersion="",this.enableAddApplicantOTPCloudFlareCaptcha=!1,this.IsOTPEnable=!1,this.captchaToken="",this.isOTPRegenerateDisabled=!1,this.isBookedByEmployer=!1,this.otpExpiryInMinutes=0,this.isSoltAvailableError=null,this.appConfiguration={},this.isReferenceNumberWithPassportEnabled=null===(l=this.sessionService)||void 0===l?void 0:l.isReferenceNumberWithPassportEnabled,this.cloudFlareCaptchaHideShowFlag=!1,this.dateFormat.includes("/")?this.maskController.setMask(this.dateFormat):("MM-dd-yyyy"==this.dateFormat&&this.maskController.setMask("MM/dd/yyyy"),"dd-MM-yyyy"==this.dateFormat&&(this.sessionService.addApplicantPB=!1,this.maskController.setMask("MM-dd-yyyy"==this.dateFormat?"MM/dd/yyyy":"dd-MM-yyyy"==this.dateFormat?"dd/MM/yyyy":"yyyy-MM-dd"==this.dateFormat?"yyyy/MM/dd":"dd/MM/yyyy"))),"dd-MM-yyyy"==this.dateFormat&&(this.sessionService.addApplicantPB=!1)}ngOnInit(){var t;this.enableAddApplicantOTPCloudFlareCaptcha=this.sessionService.applicationConfiguration.enableAddApplicantOTPCloudFlareCaptcha,this.enableAddApplicantOTPCloudFlareCaptcha&&(this.currentCaptcha=this.captchaVersionConst.alternate),this.commonService.loadClientIp(),this.utilityService.fireCustomEvent({dl_category:"applicants details",dl_action:"applicant details pageview",dl_label:1,value:0});const n=this.sessionService.onlineFeePaymentModeOpted;this.payServiceFeeOnline=null===n||n,this.config=this.sessionService.applicationConfiguration,(null===(t=this.config)||void 0===t?void 0:t.disableRightClick)&&(this.commonService.disableRightClick(),this.commonService.disableControlAndShiftKeys()),this.applicationDetails=this.sessionService.applicationDetailValue,this.sessionService.isApplicantOTPEnabled&&(this.IsOTPEnable=this.sessionService.isApplicantOTPEnabled),this.setEditModeFlag(this.checkIsEditMode()),this.timeLeft=String(360),this.isPtFlow?this.start():this.handleFeesCalls(),this.registerOnPageLoadCompleteListener(),!this.sessionService.oneTimehandShakeTokenFlag&&1==this.config.isBelgiumHandshakeEnabled&&1==this.sessionService.handShakeTokenFlag&&(this.sessionService.oneTimehandShakeTokenFlag=!0),this.config.isPolandBelarusScheme&&!this.sessionService.addedApplicantPB&&(this.sessionService.clearEditApplicationIdx(),this.setEditModeFlag(!1),this.setViewApplicantsList(!1)),this.commonService.bookingMaxtimeSessionTrackStart(),this.checkMinConfigurableTime(),this.StatusFromPV(),setTimeout(()=>{this.links=this.commonService.translateValue("PhotoVerificationInformation.messages.infoMessages.message16")},1e3),1==this.config.isBelgiumHandshakeEnabled&&(this.saveHandshakeApplicant(),this.viewApplicationSummary(),this.handleFeesCalls())}start(){this.configg={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(31535360)}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(t=>(0,v.mG)(this,void 0,void 0,function*(){t?(this.allowedCaptcha=t.find(o=>p.gT.api.applicant.includes(o.api_url)),this.allowedCaptcha&&this.sessionService.captchaMode===this.captchaVersionConst.alternate&&(this.currentCaptcha=this.captchaVersionConst.alternate,so.forEach(o=>{this.currentFormGroup.addControl(o,new r.NI("",r.kI.required))}),setTimeout(()=>(0,v.mG)(this,void 0,void 0,function*(){const o=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValueForApplicants(this.currentFormGroup,o,this.captchaVersionConst.default)}),1e3))):this.allowedCaptcha=!1}))}setRefNoValidation(){var t;try{const o=(null===(t=this.config)||void 0===t?void 0:t.GRNValidRegExpression)||null;return null!==o?o:"^([a-zA-Z0-9]{12,14})+$"}catch(o){this.logger.error(o)}}setGovtRefNoValidation(t){try{if(this.utilityService.strictCompare(this.sessionService.countryCode.toLowerCase(),"usa")&&this.utilityService.strictCompare(this.sessionService.tenent.toLowerCase(),"ind")){const o=this.sessionService.eligibilityDetails,n=(null==o?void 0:o.hasOwnProperty(t.value))?o[t.value]:void 0;if(void 0===n)throw new Error(p.Sg.INVALID_GOVT_REF_NMBR);return String(n).toLowerCase(),String(n).toUpperCase(),`^([0-9A-Za-z]{6})(${ft()().year().toString().substr(-2)}|${ft()().subtract(1,"year").year().toString().substr(-2)}|${ft()().add(1,"year").year().toString().substr(-2)})$`}}catch(o){throw this.logger.error(o),o}}handleFeesCalls(){return(0,v.mG)(this,void 0,void 0,function*(){try{let t=null;this.applicationDetails.applicantList.length>0&&(!0===this.isOnlineFeesPaymentOptional&&(t=yield this.getVfsServiceFees()),this.loadServiceFees(t),this.dataShareService.editYourDetail||this.setViewApplicantsList(!0))}catch(t){this.logger.error(t)}})}submitV2Captcha(t){this.captchaToken=t,this.enableAddApplicantOTPCloudFlareCaptcha?(this.captchaVersion=this.captchaVersionConst.cloudflare,so.forEach(o=>{this.currentFormGroup.addControl(o,new r.NI("",r.kI.required))}),this.utilityService.patchCaptchaValue(this.currentFormGroup,t,this.captchaVersionConst.cloudflare,"captcha_api_key")):(this.captchaVersion=this.captchaVersionConst.alternate,this.utilityService.patchCaptchaValue(this.currentFormGroup,t,this.captchaVersionConst.alternate,"captcha_key_applicant"))}registerOnPageLoadCompleteListener(){try{this.subs.sink=this.dataShareService.pageLoadComplete$.subscribe(t=>{var o,n,l,c,d,_,f,h;null!=this.sessionService.editApplicantDetailsIdx&&!this.isEditingFromSamePage&&(this.editApplicantIndex=this.sessionService.editApplicantDetailsIdx);const T=this.sessionService.applicationDetailValue;if(t&&0===(null===(o=null==T?void 0:T.applicantList)||void 0===o?void 0:o.length)&&this.currentFormGroup.value&&!this.sessionService.editApplicantDetailsIdx&&!this.isEditModeFlag){const I=this.sessionService.documentExtractionData;(null==I?void 0:I.length)>0&&this.currentFormGroup.patchValue(I[0])}if(this.documentextracted){this.currentFormGroup.patchValue(this.extractedFields);for(const I in this.extractedFields)null===(n=this.currentFormGroup.get(I))||void 0===n||n.enable(),this.extractedFields.hasOwnProperty(I)&&null!==this.extractedFields[I]&&(null===(l=this.currentFormGroup.get(I))||void 0===l||l.disable())}if(null===(c=this.config)||void 0===c?void 0:c.enablePersonalOnRegistration){const I=this.sessionService.userContactDetails;if(null==I?void 0:I.dateOfBirth){const S=I.dateOfBirth.split("/");I.dateOfBirth={year:Number(S[2]),month:Number(S[1]),day:Number(S[0])}}0===(null===(d=T.applicantList)||void 0===d?void 0:d.length)&&setTimeout(()=>{var S,R,U,ie,he,_e;(null==I?void 0:I.firstName)&&!(null===(S=this.config)||void 0===S?void 0:S.isFirstNameDisabled)?(this.currentFormGroup.controls.firstName.setValue(I.firstName),this.currentFormGroup.controls.firstName.disable()):(null===(R=this.config)||void 0===R?void 0:R.isFirstNameDisabled)||this.currentFormGroup.controls.firstName.enable(),(null==I?void 0:I.lastName)&&!(null===(U=this.config)||void 0===U?void 0:U.isLastNameDisabled)?(this.currentFormGroup.controls.lastName.setValue(I.lastName),this.currentFormGroup.controls.lastName.disable()):(null===(ie=this.config)||void 0===ie?void 0:ie.isLastNameDisabled)||this.currentFormGroup.controls.lastName.enable(),(null==I?void 0:I.dateOfBirth)&&!(null===(he=this.config)||void 0===he?void 0:he.isDOBDisabled)?(this.currentFormGroup.controls.dateOfBirth.setValue(I.dateOfBirth),this.currentFormGroup.controls.dateOfBirth.disable()):(null===(_e=this.config)||void 0===_e?void 0:_e.isDOBDisabled)||this.currentFormGroup.controls.dateOfBirth.enable(),this.currentFormGroup.controls.contactNumber.setValue(I.contactNumber),this.currentFormGroup.controls.dialCode.setValue(I.dialCode),this.currentFormGroup.controls.emailId.setValue(this.sessionService.getLoggedEmail()),this.currentFormGroup.controls.contactNumber.disable(),this.currentFormGroup.controls.dialCode.disable(),this.currentFormGroup.controls.emailId.disable()},30)}else if(null===(_=this.config)||void 0===_?void 0:_.enableAutoPopulateNonEditableEmailIdContactNo){const I=this.sessionService.userContactDetails;setTimeout(()=>{this.currentFormGroup.controls.contactNumber.setValue(I.contactNumber),this.currentFormGroup.controls.dialCode.setValue(I.dialCode),this.currentFormGroup.controls.emailId.setValue(this.sessionService.getLoggedEmail()),this.currentFormGroup.controls.contactNumber.disable(),this.currentFormGroup.controls.dialCode.disable(),this.currentFormGroup.controls.emailId.disable()},30)}this.isEditModeFlag&&this.updateFormForEdit(),t&&this.onEditMode(),this.sessionService.isHmpoJourney&&(null===(f=this.currentFormGroup.get("nationalityCode"))||void 0===f||f.setValue(this.sessionService.countryCode.toUpperCase()),null===(h=this.currentFormGroup.get("nationalityCode"))||void 0===h||h.disable())})}catch(t){console.log(t)}}dropped(t){return(0,v.mG)(this,void 0,void 0,function*(){yield this.urlGeneration(t),this.sessionService.clearDocumentExtration(),t.forEach((o,n)=>{o.fileEntry.isFile&&o.fileEntry.file(c=>(0,v.mG)(this,void 0,void 0,function*(){var d,_,f;return"pdf"!==(null===(f=null===(_=null===(d=null==c?void 0:c.name)||void 0===d?void 0:d.split("."))||void 0===_?void 0:_.pop())||void 0===f?void 0:f.toLowerCase())?(this.errorDescription="applicantInformation.messages.errorMessages.message39",void setTimeout(()=>this.errorDescription="",5e3)):c.size>2097152?(this.errorDescription="applicantInformation.messages.errorMessages.message38",void setTimeout(()=>this.errorDescription="",5e3)):new Promise((T,I)=>{const S=new FileReader;S.readAsDataURL(c),S.onload=()=>(0,v.mG)(this,void 0,void 0,function*(){var R,U,ie,he,_e,pe;const Q={urn:(null===(U=null===(R=this.applicationDetails)||void 0===R?void 0:R.applicantList)||void 0===U?void 0:U.length)>0?null===(ie=this.sessionService)||void 0===ie?void 0:ie.urn:"",missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),fileBytes:null===(_e=null===(he=S.result)||void 0===he?void 0:he.toString())||void 0===_e?void 0:_e.split("base64,")[1]},De=yield this.httpService.payloadPost(p.gT.api.uploadDocument,Q).toPromise();null===(null==De?void 0:De.error)?(this.files=t,yield this.checkForResult(De),T(De)):(this.errorDescription=null===(pe=null==De?void 0:De.error)||void 0===pe?void 0:pe.description,setTimeout(()=>this.errorDescription="",5e3),I(De))})})}))})})}checkForResult(t){var o,n,l;return(0,v.mG)(this,void 0,void 0,function*(){try{if(t){if(this.documentextracted=!0,null!==(null==t?void 0:t.dateOfBirth)){const c=t.dateOfBirth.split("/");t.dateOfBirth={year:Number(c[2]),month:Number(c[1]),day:Number(c[0])}}if(null!==(null==t?void 0:t.passportExpiryDate)){const c=null===(o=t.passportExpiryDate)||void 0===o?void 0:o.split("/");t.passportExpirtyDate={year:Number(c[2]),month:Number(c[1]),day:Number(c[0])}}else t.passportExpirtyDate=null;0===(null==t?void 0:t.gender)&&(t.gender=null),this.extractedFields=t,this.currentFormGroup.patchValue(t);for(const c in t)null===(n=this.currentFormGroup.get(c))||void 0===n||n.enable(),t.hasOwnProperty(c)&&null!==t[c]&&(null===(l=this.currentFormGroup.get(c))||void 0===l||l.disable());this.utilityService.stopNgxUiSpinner()}}catch(c){this.utilityService.stopNgxUiSpinner()}})}urlGeneration(t){this.dragFleError=t.length>1?"Only one file at time allow":""}get isEditingFromSamePage(){return this.currentPageEditFlag}set isEditingFromSamePage(t){this.currentPageEditFlag=t}checkIsEditMode(){try{return null!=this.sessionService.editApplicantDetailsIdx}catch(t){return console.log(t),!1}}onEditMode(){try{const t=this.sessionService.editApplicantDetailsIdx,o=this.sessionService.applicationDetailValue;null!=t&&o&&o.applicantList.length>t&&this.editApplicantDetails(t)}catch(t){console.log(t)}}appendReferenceNumber(t){var o,n;return(0,v.mG)(this,void 0,void 0,function*(){try{return this.commonService.checkIfPostal(this.applicationDetails.applicationType)&&t.contains("centreCodeForRefenceNumber")&&t.contains("referenceNumber")&&(null===(o=t.get("referenceNumber"))||void 0===o||o.setValue(this.sessionService.centerCode+(null===(n=t.get("referenceNumber"))||void 0===n?void 0:n.value))),t}catch(l){this.logger.log(l)}})}saveAndContinue(t,o){var n,l,c,d,_,f,h,T;return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.submitAttempt=!0,this.disableSaveButton){const U=document.getElementById("mintime");return null==U||U.scrollIntoView({behavior:"smooth",block:"center"}),void(this.canShowMinTimeMsg=!0)}if(!this.currentFormGroup||!this.currentFormGroup.valid){this.commonService.touchAllFields(this.currentFormGroup);const U=document.querySelector(".form-error");return void(null==U||U.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}))}if(!this.isEditModeFlag&&this.isDocumentUploadEnabled&&!this.documentextracted&&!this.isChild){const U=document.getElementById("error");return null==U||U.scrollIntoView({behavior:"smooth",block:"center"}),this.errorDescription="applicantInformation.messages.errorMessages.message37",void setTimeout(()=>this.errorDescription="",4e3)}yield this.appendReferenceNumber(this.currentFormGroup),this.sessionService.updateFees=!0,this.tempurl=t;const I={dl_category:"Applicants Details",dl_action:"Form Submission - Applicant Details",dl_label:(null===(n=this.applicationDetails)||void 0===n?void 0:n.applicantList.length)+1,value:void 0};let S;this.utilityService.fireCustomEvent(I),!this.isPtFlow&&!this.config.isPassportExpiryDateDisabled&&(S=(null===(c=null===(l=this.currentFormGroup.value)||void 0===l?void 0:l.passportExpirtyDate)||void 0===c?void 0:c.day)+"/"+(null===(_=null===(d=this.currentFormGroup.value)||void 0===d?void 0:d.passportExpirtyDate)||void 0===_?void 0:_.month)+"/"+(null===(h=null===(f=this.currentFormGroup.value)||void 0===f?void 0:f.passportExpirtyDate)||void 0===h?void 0:h.year));const R={dl_event:"your_details",dl_category:"Your Details",dl_action:"Save",dl_label:"Successful","Current Nationality":this.currentFormGroup.value.nationalityCode,"Passport Number":this.currentFormGroup.value.passportNumber,"Passport Expiry Date":this.isPtFlow||(null===(T=this.config)||void 0===T?void 0:T.isPassportExpiryDateDisabled)?null:S,"Contact Number":this.currentFormGroup.value.contactNumber,Email:this.currentFormGroup.value.emailId};this.utilityService.pushDataLayerGA(R),this.saveApplicant()}catch(I){console.log(I)}})}saveHandshakeApplicant(){return(0,v.mG)(this,void 0,void 0,function*(){const t={missionCode:this.applicationDetails.missionCode,countryCode:this.applicationDetails.countryCode,centerCode:this.applicationDetails.centerCode,loginUser:this.applicationDetails.loginUser,subVisaCategoryCode:"",visaCategoryCode:this.applicationDetails.visaCategoryCode,languageCode:this.applicationDetails.languageCode,groupRefNum:this.sessionService.bhsGroupIdentifier};try{this.utilityService.startNgxUiSpinner();const n=JSON.parse(JSON.stringify(t));var o=yield this.saveApplicantToDB(p.gT.api.handshakeAddApplicant,n);if(o.applicantList.length>0){this.applicationDetails.applicantList=[],o.applicantList.forEach(d=>{this.applicationDetails.applicantList.push(d)});const l=this.updateUrnAndArn(this.applicationDetails,o);this.updateApplicationDetailsLocally(l);let c=null;yield this.viewApplicationSummary(),!0===this.isOnlineFeesPaymentOptional&&(c=yield this.getVfsServiceFees()),yield this.loadServiceFees(c),this.utilityService.stopNgxUiSpinner()}throw new Error(o.error.description)}catch(n){this.utilityService.stopNgxUiSpinner()}})}saveApplicant(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){try{const n=this.currentFormGroup.getRawValue();!this.isPtFlow&&this.commonService.checkIfPostal(null===(t=this.applicationDetails)||void 0===t?void 0:t.applicationType)&&delete n.centreCodeForRefenceNumber,null===n.gender&&(n.gender=0),this.commonService.loadClientIp();const l=this.constructApplicantDetails(n),c=this.constructSingleApplicantApplicationDetails(this.applicationDetails,l);this.utilityService.startNgxUiSpinner();const d=JSON.parse(JSON.stringify(c));if(this.isPtFlow)return this.updateApplicationDetailsLocally(d),this.routeNext(),void this.utilityService.stopNgxUiSpinner();const _=yield this.saveApplicantToDB(this.tempurl,d);if(this.tempurl=null,!_.hasOwnProperty("error")||null!==_.error){if(_.hasOwnProperty("error")&&_.error.code){let h=_.error.description;1037===_.error.code&&(this.subs.sink=this.translateService.get("applicantInformation.messages.infoMessages.message2").subscribe(T=>h=T)),this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(h,_.error.code)}const f=this.splitReferenceNumber(this.currentFormGroup.value);throw this.currentFormGroup.patchValue(f),new Error(_.error.description)}{this.applicationDetails.applicantList.push(l);const f=this.updateUrnAndArn(this.applicationDetails,_);this.updateApplicationDetailsLocally(f);let h=null;yield this.IsFetchLastApplicationPV((null===(o=null==_?void 0:_.applicantList)||void 0===o?void 0:o.length)-1),yield this.viewApplicationSummary(),!0===this.isOnlineFeesPaymentOptional&&(h=yield this.getVfsServiceFees()),yield this.loadServiceFees(h),this.utilityService.stopNgxUiSpinner()}}catch(n){if(this.utilityService.stopNgxUiSpinner(),!this.allowedCaptcha)return;re.N.captchaFallbackEnabled&&(this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.currentFormGroup,so),this.utilityService.resetCaptcha())}})}addApplicant(){var t;this.sessionService.clearEditApplicationIdx(),this.setEditModeFlag(!1),this.setViewApplicantsList(!1);const o={dl_category:"Applicants Details",dl_action:"Add Applicant from Your Details Page",dl_label:(null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList.length)+1,value:void 0};this.utilityService.fireCustomEvent(o),this.config.isPolandBelarusScheme&&(this.sessionService.addApplicantPB=!0,this.sessionService.addedApplicantPB=!1,super.routePrevious())}get isAddApplicantAllowed(){var t,o;return(null===(o=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList)||void 0===o?void 0:o.length)<this.config.allowMaxGroupSize}updateApplicant(t,o){return(0,v.mG)(this,void 0,void 0,function*(){try{if(!this.currentFormGroup||!this.currentFormGroup.valid){this.commonService.touchAllFields(this.currentFormGroup);const l=document.querySelector(".form-error");return void(null==l||l.scrollIntoView({behavior:"smooth",block:"center"}))}if(this.editApplicantIndex>=this.applicationDetails.applicantList.length)throw new Error("error: invalid_data_index_passed");yield this.appendReferenceNumber(this.currentFormGroup),this.tempurl=t,this.updateApplicants(),this.utilityService.pushDataLayerGA({dl_event:"your_details",dl_category:"Your Details",dl_action:"Update",dl_label:"page_url"})}catch(n){console.log(n)}})}updateApplicants(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t=this.currentFormGroup.value;this.commonService.checkIfPostal(this.applicationDetails.applicationType)&&delete t.centreCodeForRefenceNumber;const o=this.constructApplicantDetails(t,this.applicationDetails.applicantList[this.editApplicantIndex]),n=this.constructSingleApplicantApplicationDetails(this.applicationDetails,o,!0);this.utilityService.startNgxUiSpinner();const l=JSON.parse(JSON.stringify(n)),c=yield this.saveApplicantToDB(this.tempurl,l);if(this.tempurl=null,!c.hasOwnProperty("error")||null!==c.error){if(c.hasOwnProperty("error")&&c.error.code){let _=c.error.description;1037===c.error.code&&(this.subs.sink=this.translateService.get("applicantInformation.messages.infoMessages.message2").subscribe(f=>_=f)),this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(_)}const d=this.splitReferenceNumber(this.currentFormGroup.value);throw this.currentFormGroup.patchValue(d),new Error(c)}{this.applicationDetails.applicantList[this.editApplicantIndex]=o,this.updateApplicationDetailsToSession(this.applicationDetails),yield this.IDNFYupdateANDredirect(!0,this.editApplicantIndex,this.PVMessageBoxReq),yield this.viewApplicationSummary(),this.sessionService.updateFees=!0;let d=null;!0===this.isOnlineFeesPaymentOptional&&(d=yield this.getVfsServiceFees()),yield this.loadServiceFees(d),this.utilityService.stopNgxUiSpinner()}}catch(t){console.log(t)}})}showErrorMsgPopup(t,o){try{const n=this.dialog.open(nt,{data:t});this.subs.sink=n.afterClosed().subscribe(l=>(0,v.mG)(this,void 0,void 0,function*(){})),this.subs.sink=this.router.events.subscribe(()=>{n.close()})}catch(n){console.log(n)}}saveApplicantToDB(t,o){return(0,v.mG)(this,void 0,void 0,function*(){try{return yield this.httpService.payloadPost(t,o).toPromise().then(l=>l).catch(l=>{throw l})}catch(n){throw n}})}updateFeeAmount(t){this.utilityService.updateTotalFees(t),this.sessionService.feeAmount=t}getVfsServiceFees(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn};return yield this.httpService.payloadPost(p.gT.api.serviceFee,t).toPromise()}catch(t){this.logger.error(t)}})}loadServiceFees(t){var o,n,l,c,d;return(0,v.mG)(this,void 0,void 0,function*(){try{let _=0;const f=yield this.utilityService.loadFees();f&&f.feeDetails&&(null===(o=f.feeDetails)||void 0===o?void 0:o.length)>0&&(this.feeCurrency=null==f?void 0:f.feeDetails[0].currency,this.sessionService.setCurrencyCode=(null==f?void 0:f.feeDetails[0].currency)||null,f.feeDetails&&0!==f.feeDetails.length&&(_=f.feeDetails.reduce((T,I)=>T+I.feeAmount,0)));const h=this.isOverSeasEnable?null===(n=null==f?void 0:f.feeDetails)||void 0===n?void 0:n.filter(T=>T.feeTypeCode===p.gT.FEE_TYPE_CODES.OVERSEASFEE):null===(l=null==f?void 0:f.feeDetails)||void 0===l?void 0:l.filter(T=>T.feeTypeCode===p.gT.FEE_TYPE_CODES.VFSFEE);if((null==h?void 0:h.length)>0){this.sessionService.setCurrencyCode=(null===(c=h[0])||void 0===c?void 0:c.currency)||null;const T=h.reduce((I,S)=>I+S.feeAmount,0);this.serviceFees=(null===(d=h[0])||void 0===d?void 0:d.currency)+" "+this.addZeroes(T),this.feesAmount=T}else this.isOnlineFeesPaymentOptional&&t&&!(null==t?void 0:t.error)&&(this.sessionService.setCurrencyCode=(null==t?void 0:t.currency)||null,this.feesAmount=null==t?void 0:t.amount,this.serviceFees=(null==t?void 0:t.currency)+" "+this.addZeroes(null==t?void 0:t.amount),_=!0===this.payServiceFeeOnline?_+Number(null==t?void 0:t.amount):_);this.sessionService.isHmpoJourney&&(this.totalFeeAmount=_),this.updateFeeAmount(_)}catch(_){throw _}})}filterFees(t){return t.filter(o=>this.utilityService.strictCompare(o.feeTypeCode,p.gT.FEE_TYPE_CODES.VISAFEE)||this.utilityService.strictCompare(o.feeTypeCode,p.gT.FEE_TYPE_CODES.VFSFEE))}addZeroes(t){const o=String(t).split(".").length>0?String(t).split(".")[1]:t,n=o&&o.length>2?o.length:2;return Number(t).toFixed(n)}updatePayFeeOnlineFlag(t){return(0,v.mG)(this,void 0,void 0,function*(){try{const o={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,feeTypeCode:t?this.isOverSeasEnable?[p.gT.FEE_TYPE_CODES.OVERSEASFEE]:[p.gT.FEE_TYPE_CODES.VFSFEE]:[]};return yield this.httpService.payloadPost(p.gT.api.mapFee,o).toPromise()}catch(o){this.logger.error(o)}})}continue(){var t;return(0,v.mG)(this,void 0,void 0,function*(){this.sessionService.addedApplicantPB=!0;try{if(yield this.FetchAllStatusofPV(),!this.eligibleToMoveNextPage()){const n=this.dialog.open(zt.k,{data:this.commonService.translateValue("PhotoVerificationInformation.messages.infoMessages.message9")});return void(this.subs.sink=this.router.events.subscribe(()=>{n.close()}))}const o=this.sessionService.otpVerified;if(1==this.IsOTPEnable&&0==this.OTPSuccess&&0==o)this.OTPCard=!0,this.otpInProgress=!0,this.utilityService.pushDataLayerGA({dl_event:"your_details",dl_category:"Your Details",dl_action:"Continue_Step-2",dl_label:"page_url"});else{let n=!0;if(this.isOnlineFeesPaymentOptional&&this.payServiceFeeOnline!==this.sessionService.onlineFeePaymentModeOpted)if(null!==(yield this.updatePayFeeOnlineFlag(this.payServiceFeeOnline)).error)n=!1;else{this.sessionService.updateFees=!0;const c=yield this.utilityService.loadFees();if(c&&c.feeDetails){if(c.feeDetails&&c.feeDetails.length>0){const d=c.feeDetails.reduce((_,f)=>_+f.feeAmount,0);this.updateFeeAmount(d)}}else this.updateFeeAmount(0);this.sessionService.onlineFeePaymentModeOpted=this.payServiceFeeOnline}n&&((null===(t=this.config)||void 0===t?void 0:t.disableRightClick)&&(this.commonService.enableControlAndShiftKeys(),this.commonService.enableRightClick()),this.routeNext())}}catch(o){this.logger.error(o)}})}get isOnlineFeesPaymentOptional(){return this.payOnlineMode=this.config.payOnlineEnabled,this.config.isMapFeeScreenRequired&&this.config.payOnlineEnabled}goBack(){this.utilityService.pushDataLayerGA({dl_event:"your_details",dl_category:"Your Details",dl_action:"Go Back_Step-2",dl_label:"page_url"}),super.routePrevious()}editApplicantDetails(t){try{this.isEditingFromSamePage=!0,this.editApplicantIndex=t,this.setEditModeFlag(!0),this.setViewApplicantsList(!1),this.utilityService.fireCustomEvent({dl_category:"Applicants Details",dl_action:"edit Applicant from Your Details Page",dl_label:t,value:void 0})}catch(o){this.logger.error(o)}}updateFormForEdit(){try{const t=this.applicationDetails.applicantList[this.editApplicantIndex],o=this.splitReferenceNumber(t);this.currentFormGroup.patchValue(o),this.isChild=t.isEndorsedChild}catch(t){console.log(t)}}splitReferenceNumber(t){try{const o=JSON.parse(JSON.stringify(t));if(this.commonService.checkIfPostal(this.applicationDetails.applicationType)&&this.currentFormGroup.contains("centreCodeForRefenceNumber")&&this.currentFormGroup.contains("referenceNumber")){const n=t.referenceNumber;o.centreCodeForRefenceNumber=n.substr(0,4),o.referenceNumber=n.substr(4,n.length)}return o}catch(o){this.logger.log(o)}}deleteApplicantDetails(t){return(0,v.mG)(this,void 0,void 0,function*(){try{const o=yield this.commonService.deleteApplicantDetails(t);this.applicationDetails=o,0===o.applicantList.length&&(this.utilityService.clearInProgressApplication(),this.commonService.routeToDashboard()),this.sessionService.updateFees=!0;let n=null;!0===this.isOnlineFeesPaymentOptional&&(n=yield this.getVfsServiceFees()),this.loadServiceFees(n)}catch(o){console.log(o)}})}isEditMode(){return this.isEditModeFlag}viewApplicationSummary(){return(0,v.mG)(this,void 0,void 0,function*(){this.files=[],this.documentextracted=!1,this.setEditModeFlag(!1),this.setViewApplicantsList(!0),this.editApplicantIndex=0,this.isEditingFromSamePage=!1})}updateApplicationDetailsLocally(t){this.applicationDetails=t,this.updateApplicationDetailsToSession(this.applicationDetails)}onIsChildSelection(t){var o;try{if(this.isDocumentUploadEnabled){this.currentFormGroup.reset();for(const n in this.extractedFields)null===(o=this.currentFormGroup.get(n))||void 0===o||o.enable();this.files=[],this.documentextracted=!1}this.isChildValidation(this.getFieldSchema("passportNumber")),this.isChildValidation(this.getFieldSchema("passportExpirtyDate"))}catch(n){console.log(n)}}getFieldSchema(t){try{let o;for(const n of this.currentModule.controls)for(const l of n.fields)this.utilityService.strictCompare(l.logicalName,t)&&(o=l);return o}catch(o){throw o}}isChildValidation(t){var o;try{if(this.isPtFlow)return;const n=this.currentFormGroup.get(t.logicalName);if(!n.value)return;let l="";const c=this.applicationDetails.applicantList.find(h=>this.utilityService.strictCompare(t.fieldType,p.gT.controls.Textbox)?(l="passportNoMissmatchTest",String(h.passportNumber).toLowerCase()===String(n.value).toLowerCase()):this.utilityService.strictCompare(t.fieldType,p.gT.controls.Datepicker)?(l="passportExpiryMissmatchTest",0===this.utilityService.momentInstance(this.commonService.convertToMomentDate(h.passportExpirtyDate)).diff(this.commonService.convertToMomentDate(n.value),"day")):""),d=null===(o=this.sessionService)||void 0===o?void 0:o.applicationConfiguration,_=!!(null==d?void 0:d.isPassportNoDisabled),f=!!(null==d?void 0:d.isPassportExpiryDateDisabled);if(!c&&this.isChild){const h={};h[l]=!0,n.setErrors(h)}else this.commonService.removeError(n,l);_&&this.commonService.removeError(n,"passportNoMissmatchTest"),f&&this.commonService.removeError(n,"passportExpiryMissmatchTest")}catch(n){console.log(n)}}get viewIsChildFlag(){var t,o;try{const n=null===(o=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList)||void 0===o?void 0:o.length;return!0===this.config.enableEndorsedchild&&(!this.isEditModeFlag&&n>=1||this.isEditModeFlag&&this.editApplicantIndex>0)}catch(n){console.log(n)}}openDialog(t){var o,n;try{const l=new oe.vA;l.data={header:"commonSections.headerLabel.label3",translateHeader:!0,dialogDisplay:"small",body:1==(null===(n=null===(o=this.sessionService)||void 0===o?void 0:o.applicationConfiguration)||void 0===n?void 0:n.isPhotoVerificationRequired)?"PhotoVerificationInformation.messages.infoMessages.message8":"applicantInformation.messages.infoMessages.message1",translateBody:!0,rightButton:"commonSections.buttons.button37",translateRightButton:!0,leftButton:"commonSections.buttons.button3",translateLeftButton:!0};const c=this.dialog.open(no.Y,l);this.subs.sink=c.afterClosed().subscribe(d=>{d&&this.deleteApplicantDetails(Number(t))})}catch(l){console.log(l)}}hideShowAsPerConfig(t,o,n,l){var c,d,_,f,h,T,I;try{this.config.isVLNEnabled=(null===(c=this.sessionService)||void 0===c?void 0:c.isVLNRequired)||!1,this.config.maltaWorkPermitNumberEnabled=(null===(d=this.sessionService)||void 0===d?void 0:d.maltaWorkPermitNumberEnabled)||!1,this.config.enableReferenceNumber=(null===(_=this.sessionService)||void 0===_?void 0:_.isGRNEnabled)&&(null===(f=this.config)||void 0===f?void 0:f.enableReferenceNumber),this.config.isMaltaFamilyReunificationEnabled=(null===(h=this.sessionService)||void 0===h?void 0:h.isMaltaFamilyReunificationEnabled)||!1,(null===(I=null===(T=this.applicationDetails)||void 0===T?void 0:T.applicantList)||void 0===I?void 0:I.length)>0&&(this.config.isMaltaFamilyReunificationEnabled=!1);const S=this.config;let R=!0;const U=Object.values(l).pop(),ie=p.hj.indexOf(U)>-1;return U&&this.config.hasOwnProperty(U)&&!ie&&(R=!S[U]),ie&&(R=!(!(null==S?void 0:S.enableCourierAddress)||S[U])),R}catch(S){return console.log(S),!0}}routePrevious(){try{this.utilityService.pushDataLayerGA({dl_event:"your_details",dl_category:"Your Details",dl_action:"Cancel",dl_label:"page_url"}),this.applicationDetails.applicantList.length>0?this.viewApplicationSummary():super.routePrevious()}catch(t){console.log(t)}}getDisplayInfo(){try{const t=this.sessionService.applicationConfiguration,o=null==t?void 0:t.xTravelDaysToBeAllowed;return`Your Date of Departure must be between ${this.utilityService.momentInstance().format("DD/MM/YYYY")} and ${this.utilityService.momentInstance().add(o-1,"days").format("DD/MM/YYYY")}.`}catch(t){return console.log(t),"-"}}constructApplicantDetails(t,o){try{const n=o||this.getApplicantDetailsBase();for(const l of Object.keys(t))n.hasOwnProperty(l)&&(n[l]=t[l]);return n.ipAddress=this.sessionService.clientIpAddress,n.isEndorsedChild=this.isChild||!1,this.isChild&&(n.parentPassportNumber=t.passportNumber,n.parentPassportExpiry=t.passportExpirtyDate),n}catch(n){throw n}}getApplicantDetailsBase(){var t;const o=null===(t=this.sessionService)||void 0===t?void 0:t.eligibilityDetails;return{urn:"",arn:"",loginUser:this.sessionService.getLoggedEmail(),firstName:"",employerFirstName:"",middleName:"",lastName:"",employerLastName:"",salutation:"",gender:0,nationalId:"",VisaToken:"",employerContactNumber:"",contactNumber:"",dialCode:"",employerDialCode:"",passportNumber:"",confirmPassportNumber:"",passportExpirtyDate:"",dateOfBirth:this.isPtFlow?"01/01/2000":"",emailId:"",employerEmailId:"",nationalityCode:"",state:"",city:"",isEndorsedChild:!1,applicantType:0,addressline1:"",addressline2:"",pincode:"",referenceNumber:"",vlnNumber:"",applicantGroupId:0,parentPassportNumber:"",parentPassportExpiry:"",dateOfDeparture:"",gwfNumber:"",entryType:(null==o?void 0:o.entryType)?null==o?void 0:o.entryType:"",eoiVisaType:(null==o?void 0:o.visaType)?null==o?void 0:o.visaType:"",passportType:"",vfsReferenceNumber:"",familyReunificationCerificateNumber:"",PVRequestRefNumber:"",PVStatus:"",PVStatusDescription:"",PVCanAllowRetry:!0,PVisVerified:!1}}updateApplicationDetailsToSession(t){this.sessionService.applicationDetailValue=t}setViewApplicantsList(t){this.viewApplicantsListFlag=t,t&&(this.sessionService.clearEditApplicationIdx(),this.dataShareService.editYourDetail=!1)}setEditModeFlag(t){this.isEditModeFlag=t}get disableAddApplicant(){var t,o,n,l;return(null===(o=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList)||void 0===o?void 0:o.length)===(null===(l=null===(n=this.sessionService)||void 0===n?void 0:n.applicationConfiguration)||void 0===l?void 0:l.noOfMaxAllowedApplicant)}constructSingleApplicantApplicationDetails(t,o,n=!1){var l,c,d;try{const _=Object.assign({},t);_.applicantList=[],(null===(c=null===(l=this.applicationDetails)||void 0===l?void 0:l.applicantList)||void 0===c?void 0:c.length)>0&&(o.urn=this.applicationDetails.applicantList[0].urn),_.applicantList.push(o),_.isEdit=n,_.isWaitlist=this.sessionService.waitlistJourney,this.isMIGRISNumberEnabled&&(_.isMIGRISNumberEnabled=this.isMIGRISNumberEnabled),_.languageCode=this.sessionService.appCultureCode,this.employerDetailsrequired&&(_.isBookedByEmployer=this.isBookedByEmployer),this.allowedCaptcha&&(_.captcha_key_applicant=this.currentFormGroup.value.captcha_key_applicant,_.captcha_version=this.currentFormGroup.value.captcha_version);const f=this.sessionService.eligibilityDetails;_.feeEntryTypeCode=(null==f?void 0:f.entryTypes)||null,_.feeExemptionTypeCode=(null==f?void 0:f.feeExcemption)||null,_.feeExemptionDetailsCode=(null==f?void 0:f.feeExemptionDetails)||null;for(const h of _.applicantList)if((!h.nationalityCode||""===h.nationalityCode)&&(h.nationalityCode=null==f?void 0:f.nationalityCode),this.config.isPolandBelarusScheme){const T=null===(d=this.sessionService)||void 0===d?void 0:d.polBel;h.dateOfBirth=T.dateOfBirth,h.nationalityCode=T.nationalityCode}return _}catch(_){throw _}}updateUrnAndArn(t,o){try{const n=Object.assign({},t);if(!o.hasOwnProperty("applicantList"))throw new Error("error: invalid_data_passed");let l=0;for(const c of o.applicantList){const d=n.applicantList;d.length>1&&(d[l].arn=c.arn,d[l].urn=o.urn,this.sessionService.urn=o.urn,l++),1===d.length&&(d[0].arn=c.arn,d[0].urn=o.urn,this.sessionService.urn=o.urn)}return n}catch(n){throw n}}get isBannerDisplayed(){var t,o;return this.viewApplicantsListFlag&&(null===(o=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList)||void 0===o?void 0:o.length)>0&&this.sessionService.isHmpoJourney?this.totalFeeAmount>0:this.feesAmount>0}get employerDetailsrequired(){var t;return(null===(t=this.sessionService)||void 0===t?void 0:t.maltaWorkPermitNumberEnabled)||!1}sendOTP(t,o){try{if(this.cloudFlareCaptchaHideShowFlag=!1,0===this.createOTPLimit)this.otpLimitExceed=!0,setTimeout(()=>{this.otpLimitExceed=!1},5e3),setTimeout(()=>{this.commonService.logoutAndRouteToLogin()},3e3);else{const n={OTP:"",scanCode:t};setTimeout(()=>{this.cloudFlareCaptchaHideShowFlag=!0},3e3);const l=this.sessionService.isApplicantOTPEnabled?this.otpApplicantPayLoad("GENERATE"):this.otpPayLoad(n);this.sessionService.isApplicantOTPEnabled?l.then(c=>{var d,_,f;(null==c?void 0:c.error)?(null==c?void 0:c.error)&&(this.OTPHandler=!1,this.isSoltAvailableError=4009===(null===(d=null==c?void 0:c.error)||void 0===d?void 0:d.code)?this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(_=null==c?void 0:c.error)||void 0===_?void 0:_.code)).replace(" X ",` ${null==c?void 0:c.otpGeneratedBlockedHours} `):this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(f=null==c?void 0:c.error)||void 0===f?void 0:f.code)),setTimeout(()=>{this.isSoltAvailableError=""},1e4)):(this.OTPHandler=!0,this.otpExpiryInMinutes=null==c?void 0:c.otpExpiryInMinutes,(null==c?void 0:c.isOTPRegenerateDisabled)&&(this.sessionService.isReGenerateOTPDisabled=null==c?void 0:c.isOTPRegenerateDisabled,this.isOTPRegenerateDisabled=null==c?void 0:c.isOTPRegenerateDisabled),this.createOTPLimit=null==c?void 0:c.remainingOTPLimit)}):l.then(c=>{this.OTPHandler=!0,this.otpExpiryInMinutes=3,this.createOTPLimit=null==c?void 0:c.OTPresendLimit}).catch(c=>{console.log(c)})}}catch(n){throw n}}verifyOTP(){try{const t={OTP:this.enteredOTP};(this.sessionService.isApplicantOTPEnabled?this.otpApplicantPayLoad("VALIDATE"):this.otpPayLoad(t)).then(n=>{if((null==n?void 0:n.isOTPValidated)||"Success"==(null==n?void 0:n.result))this.OTPSuccess=!0;else if(n.error&&(this.OTPUnsuccess=!0,setTimeout(()=>{this.OTPUnsuccess=!1},5e3),(null==n?void 0:n.error)&&4005===(null==n?void 0:n.error.code)))return void this.commonService.logoutAndRouteToLogin()})}catch(t){throw t}}otpPayLoad(t){return(0,v.mG)(this,void 0,void 0,function*(){try{const o={urn:this.sessionService.applicationDetailValue.applicantList[0].urn,email:this.sessionService.getLoggedEmail(),missionCode:this.sessionService.tenent,countryCode:this.sessionService.applicationDetailValue.countryCode,centerCode:this.sessionService.applicationDetailValue.centerCode,visaCategoryCode:this.sessionService.applicationDetailValue.visaCategoryCode,cultureCode:this.sessionService.appCultureCode};return yield this.httpService.doOTPPost(p.gT.api.createverifyotp,Object.assign(Object.assign({},o),t)).toPromise()}catch(o){console.log(o)}})}otpApplicantPayLoad(t){return(0,v.mG)(this,void 0,void 0,function*(){try{const o={urn:this.sessionService.applicationDetailValue.applicantList[0].urn,loginUser:this.sessionService.getLoggedEmail(),missionCode:this.sessionService.tenent,countryCode:this.sessionService.applicationDetailValue.countryCode,centerCode:this.sessionService.applicationDetailValue.centerCode,captcha_version:"GENERATE"==t?"":this.captchaVersion,captcha_api_key:"GENERATE"==t?"":this.captchaToken,OTP:this.enteredOTP?this.enteredOTP:"",otpAction:t,languageCode:this.sessionService.appCultureCode,userAction:"CC"==this.sessionService.loginResponse?"CC-AddApplicant":null};return yield this.httpService.doOTPPost(p.gT.api.applicantOTP,Object.assign({},o)).toPromise()}catch(o){throw o}})}checkIfDisabled(){return!(!this.OTPCard||!this.IsOTPEnable||!this.otpInProgress||this.OTPSuccess)}tncChanged(){}setVisaTokenRegExpression(){var t;try{const o=(null===(t=this.sessionService.applicationConfiguration)||void 0===t?void 0:t.VisaTokenRegExpression)||null;return null!==o?o:"^[a-zA-Z][a-zA-Z ]+$"}catch(o){this.logger.error(o)}}isNationalVisaEdit(t){var o;const n=null===(o=null==t?void 0:t.nationalityCode)||void 0===o?void 0:o.toLowerCase(),l=null==t?void 0:t.dateOfBirth,c=(new Date).getFullYear()-(null==l?void 0:l.year);return"blr"==n&&c>=18&&c<=60&&null!=(null==t?void 0:t.nationalId)&&null!=(null==t?void 0:t.VisaToken)}checkMinConfigurableTime(){return setTimeout(()=>{this.disableSaveButton=!1},1e3*(this.config.minConfigurableTime>0||null!==this.config.minConfigurableTime?this.config.minConfigurableTime:10)),this.disableSaveButton||!1}IDNFYupdateANDredirect(t,o,n){var l,c;return(0,v.mG)(this,void 0,void 0,function*(){if(1==(null===(c=null===(l=this.sessionService)||void 0===l?void 0:l.applicationConfiguration)||void 0===c?void 0:c.isPhotoVerificationRequired)){const _=Object.assign({},this.sessionService.applicationDetailValue);if(1==t){if(this.getyearsdiffrence(_.applicantList[o].dateOfBirth.year))_.applicantList[o].PVRequestRefNumber="",_.applicantList[o].PVStatus="",_.applicantList[o].PVisVerified=!1,_.applicantList[o].PVStatusDescription="",_.applicantList[o].PVCanAllowRetry=!0,yield this.PhotoVerificationToken(_.applicantList[o].arn,!0,!1);else if(_.applicantList[o].PVCanAllowRetry&&!_.applicantList[o].PVisVerified){const h=yield this.PhotoVerificationToken(_.applicantList[o].arn,!1,!1);if(null==h.error){let T=(null==h?void 0:h.status)?null==h?void 0:h.status:"";if("APPROVED"==T)_.applicantList[o].PVRequestRefNumber=(null==h?void 0:h.requestRefNumber)?null==h?void 0:h.requestRefNumber:"",_.applicantList[o].PVStatus=T,_.applicantList[o].PVisVerified=!0,_.applicantList[o].PVStatusDescription=this.commonService.translateValue("PhotoVerificationInformation.messages.infoMessages.message4");else{let I=(null==h?void 0:h.redirectUrl)?null==h?void 0:h.redirectUrl:"";if(_.applicantList[o].PVRequestRefNumber=(null==h?void 0:h.requestRefNumber)?null==h?void 0:h.requestRefNumber:"",_.applicantList[o].PVStatus="ACTIVE",_.applicantList[o].PVStatusDescription=this.commonService.translateValue("PhotoVerificationInformation.messages.infoMessages.message5"),_.applicantList[o].PVisVerified=!1,this.sessionService.PVRequestRefNumber=(null==h?void 0:h.requestRefNumber)?null==h?void 0:h.requestRefNumber:"",I.length>0){const S=this.dialog.open(nt,{data:this.commonService.translateValue("PhotoVerificationInformation.messages.infoMessages.message6")});this.subs.sink=S.afterClosed().subscribe(R=>{window.open(I,"_self")}),this.subs.sink=this.router.events.subscribe(()=>{S.close()})}}}else{_.applicantList[o].PVRequestRefNumber="Could not generate Request Ref Number",_.applicantList[o].PVStatus="DENIED",_.applicantList[o].PVisVerified=!1,_.applicantList[o].PVStatusDescription=this.commonService.translateValue("PhotoVerificationInformation.messages.infoMessages.message5");const T=this.dialog.open(zt.k,{data:this.commonService.translateValue("PhotoVerificationInformation.messages.infoMessages.message13")});this.subs.sink=this.router.events.subscribe(()=>{T.close()})}}this.updateApplicationDetailsLocally(_)}else{let f=this.sessionService.PVRequestRefNumber;if(null!=f&&""!=f){for(var d=0;d<_.applicantList.length;d++)if(f==_.applicantList[d].PVRequestRefNumber){const h=yield this.PhotoVerificationStatus(_.applicantList[d].arn);if(null==h.error){let T=(null==h?void 0:h.status)?null==h?void 0:h.status:"";if("APPROVED"==T){if(_.applicantList[d].PVStatus=T,_.applicantList[d].PVisVerified=!0,_.applicantList[d].PVStatusDescription=this.commonService.translateValue("PhotoVerificationInformation.messages.infoMessages.message4"),1==n){const I=this.dialog.open(zt.k,{data:this.commonService.translateValue("PhotoVerificationInformation.messages.infoMessages.message7")});this.subs.sink=this.router.events.subscribe(()=>{I.close()})}}else if("REVIEWING"==T){if(_.applicantList[d].PVStatus=T,_.applicantList[d].PVisVerified=!1,_.applicantList[d].PVStatusDescription=this.commonService.translateValue("PhotoVerificationInformation.messages.infoMessages.message3"),1==n){const I=this.dialog.open(zt.k,{data:this.commonService.translateValue("PhotoVerificationInformation.messages.infoMessages.message3")});this.subs.sink=this.router.events.subscribe(()=>{I.close()})}}else if(_.applicantList[d].PVStatus="DENIED",_.applicantList[d].PVisVerified=!1,_.applicantList[d].PVStatusDescription=this.commonService.translateValue("PhotoVerificationInformation.messages.infoMessages.message11"),1==n){const I=this.dialog.open(zt.k,{data:this.commonService.translateValue("PhotoVerificationInformation.messages.infoMessages.message11")});this.subs.sink=this.router.events.subscribe(()=>{I.close()})}_.applicantList[d].PVCanAllowRetry=!!(null==h?void 0:h.canAllowRetry)&&(null==h?void 0:h.canAllowRetry),this.sessionService.PVRequestRefNumber=""}}this.updateApplicationDetailsLocally(_)}}}})}getyearsdiffrence(t){return(new Date).getFullYear()-t<18}PhotoVerificationToken(t,o,n){return(0,v.mG)(this,void 0,void 0,function*(){try{let l=n?"NAFETCHLASTAPPN":o?"NADELETE":"";const c={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),aurn:t,scanStatus:l,languageCode:this.sessionService.appLanguageCode};return yield this.httpService.payloadPost(p.gT.api.PVToken,c).toPromise()}catch(l){this.logger.error(l)}})}PhotoVerificationStatus(t){return(0,v.mG)(this,void 0,void 0,function*(){try{const o={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),aurn:t,requestRefNumber:this.sessionService.PVRequestRefNumber};return yield this.httpService.payloadPost(p.gT.api.PVStatus,o).toPromise()}catch(o){this.logger.error(o)}})}eligibleToMoveNextPage(){var t,o;return!(1==(null===(o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration)||void 0===o?void 0:o.isPhotoVerificationRequired)&&Object.assign({},this.sessionService.applicationDetailValue).applicantList.filter(c=>(null==c?void 0:c.PVStatus.length)>0&&(null==c?void 0:c.PVRequestRefNumber.length)>0&&!(null==c?void 0:c.PVisVerified)).length>0)}onpopstate(t){var o,n;1==(null===(n=null===(o=this.sessionService)||void 0===o?void 0:o.applicationConfiguration)||void 0===n?void 0:n.isPhotoVerificationRequired)&&Object.assign({},this.sessionService.applicationDetailValue).applicantList.filter(d=>(null==d?void 0:d.PVStatus.length)>0&&(null==d?void 0:d.PVRequestRefNumber.length)>0).length>0&&window.history.forward()}get isPVEligibleToContinue(){return this.eligibleToMoveNextPage()}IsFetchLastApplicationPV(t){var o,n;return(0,v.mG)(this,void 0,void 0,function*(){if(1==(null===(n=null===(o=this.sessionService)||void 0===o?void 0:o.applicationConfiguration)||void 0===n?void 0:n.isPhotoVerificationRequired)){const l=Object.assign({},this.sessionService.applicationDetailValue),c=yield this.PhotoVerificationToken(l.applicantList[t].arn,!1,!0);if(null==c.error){let d=(null==c?void 0:c.status)?null==c?void 0:c.status:"";"REVIEWING"==d?(l.applicantList[t].PVRequestRefNumber=(null==c?void 0:c.requestRefNumber)?null==c?void 0:c.requestRefNumber:"",l.applicantList[t].PVStatus=d,l.applicantList[t].PVStatusDescription=this.commonService.translateValue("PhotoVerificationInformation.messages.infoMessages.message3"),l.applicantList[t].PVisVerified=!1,this.sessionService.PVRequestRefNumber=(null==c?void 0:c.requestRefNumber)?null==c?void 0:c.requestRefNumber:"",this.updateApplicationDetailsLocally(l),yield this.IDNFYupdateANDredirect(!1,t,this.PVMessageBoxReq)):yield this.IDNFYupdateANDredirect(!0,t,this.PVMessageBoxReq)}}})}FetchStatusofPV(){var t,o,n,l;return(0,v.mG)(this,void 0,void 0,function*(){if(1==(null===(o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration)||void 0===o?void 0:o.isPhotoVerificationRequired)){const d=Object.assign({},this.sessionService.applicationDetailValue);let _;for(var c=0;c<d.applicantList.length;c++)"REVIEWING"==d.applicantList[c].PVStatus&&!d.applicantList[c].PVisVerified&&(this.sessionService.PVRequestRefNumber=(null===(n=d.applicantList[c])||void 0===n?void 0:n.PVRequestRefNumber)?null===(l=d.applicantList[c])||void 0===l?void 0:l.PVRequestRefNumber:"",_=yield this.PhotoVerificationStatus(d.applicantList[c].arn),null==_.error&&("REVIEWING"!=((null==_?void 0:_.status)?null==_?void 0:_.status:"")&&(this.sessionService.PVRequestRefNumber=d.applicantList[c].PVRequestRefNumber,yield this.IDNFYupdateANDredirect(!1,c,this.PVMessageBoxReq)),yield(0,$c.H)(1e3).pipe((0,Ro.q)(2)).toPromise()))}})}FetchAllStatusofPV(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){if(1==(null===(o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration)||void 0===o?void 0:o.isPhotoVerificationRequired))for(this.utilityService.startNgxUiSpinner(),this.PVStatusStop=!0,this.PVStatusStopTimer=setTimeout(()=>this.PVStatusStop=!1,3e5);this.PVStatusStop;)Object.assign({},this.sessionService.applicationDetailValue).applicantList.filter(d=>"REVIEWING"==(null==d?void 0:d.PVStatus)&&!(null==d?void 0:d.PVisVerified)).length>0?yield this.FetchStatusofPV():(this.PVStatusStop=!1,clearTimeout(this.PVStatusStopTimer),this.utilityService.stopNgxUiSpinner())})}StatusFromPV(){return(0,v.mG)(this,void 0,void 0,function*(){this.utilityService.startNgxUiSpinner(),yield this.IDNFYupdateANDredirect(!1,0,this.PVMessageBoxReq),yield this.FetchStatusofPV(),this.utilityService.stopNgxUiSpinner()})}get IsPVstatusInREVIEWING(){var t,o;return 1==(null===(o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration)||void 0===o?void 0:o.isPhotoVerificationRequired)&&Object.assign({},this.sessionService.applicationDetailValue).applicantList.filter(c=>"REVIEWING"==(null==c?void 0:c.PVStatus)&&(null==c?void 0:c.PVRequestRefNumber.length)>0&&!(null==c?void 0:c.PVisVerified)).length>0}get isOverSeasEnable(){var t,o;return 1==(null===(o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration)||void 0===o?void 0:o.isOverSeasEnable)}isRemoveEditAndDeleteIcon(t){return!(this.config.enablePersonalOnRegistration&&0==t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.uw),e.Y36(Vo))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-applicant-details"]],viewQuery:function(t,o){if(1&t&&e.Gf(Wc,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},hostBindings:function(t,o){1&t&&e.NdJ("popstate",function(l){return o.onpopstate(l)},!1,e.Jf7)},features:[e._Bn([{provide:J.NG,useClass:jc}]),e.qOj],decls:5,vars:4,consts:[[1,"container","py-15","py-md-30"],["class","form-card timer-css text-right border-0 mb-5",4,"ngIf"],["class","form-card",4,"ngIf"],[4,"ngIf"],[1,"form-card","timer-css","text-right","border-0","mb-5"],[3,"config"],["cd",""],[1,"form-card"],[1,"c-brand-grey-para","mb-10"],["id","error",1,"fs-24","fs-sm-42","mb-30"],["id","mintime"],["class","fs-18","style","color: red;",4,"ngIf"],["class","border-info","style","border-left: 5px solid",4,"ngIf"],["class","c-brand-grey-para mb-20",4,"ngIf"],[1,"fs-18",2,"color","red"],[1,"alert-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-times-circle","fs-24","mb-0"],[1,"col",3,"translate"],[1,"alert","alert-info","border-0","rounded-0","py-15","pl-50"],[1,"fa","fa-info-circle","fs-24","position-absolute","left-15","top-18"],[1,"card-upload-document"],["accept",".pdf",3,"multiple","onFileDrop"],["ngx-file-drop-content-tmp",""],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"asterisk"],[1,"file-upload-wrapper"],["type","button",1,"file-browse",3,"click"],["class","row no-gutters file-path-box",4,"ngFor","ngForOf"],[1,"row","no-gutters","file-path-box"],[1,"col","file-name","text-overflow"],[1,"check-mark","text-center","bg-brand-green"],[1,"c-brand-error","text-decoration-underline","cursor-pointer",3,"click"],[1,"errorMessage"],[1,"errorMessage","c-brand-error"],[1,"border-info",2,"border-left","5px solid"],[3,"innerHTML"],[1,"mb-20"],[1,"c-brand-grey-para","mb-20"],["class","bg-brand-footer border-top-1 border-bottom-1 mx-n15 mx-md-n30 px-15 px-md-30 py-20 mt-n1",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-right mt-20 mb-15",4,"ngIf"],[1,"bg-brand-footer","border-top-1","border-bottom-1","mx-n15","mx-md-n30","px-15","px-md-30","py-20","mt-n1"],[1,"row","align-items-center"],[1,"col","fs-18"],[1,"c-brand-grey-para","mb-5"],[1,"w-wrap-break"],["class","w-wrap-break",4,"ngIf"],[1,"d-flex","flex-wrap","p-20"],[1,""],["class","flex-wrap",4,"ngIf"],[1,"col-auto"],["class","fa fa-refresh cursor-pointer fs-25 mr-25","data-toggle","tooltip","data-placement","bottom",3,"title","click",4,"ngIf"],["class","fa fa-trash-o c-brand-blue-light fs-25 cursor-pointer mr-25",3,"click",4,"ngIf"],["class","fa fa-edit c-brand-blue-light fs-24 cursor-pointer",3,"click",4,"ngIf"],[1,"flex-wrap"],["class","text-primary cursor-pointer mr-15",3,"click",4,"ngIf"],[1,"mr-25"],[1,"text-primary","cursor-pointer","mr-15",3,"click"],["data-toggle","tooltip","data-placement","bottom",1,"fa","fa-refresh","cursor-pointer","fs-25","mr-25",3,"title","click"],[1,"fa","fa-trash-o","c-brand-blue-light","fs-25","cursor-pointer","mr-25",3,"click"],[1,"fa","fa-edit","c-brand-blue-light","fs-24","cursor-pointer",3,"click"],[1,"text-right","mt-20","mb-15"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-brand-orange",3,"disabled","click"],[3,"formGroup",4,"ngIf"],["id","employer",1,"form-group","mb-20"],[1,"mat-checkbox-brand","w-wrap-break-all",3,"ngModel","ngModelChange"],[1,"fs-18","text-wrap"],[1,"fs-18","fs-sm-22","mb-20"],[1,"mb-30"],[1,"form-group","mb-20"],[1,"c-brand-grey-para"],[3,"formGroup"],[3,"scope","schema","formGroupCopy"],[1,"form-card","p-0","border-0","shadow-none"],[3,"scope","schema"],[1,"row"],["class","col-sm mt-20",4,"ngIf"],[1,"col-sm","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"border-info","mt-40",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20"],[1,"fa","fa-info-circle","fs-24","mb-0"],[1,"col"],[1,"text-wrap"],["target","_blank",1,"c-brand-orange","text-decoration-underline",3,"href"],[1,"fa","fa-check-circle-o","fs-24","mb-0"],["class","col",4,"ngIf"],["class","row no-gutters align-items-center","style","margin-top: 20px",4,"ngIf"],[1,"row","no-gutters","align-items-center",2,"margin-top","20px"],[1,"mat-checkbox-brand",3,"ngModel","ngModelChange"],["class","p-15 mt-20 border rounded-5",4,"ngIf"],[1,"p-15","mt-20","border","rounded-5"],["class","border-danger","style","border-left: 5px solid",4,"ngIf"],[1,"fs-18","fs-sm-21","mb-15"],[1,"max-sm-w-500","mt-20"],["mat-raised-button","","class","btn btn-block mat-btn-lg btn-brand-orange",3,"click",4,"ngIf"],["class","row align-items-end mt-20",4,"ngIf"],["class","border-success mt-20","style","border-left: 5px solid",4,"ngIf"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-15","pl-50"],[1,"fa","fa-check-circle","fs-24","position-absolute","left-15","top-13"],["mat-raised-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange",3,"click"],[1,"row","align-items-end","mt-20"],[1,"col-12"],[1,"col-12","col-sm-9","col-lg-12"],[1,"form-group","mb-0"],[1,"c-brand-grey-para","fs-14","mt-3","mb-5"],[1,"col-12","col-sm-9","col-lg-6"],["appearance","outline","class","mat-form-field-outline-brand",4,"ngIf"],[1,"col-12","col-sm-3","col-lg-2","my-15","my-sm-0"],["mat-raised-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange",3,"disabled","click"],["class","col-12 mt-sm-10",4,"ngIf"],["class","col-12",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","OTP","matInput","","type","text","maxlength","6","required","",3,"ngModel","ngModelChange"],["placeholder","OTP","matInput","","type","text","maxlength","6","required","","readonly","",3,"ngModel","matKeyboard","ngModelChange","enterClick"],[1,"col-12","mt-sm-10"],[1,"c-brand-grey-para","text-decoration-underline",2,"cursor","pointer",3,"click"],["id","widgetId"],[3,"captchaType","v2CaptchaSet"],["cloudflareCaptchaContainer",""],[1,"border-success","mt-20",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-20","pl-sm-50","mb-0"],[1,"c-black","fs-18"],[1,"c-brand-grey-para","fs-14","mt-3","mb-8"],[1,"border-success"],[1,"alert","alert-success","border-0","rounded-0","py-15","pl-50"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0),e.YNc(1,Kc,5,4,"div",1),e.YNc(2,xu,17,15,"mat-card",2),e.YNc(3,Lu,3,2,"ng-container",3),e.YNc(4,Wu,11,8,"ng-container",3),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isPtFlow),e.xp6(1),e.Q6J("ngIf",0==o.otpInProgress),e.xp6(1),e.Q6J("ngIf",!o.viewApplicantsListFlag),e.xp6(1),e.Q6J("ngIf",o.viewApplicantsListFlag))},directives:[w.O5,wt.MR,X.a8,D.Pi,Et.CB,Et.w5,w.sg,V.lW,le.oG,r.JJ,r.On,r._Y,r.JL,r.sg,ue.rm,q.KE,u.Nt,r.Fj,r.nD,r.Q7,Ut.a2,Bt],pipes:[D.X$],encapsulation:2}),i})();function Ku(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card",4)(1,"p",5),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).navigate()}),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"paymentConfirmation.messages.infoMessages.message1")),e.xp6(3),e.hij(" ",e.lcZ(6,4,"paymentConfirmation.buttons.button1")," "))}function zu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card",4)(1,"p",5),e._uU(2),e.qZA(),e.TgZ(3,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).clearInProgressApplication()}),e._uU(4),e.ALo(5,"translate"),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(t.alreadyConfirm),e.xp6(2),e.hij(" ",e.lcZ(5,2,"paymentConfirmation.formLabel.label5")," ")}}function Xu(i,s){if(1&i&&(e.ynx(0),e.YNc(1,Ku,7,6,"mat-card",3),e.YNc(2,zu,6,4,"mat-card",3),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.alreadyConfirm),e.xp6(1),e.Q6J("ngIf",t.alreadyConfirm)}}function ed(i,s){1&i&&(e.TgZ(0,"p",5),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"paymentConfirmation.pageDetails.para12")," "))}function td(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(6);return n.printAppointmentLetter(n.applicationDetailAfterConfirmation.urn)}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij("",e.lcZ(2,1,"paymentConfirmation.pageDetails.para4")," "))}function id(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"paymentConfirmation.pageDetails.para4")," "))}function od(i,s){if(1&i&&(e.TgZ(0,"p",5),e._uU(1),e.ALo(2,"translate"),e.YNc(3,td,3,3,"span",16),e.YNc(4,id,3,3,"span",2),e._uU(5),e.ALo(6,"translate"),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.hij(" ",e.lcZ(2,4,"paymentConfirmation.pageDetails.para3")," "),e.xp6(2),e.Q6J("ngIf",!t.commonService.checkIfPostal(t.applicationType)&&!t.commonService.checkIfOWA(t.applicationType)&&t.applicationDetailAfterConfirmation),e.xp6(1),e.Q6J("ngIf",t.commonService.checkIfPostal(t.applicationType)&&t.applicationDetailAfterConfirmation),e.xp6(1),e.hij(" ",e.lcZ(6,6,"paymentConfirmation.pageDetails.para5")," ")}}function nd(i,s){1&i&&(e.TgZ(0,"p",18),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"paymentConfirmation.pageDetails.para6")))}function ad(i,s){if(1&i&&(e.TgZ(0,"div")(1,"div",11),e._UZ(2,"i",12),e.qZA(),e.TgZ(3,"h2",13),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA(),e.YNc(7,ed,3,3,"p",14),e.YNc(8,od,7,8,"p",14),e.YNc(9,nd,3,3,"p",15),e.qZA()),2&i){const t=e.oxw(4);e.xp6(4),e.hij(" ",t.sessionService.isHmpoJourney?e.lcZ(5,4,"paymentConfirmation.pageDetails.para11"):e.lcZ(6,6,"paymentConfirmation.pageDetails.para2"),""),e.xp6(3),e.Q6J("ngIf",t.sessionService.isHmpoJourney),e.xp6(1),e.Q6J("ngIf",!t.sessionService.isHmpoJourney),e.xp6(1),e.Q6J("ngIf",!t.sessionService.isHmpoJourney)}}function sd(i,s){1&i&&(e.TgZ(0,"h2",13),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"p",5),e._uU(4),e.ALo(5,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,2,"paymentConfirmation.pageDetails.para8")),e.xp6(3),e.hij(" ",e.lcZ(5,4,"paymentConfirmation.pageDetails.para9")," "))}function ld(i,s){if(1&i&&(e.TgZ(0,"div",19)(1,"div",20)(2,"div",21)(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",22),e._uU(7),e.qZA()(),e.TgZ(8,"div",23)(9,"div"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",22),e._uU(13),e.ALo(14,"date"),e.qZA()(),e.TgZ(15,"div",21)(16,"div"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",22),e._uU(20),e.ALo(21,"number"),e.qZA()()()()),2&i){const t=e.oxw(4);e.xp6(4),e.Oqu(e.lcZ(5,7,"paymentConfirmation.formLabel.label1")),e.xp6(3),e.Oqu(t.successPaymentData.TransactionId),e.xp6(3),e.Oqu(e.lcZ(11,9,"paymentConfirmation.formLabel.label2")),e.xp6(3),e.Oqu(e.xi3(14,11,t.currentDate,t.dateFormat)),e.xp6(4),e.Oqu(e.lcZ(18,14,"paymentConfirmation.formLabel.label4")),e.xp6(3),e.AsE("",t.currencyCode," ",e.xi3(21,16,null==t.paymentConfirmationData?null:t.paymentConfirmationData.overallTotal,"1.2-2"),"")}}function rd(i,s){if(1&i&&(e.TgZ(0,"mat-card",4),e.YNc(1,ad,10,8,"div",8),e.YNc(2,sd,6,6,"ng-template",null,9,e.W1O),e.YNc(4,ld,22,19,"div",10),e.qZA()),2&i){const t=e.MAs(3),o=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!(null!=o.applicationDetailAfterConfirmation&&o.applicationDetailAfterConfirmation.isWaitlist&&(null==o.applicationDetailAfterConfirmation?null:o.applicationDetailAfterConfirmation.waitlistStatus)===o.waitListStatus))("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",o.successPaymentData.TransactionId)}}function cd(i,s){if(1&i&&(e.TgZ(0,"mat-card",4)(1,"div",11),e._UZ(2,"i",12),e.qZA(),e.TgZ(3,"div")(4,"h2",13),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p",24),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",25)(11,"a",26)(12,"span",27),e._uU(13),e.ALo(14,"translate"),e.qZA()()(),e.TgZ(15,"div",25)(16,"a",26)(17,"span",27),e._uU(18),e.ALo(19,"translate"),e.qZA()()(),e.TgZ(20,"div",25)(21,"a",26)(22,"span",27),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"div",25)(26,"a",26)(27,"span",27),e._uU(28),e.ALo(29,"translate"),e.qZA()()(),e.TgZ(30,"div",25)(31,"a",26)(32,"span",27),e._uU(33),e.ALo(34,"translate"),e.qZA()()()()()),2&i){const t=e.oxw(3);e.xp6(5),e.Oqu(e.lcZ(6,12,"polandTurkey.pageDetails.para19")),e.xp6(3),e.Oqu(e.lcZ(9,14,"polandTurkey.pageDetails.para20")),e.xp6(3),e.Q6J("href",t.websiteCounsularFee,e.LSH),e.xp6(2),e.Oqu(e.lcZ(14,16,"polandTurkey.pageDetails.para21")),e.xp6(3),e.Q6J("href",t.websiteAddressVAC,e.LSH),e.xp6(2),e.Oqu(e.lcZ(19,18,"polandTurkey.pageDetails.para22")),e.xp6(3),e.Q6J("href",t.websiteCounsularFee,e.LSH),e.xp6(2),e.Oqu(e.lcZ(24,20,"polandTurkey.pageDetails.para23")),e.xp6(3),e.Q6J("href",t.websiteMissionPoland,e.LSH),e.xp6(2),e.Oqu(e.lcZ(29,22,"polandTurkey.pageDetails.para24")),e.xp6(3),e.Q6J("href",t.websiteVFSGlobal,e.LSH),e.xp6(2),e.Oqu(e.lcZ(34,24,"polandTurkey.pageDetails.para25"))}}const Bo=function(i,s,t){return{date:i,endDate:s,bankName:t}};function ud(i,s){if(1&i&&(e.TgZ(0,"mat-card",4)(1,"div",11),e._UZ(2,"i",12),e.qZA(),e.TgZ(3,"div")(4,"h2",13),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p",24),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p",24),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",25)(14,"a",26)(15,"span",27),e._uU(16),e.ALo(17,"translate"),e.qZA()()(),e.TgZ(18,"div",25)(19,"a",26)(20,"span",27),e._uU(21),e.ALo(22,"translate"),e.qZA()()(),e.TgZ(23,"div",25)(24,"a",26)(25,"span",27),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"div",25)(29,"a",26)(30,"span",27),e._uU(31),e.ALo(32,"translate"),e.qZA()()(),e.TgZ(33,"div",25)(34,"a",26)(35,"span",27),e._uU(36),e.ALo(37,"translate"),e.qZA()()()()()),2&i){const t=e.oxw(3);e.xp6(5),e.Oqu(e.lcZ(6,13,"polandTurkey.pageDetails.para27")),e.xp6(3),e.hij(" ",e.xi3(9,15,"polandTurkey.pageDetails.para28",e.kEZ(30,Bo,t.payAtBankDetails.appointmentDate,t.payAtBankDetails.endDate,t.payAtBankDetails.bankName))," "),e.xp6(3),e.Oqu(e.lcZ(12,18,"polandTurkey.pageDetails.para29")),e.xp6(3),e.Q6J("href",t.websiteCounsularFee,e.LSH),e.xp6(2),e.Oqu(e.lcZ(17,20,"polandTurkey.pageDetails.para21")),e.xp6(3),e.Q6J("href",t.websiteAddressVAC,e.LSH),e.xp6(2),e.Oqu(e.lcZ(22,22,"polandTurkey.pageDetails.para22")),e.xp6(3),e.Q6J("href",t.websiteCounsularFee,e.LSH),e.xp6(2),e.Oqu(e.lcZ(27,24,"polandTurkey.pageDetails.para23")),e.xp6(3),e.Q6J("href",t.websiteMissionPoland,e.LSH),e.xp6(2),e.Oqu(e.lcZ(32,26,"polandTurkey.pageDetails.para24")),e.xp6(3),e.Q6J("href",t.websiteVFSGlobal,e.LSH),e.xp6(2),e.Oqu(e.lcZ(37,28,"polandTurkey.pageDetails.para25"))}}function dd(i,s){if(1&i&&(e.TgZ(0,"mat-card",4)(1,"div",11),e._UZ(2,"i",12),e.qZA(),e.TgZ(3,"div")(4,"h2",13),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p",24),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p",24),e._uU(11),e.ALo(12,"translate"),e.qZA()()()),2&i){const t=e.oxw(3);e.xp6(5),e.Oqu(e.lcZ(6,3,"polandTurkey.pageDetails.para27")),e.xp6(3),e.hij(" ",e.xi3(9,5,"polandTurkey.pageDetails.para28",e.kEZ(10,Bo,t.payAtBankDetails.appointmentDate,t.payAtBankDetails.endDate,t.payAtBankDetails.bankName))," "),e.xp6(3),e.Oqu(e.lcZ(12,8,"polandTurkey.pageDetails.para29"))}}function pd(i,s){1&i&&(e.TgZ(0,"mat-card",4)(1,"div")(2,"div",11),e._UZ(3,"i",12),e.qZA(),e.TgZ(4,"h2",13),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p",5),e._uU(8),e.ALo(9,"translate"),e.qZA()()()),2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"tmiOab.pageDetails.para11")),e.xp6(3),e.hij(" ",e.lcZ(9,4,"tmiOab.pageDetails.para12")," "))}function md(i,s){1&i&&(e.ynx(0),e.TgZ(1,"mat-card",28),e._UZ(2,"app-medical-insurance",29),e.qZA(),e.BQk()),2&i&&(e.xp6(2),e.Q6J("type","1"))}function gd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"eligibilityCriteria.formLabel.label5")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.missionName)}}function _d(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(6);e.xp6(2),e.Oqu(e.lcZ(3,2,"reviewAndPayment.formLabel.label4")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.visaCategoryName)}}function fd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(6);e.xp6(2),e.Oqu(e.lcZ(3,2,"eligibilityCriteria.formLabel.label15")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.nationalityName)}}function vd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(6);e.xp6(2),e.Oqu(e.lcZ(3,2,"reviewAndPayment.formLabel.label24")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.serviceType)}}function hd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(6);e.xp6(2),e.Oqu(e.lcZ(3,2,"eligibilityCriteria.formLabel.label14")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.entryType)}}function yd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(6);e.xp6(2),e.Oqu(e.lcZ(3,2,"eligibilityCriteria.formLabel.label13")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.visaType)}}function bd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(6);e.xp6(2),e.Oqu(e.lcZ(3,2,"eligibilityCriteria.formLabel.label12")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.applicationType)}}function Cd(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"li",47)(2,"div",48),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",49),e._uU(6),e.qZA()(),e.YNc(7,_d,6,4,"li",51),e.TgZ(8,"li",47)(9,"div",48),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",49),e._uU(13),e.qZA()(),e.YNc(14,fd,6,4,"li",51),e.YNc(15,vd,6,4,"li",51),e.YNc(16,hd,6,4,"li",51),e.YNc(17,yd,6,4,"li",51),e.YNc(18,bd,6,4,"li",51),e.BQk()),2&i){const t=e.oxw(5);e.xp6(3),e.Oqu(e.lcZ(4,10,"reviewAndPayment.formLabel.label3")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.vacCodeName),e.xp6(1),e.Q6J("ngIf",!t.configuration.isBelgiumHandshakeEnabled),e.xp6(3),e.Oqu(e.lcZ(11,12,"reviewAndPayment.formLabel.label5")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.visaSubCategoryName),e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.nationalityName),e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.serviceType),e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.entryType),e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.visaType),e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.applicationType)}}function Ad(i,s){if(1&i&&(e.TgZ(0,"div",34)(1,"ul",35)(2,"li",47)(3,"div",48),e._uU(4),e.qZA(),e.TgZ(5,"div",49),e._uU(6),e.qZA()(),e.YNc(7,gd,6,4,"li",50),e.YNc(8,Cd,19,14,"ng-container",2),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(4),e.Oqu(t.countryNamelabel),e.xp6(2),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.countryName),e.xp6(1),e.Q6J("ngIF",!t.isOverSeasEnable),e.xp6(1),e.Q6J("ngIf",t.applicationDetailAfterConfirmation)}}function Td(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(6);e.xp6(2),e.Oqu(e.lcZ(3,2,"courierAddressDetails.formLabel.label3")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.visaCategoryName)}}function Sd(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"li",47)(2,"div",48),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",49),e._uU(6),e.qZA()(),e.YNc(7,Td,6,4,"li",51),e.BQk()),2&i){const t=e.oxw(5);e.xp6(3),e.Oqu(e.lcZ(4,3,"reviewAndPayment.formLabel.label27")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.vacCodeName),e.xp6(1),e.Q6J("ngIf",!t.configuration.isBelgiumHandshakeEnabled)}}function xd(i,s){if(1&i&&(e.TgZ(0,"div",34)(1,"ul",35)(2,"li",47)(3,"div",48),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",49),e._uU(7),e.qZA()(),e.YNc(8,Sd,8,5,"ng-container",2),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(4),e.Oqu(e.lcZ(5,3,"reviewAndPayment.formLabel.label26")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.countryName),e.xp6(1),e.Q6J("ngIf",t.applicationDetailAfterConfirmation)}}function Ld(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.qZA(),e.TgZ(3,"div",49),e._uU(4),e.qZA()()),2&i){const t=e.oxw(5);e.xp6(2),e.hij("",t.groupURNlabel," #"),e.xp6(2),e.hij(" ",t.isOverSeasEnable?t.applicationDetailAfterConfirmation.anyGRNumber:t.applicationDetailAfterConfirmation.urn," ")}}function Id(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",55)(1,"span",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,l=e.oxw(5);return l.downloadCourierDetails(n.arn,l.applicationDetailAfterConfirmation.vacCode,l.courierLabels.inLabel)}),e._UZ(2,"i",57),e.TgZ(3,"span",58),e._uU(4),e.ALo(5,"translate"),e.qZA()()()}2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"postalInformation.headerLabel.label2")))}function Zd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA(),e.TgZ(6,"div",53),e.YNc(7,Id,6,3,"div",54),e.qZA()()),2&i){const t=s.$implicit,o=s.index,n=e.oxw(5);e.xp6(2),e.AsE("",e.lcZ(3,5,"reviewAndPayment.formLabel.label6")," ",o+1,""),e.xp6(3),e.AsE("",null==t?null:t.firstName," ",null==t?null:t.lastName,""),e.xp6(2),e.Q6J("ngIf",n.commonService.checkIfPostal(n.applicationType)&&!n.commonService.checkIfPrepaidCourier(null==t||null==t.postalList[0]?null:t.postalList[0].courierType)&&n.applicationDetailAfterConfirmation)}}function Nd(i,s){if(1&i&&(e.ynx(0),e.YNc(1,Ld,5,2,"li",51),e.YNc(2,Zd,8,7,"li",52),e.BQk()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",(t.commonService.checkIfOWA(t.applicationType)||t.commonService.checkIfPostal(t.applicationType)||(null==t.applicationDetailAfterConfirmation?null:t.applicationDetailAfterConfirmation.isWaitlist))&&t.applicationDetailAfterConfirmation.urn||t.applicationDetailAfterConfirmation.anyGRNumber&&!t.isOverSeasEnable),e.xp6(1),e.Q6J("ngForOf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.applicants)("ngForTrackBy",t.trackByFn)}}function Dd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.qZA(),e.TgZ(3,"div",49),e._uU(4),e.qZA()()),2&i){const t=e.oxw(5);e.xp6(2),e.hij("",t.groupURNlabel," #"),e.xp6(2),e.hij(" ",t.isOverSeasEnable?t.applicationDetailAfterConfirmation.anyGRNumber:t.applicationDetailAfterConfirmation.urn," ")}}function Od(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"h2",32),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",34)(5,"ul",35),e.YNc(6,Dd,5,2,"li",51),e.TgZ(7,"li",47)(8,"div",48),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",49),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"li",47)(15,"div",48),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",49),e._uU(19),e.ALo(20,"date"),e.qZA()(),e.TgZ(21,"li",47)(22,"div",48),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",49),e._uU(26),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw(4);e.xp6(2),e.hij(" ",e.lcZ(3,8,"reviewAndPayment.headerLabel.label4")," "),e.xp6(4),e.Q6J("ngIf",t.applicationDetailAfterConfirmation.urn||t.applicationDetailAfterConfirmation.anyGRNumber),e.xp6(3),e.Oqu(e.lcZ(10,10,"reviewAndPayment.formLabel.label14")),e.xp6(3),e.Oqu(e.lcZ(13,12,null==t.paymentConfirmationData?null:t.paymentConfirmationData.appointment_type)),e.xp6(4),e.Oqu(e.lcZ(17,14,"reviewAndPayment.formLabel.label15")),e.xp6(3),e.Oqu(e.xi3(20,16,t.appointmentDateFormat,t.dateFormat)),e.xp6(4),e.Oqu(e.lcZ(24,19,"reviewAndPayment.formLabel.label16")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.appointmentTime)}}function Ed(i,s){if(1&i&&(e.TgZ(0,"div",63)(1,"div",40)(2,"div",64),e._uU(3),e.qZA(),e.TgZ(4,"div",65),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",66),e._uU(8),e.ALo(9,"number"),e.qZA()()()),2&i){const t=s.$implicit,o=e.oxw(5);e.xp6(3),e.Oqu(null==t?null:t.name),e.xp6(2),e.AsE("",null==t?null:t.quantity," ",e.lcZ(6,5,"reviewAndPayment.formLabel.label19"),""),e.xp6(3),e.AsE("",o.currencyCode," ",e.xi3(9,7,null==t?null:t.price,"1.2-2"),"")}}function kd(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"h2",59),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",60),e.YNc(5,Ed,10,10,"div",61),e.TgZ(6,"div",62)(7,"div",40)(8,"div",41),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",42),e._uU(12),e.ALo(13,"number"),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw(4);e.xp6(2),e.Oqu(e.lcZ(3,6,"reviewAndPayment.headerLabel.label6")),e.xp6(3),e.Q6J("ngForOf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.services)("ngForTrackBy",t.trackByFn),e.xp6(4),e.Oqu(e.lcZ(10,8,"reviewAndPayment.formLabel.label17")),e.xp6(3),e.AsE(" ",t.currencyCode," ",e.xi3(13,10,null==t.paymentConfirmationData?null:t.paymentConfirmationData.servicesTotal,"1.2-2")," ")}}function wd(i,s){if(1&i&&(e.TgZ(0,"div",63)(1,"div",40)(2,"div",64),e._uU(3),e.qZA(),e._UZ(4,"div",65),e.TgZ(5,"div",66),e._uU(6),e.ALo(7,"number"),e.qZA()()()),2&i){const t=e.oxw().$implicit,o=e.oxw(4);e.xp6(3),e.Oqu(null==t?null:t.feeName),e.xp6(3),e.AsE("",o.currencyCode," ",e.xi3(7,3,null==t?null:t.feeAmount,"1.2-2"),"")}}function Fd(i,s){if(1&i&&(e.ynx(0),e.YNc(1,wd,8,6,"div",67),e.BQk()),2&i){const t=s.$implicit,o=e.oxw(4);e.xp6(1),e.Q6J("ngIf",(null==t?null:t.feeTypeCode)!==o.constants.FEE_TYPE_CODES.CVFEE&&(null==t?null:t.feeAmount)>0)}}function Md(i,s){if(1&i&&(e.TgZ(0,"div",63)(1,"div",40)(2,"div",64),e._uU(3),e.qZA(),e._UZ(4,"div",65),e.TgZ(5,"div",66),e._uU(6),e.ALo(7,"number"),e.qZA()()()),2&i){const t=e.oxw().$implicit,o=e.oxw(4);e.xp6(3),e.Oqu(null==t?null:t.feeName),e.xp6(3),e.AsE("",o.currencyCode," ",e.xi3(7,3,null==t?null:t.feeAmount,"1.2-2"),"")}}function Pd(i,s){if(1&i&&(e.ynx(0),e.YNc(1,Md,8,6,"div",67),e.BQk()),2&i){const t=s.$implicit,o=e.oxw(4);e.xp6(1),e.Q6J("ngIf",(null==t?null:t.feeTypeCode)===o.constants.FEE_TYPE_CODES.CVFEE&&(null==t?null:t.feeAmount)>0)}}function Ud(i,s){1&i&&(e.TgZ(0,"div",68)(1,"div",41)(2,"h2",59),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"reviewAndPayment.headerLabel.label8")))}function qd(i,s){if(1&i&&(e.TgZ(0,"div",73)(1,"div",40)(2,"div",64),e._uU(3),e.qZA(),e._UZ(4,"div",65),e.TgZ(5,"div",66),e._uU(6),e.ALo(7,"number"),e.qZA()()()),2&i){const t=e.oxw().$implicit,o=e.oxw(5);e.xp6(3),e.hij(" ",null==t?null:t.title," "),e.xp6(3),e.AsE("",o.currencyCode," ",e.xi3(7,3,null==t?null:t.value,"1.2-2"),"")}}function Gd(i,s){if(1&i&&(e.ynx(0),e.YNc(1,qd,8,6,"div",72),e.BQk()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",(null==t?null:t.value)>0)}}const lo=function(){return[]};function Vd(i,s){if(1&i&&(e.TgZ(0,"div",69)(1,"div",70),e.YNc(2,Gd,2,1,"ng-container",38),e.TgZ(3,"div",71)(4,"div",40)(5,"div",41),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",42),e._uU(9),e.ALo(10,"number"),e.qZA()()()()()),2&i){const t=e.oxw(4);e.xp6(2),e.Q6J("ngForOf",(null==t.paymentConfirmationData?null:t.paymentConfirmationData.additionalFee)||e.DdM(10,lo))("ngForTrackBy",t.trackByFn),e.xp6(4),e.Oqu(e.lcZ(7,5,"reviewAndPayment.formLabel.label17")),e.xp6(3),e.AsE(" ",t.currencyCode," ",e.xi3(10,7,null==t.paymentConfirmationData?null:t.paymentConfirmationData.additionalFeeTotal,"1.2-2")," ")}}function Rd(i,s){if(1&i&&(e.TgZ(0,"div",40)(1,"div",74),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"number"),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(2),e.lnq(" ",e.lcZ(3,3,"reviewAndPayment.pageDetails.para3")," ",t.currencyCode," ",e.xi3(4,5,null==t.paymentConfirmationData?null:t.paymentConfirmationData.serviceFeeTax,t.decimalConfiguration)," ")}}function Jd(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card",30)(1,"h1",31),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"h2",32),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Ad,9,4,"div",33),e.YNc(8,xd,9,5,"div",33),e.TgZ(9,"h2",32),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",34)(13,"ul",35),e.YNc(14,Nd,3,3,"ng-container",2),e.qZA()(),e.YNc(15,Od,27,21,"ng-container",2),e.YNc(16,kd,14,13,"ng-container",2),e.TgZ(17,"h2",36),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",37),e.YNc(21,Fd,2,1,"ng-container",38),e.TgZ(22,"div",39)(23,"div",40)(24,"div",41),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"div",42),e._uU(28),e.ALo(29,"number"),e.qZA()()(),e.YNc(30,Pd,2,1,"ng-container",38),e.YNc(31,Ud,5,3,"div",43),e.YNc(32,Vd,11,11,"div",44),e.TgZ(33,"div",45)(34,"div",40)(35,"div",41),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"div",42),e._uU(39),e.ALo(40,"number"),e.qZA()(),e.YNc(41,Rd,5,8,"div",46),e.qZA()(),e.TgZ(42,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).clearInProgressApplication()}),e._uU(43),e.ALo(44,"translate"),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(e.lcZ(3,23,"paymentConfirmation.formLabel.label3")),e.xp6(3),e.Oqu(e.lcZ(6,25,"reviewAndPayment.headerLabel.label2")),e.xp6(2),e.Q6J("ngIf",!t.sessionService.isHmpoJourney),e.xp6(1),e.Q6J("ngIf",t.sessionService.isHmpoJourney),e.xp6(2),e.Oqu(e.lcZ(11,27,"reviewAndPayment.headerLabel.label3")),e.xp6(4),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.applicants),e.xp6(1),e.Q6J("ngIf",!t.commonService.checkIfPostal(t.applicationType)&&!t.commonService.checkIfOWA(t.applicationType)&&t.applicationDetailAfterConfirmation&&t.appointmentDetail),e.xp6(1),e.Q6J("ngIf",!(null!=t.applicationDetailAfterConfirmation&&t.applicationDetailAfterConfirmation.isWaitlist&&(null==t.applicationDetailAfterConfirmation?null:t.applicationDetailAfterConfirmation.waitlistStatus)===t.waitListStatus||t.sessionService.isHmpoJourney)),e.xp6(2),e.Oqu(e.lcZ(19,29,"reviewAndPayment.headerLabel.label5")),e.xp6(3),e.Q6J("ngForOf",(null==t.paymentConfirmationData?null:t.paymentConfirmationData.fees_list)||e.DdM(43,lo))("ngForTrackBy",t.trackByFn),e.xp6(4),e.Oqu(e.lcZ(26,31,"reviewAndPayment.formLabel.label17")),e.xp6(3),e.AsE(" ",t.currencyCode," ",e.xi3(29,33,t.calFeesTotal,"1.2-2")," "),e.xp6(2),e.Q6J("ngForOf",(null==t.paymentConfirmationData?null:t.paymentConfirmationData.fees_list)||e.DdM(44,lo))("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngIf",t.isValidAdditionalFee),e.xp6(1),e.Q6J("ngIf",t.isValidAdditionalFee),e.xp6(4),e.Oqu(e.lcZ(37,36,"reviewAndPayment.formLabel.label20")),e.xp6(3),e.AsE(" ",t.currencyCode," ",e.xi3(40,38,null==t.paymentConfirmationData?null:t.paymentConfirmationData.overallTotal,"1.2-2")," "),e.xp6(2),e.Q6J("ngIf",(null==t.paymentConfirmationData?null:t.paymentConfirmationData.serviceFeeTax)>0),e.xp6(2),e.hij(" ",e.lcZ(44,41,"paymentConfirmation.formLabel.label5")," ")}}function Yd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"travelMedicalInformation.formLabel.label3")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.firstCountryOfEntry)}}function Qd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"travelMedicalInformation.formLabel.label4")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.coverageType)}}function Bd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"travelMedicalInformation.formLabel.label5")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.coverageLevel)}}function jd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"travelMedicalInformation.formLabel.label6")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.isRequiredExtraSports)}}function Hd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"applicantInformation.formLabel.label8")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.contactNumber)}}function $d(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"applicantInformation.formLabel.label13")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.addressline1)}}function Wd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"applicantInformation.formLabel.label15")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.addressline2)}}function Kd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"applicantInformation.formLabel.label16")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.state)}}function zd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"applicantInformation.formLabel.label17")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.city)}}function Xd(i,s){if(1&i&&(e.TgZ(0,"li",47)(1,"div",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49),e._uU(5),e.qZA()()),2&i){const t=e.oxw(5);e.xp6(2),e.Oqu(e.lcZ(3,2,"applicantInformation.formLabel.label18")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.pincode)}}function ep(i,s){if(1&i&&(e.ynx(0),e.YNc(1,Yd,6,4,"li",51),e.YNc(2,Qd,6,4,"li",51),e.YNc(3,Bd,6,4,"li",51),e.YNc(4,jd,6,4,"li",51),e.YNc(5,Hd,6,4,"li",51),e.YNc(6,$d,6,4,"li",51),e.YNc(7,Wd,6,4,"li",51),e.YNc(8,Kd,6,4,"li",51),e.YNc(9,zd,6,4,"li",51),e.YNc(10,Xd,6,4,"li",51),e.BQk()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.firstCountryOfEntry),e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.coverageType),e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.coverageLevel),e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.isRequiredExtraSports),e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.contactNumber),e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.addressline1),e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.addressline2),e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.state),e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.city),e.xp6(1),e.Q6J("ngIf",null==t.paymentConfirmationData?null:t.paymentConfirmationData.pincode)}}function tp(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card",30)(1,"h1",31),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"h2",32),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",34)(8,"ul",35)(9,"li",47)(10,"div",48),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",49),e._uU(14),e.qZA()(),e.TgZ(15,"li",47)(16,"div",48),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",49),e._uU(20),e.qZA()(),e.YNc(21,ep,11,10,"ng-container",2),e.qZA()(),e.TgZ(22,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).oabLogout()}),e._uU(23),e.ALo(24,"translate"),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(e.lcZ(3,9,"paymentConfirmation.formLabel.label3")),e.xp6(3),e.Oqu(e.lcZ(6,11,"reviewAndPayment.headerLabel.label2")),e.xp6(6),e.Oqu(e.lcZ(12,13,"travelMedicalInformation.headerLabel.label7")),e.xp6(3),e.Oqu(null==t.paymentConfirmationData?null:t.paymentConfirmationData.tmiApplicantsName),e.xp6(3),e.Oqu(e.lcZ(18,15,"travelMedicalInformation.headerLabel.label8")),e.xp6(3),e.AsE("",null==t.paymentConfirmationData?null:t.paymentConfirmationData.startDate," - ",null==t.paymentConfirmationData?null:t.paymentConfirmationData.endDate,""),e.xp6(1),e.Q6J("ngIf",t.applicationDetailAfterConfirmation),e.xp6(2),e.hij(" ",e.lcZ(24,17,"tmiOab.buttons.button3")," ")}}function ip(i,s){if(1&i&&(e.ynx(0),e.YNc(1,rd,5,3,"mat-card",3),e.YNc(2,cd,35,26,"mat-card",3),e.YNc(3,ud,38,34,"mat-card",3),e.YNc(4,dd,13,14,"mat-card",3),e.YNc(5,pd,10,6,"mat-card",3),e.YNc(6,md,3,1,"ng-container",2),e.YNc(7,Jd,45,45,"mat-card",7),e.YNc(8,tp,25,19,"mat-card",7),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.isPtFlow&&!t.isPayAtBankSelected&&!t.isTmiOab),e.xp6(1),e.Q6J("ngIf",t.isPtFlow&&!t.isPayAtBankSelected&&!t.isTmiOab),e.xp6(1),e.Q6J("ngIf",t.isPtFlow&&t.isPayAtBankSelected&&!t.isTmiOab),e.xp6(1),e.Q6J("ngIf",!t.isPtFlow&&t.isPayAtBankSelected&&!t.isTmiOab),e.xp6(1),e.Q6J("ngIf",!t.isPtFlow&&!t.isPayAtBankSelected&&t.isTmiOab),e.xp6(1),e.Q6J("ngIf",t.insuranceBox),e.xp6(1),e.Q6J("ngIf",!t.isTmiOab),e.xp6(1),e.Q6J("ngIf",t.isTmiOab)}}function op(i,s){if(1&i&&(e.TgZ(0,"section",1),e.YNc(1,Xu,3,2,"ng-container",2),e.YNc(2,ip,9,8,"ng-container",2),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.successPaymentData&&"False"===t.successPaymentData.PaymentStatus),e.xp6(1),e.Q6J("ngIf",t.successPaymentData&&"False"!==t.successPaymentData.PaymentStatus)}}let jo=(()=>{class i extends a.e{constructor(t,o){var n;super(),this.activatedRoute=t,this.contentfulService=o,this.walkinCode=p.EB,this.primeTimeCode=p._B,this.primeLongueCode=p.XJ,this.constants=p.gT,this.websiteVFSGlobal=re.N.websiteVFSGlobal,this.websiteMissionPoland=this.isPiFlow?"https://www.gov.pl/web/india/embassy-new-delhi":re.N.websiteMissionPoland,this.isPayAtBankSelected=!1,this.payAtBankDetails=[],this.isTmiOab=!1,this.sessionService.resourceGroupData=null===(n=this.sessionService)||void 0===n?void 0:n.resourceGroupDataTemp,this.notStandardCode=[...this.primeLongueCode,...this.walkinCode],this.insuranceBox=!1,this.successPaymentData={},this.applicationDetailAfterConfirmation={},this.subVisaCategoryCode=[],this.visaCategoryCode=[],this.appointmentDetail={},this.nationalityList=[],this.currencyCode=this.sessionService.currencyCode||"",this.alreadyConfirm="",this.requestComplete=!1,this.vacList=[],this.currentDate=new Date,this.waitListStatus=p.QY.waitlisted,this.configuration=this.sessionService.applicationConfiguration,this.decimalConfiguration=this.sessionService.decimalConfiguration}ngOnInit(){this.initialLoad(),this.isPayAtBankSelected=this.sessionService.isPayAtBankSelected,this.isTmiOab=this.sessionService.isTmiOabEnable,(this.isPtFlow&&this.isPayAtBankSelected||this.isPayAtBankSelected)&&this.getDateinPayAtBankSelected();const t=this.sessionService.eligibilityDetails;this.applicationType=t.applicationType?t.applicationType:null,this.utilityService.pushDataLayerGA({dl_event:"appointment_confirmation",dl_category:"Appointment Confirmation Page",dl_action:"Appointment Confirmation Success",dl_label:"page_url"})}get iswaitlistConfirmMode(){const t=this.sessionService.eligibilityDetails;return!!(null==t?void 0:t.agreeToWaitlist)&&t.agreeToWaitlist}initialLoad(){var t,o,n,l,c,d;return(0,v.mG)(this,void 0,void 0,function*(){const _=this.sessionService.paymentDetails;if(this.sessionService.resourceGroupData=null===(t=this.sessionService)||void 0===t?void 0:t.resourceGroupDataTemp,_&&_.ispaymentrequired){const f=null===(o=this.activatedRoute.snapshot.queryParams)||void 0===o?void 0:o.PaymentStatus,h=(null===(n=this.activatedRoute.snapshot.queryParams)||void 0===n?void 0:n.RequestRefNo)||_.requestrefno,T=(null===(l=this.activatedRoute.snapshot.queryParams)||void 0===l?void 0:l.TransactionId)||this.sessionService.transactionId,I=null===(c=this.sessionService)||void 0===c?void 0:c.paymentData;if(this.successPaymentData={RequestRefNo:h,TransactionId:T,PaymentStatus:f},"False"===f)return this.requestComplete=!0,!1;const S=`/payments/trackpaymentstatus?RequestRefNo=${h}`,R=yield this.httpService.doGet(S).toPromise().then(U=>U).catch(U=>U);if("SUCCESS"===R.Status)if(this.sessionService.isAddExtraServiceMode)yield this.confirmVas(R),this.requestComplete=!0,this.callApplication();else{const U={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,bankReferenceNo:T||(null==R?void 0:R.TransactionId),requestReferenceNo:String(h),amount:null==I?void 0:I.amount,currency:this.sessionService.currencyCode,cultureCode:this.sessionService.appCultureCode,centerCode:null===(d=this.sessionService.eligibilityDetails)||void 0===d?void 0:d.centerCode};this.isTmiOab&&(U.IsEmailConfirmationOnly=!0),null===this.successPaymentData.TransactionId&&(this.successPaymentData.TransactionId=null==R?void 0:R.TransactionId),this.iswaitlistConfirmMode&&(U.isWaitListPaymentJourney=!0);const ie=this.commonService.checkIfPostal(this.applicationType)||this.commonService.checkIfOWA(this.applicationType)||this.isTmiOab||this.sessionService.isHmpoJourney?p.gT.api.paymentConfirm:p.gT.api.confirmAppointment,he=yield this.httpService.payloadPost(ie,U).toPromise().then(_e=>_e).catch(_e=>_e);he.urn?(this.requestComplete=!0,this.callApplication()):(this.requestComplete=!0,this.successPaymentData={PaymentStatus:"False"},this.alreadyConfirm=he.error.description)}else this.requestComplete=!0,this.successPaymentData={PaymentStatus:"False"}}else this.requestComplete=!0,this.successPaymentData={PaymentStatus:"True"},this.callApplication()})}checkAndLoadTravelInsurance(){return(0,v.mG)(this,void 0,void 0,function*(){this.insuranceBox=yield this.contentfulService.getTravelInsurance()})}get travelInsurance(){return this.utilityService.externalUrlAppend("travel-insurance")}getSubvisaCategoryCode(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t=this.sessionService.centerCode,o=this.sessionService.eligibilityDetails,n=null==o?void 0:o.selectedSubvisaCategory,l=yield this.commonService.getSubVisaCategories(t,n);this.subVisaCategoryCode=l}catch(t){console.log(`Error Status: ${t.status}\nMessage: ${t.message} : ${t.error.data}`)}})}getVisaCategoryCode(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t=this.sessionService.centerCode,o=yield this.commonService.getVisaCategories(t);this.visaCategoryCode=o}catch(t){console.log(`Error Status: ${t.status}\nMessage: ${t.message} : ${t.error.data}`)}})}callApplication(){return(0,v.mG)(this,void 0,void 0,function*(){this.checkAndLoadTravelInsurance(),this.getActiveApplicationList()})}getActiveApplicationList(){var t;return(0,v.mG)(this,void 0,void 0,function*(){const o=yield this.httpService.payloadPost(p.gT.api.getActiveApplication,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),aurn:this.isTmiOab?this.sessionService.urn:"",emailId:"",countactNumber:"",passportNumber:""}).toPromise().then(n=>n).catch(n=>n);if(o){const n=null===(t=null==o?void 0:o.data)||void 0===t?void 0:t.filter(l=>l.urn===this.sessionService.urn);(null==n?void 0:n.length)>0&&!this.isTmiOab?this.loadPaymentConfirmationData(n[0]):this.isTmiOab&&(this.applicationDetailAfterConfirmation=n[0],this.paymentConfirmationData={},this.paymentConfirmationData.tmiApplicantsName=this.tmiApplicantsName(n[0].applicants),this.paymentConfirmationData.startDate=n[0].startDate,this.paymentConfirmationData.endDate=n[0].endDate,this.paymentConfirmationData.firstCountryOfEntry=n[0].firstCountryOfEntry,this.paymentConfirmationData.coverageType=n[0].coverageType,this.paymentConfirmationData.coverageLevel=n[0].coverageLevel,this.paymentConfirmationData.isRequiredExtraSports=n[0].isRequiredExtraSports,this.paymentConfirmationData.contactNumber=n[0].applicants[0].dialCode+n[0].applicants[0].contactNumber,this.paymentConfirmationData.addressline1=n[0].applicants[0].addressline1,this.paymentConfirmationData.addressline2=n[0].applicants[0].addressline2,this.paymentConfirmationData.state=n[0].applicants[0].state,this.paymentConfirmationData.city=n[0].applicants[0].city,this.paymentConfirmationData.pincode=n[0].applicants[0].pincode)}})}loadPaymentConfirmationData(t){var o,n,l,c,d,_,f,h,T,I,S,R,U,ie,he,_e,pe,Q,De,ze;return(0,v.mG)(this,void 0,void 0,function*(){this.utilityService.startNgxUiSpinner(),this.applicationDetailAfterConfirmation=t,this.appointmentDetail=t.applicants[0].appointment;let we=this.sessionService.applicationDetailValue;we=Object.assign(Object.assign({},we),this.sessionService.calculatedCodeData);const pt=[this.loadNationality(),this.getApplicationData(),this.getVisaCategoryCode(),this.getSubvisaCategoryCode()];let Ai,ho,yo,bo;(null===(o=this.configuration)||void 0===o?void 0:o.enableEntryType)?(Ai=this.commonService.loadEntryType(),pt.push(Ai)):pt.push(void 0),(null===(n=this.configuration)||void 0===n?void 0:n.enableServiceType)?(ho=this.commonService.loadServiceType(),pt.push(ho)):pt.push(void 0),(null===(l=this.configuration)||void 0===l?void 0:l.enableVisaType)&&(null===(c=this.configuration)||void 0===c?void 0:c.enableServiceType)?(yo=this.commonService.loadEOIVisaType(),pt.push(yo)):pt.push(void 0),(null===(d=this.configuration)||void 0===d?void 0:d.enableApplicationType)?(bo=this.commonService.loadSubmissionType(),pt.push(bo)):pt.push(void 0);const ti=yield Promise.all(pt),st=[this.utilityService.getnationalityName(this.nationalityList,this.sessionService.countryCode),this.utilityService.getnationalityName(this.nationalityList,this.sessionService.tenent),this.utilityService.filterVacFromCode(this.vacList,t.vacCode,"centerName"),this.utilityService.getNameFromCode(this.visaCategoryCode,t.parentVisaCategoryCode),this.utilityService.getNameFromCode(this.subVisaCategoryCode,t.visaCategoryCode),this.sessionService.vacFees,this.getFromConstant(null===(f=null===(_=null==t?void 0:t.applicants[0])||void 0===_?void 0:_.appointment)||void 0===f?void 0:f.categoryCode)];let So,Jt,On,En,kn;(null===(h=this.configuration)||void 0===h?void 0:h.enableEntryType)&&we.entryType?(So=this.utilityService.getCodeName(ti[4].entryTypes,we.entryType),st.push(So)):st.push(void 0),(null===(T=this.configuration)||void 0===T?void 0:T.enableServiceType)&&we.serviceType?(Jt=this.utilityService.getCodeName(ti[5],we.serviceType),st.push(Jt)):st.push(void 0),(null===(I=this.configuration)||void 0===I?void 0:I.enableVisaType)&&(null===(S=this.configuration)||void 0===S?void 0:S.enableServiceType)&&we.visaType?(On=this.utilityService.getCodeName(ti[6].eoiVisaTypes,we.visaType),st.push(On)):st.push(void 0),(null===(R=this.configuration)||void 0===R?void 0:R.enableApplicationType)&&we.applicationType?(En=this.utilityService.getCodeName(ti[7],we.applicationType),st.push(En)):st.push(void 0),(null===(U=this.configuration)||void 0===U?void 0:U.enableNationalityFilterForVisaCategory)&&we.countryCode?(kn=this.utilityService.getnationalityName(this.nationalityList,we.countryCode),st.push(kn)):st.push(void 0);const He=yield Promise.all(st),wn=null===(he=null===(ie=null==t?void 0:t.applicants[0])||void 0===ie?void 0:ie.appointment)||void 0===he?void 0:he.appoinmentDate,N2=null===(pe=null===(_e=null==t?void 0:t.applicants[0])||void 0===_e?void 0:_e.appointment)||void 0===pe?void 0:pe.appointmentTime;this.paymentConfirmationData={},this.paymentConfirmationData.vacCode=t.vacCode,this.paymentConfirmationData.entryType=He[7],this.paymentConfirmationData.serviceType=He[8],this.paymentConfirmationData.visaType=He[9],this.paymentConfirmationData.applicationType=He[10],this.paymentConfirmationData.nationalityName=He[11],this.paymentConfirmationData.applicants=t.applicants,this.paymentConfirmationData.countryName=He[0],this.paymentConfirmationData.missionName=He[1],this.paymentConfirmationData.vacCodeName=He[2],this.paymentConfirmationData.visaCategoryName=He[3],this.paymentConfirmationData.visaSubCategoryName=He[4],this.paymentConfirmationData.appointment_type=He[6],this.paymentConfirmationData.appointment_date=wn,this.appointmentDateFormat=this.utilityService.momentInstance(wn,"DD/MM/YYYY").format(this.dateFormat.toUpperCase()),this.paymentConfirmationData.appointmentTime=N2,this.paymentConfirmationData.fees_list=He[5],this.paymentConfirmationData.feesTotal=He[5].length>0?He[5].reduce((bt,mt)=>bt+mt.feeAmount,0):0,this.paymentConfirmationData.additionalFee=this.sessionService.additionalFees||[],this.paymentConfirmationData.additionalFeeTotal=(null===(Q=this.sessionService.additionalFees)||void 0===Q?void 0:Q.length)>0?this.sessionService.additionalFees.reduce((bt,mt)=>bt+((null==mt?void 0:mt.value)||0),0):0;const yt=[];t.applicants.forEach(bt=>{var mt;null===(mt=bt.vas)||void 0===mt||mt.forEach(Mt=>{var xo,Lo,Io;if("TMIPS"!==Mt.vasCode){const Zo=this.sessionService.applicantService.map(No=>No.code).indexOf(Mt.vasCode),ii=yt.map(No=>No.vasCode).indexOf(Mt.vasCode);ii>-1?(yt[ii].price=yt[ii].price+(null===(xo=this.sessionService.applicantService[Zo])||void 0===xo?void 0:xo.amount),yt[ii].quantity=yt[ii].quantity+1):(Mt.unitPrice=null===(Lo=this.sessionService.applicantService[Zo])||void 0===Lo?void 0:Lo.amount,Mt.price=null===(Io=this.sessionService.applicantService[Zo])||void 0===Io?void 0:Io.amount,Mt.quantity=1,yt.push(Mt))}})}),this.paymentConfirmationData.services=yt,this.paymentConfirmationData.serviceFeeTax=this.sessionService.serviceTax,this.paymentConfirmationData.servicesTotal=(null===(De=this.paymentConfirmationData.services)||void 0===De?void 0:De.length)>0?this.paymentConfirmationData.services.reduce((bt,mt)=>bt+(mt.price||0),0):0,this.paymentConfirmationData.overallTotal=this.paymentConfirmationData.servicesTotal+this.paymentConfirmationData.feesTotal+this.paymentConfirmationData.additionalFeeTotal;const xt=this.sessionService.applicantService.find(bt=>"TMIPS"===bt.code);xt&&yt.push(xt),this.paymentConfirmationData.services=yt,(null===(ze=this.sessionService.tmiVas)||void 0===ze?void 0:ze.length)>0&&(this.paymentConfirmationData.servicesTotal+=null==xt?void 0:xt.amount,this.paymentConfirmationData.overallTotal+=null==xt?void 0:xt.amount),this.fetchAddress(),re.N.production&&this.summaryGA(t),this.utilityService.stopNgxUiSpinner()})}tmiApplicantsName(t){let o="";return t.forEach(n=>{o+=n.firstName+" "+n.lastName+", "}),o.slice(0,-2)}get calFeesTotal(){var t,o,n,l,c;const d=null===(o=null===(t=this.paymentConfirmationData)||void 0===t?void 0:t.fees_list)||void 0===o?void 0:o.filter(_=>_.feeTypeCode===p.gT.FEE_TYPE_CODES.CVFEE);return d&&d.length>0?(null===(n=this.paymentConfirmationData)||void 0===n?void 0:n.feesTotal)-(null===(l=d[0])||void 0===l?void 0:l.feeAmount):null===(c=this.paymentConfirmationData)||void 0===c?void 0:c.feesTotal}summaryGA(t){var o,n,l,c,d;return(0,v.mG)(this,void 0,void 0,function*(){const _=this.sessionService.applicationConfiguration,f=t.applicants.filter(R=>null!==R.vas).length,h=null===(o=t.applicants)||void 0===o?void 0:o.length,T=t.applicants.reduce((R,U)=>{var ie;return R+(null===(ie=U.vas)||void 0===ie?void 0:ie.length)||0},0),I=Number(this.paymentConfirmationData.serviceFeeTax),S={ecommerce:{Applicants:h,"Vas Applicants":f,"Vas Quantity":T,currencyCode:this.currencyCode,purchase:{actionField:{id:this.activatedRoute.snapshot.queryParams.TransactionId||this.sessionService.urn,Applicants:h,"Vas Applicants":f,"Vas Quantity":T,affiliation:_.payAtVACEnabled?"Pay at vac":"Online Store",revenue:null===(n=this.paymentConfirmationData)||void 0===n?void 0:n.overallTotal.toFixed(Math.max(((Number(null===(l=this.paymentConfirmationData)||void 0===l?void 0:l.overallTotal)+"").split(".")[1]||"").length,2)),tax:I.toFixed(Math.max(((I+"").split(".")[1]||"").length,2)),shipping:"0.00",coupon:"",action:"purchase"},products:[]}}};T>0?null===(c=this.paymentConfirmationData.services)||void 0===c||c.forEach(R=>{S.ecommerce.purchase.products.push({name:R.name,id:R.vasId,price:R.price,brand:`${this.utilityService.countrynameByIso(window.location.pathname.split("/")[1])}/${this.utilityService.countrynameByIso(window.location.pathname.split("/")[3])}`,category:"VAS",variant:this.paymentConfirmationData.vacCodeName,quantity:R.quantity})}):S.ecommerce.purchase.products=[{name:"Applicant Count",id:"Applicant Count",price:this.paymentConfirmationData.overallTotal,brand:`${this.utilityService.countrynameByIso(window.location.pathname.split("/")[1])}/${this.utilityService.countrynameByIso(window.location.pathname.split("/")[3])}`,category:"VAC",variant:this.paymentConfirmationData.vacCodeName,quantity:null===(d=t.applicants)||void 0===d?void 0:d.length}],this.utilityService.sendConfirmationPageAnalytics(S)})}getApplicationData(){var t;return(0,v.mG)(this,void 0,void 0,function*(){const o=yield this.commonService.getVacCenters(null===(t=this.sessionService)||void 0===t?void 0:t.appCultureCode);o&&(this.vacList=o)})}loadNationality(){return(0,v.mG)(this,void 0,void 0,function*(){this.nationalityList=yield this.commonService.loadNationality()})}printAppointmentLetter(t){return(0,v.mG)(this,void 0,void 0,function*(){const o=yield this.httpService.payloadPost(p.gT.api.downloadPdf,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,loginUser:this.sessionService.getLoggedEmail(),urn:t,emailId:"",countactNumber:"",passportNumber:""}).toPromise().then(n=>n).catch(n=>n);this.utilityService.showFile(o)})}navigate(){this.sessionService.updateFees=!0,this.commonService.routeToPostLoginModule(p.m8.REVIEW_AND_PAY)}clearInProgressApplication(){this.utilityService.pushDataLayerGA({dl_event:"appointment_confirmation",dl_category:"Appointment Confirmation Page",dl_action:"Home",dl_label:"page_url"}),this.utilityService.clearInProgressApplication(),this.navigateToDashboard()}navigateToDashboard(){this.commonService.routeToDashboard()}getFromConstant(t){return-1===this.notStandardCode.indexOf(t)?"reviewAndPayment.pageDetails.para16":this.primeLongueCode.indexOf(t)>-1?"reviewAndPayment.pageDetails.para17":this.walkinCode.indexOf(t)>-1?"reviewAndPayment.pageDetails.para18":t}fetchAddress(){var t;return(0,v.mG)(this,void 0,void 0,function*(){if(this.commonService.checkIfPostal(this.applicationType))for(const o of null===(t=this.paymentConfirmationData)||void 0===t?void 0:t.applicants){o.postalList=[];const n=yield this.httpService.payloadPost(p.gT.api.getAddress,{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:this.paymentConfirmationData.vacCode,loginUser:this.sessionService.getLoggedEmail(),aurn:null==o?void 0:o.arn}).toPromise().then(l=>l).catch(l=>l);n&&o.postalList.push(n)}})}get websiteAddressVAC(){return this.utilityService.externalUrlAppend("attend-centre")}get websiteCounsularFee(){var t;return null===(t=this.sessionService.resourceGroupData)||void 0===t?void 0:t.onepager}getDateinPayAtBankSelected(){var t;this.payAtBankDetails.appointmentDate=this.utilityService.momentInstance(null===(t=this.sessionService.getAppointmentDetails())||void 0===t?void 0:t.date).format("DD/MM/YYYY"),this.payAtBankDetails.endDate=this.utilityService.momentInstance(this.utilityService.momentInstance(this.payAtBankDetails.appointmentDate,"DD/MM/YYYY").add(5,"days")).format("DD/MM/YYYY")}confirmVas(t){var o;return(0,v.mG)(this,void 0,void 0,function*(){try{const n={loginuser:this.sessionService.getLoggedEmail(),missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,urn:this.sessionService.urn,amount:null==t?void 0:t.Amount,currency:this.sessionService.currencyCode,transactionId:null==t?void 0:t.TransactionId,requestReferenceNo:null===(o=this.sessionService.paymentDetails)||void 0===o?void 0:o.requestrefno};return yield this.httpService.payloadPost(p.gT.api.confirmVas,n).toPromise()}catch(n){throw n}})}oabLogout(){this.sessionService.updateLoginStatus(!1),this.sessionService.clearSession(),this.commonService.routeToPostLoginModule(p.m8.TMI_OAB_Login)}get isOverSeasEnable(){var t;return 1==(null===(t=this.sessionService.applicationConfiguration)||void 0===t?void 0:t.isOverSeasEnable)}get countryNamelabel(){return this.commonService.translateValue(1==this.isOverSeasEnable?"eligibilityCriteria.formLabel.label23":"eligibilityCriteria.formLabel.label4")}get groupURNlabel(){return this.commonService.translateValue(1==this.isOverSeasEnable?"applicantInformation.formLabel.label25":"paymentConfirmation.formLabel.label7")}get isValidAdditionalFee(){return!this.configuration.isBelgiumHandshakeEnabled||!!(this.configuration.isBelgiumHandshakeEnabled&&this.paymentConfirmationData.additionalFee.length>0)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B.gz),e.Y36(Ye.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-payment-confirmation"]],features:[e.qOj],decls:1,vars:1,consts:[["class","container py-15 py-md-30",4,"ngIf"],[1,"container","py-15","py-md-30"],[4,"ngIf"],["class","form-card mb-20 mb-sm-50",4,"ngIf"],[1,"form-card","mb-20","mb-sm-50"],[1,"c-brand-grey-para","fs-sm-18","mb-8"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],["class","form-card p-0 border-0 shadow-none mat-card",4,"ngIf"],[4,"ngIf","ngIfElse"],["waitlistJourney",""],["class","payment-info mt-30 mb-n15 mx-md-n15 mb-n30 mb-sm-n15 mb-md-n30",4,"ngIf"],[1,"text-center","mb-20"],[1,"fa","fa-check-circle-o","fs-30","c-brand-green"],[1,"text-center","fs-21","fs-sm-24","mb-10"],["class","c-brand-grey-para fs-sm-18 mb-8",4,"ngIf"],["class","c-brand-grey-para fs-sm-18",4,"ngIf"],["class","c-brand-orange text-decoration-underline cursor-pointer",3,"click",4,"ngIf"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"c-brand-grey-para","fs-sm-18"],[1,"payment-info","mt-30","mb-n15","mx-md-n15","mb-n30","mb-sm-n15","mb-md-n30"],[1,"row","border-top","py-md-15","text-center"],[1,"col-12","col-md","py-15"],[1,"ff-500"],[1,"col-12","col-md","py-15","brd-middle"],[1,"c-brand-grey-para","fs-sm-18","mb-10"],[1,"mb-10"],["target","_blank",3,"href"],[1,"c-brand-orange","fs-sm-18","text-decoration-underline","cursor-pointer"],[1,"border-0","form-card","mat-card","mat-focus-indicator","mb-sm-50","p-0","shadow-none"],[1,"row","mt-auto",3,"type"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"fs-24","fs-sm-42","mb-30"],[1,"fs-18","fs-sm-24","mb-15"],["class","card border-bottom-2 mb-40",4,"ngIf"],[1,"card","border-bottom-2","mb-40"],[1,"list-group","list-group-flush"],[1,"fs-18","fs-sm-24","mb-20"],[1,"card","fs-sm-18","border-0","border-bottom-1"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-body","px-md-25","bg-brand-footer","rounded-4","mb-40"],[1,"row"],[1,"col"],[1,"col-auto","c-brand-green","text-right"],["class","row mb-20 mt-40",4,"ngIf"],["class","card fs-sm-18 border-0 border-bottom-1 mb-0",4,"ngIf"],[1,"card-body","px-md-25"],["class","row",4,"ngIf"],[1,"list-group-item","bg-brand-footer","px-md-25"],[1,"c-brand-grey-para"],[1,"fs-18","mt-8"],["class","list-group-item bg-brand-footer px-md-25",4,"ngIF"],["class","list-group-item bg-brand-footer px-md-25",4,"ngIf"],["class","list-group-item bg-brand-footer px-md-25",4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","no-gutters"],["class","col-12 col-md-6 my-15 pl-35",4,"ngIf"],[1,"col-12","col-md-6","my-15","pl-35"],[1,"cursor-pointer",3,"click"],[1,"fa","fa-print","fs-25","c-brand-blue-light","position-absolute","top-n3","left-0"],[1,"c-brand-grey-para","text-decoration-underline","cursor-pointer"],[1,"fs-18","fs-sm-24","mb-0"],[1,"card","fs-sm-18","border-0","border-bottom-1","mb-40"],["class","card-body border-bottom-1 px-md-25",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card-body","border-bottom-1","px-md-25","bg-brand-footer","rounded-4"],[1,"card-body","border-bottom-1","px-md-25"],[1,"col-12","col-sm-7"],[1,"col","c-brand-grey-para"],[1,"col-auto","text-right"],["class","card-body border-bottom-1 px-md-25",4,"ngIf"],[1,"row","mb-20","mt-40"],[1,"card","fs-sm-18","border-0","border-bottom-1","mb-0"],[1,"card"],[1,"card-body","p-15","px-md-25","bg-brand-footer","rounded-4"],["class","card-body border-bottom-1 p-15 px-md-25",4,"ngIf"],[1,"card-body","border-bottom-1","p-15","px-md-25"],[1,"col","fs-13","text-right"]],template:function(t,o){1&t&&e.YNc(0,op,3,2,"section",0),2&t&&e.Q6J("ngIf",o.requestComplete)},directives:[w.O5,X.a8,V.lW,qo,w.sg],pipes:[D.X$,w.uU,w.JJ],encapsulation:2}),i})();var ro=A(4566);const np=["fullcalendar"];function ap(i,s){if(1&i&&(e.TgZ(0,"div",21),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"countdown",22,23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,"header.headerLabel.label17"),""),e.xp6(2),e.Q6J("config",t.config)}}function sp(i,s){1&i&&(e.ynx(0),e.TgZ(1,"div",24)(2,"div",25),e._UZ(3,"i",26),e.TgZ(4,"div"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.BQk()),2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"bookAppointment.messages.errorMessages.message1")))}function lp(i,s){1&i&&(e.TgZ(0,"div",28)(1,"mat-radio-button",29),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("value",1),e.xp6(1),e.hij("",e.lcZ(3,2,"bookAppointment.radioBtn.label2")," "))}function rp(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-radio-group",27),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().slotType=n})("change",function(n){return e.CHM(t),e.oxw().radioChange(n)}),e.TgZ(2,"div",28)(3,"mat-radio-button",29),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.YNc(6,lp,4,4,"div",30),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.slotType),e.xp6(2),e.Q6J("value",0),e.xp6(1),e.hij("",e.lcZ(5,4,"bookAppointment.radioBtn.label1")," "),e.xp6(2),e.Q6J("ngIf",t.appConfiguration&&!t.isPtFlow&&t.appConfiguration.walkInOperationHours)}}function cp(i,s){1&i&&(e.TgZ(0,"div",28)(1,"mat-radio-button",29),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("value",0),e.xp6(1),e.hij("",e.lcZ(3,2,"bookAppointment.radioBtn.label1")," "))}function up(i,s){1&i&&(e.TgZ(0,"div",28)(1,"mat-radio-button",29),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("value",1),e.xp6(1),e.hij("",e.lcZ(3,2,"bookAppointment.radioBtn.label2")," "))}function dp(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-radio-group",27),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().slotType=n})("change",function(n){return e.CHM(t),e.oxw().radioChange(n)}),e.YNc(2,cp,4,4,"div",30),e.YNc(3,up,4,4,"div",30),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.slotType),e.xp6(1),e.Q6J("ngIf",t.isRescheduleAptmntMode&&0===t.slotType),e.xp6(1),e.Q6J("ngIf",t.appConfiguration&&!t.isPtFlow&&t.appConfiguration.walkInOperationHours&&t.isRescheduleAptmntMode&&1===t.slotType)}}function pp(i,s){1&i&&(e.ynx(0),e.TgZ(1,"div",31)(2,"div",32)(3,"div",33),e._uU(4,"\xa0"),e.qZA()(),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.BQk()),2&i&&(e.xp6(5),e.hij(" ",e.lcZ(6,1,"bookAppointment.pageDetails.para3")," "))}function mp(i,s){1&i&&(e.ynx(0),e.TgZ(1,"td")(2,"div"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"div",49),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.BQk()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"bookAppointment.pageDetails.para6")),e.xp6(4),e.hij(" ",e.lcZ(8,4,"bookAppointment.pageDetails.para7")," "))}function gp(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"td")(2,"div"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"div",49),e._uU(7),e.qZA()(),e.BQk()),2&i){const t=e.oxw(4);e.xp6(3),e.Oqu(e.lcZ(4,3,"bookAppointment.pageDetails.para9")),e.xp6(4),e.AsE("",t.currencyCode," ",null==t.priceWithCurrency?null:t.priceWithCurrency.primetime,"")}}function _p(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"td")(2,"div"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",49),e._uU(6),e.qZA()(),e.BQk()),2&i){const t=e.oxw(4);e.xp6(3),e.Oqu(e.lcZ(4,3,"bookAppointment.pageDetails.para11")),e.xp6(3),e.AsE("",t.currencyCode," ",null==t.priceWithCurrency?null:t.priceWithCurrency.premiumlongue,"")}}function fp(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"td")(2,"div"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",49),e._uU(6),e.qZA()(),e.BQk()),2&i){const t=e.oxw(4);e.xp6(3),e.Oqu(e.lcZ(4,3,"bookAppointment.pageDetails.para10")),e.xp6(3),e.AsE("",t.currencyCode," ",t.priceWithCurrency.premiumprime,"")}}function vp(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"td")(2,"div"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"div",49),e._uU(7),e.qZA()(),e.BQk()),2&i){const t=e.oxw(4);e.xp6(3),e.Oqu(e.lcZ(4,3,"bookAppointment.pageDetails.para21")),e.xp6(4),e.AsE("",t.currencyCode," ",null==t.priceWithCurrency?null:t.priceWithCurrency.vayd,"")}}function hp(i,s){1&i&&(e.ynx(0),e.TgZ(1,"td",50),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"bookAppointment.pageDetails.para8")))}function yp(i,s){1&i&&(e.ynx(0),e.TgZ(1,"td",50),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"bookAppointment.pageDetails.para12")))}function bp(i,s){1&i&&(e.ynx(0),e.TgZ(1,"td",50),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"bookAppointment.pageDetails.para13")))}function Cp(i,s){1&i&&(e.ynx(0),e.TgZ(1,"td",50),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"bookAppointment.pageDetails.para13")))}function Ap(i,s){1&i&&(e.ynx(0),e.TgZ(1,"td",50),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"bookAppointment.pageDetails.para22")))}const Xt=function(i){return{active:i}};function Tp(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",53),e._uU(2),e.qZA(),e.TgZ(3,"div",54)(4,"input",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,l=e.oxw(4);return l.selectedTime=null==n?null:n.time,l.slotTypeName="reviewAndPayment.pageDetails.para16",l.selectedSlotCategory="Standard",l.selectedAllocationId=null==n||null==n.st?null:n.st.allocationId,l.selectedSlotRange=null==n||null==n.st?null:n.st.timeSlot,l.slotService=null,l.savePageDataToSession()}),e.qZA(),e.TgZ(5,"label",56)(6,"div",57)(7,"div",58),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",59),e._UZ(11,"i",60),e._uU(12),e.ALo(13,"translate"),e.qZA()()()(),e.BQk()}if(2&i){const t=e.oxw(2),o=t.$implicit,n=t.index,l=e.oxw(4);e.xp6(2),e.Oqu(null!=o&&null!=o.st&&o.st.allocationId?null==o||null==o.st?null:o.st.allocationId:""),e.xp6(2),e.MGl("id","STRadio",n+1,""),e.Q6J("ngClass",e.VKq(10,Xt,l.selectedAllocationId==(null==o||null==o.st?null:o.st.allocationId))),e.xp6(1),e.MGl("for","STRadio",n+1,""),e.xp6(3),e.Oqu(e.lcZ(9,6,"commonSections.formLabel.label1")),e.xp6(4),e.hij("",e.lcZ(13,8,"bookAppointment.pageDetails.para20")," ")}}function Sp(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"td"),e.YNc(2,Tp,14,12,"ng-container",3),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",0!==(null==t||null==t.st?null:t.st.remainingSeats))}}function xp(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",53),e._uU(2),e.qZA(),e.TgZ(3,"div",54)(4,"input",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,l=e.oxw(4);return l.selectedTime=null==n?null:n.time,l.slotTypeName="reviewAndPayment.pageDetails.para16",l.selectedSlotCategory="Standard",l.selectedAllocationId=null==n||null==n.pt?null:n.pt.allocationId,l.selectedSlotRange=null==n||null==n.pt?null:n.pt.timeSlot,l.slotService=l.getFees(l.PRIMETIME_VASCODE),l.savePageDataToSession()}),e.qZA(),e.TgZ(5,"label",61)(6,"div",57)(7,"div",58),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",59),e._UZ(11,"i",60),e._uU(12),e.qZA()()()(),e.BQk()}if(2&i){const t=e.oxw(2),o=t.$implicit,n=t.index,l=e.oxw(4);e.xp6(2),e.Oqu(null!=o&&null!=o.pt&&o.pt.allocationId?null==o||null==o.pt?null:o.pt.allocationId:""),e.xp6(2),e.MGl("id","PTRadio",n+1,""),e.Q6J("ngClass",e.VKq(9,Xt,l.selectedAllocationId==(null==o||null==o.pt?null:o.pt.allocationId))),e.xp6(1),e.MGl("for","PTRadio",n+1,""),e.xp6(3),e.Oqu(e.lcZ(9,7,"commonSections.formLabel.label1")),e.xp6(4),e.AsE(" ",l.currencyCode," ",null==l.priceWithCurrency?null:l.priceWithCurrency.primetime," ")}}function Lp(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"td"),e.YNc(2,xp,13,11,"ng-container",3),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",0!==(null==t||null==t.pt?null:t.pt.remainingSeats))}}function Ip(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",53),e._uU(2),e.qZA(),e.TgZ(3,"div",54)(4,"input",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,l=e.oxw(4);return l.selectedTime=null==n?null:n.time,l.slotTypeName="reviewAndPayment.pageDetails.para17",l.selectedSlotCategory="PL",l.selectedAllocationId=null==n||null==n.pl?null:n.pl.allocationId,l.selectedSlotRange=null==n||null==n.pl?null:n.pl.timeSlot,l.slotService=l.getFees(l.PRIMELONGUE_VASCODE),l.savePageDataToSession()}),e.qZA(),e.TgZ(5,"label",61)(6,"div",57)(7,"div",58),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",59),e._UZ(11,"i",60),e._uU(12),e.qZA()()()(),e.BQk()}if(2&i){const t=e.oxw(2),o=t.$implicit,n=t.index,l=e.oxw(4);e.xp6(2),e.Oqu(null!=o&&null!=o.pl&&o.pl.allocationId?null==o||null==o.pl?null:o.pl.allocationId:""),e.xp6(2),e.MGl("id","PLRadio",n+1,""),e.Q6J("ngClass",e.VKq(9,Xt,l.selectedAllocationId==(null==o||null==o.pl?null:o.pl.allocationId))),e.xp6(1),e.MGl("for","PLRadio",n+1,""),e.xp6(3),e.Oqu(e.lcZ(9,7,"commonSections.formLabel.label1")),e.xp6(4),e.AsE(" ",l.currencyCode," ",null==l.priceWithCurrency?null:l.priceWithCurrency.premiumlongue," ")}}function Zp(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"td"),e.YNc(2,Ip,13,11,"ng-container",3),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",0!==(null==t||null==t.pl?null:t.pl.remainingSeats))}}function Np(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",53),e._uU(2),e.qZA(),e.TgZ(3,"div",54)(4,"input",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,l=e.oxw(4);return l.selectedTime=null==n?null:n.time,l.selectedSlotCategory="Prime Lounge",l.selectedAllocationId=null==n||null==n.ptpl?null:n.ptpl.allocationId,l.selectedSlotRange=null==n||null==n.ptpl?null:n.ptpl.timeSlot,l.slotService=l.primePremiumService,l.savePageDataToSession()}),e.qZA(),e.TgZ(5,"label",61)(6,"div",57)(7,"div",58),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",59),e._UZ(11,"i",60),e._uU(12),e.qZA()()()(),e.BQk()}if(2&i){const t=e.oxw(2),o=t.$implicit,n=t.index,l=e.oxw(4);e.xp6(2),e.Oqu(null!=o&&null!=o.ptpl&&o.ptpl.allocationId?null==o||null==o.ptpl?null:o.ptpl.allocationId:""),e.xp6(2),e.MGl("id","PLRadio",n+1,""),e.Q6J("ngClass",e.VKq(9,Xt,l.selectedAllocationId==(null==o||null==o.ptpl?null:o.ptpl.allocationId))),e.xp6(1),e.MGl("for","PLRadio",n+1,""),e.xp6(3),e.Oqu(e.lcZ(9,7,"commonSections.formLabel.label1")),e.xp6(4),e.AsE(" ",l.currencyCode," ",l.priceWithCurrency.premiumprime," ")}}function Dp(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"td"),e.YNc(2,Np,13,11,"ng-container",3),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",0!==(null==t||null==t.ptpl?null:t.ptpl.remainingSeats))}}function Op(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",53),e._uU(2),e.qZA(),e.TgZ(3,"div",54)(4,"input",55),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2).$implicit,l=e.oxw(4);return l.selectedTime=null==n?null:n.time,l.slotTypeName="VAYD",l.selectedSlotCategory="VAYD",l.selectedAllocationId=null==n||null==n.vayd?null:n.vayd.allocationId,l.selectedSlotRange=null==n||null==n.vayd?null:n.vayd.timeSlot,l.slotService=l.getFees(l.VAYD_VASCODE),l.savePageDataToSession()}),e.qZA(),e.TgZ(5,"label",61)(6,"div",57)(7,"div",58),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",59),e._UZ(11,"i",60),e._uU(12),e.qZA()()()(),e.BQk()}if(2&i){const t=e.oxw(2),o=t.$implicit,n=t.index,l=e.oxw(4);e.xp6(2),e.Oqu(null!=o&&null!=o.vayd&&o.vayd.allocationId?null==o||null==o.vayd?null:o.vayd.allocationId:""),e.xp6(2),e.MGl("id","VAYDRadio",n+1,""),e.Q6J("ngClass",e.VKq(9,Xt,l.selectedAllocationId==(null==o||null==o.vayd?null:o.vayd.allocationId))),e.xp6(1),e.MGl("for","VAYDRadio",n+1,""),e.xp6(3),e.Oqu(e.lcZ(9,7,"commonSections.formLabel.label1")),e.xp6(4),e.AsE(" ",l.currencyCode," ",null==l.priceWithCurrency?null:l.priceWithCurrency.vayd," ")}}function Ep(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"td"),e.YNc(2,Op,13,11,"ng-container",3),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngIf",0!==(null==t||null==t.vayd?null:t.vayd.remainingSeats))}}const kp=function(i){return{"d-none":i}};function wp(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"tr",51)(2,"td",52),e._uU(3),e.qZA(),e.YNc(4,Sp,3,1,"ng-container",3),e.YNc(5,Lp,3,1,"ng-container",3),e.YNc(6,Zp,3,1,"ng-container",3),e.YNc(7,Dp,3,1,"ng-container",3),e.YNc(8,Ep,3,1,"ng-container",3),e.qZA(),e.BQk()),2&i){const t=s.$implicit,o=s.index,n=e.oxw(4);e.xp6(1),e.Q6J("ngClass",e.VKq(7,kp,o>=n.slotBracketSize)),e.xp6(2),e.Oqu(null==t?null:t.time),e.xp6(1),e.Q6J("ngIf",n.checkIfExist("st")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode&&-1===n.notStandardCode.indexOf(n.selectedSlotCategory))),e.xp6(1),e.Q6J("ngIf",n.checkIfExist("pt")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode)),e.xp6(1),e.Q6J("ngIf",n.checkIfExist("pl")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode&&"pl"===(null==n.selectedSlotCategory?null:n.selectedSlotCategory.toLowerCase()))),e.xp6(1),e.Q6J("ngIf",n.checkIfExist("ptpl")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode&&n.primeLongueCode.indexOf(n.selectedSlotCategory)>-1)),e.xp6(1),e.Q6J("ngIf",n.checkIfExist("vayd")&&(!n.isRescheduleAptmntMode||n.isRescheduleAptmntMode))}}function Fp(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",42)(2,"table",43)(3,"tbody")(4,"tr",44)(5,"td",45),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,mp,9,6,"ng-container",3),e.YNc(9,gp,8,5,"ng-container",3),e.YNc(10,_p,7,5,"ng-container",3),e.YNc(11,fp,7,5,"ng-container",3),e.YNc(12,vp,8,5,"ng-container",3),e.qZA(),e.TgZ(13,"tr",46),e._UZ(14,"td"),e.YNc(15,hp,4,3,"ng-container",3),e.YNc(16,yp,4,3,"ng-container",3),e.YNc(17,bp,4,3,"ng-container",3),e.YNc(18,Cp,4,3,"ng-container",3),e.YNc(19,Ap,4,3,"ng-container",3),e.qZA(),e.YNc(20,wp,9,9,"ng-container",47),e.qZA()()(),e.TgZ(21,"button",48),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showTopOnes("add")}),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(3);e.xp6(6),e.Oqu(e.lcZ(7,15,"bookAppointment.pageDetails.para5")),e.xp6(2),e.Q6J("ngIf",t.checkIfExist("st")&&(!t.isRescheduleAptmntMode||t.isRescheduleAptmntMode&&-1===t.notStandardCode.indexOf(t.selectedSlotCategory))),e.xp6(1),e.Q6J("ngIf",t.checkIfExist("pt")&&(!t.isRescheduleAptmntMode||t.isRescheduleAptmntMode)),e.xp6(1),e.Q6J("ngIf",t.checkIfExist("pl")&&(!t.isRescheduleAptmntMode||t.isRescheduleAptmntMode&&"pl"===(null==t.selectedSlotCategory?null:t.selectedSlotCategory.toLowerCase()))),e.xp6(1),e.Q6J("ngIf",t.checkIfExist("ptpl")&&(!t.isRescheduleAptmntMode||t.isRescheduleAptmntMode&&t.primeLongueCode.indexOf(t.selectedSlotCategory)>-1)),e.xp6(1),e.Q6J("ngIf",t.checkIfExist("vayd")&&(!t.isRescheduleAptmntMode||t.isRescheduleAptmntMode)),e.xp6(3),e.Q6J("ngIf",t.checkIfExist("st")&&(!t.isRescheduleAptmntMode||t.isRescheduleAptmntMode&&-1===t.notStandardCode.indexOf(t.selectedSlotCategory))),e.xp6(1),e.Q6J("ngIf",t.checkIfExist("pt")&&(!t.isRescheduleAptmntMode||t.isRescheduleAptmntMode)),e.xp6(1),e.Q6J("ngIf",t.checkIfExist("pl")&&(!t.isRescheduleAptmntMode||t.isRescheduleAptmntMode&&"pl"===(null==t.selectedSlotCategory?null:t.selectedSlotCategory.toLowerCase()))),e.xp6(1),e.Q6J("ngIf",t.checkIfExist("ptpl")&&(!t.isRescheduleAptmntMode||t.isRescheduleAptmntMode&&t.primeLongueCode.indexOf(t.selectedSlotCategory)>-1)),e.xp6(1),e.Q6J("ngIf",t.checkIfExist("vayd")&&(!t.isRescheduleAptmntMode||t.isRescheduleAptmntMode)),e.xp6(1),e.Q6J("ngForOf",t.availableSlots)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("disabled",(null==t.availableSlots?null:t.availableSlots.length)<=t.slotBracketSize),e.xp6(1),e.hij(" ",e.lcZ(23,17,"commonSections.buttons.button33")," ")}}function Mp(i,s){1&i&&(e.ynx(0),e.TgZ(1,"div",62)(2,"div",15),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.BQk()),2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"bookAppointment.pageDetails.para18")," "))}function Pp(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"h2",34),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",35)(5,"mat-form-field",36)(6,"mat-select",37),e.NdJ("selectionChange",function(n){return e.CHM(t),e.oxw(2).filterSlots(n)})("ngModelChange",function(n){return e.CHM(t),e.oxw(2).filterSlot=n}),e.ALo(7,"translate"),e.TgZ(8,"mat-option",38),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"mat-option",39),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"mat-option",40),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"mat-option",41),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.YNc(20,Fp,24,19,"ng-container",3),e.YNc(21,Mp,5,3,"ng-container",3),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,9,"bookAppointment.headerLabel.label4")),e.xp6(4),e.s9C("placeholder",e.lcZ(7,11,"commonSections.formLabel.label1")),e.Q6J("ngModel",t.filterSlot),e.xp6(3),e.Oqu(e.lcZ(10,13,"bookAppointment.pageDetails.para14")),e.xp6(3),e.Oqu(e.lcZ(13,15,"bookAppointment.pageDetails.para15")),e.xp6(3),e.Oqu(e.lcZ(16,17,"bookAppointment.pageDetails.para16")),e.xp6(3),e.Oqu(e.lcZ(19,19,"bookAppointment.pageDetails.para17")),e.xp6(2),e.Q6J("ngIf",t.checkIfExist("pt")||t.checkIfExist("st")||t.checkIfExist("pl")||t.checkIfExist("vayd")),e.xp6(1),e.Q6J("ngIf",!(t.checkIfExist("pt")||t.checkIfExist("st")||t.checkIfExist("pl")||t.checkIfExist("vayd")))}}function Up(i,s){if(1&i&&(e.ynx(0),e.YNc(1,Pp,22,21,"ng-container",3),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.cloneSlots?null:t.cloneSlots.length)>0)}}function qp(i,s){if(1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.AsE(" ",e.lcZ(2,2,"bookAppointment.radioBtn.label2")," ",t.walkingMessage," ")}}function Gp(i,s){1&i&&(e._uU(0),e.ALo(1,"translate")),2&i&&e.hij(" ",e.lcZ(1,1,"bookAppointment.pageDetails.para19")," ")}function Vp(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",62)(2,"div",15),e.YNc(3,qp,3,4,"ng-container",63),e.YNc(4,Gp,2,3,"ng-template",null,64,e.W1O),e.qZA()(),e.BQk()),2&i){const t=e.MAs(5),o=e.oxw();e.xp6(3),e.Q6J("ngIf",o.selectedTime)("ngIfElse",t)}}function Rp(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",68),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).routeToDashboard()}),e.TgZ(1,"button",69),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"bookAppointment.buttons.button1")," "))}function Jp(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",68),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).routePrevious()}),e.TgZ(1,"button",69),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"commonSections.buttons.button8")," "))}function Yp(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",70)(1,"button",71),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).saveAndContinue()}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.checkIfDisabled()),e.xp6(1),e.hij(" ",e.lcZ(3,2,"commonSections.buttons.button19")," ")}}function Qp(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",70)(1,"button",71),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).slotConfirmForwaitlist()}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.checkIfDisabled()),e.xp6(1),e.hij(" ",e.lcZ(3,2,"commonSections.buttons.button4")," ")}}function Bp(i,s){if(1&i&&(e.TgZ(0,"div",65),e.YNc(1,Rp,4,3,"div",66),e.YNc(2,Jp,4,3,"div",66),e.YNc(3,Yp,4,4,"div",67),e.YNc(4,Qp,4,4,"div",67),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.isRescheduleAptmntMode||t.iswaitlistScheduleMode),e.xp6(1),e.Q6J("ngIf",!(t.isRescheduleAptmntMode||t.iswaitlistScheduleMode)),e.xp6(1),e.Q6J("ngIf",!t.waitlistPayment),e.xp6(1),e.Q6J("ngIf",t.waitlistPayment)}}function jp(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",65)(1,"div",72)(2,"button",71),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveAndContinue()}),e._uU(3),e.ALo(4,"translate"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.checkIfDisabled()),e.xp6(1),e.hij(" ",e.lcZ(4,2,"commonSections.buttons.button19")," ")}}let Ho=(()=>{class i extends Ze.o{constructor(t,o,n){super(),this.httpService=t,this.sessionService=o,this.cd=n,this.PRIMETIME_VASCODE=p.$r,this.PRIMELONGUE_VASCODE=p.dF,this.VAYD_VASCODE=p.M3,this.environment=re.N,this.calendarOptions={showNonCurrentDates:!1,fixedWeekCount:!1,initialView:"dayGridMonth",firstDay:1,validRange:{start:ft()().startOf("month").format("YYYY-MM-DD"),end:ft()().add(365,"days").endOf("month").format("YYYY-MM-DD")},editable:!1,dateClick:this.handleDateClick.bind(this)},this.availableSlots=[],this.walkinCode=p.EB,this.primeTimeCode=p._B,this.primeLongueCode=p.XJ,this.vaydcode=p.lv,this.primeTimePremiumLoungeCode=p.nF,this.availableDates=[],this.notStandardCode=[...this.primeLongueCode,...this.walkinCode,...this.vaydcode],this.initBaseForm(p.gT.modules.BOOK_APPOINTMENT),this.allowedDates=[],this.timeSlots=[],this.slotType=0,this.tempTrStartValue=1,this.tempTrEndValue=5,this.tableRowCount=0,this.cloneSlots=[],this.appConfiguration=this.sessionService.applicationConfiguration,this.filterSlot="All",this.serviceList=[],this.loadVasByVac(),this.currencyCode="",this.walkingMessage="",this.selectedSlotRange="",this.selectedAllocationId="",this.priceWithCurrency={},this.slotTypeName="",this.increaseSlotBy=5}setupRangeAndDate(){try{const o=Number(this.utilityService.momentInstance(this.sessionService.latestSlotAvailiable,"DD/MM/YYYY").format("MM"))-Number(this.utilityService.momentInstance().format("MM"));this.startDate=o>0?this.utilityService.momentInstance().add(o,"months").startOf("month").format("YYYY-MM-DD hh:mm:ss"):this.utilityService.momentInstance().add(o,"months").add(1,"days").format("YYYY-MM-DD hh:mm:ss"),this.endDate=this.utilityService.momentInstance().add(o,"months").endOf("month").format("YYYY-MM-DD hh:mm:ss");for(let n=0;n<o;n++)$(".fc-next-button").click()}catch(t){console.log(t)}}ngOnInit(){const t={dl_category:"book appointment",dl_action:"book appointment pageview",dl_label:this.utilityService.countrynameByIso(this.sessionService.countryCode),value:void 0};this.utilityService.fireCustomEvent(t),this.commonService.loadClientIp(),this.timeLeft=String(300),this.isPtFlow&&!this.isRescheduleAptmntMode&&this.start(),this.calendarOptions.locale=this.sessionService.appCultureCode;const o=this.sessionService.applicantService,n=null==o?void 0:o.filter(l=>"timeslot"===l.timeslot);this.slotService=(null==n?void 0:n.length)>0?n:[],this.slotBracketSize=this.increaseSlotBy,this.waitlistPayment=this.sessionService.isWaitlistPayment,this.mapFee(),this.commonService.bookingMaxtimeSessionTrackStart()}ngAfterViewChecked(){this.calendarApi=this.calendarComponent.getApi()}start(){this.config={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(31535300)}ngAfterViewInit(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.sessionService.getAppointmentDetails()?yield this.initFocus():this.setupRangeAndDate();const t=this.sessionService.getAppointmentDetails();t&&(this.startDate=this.utilityService.momentInstance(null==t?void 0:t.date).isAfter(this.utilityService.momentInstance().endOf("month"))?this.utilityService.momentInstance(null==t?void 0:t.date).startOf("month").format("YYYY-MM-DD"):this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD"),this.endDate=this.utilityService.momentInstance(null==t?void 0:t.date).endOf("month").format("YYYY-MM-DD")),this.updateWaitlistStatus(),this.loadAppointmentSlots(),$(".fc-prev-button").click(()=>{setTimeout(()=>{$("td.date-availiable > .active").removeClass("active")}),this.selectedDate=null,this.startDate=this.utilityService.momentInstance(this.calendarApi.view.activeStart).isBefore(this.utilityService.momentInstance())&&this.utilityService.momentInstance(this.calendarApi.view.activeStart).isSame(new Date,"month")?this.utilityService.momentInstance().add(1,"days").format("YYYY-MM-DD hh:mm:ss"):this.utilityService.momentInstance(this.calendarApi.view.activeStart).format("YYYY-MM-DD hh:mm:ss"),this.endDate=this.utilityService.momentInstance(this.utilityService.momentInstance(this.calendarApi.view.activeStart).endOf("month").format()).format("YYYY-MM-DD hh:mm:ss"),this.loadAppointmentSlots()}),$(".fc-next-button").click(()=>{setTimeout(()=>{$("td.date-availiable > .active").removeClass("active")}),this.selectedDate=null,this.startDate=this.utilityService.momentInstance(this.calendarApi.view.activeStart).format("YYYY-MM-DD hh:mm:ss"),this.endDate=this.utilityService.momentInstance(this.utilityService.momentInstance(this.calendarApi.view.activeStart).endOf("month").format()).format("YYYY-MM-DD hh:mm:ss"),this.loadAppointmentSlots()})}catch(t){console.log(t)}})}initFocus(){try{return new Promise(t=>{const o=this.sessionService.getAppointmentDetails();if(!o)return void t(!0);this.selectedDate=o.date;const n=this.utilityService.momentInstance(o.date).month()-this.utilityService.momentInstance().month();for(let l=0;l<n;l++)$(".fc-next-button").click();t(!0)})}catch(t){console.log(t)}}handleDateClick(t){return(0,v.mG)(this,void 0,void 0,function*(){const n=this.allowedDates.filter(l=>l.start===t.dateStr);n.length>0&&(0===this.slotType?(this.selectedDate=null,this.walkingMessage="",this.selectedTime=null,this.selectedSlotCategory=null,this.selectedAllocationId="",this.selectedSlotRange="",this.slotService=[],this.detectChanges(),this.showTimeSlots(n[0])):(this.selectedDate=t.dateStr,$("td.date-availiable > .active").removeClass("active"),$(`td[data-date="${n[0].start}"]`).children().addClass("active"),this.handleWalkin()))})}detectChanges(){this.cd.detectChanges()}filterWalkindata(t){return new Promise(o=>{var n,l;o(null===(l=null===(n=t.otherRespose.counters.filter(d=>this.walkinCode.includes(d.categoryCode))[0])||void 0===n?void 0:n.groups[0])||void 0===l?void 0:l.timeSlots[0])})}radioChange(t){return(0,v.mG)(this,void 0,void 0,function*(){this.selectedDate&&this.handleDateClick({dateStr:this.selectedDate}),1===t.value&&this.selectedDate&&this.handleWalkin()})}handleWalkin(){return(0,v.mG)(this,void 0,void 0,function*(){const t=this.allowedDates.filter(n=>n.start===this.selectedDate),o=yield this.filterWalkindata(t[0]);this.selectedTime=null==o?void 0:o.timeSlot,this.selectedSlotCategory="WWA",this.slotTypeName="Walk-in Anytime",this.selectedAllocationId=null==o?void 0:o.allocationId,this.selectedSlotRange=null==o?void 0:o.timeSlot,this.slotService=[],this.walkingMessage="Walk-in hours are from "+(null==o?void 0:o.timeSlot)})}showTimeSlots(t){var o;return(0,v.mG)(this,void 0,void 0,function*(){const n=t.start;$("td.date-availiable > .active").removeClass("active"),$(`td[data-date="${n}"]`).children().addClass("active"),this.filterSlot="All",this.tempTrStartValue=1,this.tempTrEndValue=5,this.selectedDate=n;const l=yield this.generateTimeSlots(t.otherRespose.counters);this.timeSlots=l,this.cloneSlots=yield this.constructSlotWiseData(t.otherRespose.counters),this.availableSlots=this.cloneSlots,this.tableRowCount=null===(o=this.availableSlots)||void 0===o?void 0:o.length,setTimeout(()=>{this.availableSlots.length<this.slotBracketSize&&(this.slotBracketSize=this.availableSlots.length),this.detectChanges(),this.showTopOnes()},1e3)})}generateTimeSlots(t){return new Promise((o,n)=>{const l=[];t.map((c,d)=>{c.groups.map(_=>{_.timeSlots.map(f=>(0,v.mG)(this,void 0,void 0,function*(){const h=f.timeSlot.split("-"),T=Number(h[0].split(":")[0]);let I,S=h[0],R=h[1];T<12?(I="Morning",S=h[0].split(":")[0].length>1?h[0]:"0"+h[0],R=h[1].split(":")[0].length>1?h[1]:"0"+h[1]):I=T<18?"Afternoon":"Evening",l.push({time:S,slotType:I,range:`${S}-${R}`}),d===t.length-1&&(l.reduceRight((U,ie,he)=>(U[ie.time]?l.splice(he,1):U[ie.time]=!0,U),Object.create(null)),yield l.sort((U,ie)=>Number(U.time.replace(/:/g,""))-Number(ie.time.replace(/:/g,""))),o(l))}))})})})}checkIfExist(t){return this.availableSlots.reduce((n,l)=>"st"===t?(n[l.st]=(n[l.st]||0)+1,n):"pt"===t?(n[l.pt]=(n[l.pt]||0)+1,n):"pl"===t?(n[l.pl]=(n[l.pl]||0)+1,n):"vayd"===t?(n[l.vayd]=(n[l.vayd]||0)+1,n):"ptpl"===t?(n[l.ptpl]=(n[l.ptpl]||0)+1,n):void 0,{}).hasOwnProperty("[object Object]")}filterSlots(t){this.filterSlot=t.value,this.tempTrStartValue=1,this.tempTrEndValue=5;const o=this.cloneSlots;"All"===t.value?(this.availableSlots=o,this.tableRowCount=this.availableSlots.length,setTimeout(()=>{this.showTopOnes()},1e3)):(this.availableSlots=o.filter(n=>n.slotType===t.value),this.tableRowCount=this.availableSlots.length,setTimeout(()=>{this.showTopOnes()},1e3))}showTopOnes(t){var o;(null===(o=this.availableSlots)||void 0===o?void 0:o.length)<=this.slotBracketSize||(this.utilityService.strictCompare(t,"add")&&(this.slotBracketSize=this.slotBracketSize+this.increaseSlotBy,this.slotBracketSize>this.availableSlots.length&&(this.slotBracketSize=this.availableSlots.length)),this.detectChanges())}savePageDataToSession(){try{this.sessionService.saveAppointmentDetails({slotTypeName:this.slotTypeName,slotType:this.selectedSlotCategory,date:this.selectedDate,time:this.selectedTime,allocationId:this.selectedAllocationId,allocationSlot:this.selectedSlotRange?this.selectedSlotRange:this.selectedTime,appointmentSlotType:this.slotType}),this.utilityService.fireCustomEvent({dl_category:"book appointment",dl_action:"appointment type selection",dl_label:"Choose a slot",value:this.selectedSlotRange})}catch(t){console.log(t)}}saveAndContinue(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.utilityService.fireCustomEvent({dl_category:"BookanAppointment",dl_action:"chooseaslot",dl_label:"BookanAppointmentCotinueClick",value:void 0}),yield this.addServiceToUser(),this.savePageDataToSession(),this.routeNext()}catch(t){console.log(t)}})}addServiceToUser(){var t;return(0,v.mG)(this,void 0,void 0,function*(){let o=[];const n=this.sessionService.applicantService;n&&n.length>0&&(o=n.filter(l=>"timeslot"!==l.timeslot),this.sessionService.applicantService=o),(null===(t=this.slotService)||void 0===t?void 0:t.length)>0&&this.slotService.forEach((l,c)=>(0,v.mG)(this,void 0,void 0,function*(){const d=yield this.commonService.modifyServiceList(l);this.slotService[c].unit=d.applicants.length,this.slotService[c].total=d.applicants.length*l.amount,this.slotService[c].modifiedList=d.applicants,this.slotService[c].timeslot="timeslot";const _=o.findIndex(f=>f.code===l.code);_>-1&&o.splice(_,1),o.push(l),this.sessionService.applicantService=o,this.sessionService.updateFees=!0}))})}get primePremiumService(){return this.serviceList.filter(t=>"Prime Time"===t.name||"Premium Lounge Service"===t.name)}checkIfDisabled(){return!(this.selectedSlotCategory&&this.selectedDate&&this.selectedTime)}constructSlotWiseData(t){return(0,v.mG)(this,void 0,void 0,function*(){try{const o=[],n=yield this.extractStandardSlots(t),l=yield this.extractTimeSlots(t,this.vaydcode),c=yield this.extractTimeSlots(t,this.primeLongueCode),d=yield this.extractSlotByTypeAndCondition(n,"prime"),_=yield this.extractSlotByTypeAndCondition(n,"normal"),f=yield this.extractSlotByTypeAndCondition(c,"prime"),h=yield this.extractSlotByTypeAndCondition(c,"normal"),T=yield this.extractSlotByTypeAndCondition(l,"normal");for(const I of this.timeSlots){const S={time:null,st:null,pt:null,pl:null,slotType:null,ptpl:null,vayd:null};S.slotType=I.slotType,S.time=I.time,S.st=this.checkIfSlotExistsForCategory(I.range,_),S.pt=this.checkIfSlotExistsForCategory(I.range,d),S.pl=this.checkIfSlotExistsForCategory(I.range,h),S.ptpl=this.checkIfSlotExistsForCategory(I.range,f),S.vayd=this.checkIfSlotExistsForCategory(I.range,T),o.push(S)}for(const I in o)void 0===o[I].st&&void 0===o[I].pt&&void 0===o[I].pl&&void 0===o[I].vayd&&delete o[I];return o.filter(I=>null!=I)}catch(o){console.log(o)}})}checkIfSlotExistsForCategory(t,o){try{return o.find(l=>String(l.timeSlot).split(" ").join("")===t.split(" ").join(""))}catch(n){throw n}}extractTimeSlots(t,o){return(0,v.mG)(this,void 0,void 0,function*(){try{const n=t.find(c=>o.indexOf(c.categoryCode)>-1);let l;return n&&(l=yield this.alterMappedData(n.groups[0].timeSlots)),n?l:[]}catch(n){throw n}})}extractStandardSlots(t){return(0,v.mG)(this,void 0,void 0,function*(){try{const o=t.find(l=>-1===this.notStandardCode.indexOf(l.categoryCode));let n;return o&&(n=yield this.alterMappedData(o.groups[0].timeSlots)),o?n:[]}catch(o){throw o}})}extractSlotByTypeAndCondition(t,o){return(0,v.mG)(this,void 0,void 0,function*(){try{return t.filter(n=>"prime"===o?"Primetime"===n.slotType:"Primetime"!==n.slotType)}catch(n){throw n}})}alterMappedData(t){return new Promise(o=>{o(t.map(l=>{const c=l.timeSlot.split("-"),_=("0"+c[0].split(":")[0]).slice(-2)+":"+c[0].split(":")[1],h=("0"+c[1].split(":")[0]).slice(-2)+":"+c[1].split(":")[1];return l.timeSlot=_+"-"+h,l}))})}loadAppointmentSlots(){var t,o,n;return(0,v.mG)(this,void 0,void 0,function*(){try{const l=this.sessionService.applicationDetailValue;if(!l)return;const c=this.sessionService.applicationDetailValue,d=this.commonService.formatDateDMY(this.endDate),_=this.commonService.formatDateDMY(this.startDate),f={applicantsCount:l.applicantList.length,slotType:this.isRescheduleAptmntMode?Number(null===(t=c.applicantList[0])||void 0===t?void 0:t.appointment.slotType):2,days:re.N.slotDaysEnabled,centerCode:l.centerCode,visaCategoryCode:l.visaCategoryCode,fromDate:_,toDate:d,payCode:this.sessionService.paymentModeinSubvisaCategory?null===(o=this.sessionService.paymentModeinSubvisaCategory)||void 0===o?void 0:o.code:""},h=yield this.commonService.loadAppointmentSlots(f);2063===(null===(n=h[0].error)||void 0===n?void 0:n.code)&&this.commonService.logoutAndRouteToLogin(),h&&h.length>0&&null===h[0].error&&(this.disableCalendarDates(h),this.checkAndLoadDetailsForEdit(),1==this.sessionService.applicationConfiguration.isUserActionAuditRequired&&(this.availableDates=h,this.vss4PayLoad()))}catch(l){throw new Error(`${p.Sg.INVALID_REGISTRATION_RESPONSE}: ${l}`)}})}checkAndLoadDetailsForEdit(){try{const t=this.sessionService.getAppointmentDetails();if(!t)return!1;this.slotType=p.EB.indexOf(null==t?void 0:t.slotType)>-1?1:0,this.slotTypeName=t.slotTypeName,this.selectedSlotCategory=t.slotType,this.selectedDate=t.date,this.selectedTime=t.time,this.selectedAllocationId=t.allocationId;const n=this.allowedDates.filter(l=>l.start===this.selectedDate);1===this.slotType&&this.handleWalkin(),n.length>0&&this.showTimeSlots(n[0])}catch(t){console.log(t)}}loadVasByVac(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t=yield this.commonService.loadServices();if(t&&(null==t?void 0:t.length)>0){const o=t.find(c=>c.code===p.$r),n=t.find(c=>c.code===p.dF),l=t.find(c=>c.code===p.M3);this.priceWithCurrency={standard:"Free",primetime:null==o?void 0:o.amount,premiumlongue:null==n?void 0:n.amount,vayd:(null==l?void 0:l.amount)||0,premiumprime:(null==o?void 0:o.amount)+(null==n?void 0:n.amount)},this.serviceList=t,this.sessionService.setCurrencyCode=t[0].currency,this.currencyCode=t[0].currency}}catch(t){console.log("Error:",t)}})}getFees(t){const o=this.serviceList.filter(n=>n.code===t);return o.length>0?o:{}}formatDate(t,o){const n=o.split("/");return n[2]+t+n[0]+t+n[1]}disableCalendarDates(t){this.calendarOptions.events=[],this.allowedDates=[];const o=[];t.forEach(n=>{if(!n.date)return!1;const l={start:this.formatDate("-",n.date),end:this.formatDate("-",n.date),allDay:!0,editable:!1,className:["availiable"],otherRespose:n,title:"availiable"};o.push(l)}),this.allowedDates=o,this.calendarOptions.events=o,setTimeout(()=>{$(".availiable").parents(".fc-day").addClass("date-availiable")},1e3),this.detectChanges()}routeToDashboard(){this.sessionService.setIsWaitlistScheduleMode(!1),this.sessionService.saveApplicationSchemaInBrowser(this.sessionService.tempAppSchema),this.commonService.routeToDashboard()}get isRescheduleAptmntMode(){return this.sessionService.isRescheduleAptmntMode}get iswaitlistScheduleMode(){return this.sessionService.iswaitlistScheduleMode}vss4PayLoad(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t=this.sessionService.clientIpAddress,o={missionCode:this.sessionService.applicationDetailValue.missionCode,countryCode:this.sessionService.applicationDetailValue.countryCode,centerCode:this.sessionService.applicationDetailValue.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,firstEarliestSlotDate:this.utilityService.momentInstance(this.availableDates[0].date).format("DD/MM/YYYY"),firstEarliestSlotTime:this.availableDates[0].counters[0].groups[0].timeSlots[0].timeSlot,action:this.isRescheduleAptmntMode?"reschedule":"schedule",ipAddress:t};return yield this.httpService.payloadPost(p.gT.api.vss4ReportData,o).toPromise()}catch(t){throw t}})}slotConfirmForwaitlist(){return(0,v.mG)(this,void 0,void 0,function*(){try{if(!this.waitlistPayment)return;const t={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,notificationType:"none",paymentdetails:null,allocationId:String(this.selectedAllocationId),appointmentDate:this.selectedDate,appointmentTime:this.selectedTime},o=yield this.httpService.payloadPost(p.gT.api.apptSchedule,t).toPromise().catch(l=>{throw l}).then(l=>l);if(o&&!o.error)return this.sessionService.paymentDetails=o,this.sessionService.paymentData=null==o?void 0:o.paymentdetails,void this.commonService.routeToPostLoginModule(p.m8.PAYMENT_CONFIRMATION)}catch(t){console.log(t)}})}mapFee(){return(0,v.mG)(this,void 0,void 0,function*(){try{if(!this.waitlistPayment&&this.sessionService.isWaitlistApplicant){const t={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,feeTypeCode:[p.gT.FEE_TYPE_CODES.VFSFEE,p.gT.FEE_TYPE_CODES.VISAFEE,p.gT.FEE_TYPE_CODES.CVFEE]};return yield this.httpService.payloadPost(p.gT.api.mapFee,t).toPromise()}}catch(t){this.logger.error(t)}})}updateWaitlistStatus(){var t;return(0,v.mG)(this,void 0,void 0,function*(){try{if(null===(t=this.appConfiguration)||void 0===t?void 0:t.enableWaitListValidationForNoSlot){const o={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,visaCategoryCode:this.sessionService.applicationDetailValue.visaCategoryCode},n=yield this.httpService.payloadPost(p.gT.api.updatewaitliststatus,o).toPromise();(null==n?void 0:n.waitlisted)&&(this.updatewaitliststatus=!0,this.detectChanges())}}catch(o){this.logger.error(o)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ve.O),e.Y36(et.m),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-book-appointment"]],viewQuery:function(t,o){if(1&t&&e.Gf(np,5),2&t){let n;e.iGM(n=e.CRH())&&(o.calendarComponent=n.first)}},features:[e.qOj],decls:40,vars:29,consts:[[1,"container","py-15","py-md-30"],["class","form-card timer-css text-right border-0 mb-5",4,"ngIf"],[1,"form-card"],[4,"ngIf"],[1,"c-brand-grey-para","mb-5"],[1,"fs-24","fs-sm-32","fs-md-42","mb-20"],[1,"c-brand-grey-para","mb-40"],[1,"fs-18","fs-sm-24","mb-20"],[1,"fs-24","fs-sm-28","fs-md-32","mb-20"],[1,"bg-light","text-dark","border-left-4","p-15","p-sm-25","mb-20"],[1,"row","justify-content-center","fs-sm-18"],[1,"col-12","col-sm",3,"ngClass"],[1,"d-inline-block","px-2","lh-20","border","border-dark","rounded-5","mr-5"],[1,"d-inline-block","min-w-15","lh-16","bg-black","rounded-3"],[1,"ba-calender-card","card","shadow-sm"],[1,"card-body"],[1,"ba-calender-container","mx-auto"],[3,"options"],["fullcalendar",""],[1,"form-card","p-0","border-0","shadow-none","mat-card"],["class","row",4,"ngIf"],[1,"form-card","timer-css","text-right","border-0","mb-5"],[3,"config"],["cd",""],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"row","mat-radio-group-brand","mb-10",3,"ngModel","ngModelChange","change"],[1,"col-12","col-sm-6","mb-15"],[1,"mat-block",3,"value"],["class","col-12 col-sm-6 mb-15",4,"ngIf"],[1,"col-12","col-sm","col-lg-auto","min-lg-w-210","mb-10","mb-sm-0"],[1,"d-inline-block","px-2","lh-20","border","border-brand-dark-green","rounded-5","mr-5"],[1,"d-inline-block","min-w-15","lh-16","bg-brand-dark-green","rounded-3"],[1,"fs-18","fs-sm-24","mt-40","mb-20"],[1,"form-group","mb-40"],["appearance","outline",1,"mat-form-field-outline-brand"],[3,"placeholder","ngModel","selectionChange","ngModelChange"],["value","All"],["value","Morning"],["value","Afternoon"],["value","Evening"],[1,"table-responsive-lg"],[1,"table","ba-slot-table","w-auto"],[1,"text-center"],[1,"text-left"],[1,"c-brand-grey-para","fs-14"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","load-more",3,"disabled","click"],[1,"mt-5","c-brand-grey-para"],[2,"width","200px"],[1,"hidden-item",3,"ngClass"],[1,"align-middle"],[1,"ba-slot-allocation"],[1,"ba-slot-box"],["type","radio","name","SlotRadio",1,"ba-slot-radio",3,"ngClass","id","click"],[1,"ba-slot-radio-label","standard",3,"for"],[1,"ba-slot-radio-label-inner"],[1,"ba-slot-radio-label-text1"],[1,"ba-slot-radio-label-text2"],[1,"fa","fa-check","mr-5"],[1,"ba-slot-radio-label","prime-time",3,"for"],[1,"card","bg-brand-dark-green","text-white","rounded-0","mt-20"],[4,"ngIf","ngIfElse"],["noslot",""],[1,"row"],["class","col-12 col-sm-6 mt-20",3,"click",4,"ngIf"],["class","col-12 col-sm-6 mt-20",4,"ngIf"],[1,"col-12","col-sm-6","mt-20",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange"],[1,"col-12","col-sm-6","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"col-12","col-sm","mt-20"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0),e.YNc(1,ap,5,4,"div",1),e.TgZ(2,"mat-card",2),e.YNc(3,sp,7,3,"ng-container",3),e.TgZ(4,"p",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"h1",5),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p",6),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"h2",7),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.YNc(16,rp,7,6,"ng-container",3),e.YNc(17,dp,4,3,"ng-container",3),e.TgZ(18,"h2",8),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",9)(22,"div",10),e.YNc(23,pp,7,3,"ng-container",3),e.TgZ(24,"div",11)(25,"div",12)(26,"div",13),e._uU(27,"\xa0"),e.qZA()(),e._uU(28),e.ALo(29,"translate"),e.qZA()()(),e.TgZ(30,"div",14)(31,"div",15)(32,"div",16),e._UZ(33,"full-calendar",17,18),e.qZA()()(),e.YNc(35,Up,2,1,"ng-container",3),e.YNc(36,Vp,6,2,"ng-container",3),e.qZA(),e.TgZ(37,"mat-card",19),e.YNc(38,Bp,5,4,"div",20),e.YNc(39,jp,5,4,"div",20),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf",!o.isRescheduleAptmntMode&&o.isPtFlow),e.xp6(2),e.Q6J("ngIf",o.updatewaitliststatus),e.xp6(2),e.Oqu(e.lcZ(6,17,"bookAppointment.pageDetails.para1")),e.xp6(3),e.Oqu(e.lcZ(9,19,"bookAppointment.headerLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(12,21,"bookAppointment.pageDetails.para2")),e.xp6(3),e.Oqu(e.lcZ(15,23,"bookAppointment.headerLabel.label2")),e.xp6(2),e.Q6J("ngIf",!o.isRescheduleAptmntMode),e.xp6(1),e.Q6J("ngIf",o.isRescheduleAptmntMode),e.xp6(2),e.Oqu(e.lcZ(20,25,"bookAppointment.headerLabel.label3")),e.xp6(4),e.Q6J("ngIf",o.allowedDates.length>0),e.xp6(1),e.Q6J("ngClass",o.allowedDates.length>0?"col-lg-7":"col-lg-12"),e.xp6(4),e.hij(" ",e.lcZ(29,27,"bookAppointment.pageDetails.para4")," "),e.xp6(5),e.Q6J("options",o.calendarOptions),e.xp6(2),e.Q6J("ngIf",0===o.slotType&&o.selectedDate),e.xp6(1),e.Q6J("ngIf",1===o.slotType&&o.walkingMessage&&o.selectedDate),e.xp6(2),e.Q6J("ngIf",!o.isPtFlow),e.xp6(1),e.Q6J("ngIf",o.isPtFlow))},directives:[w.O5,wt.MR,X.a8,Qe.VQ,r.JJ,r.On,Qe.U0,w.mk,ro.woE,q.KE,ae.gD,te.ey,w.sg,V.lW],pipes:[D.X$],encapsulation:2,changeDetection:0}),i})();function Hp(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",9),e._UZ(2,"img",19),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("src",t.service.contentful.icon.fields.file.url,e.LSH)}}function $p(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",20)(1,"div",11)(2,"mat-checkbox",21),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.checked_state=n}),e.TgZ(3,"span",13),e._uU(4),e.qZA()()()()}if(2&i){const t=s.$implicit;e.xp6(2),e.Q6J("ngModel",t.checked_state),e.xp6(2),e.AsE("",t.firstName," ",t.lastName,"")}}function Wp(i,s){1&i&&(e.ynx(0),e.TgZ(1,"button",22),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"commonSections.buttons.button36")," "))}function Kp(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirm()}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.checkedApplicant()),e.xp6(1),e.hij(" ",e.lcZ(3,2,"add"===t.actionType?"commonSections.buttons.button4":"commonSections.buttons.button36")," ")}}function zp(i,s){if(1&i&&(e.ynx(0),e._UZ(1,"app-contentful-richtext",24),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("richData",t.service.contentful.description)}}function Xp(i,s){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.service.description)}}const em=function(i){return{applicantLength:i}};let $o=(()=>{class i extends a.e{constructor(t,o){super(),this.data=t,this.dialogRef=o,this.applicantList={},this.currencyCode=this.sessionService.currencyCode||"",this.actionType=t.action,this.service=t.services}ngOnInit(){if(this.applicantList=this.sessionService.applicationDetailValue.applicantList,"add"===this.actionType)this.checkAll({checked:!0});else{const n=this.sessionService.applicantService.filter(l=>l.id===this.service.id)[0].modifiedList;this.applicantList.forEach(l=>l.checked_state=n.some(c=>c.arn===l.arn))}}get editableBtn(){return["timeslot","isMandatory"].indexOf(this.service.timeslot)>-1}addZeroes(t){const o=String(t).split(".")[1],n=o&&o.length>2?o.length:2;return Number(t).toFixed(n)}checkAll(t){this.applicantList.forEach(o=>o.checked_state=t.checked)}isAllChecked(){return this.applicantList.every(t=>t.checked_state)}confirm(){return(0,v.mG)(this,void 0,void 0,function*(){const t=yield this.modifyList(),o=this.sessionService.applicantService;if(o&&o.length>0)if("remove"===this.actionType){const n=o.findIndex(l=>l.id===this.service.id);o[n].unit=t.applicants.length,o[n].total=t.applicants.length*this.service.amount,o[n].modifiedList=t.applicants,this.sessionService.applicantService=o}else this.service.unit=t.applicants.length,this.service.total=t.applicants.length*this.service.amount,this.service.modifiedList=t.applicants,o.push(this.service),this.sessionService.applicantService=o;else this.service.modifiedList=t.applicants,this.service.unit=t.applicants.length,this.service.total=t.applicants.length*this.service.amount,this.sessionService.applicantService=[this.service];this.close(!0)})}modifyList(){return new Promise(t=>{const n=this.applicantList.filter(c=>!0===c.checked_state).map(c=>({arn:c.arn,vasId:this.service.id.toString(),vasCode:this.service.code})),l={};l.loginuser=this.sessionService.getLoggedEmail(),l.missioncode=this.sessionService.tenent,l.countrycode=this.sessionService.countryCode,l.urn=this.applicantList[0].urn,l.applicants=n,t(l)})}checkedApplicant(){return!(this.applicantList.filter(o=>!0===o.checked_state).length>0)}close(t=!1){this.dialogRef.close(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.WI),e.Y36(oe.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-sms-service-modal"]],features:[e.qOj],decls:27,vars:18,consts:[[1,"mat-modal-container",2,"max-width","750px"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-24","fs-md-36","pr-18"],[1,"my-20"],[1,"row"],[1,"col-12","col-sm","order-sm-2"],[4,"ngIf"],[1,"fs-24","mb-20"],[1,"form-group"],[1,"pl-35"],["disabled","",1,"mat-checkbox-brand","ml-n35",3,"checked","change"],[1,"text-wrap","mr-5"],[1,"mt-0","mb-20"],["class","form-group mb-20",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-sm","order-sm-1","text-justify"],[4,"ngIf","ngIfElse"],["notnocontentfulDesc",""],["alt","vas image",3,"src"],[1,"form-group","mb-20"],["name","sizecb[]","disabled","",1,"mat-checkbox-brand","ml-n35",3,"ngModel","ngModelChange"],["mat-raised-button","","disabled","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","my-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","my-20",3,"disabled","click"],[3,"richData"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.close()}),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"h1",4),e._uU(5),e.qZA(),e._UZ(6,"hr",5),e.TgZ(7,"mat-dialog-content")(8,"div",6)(9,"div",7),e.YNc(10,Hp,3,1,"ng-container",8),e.TgZ(11,"div",9),e._uU(12),e.qZA(),e.TgZ(13,"div",10)(14,"div",11)(15,"mat-checkbox",12),e.NdJ("change",function(l){return o.checkAll(l)}),e.TgZ(16,"span",13),e._uU(17),e.ALo(18,"translate"),e.qZA()()()(),e._UZ(19,"hr",14),e.YNc(20,$p,5,3,"div",15),e.YNc(21,Wp,4,3,"ng-container",8),e.YNc(22,Kp,4,4,"ng-container",8),e.qZA(),e.TgZ(23,"div",16),e.YNc(24,zp,2,1,"ng-container",17),e.YNc(25,Xp,2,1,"ng-template",null,18,e.W1O),e.qZA()()()()),2&t){const n=e.MAs(26);e.xp6(3),e.MGl("src","",o.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(2),e.Oqu((null==o.service||null==o.service.contentful?null:o.service.contentful.heading)||(null==o.service?null:o.service.name)),e.xp6(5),e.Q6J("ngIf",0!==(null==o.service.contentful?null:o.service.contentful.length)&&o.service.contentful.icon),e.xp6(2),e.AsE(" ",o.currencyCode," ",o.addZeroes(o.service.amount)," "),e.xp6(3),e.Q6J("checked",o.isAllChecked()),e.xp6(2),e.hij(" ",e.xi3(18,13,"services.modalPopup.pageDetails.para11",e.VKq(16,em,o.applicantList.length))," "),e.xp6(3),e.Q6J("ngForOf",o.applicantList)("ngForTrackBy",o.trackByFn),e.xp6(1),e.Q6J("ngIf",o.editableBtn),e.xp6(1),e.Q6J("ngIf",!o.editableBtn),e.xp6(2),e.Q6J("ngIf",0!==(null==o.service.contentful?null:o.service.contentful.length))("ngIfElse",n)}},directives:[oe.xY,w.O5,le.oG,w.sg,r.JJ,r.On,V.lW,kt],pipes:[D.X$],encapsulation:2}),i})(),Wo=(()=>{class i extends a.e{constructor(t,o){super(),this.data=t,this.dialogRef=o,this.applicantList={}}ngOnInit(){var t,o,n;this.applicantList=this.sessionService.applicationDetailValue.applicantList,this.serviceName=(null===(n=null===(o=null===(t=this.data)||void 0===t?void 0:t.service)||void 0===o?void 0:o.contentful)||void 0===n?void 0:n.heading)||this.data.service.name}get editableBtn(){return["isMandatory"].indexOf(this.data.service.timeSlot)>-1}deleteService(){var t;return(0,v.mG)(this,void 0,void 0,function*(){const o=this.sessionService.applicantService;if(o&&o.length>0){const n=this.utilityService.removeByAttr(o,"id",this.data.service.id);this.sessionService.applicantService=n,((null===(t=this.data.service)||void 0===t?void 0:t.isODMV)||this.utilityService.strictCompare(this.data.service.timeslot,"timeslot"))&&(this.sessionService.clearAppointmentDetail(),this.commonService.routeToBookAppointment())}this.close(!0,"yes Delete service")})}close(t=!1,o){this.dialogRef.close(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.WI),e.Y36(oe.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-sms-service-remove-modal"]],features:[e.qOj],decls:20,vars:14,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-24","fs-md-36","pr-18"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.close()}),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"h1",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"hr",5),e.TgZ(8,"p",6),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",7)(12,"div",8)(13,"button",9),e.NdJ("click",function(){return o.close()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",8)(17,"button",10),e.NdJ("click",function(){return o.deleteService()}),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()),2&t&&(e.xp6(3),e.MGl("src","",o.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(2),e.AsE(" ",e.lcZ(6,6,"services.modalPopup.headerLabel.label2")," ",(null==o.data.service||null==o.data.service.contentful?null:o.data.service.contentful.heading)||(null==o.data.service?null:o.data.service.name)," ? "),e.xp6(4),e.hij(" ",e.lcZ(10,8,o.data.service.timeslot?"services.modalPopup.pageDetails.para9":"services.modalPopup.pageDetails.para7")," "),e.xp6(5),e.hij(" ",e.lcZ(15,10,"commonSections.buttons.button15")," "),e.xp6(4),e.hij(" ",e.lcZ(19,12,"timeslot"!==o.data.service.timeslot?"services.modalPopup.pageDetails.para8":"commonSections.buttons.button19")," "))},directives:[V.lW],pipes:[D.X$],encapsulation:2}),i})();var Tt=A(4219);const tm=["captchaContainer"],im=["viewChangeAppointmentModal"],om=["radiobutton"];function nm(i,s){if(1&i&&(e.TgZ(0,"div",12),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"countdown",13,14),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,"header.headerLabel.label17"),""),e.xp6(2),e.Q6J("config",t.config)}}function am(i,s){if(1&i&&(e.ynx(0),e._UZ(1,"app-contentful-richtext",41),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("richData",t.contentful.description)}}function sm(i,s){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.description)}}function lm(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"td",42)(2,"i",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw(2).removeSMS(n)}),e.qZA()(),e.BQk()}}function rm(i,s){if(1&i&&(e.ynx(0),e._UZ(1,"app-contentful-richtext",41),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("richData",null==t||null==t.contentful?null:t.contentful.description)}}function cm(i,s){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(null==t?null:t.description)}}function um(i,s){if(1&i&&(e.TgZ(0,"tr",45)(1,"td",30)(2,"div",31),e._uU(3),e.qZA(),e.TgZ(4,"div",32),e.YNc(5,rm,2,1,"ng-container",33),e.YNc(6,cm,2,1,"ng-template",null,34,e.W1O),e.qZA(),e.TgZ(8,"span",46),e._uU(9,"Read more \u2192"),e.qZA()(),e.TgZ(10,"td",36)(11,"div",37),e._uU(12),e.qZA()(),e.TgZ(13,"td",38)(14,"div",39),e._uU(15),e.ALo(16,"number"),e.qZA()(),e.TgZ(17,"td",38)(18,"div",40),e._uU(19),e.ALo(20,"number"),e.qZA()(),e.TgZ(21,"td",42)(22,"button",47),e._UZ(23,"i",48),e.qZA()()()),2&i){const t=s.$implicit,o=e.MAs(7),n=e.oxw(2).index,l=e.oxw(2);e.xp6(3),e.Oqu((null==t||null==t.contentful?null:t.contentful.heading)||(null==t?null:t.name)),e.xp6(2),e.Q6J("ngIf",0!==(null==t||null==t.contentful?null:t.contentful.length))("ngIfElse",o),e.xp6(7),e.Oqu(l.servicesInSession[n].unit),e.xp6(3),e.AsE("",l.currencyCode," ",e.xi3(16,8,null==t?null:t.amount,"1.2-2"),""),e.xp6(4),e.AsE(" ",l.currencyCode," ",e.xi3(20,11,(null==t?null:t.amount)*l.servicesInSession[n].unit,"1.2-2")," ")}}function dm(i,s){if(1&i&&(e.ynx(0),e.YNc(1,um,24,14,"tr",44),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",null==t?null:t.complimentaryVAS)}}function pm(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",29)(2,"td",30)(3,"div",31),e._uU(4),e.qZA(),e.TgZ(5,"div",32),e.YNc(6,am,2,1,"ng-container",33),e.YNc(7,sm,2,1,"ng-template",null,34,e.W1O),e.qZA(),e.TgZ(9,"span",35),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).openSMS(l,"remove")}),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"td",36)(13,"div",37),e._uU(14),e.qZA()(),e.TgZ(15,"td",38)(16,"div",39),e._uU(17),e.ALo(18,"number"),e.qZA()(),e.TgZ(19,"td",38)(20,"div",40),e._uU(21),e.ALo(22,"number"),e.qZA()(),e.YNc(23,lm,3,0,"ng-container",5),e.qZA(),e.YNc(24,dm,2,1,"ng-container",5),e.BQk()}if(2&i){const t=s.$implicit,o=e.MAs(8),n=e.oxw(2);e.xp6(4),e.Oqu(t.contentful.heading||t.name),e.xp6(2),e.Q6J("ngIf",0!==(null==t.contentful?null:t.contentful.length))("ngIfElse",o),e.xp6(4),e.hij("",e.lcZ(11,11,"services.buttons.button1")," \u2192"),e.xp6(4),e.Oqu(t.unit),e.xp6(3),e.AsE("",n.currencyCode," ",e.xi3(18,13,t.amount,"1.2-2"),""),e.xp6(4),e.AsE("",n.currencyCode," ",e.xi3(22,16,t.totalPrice,"1.2-2"),""),e.xp6(2),e.Q6J("ngIf","isMandatory"!==t.timeslot),e.xp6(1),e.Q6J("ngIf",(null==t||null==t.complimentaryVAS?null:t.complimentaryVAS.length)>0)}}function mm(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"h2",15),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",16)(5,"table",17)(6,"tr",18)(7,"td",19),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"td")(14,"div",20),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"td"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e._UZ(20,"td",21),e.qZA(),e.YNc(21,pm,25,19,"ng-container",22),e.TgZ(22,"tr")(23,"td",23)(24,"div",24),e._uU(25,"\xa0"),e.qZA()()(),e.TgZ(26,"tr",25)(27,"td",26)(28,"div",27),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e._UZ(31,"td")(32,"td"),e.TgZ(33,"td",28),e._uU(34),e.ALo(35,"number"),e.qZA(),e._UZ(36,"td",21),e.qZA()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,12,"services.headerLabel.label3")),e.xp6(6),e.Oqu(e.lcZ(9,14,"services.headerLabel.label4")),e.xp6(3),e.Oqu(e.lcZ(12,16,"services.headerLabel.label5")),e.xp6(4),e.AsE("",e.lcZ(16,18,"services.headerLabel.label6")," (",t.currencyCode,")"),e.xp6(3),e.AsE("",e.lcZ(19,20,"services.headerLabel.label7")," (",t.currencyCode,")"),e.xp6(3),e.Q6J("ngForOf",t.selectedService)("ngForTrackBy",t.trackByFn),e.xp6(8),e.Oqu(e.lcZ(30,22,"services.headerLabel.label9")),e.xp6(5),e.AsE("",t.currencyCode," ",e.xi3(35,24,t.totalSelected,"1.2-2"),"")}}function gm(i,s){if(1&i&&(e.TgZ(0,"mat-radio-button",56),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",null==t?null:t.code),e.xp6(1),e.hij(" ",e.lcZ(2,2,null==t?null:t.name)," ")}}function _m(i,s){if(1&i&&(e.ynx(0),e._UZ(1,"app-contentful-richtext",41),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("richData",t.contentful.description)}}function fm(i,s){if(1&i&&(e.TgZ(0,"p"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.description)}}function vm(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",57)(2,"td",30)(3,"div",58),e._uU(4),e.qZA(),e.TgZ(5,"div",32),e.YNc(6,_m,2,1,"ng-container",33),e.YNc(7,fm,2,1,"ng-template",null,59,e.W1O),e.qZA(),e.TgZ(9,"div",60)(10,"span",35),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).openSMS(l,"add")}),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"td",61)(14,"div",62),e._uU(15),e.ALo(16,"number"),e.qZA(),e.TgZ(17,"button",63),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).openSMS(l,"add")}),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"td",64)(21,"button",65),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).openSMS(l,"add")}),e._uU(22),e.ALo(23,"translate"),e.qZA()()(),e.BQk()}if(2&i){const t=s.$implicit,o=e.MAs(8),n=e.oxw(2);e.xp6(4),e.hij(" ",null!=t&&null!=t.contentful&&t.contentful.heading?null==t||null==t.contentful?null:t.contentful.heading:t.name," "),e.xp6(2),e.Q6J("ngIf",0!==(null==t.contentful?null:t.contentful.length))("ngIfElse",o),e.xp6(5),e.hij("",e.lcZ(12,8,"services.buttons.button1")," \u2192"),e.xp6(4),e.AsE("",n.currencyCode," ",e.xi3(16,10,t.amount,"1.2-2"),""),e.xp6(3),e.hij(" ",e.lcZ(19,13,"commonSections.buttons.button35")," "),e.xp6(4),e.hij(" ",e.lcZ(23,15,"commonSections.buttons.button35")," ")}}function hm(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"fieldset")(2,"h2",49),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-radio-group",50),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().sortOption=n})("change",function(){return e.CHM(t),e.oxw().vasSorting()}),e.TgZ(6,"span",51),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.YNc(9,gm,3,4,"mat-radio-button",52),e.qZA()(),e.TgZ(10,"div",53)(11,"table",17)(12,"tr",18)(13,"td",19),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"td",54),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"td",55),e.qZA(),e.YNc(20,vm,24,17,"ng-container",22),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,9,"services.headerLabel.label2")),e.xp6(2),e.Q6J("ngModel",t.sortOption),e.xp6(2),e.Oqu(e.lcZ(8,11,"services.headerLabel.label11")),e.xp6(2),e.Q6J("ngForOf",t.sortOptionsLinst),e.xp6(5),e.Oqu(e.lcZ(15,13,"services.headerLabel.label4")),e.xp6(3),e.AsE("",e.lcZ(18,15,"services.headerLabel.label6")," (",t.currencyCode,")"),e.xp6(3),e.Q6J("ngForOf",t.notSelectedService)("ngForTrackBy",t.trackByFn)}}function ym(i,s){1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"services.modalPopup.pageDetails.para9")," "))}function bm(i,s){if(1&i&&(e.ynx(0),e.YNc(1,ym,3,3,"ng-container",5),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.utilityService.strictCompare(null==t.serviceAction?null:t.serviceAction.service,t.VAYD_VASCODE)||t.utilityService.strictCompare(null==t.serviceAction?null:t.serviceAction.service,t.PRIMETIME_VASCODE)||t.utilityService.strictCompare(null==t.serviceAction?null:t.serviceAction.service,t.PRIMELONGUE_VASCODE))}}const Cm=function(i){return{serviceName:i}};function Am(i,s){if(1&i&&(e.ynx(0)(1),e._uU(2),e.ALo(3,"translate"),e.BQk()()),2&i){const t=e.oxw(2);e.xp6(2),e.hij(" ",e.xi3(3,1,"services.modalPopup.pageDetails.para12",e.VKq(4,Cm,t.serviceName(null==t.serviceAction?null:t.serviceAction.service)))," ")}}function Tm(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",66)(1,"div",67)(2,"button",68),e.NdJ("click",function(){return e.CHM(t),e.oxw().gaForDeleteService("Close_icon")}),e._UZ(3,"img",69),e.qZA()(),e.TgZ(4,"h2",70),e._UZ(5,"i",71),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"hr",72),e.TgZ(9,"p",73),e.YNc(10,bm,2,1,"ng-container",5),e.YNc(11,Am,4,6,"ng-container",5),e.qZA(),e.TgZ(12,"div",7)(13,"div",74)(14,"button",75),e.NdJ("click",function(){return e.CHM(t),e.oxw().clearServices()}),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",74)(18,"button",76),e.NdJ("click",function(){return e.CHM(t),e.oxw().deleteService()}),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.MGl("src","",t.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(3),e.hij(" ",e.lcZ(7,6,"commonSections.headerLabel.label3")," "),e.xp6(4),e.Q6J("ngIf",t.utilityService.strictCompare(null==t.serviceAction?null:t.serviceAction.action,"ADD")),e.xp6(1),e.Q6J("ngIf",t.utilityService.strictCompare(null==t.serviceAction?null:t.serviceAction.action,"REMOVE")),e.xp6(4),e.hij(" ",e.lcZ(16,8,"commonSections.buttons.button3")," "),e.xp6(4),e.hij(" ",e.lcZ(20,10,"commonSections.buttons.button19")," ")}}let Ko=(()=>{class i extends Ze.o{constructor(t){super(),this.dialog=t,this.constants=p.gT,this.submitAttempt=!1,this.sortOptionsLinst=[{name:"services.formLabel.label1",code:"relevance"},{name:"services.formLabel.label2",code:"lower"},{name:"services.formLabel.label3",code:"higher"}],this.initBaseForm(p.gT.modules.SERVICES),this.serviceList=[],this.VAYD_VASCODE=p.M3,this.selectedService=[],this.notSelectedService=[],this.servicesInSession=[],this.allList=[],this.totalSelected="",this.allowedCaptcha=!1,this.currencyCode=this.sessionService.currencyCode||"",this.PRIMETIME_VASCODE=p.$r,this.PRIMELONGUE_VASCODE=p.dF}ngOnInit(){this.currentCaptcha=this.captchaVersionConst.default,this.captchaToken="",this.sortOption=this.sessionService.vasSortOptionValue,this.loadServices(),this.timeLeft=String(300),this.isPtFlow&&this.start()}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(t=>(0,v.mG)(this,void 0,void 0,function*(){t?(this.allowedCaptcha=t.find(o=>p.gT.api.applicant.includes(o.api_url)),this.allowedCaptcha&&this.sessionService.captchaMode===this.captchaVersionConst.alternate&&(this.currentCaptcha=this.captchaVersionConst.alternate)):this.allowedCaptcha=!1}))}start(){this.config={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(31535300)}updateTotalFees(){this.utilityService.updateTotalFees(Number(this.sessionService.feeAmount))}loadServices(){var t;return(0,v.mG)(this,void 0,void 0,function*(){try{const o=yield this.commonService.loadServices(void 0,this.sortOption);if(o&&(null==o?void 0:o.length)>0){this.allList=o;let n=[];this.sessionService.isAddExtraServiceMode?yield null===(t=this.sessionService.applicationDetailValue)||void 0===t?void 0:t.applicantList.forEach(l=>{n=this.commonService.availableServicesForTopup(l.vas,o)}):n=o.filter(l=>!0===l.isAvailableOnline&&!1===l.isMandatory||"VAYD"==l.name),this.utilityService.product_impression(n),this.serviceList=n,this.sessionService.setCurrencyCode=o[0].currency,this.currencyCode=o[0].currency,this.updateselectedAvailiable(n)}}catch(o){throw new Error(`${p.Sg.INVALID_REGISTRATION_RESPONSE}: ${o}`)}})}openSMS(t,o){this.utilityService.product_details(t),this.utilityService.product_click(t),this.utilityService.product_impression([t]);const l=this.dialog.open($o,{data:{services:t,action:o},disableClose:!0,restoreFocus:!0});this.subs.sink=l.afterClosed().subscribe(c=>{if(this.updateselectedAvailiable(this.serviceList),c){if(this.utilityService.strictCompare(o,"add")){this.serviceAction={action:Tt.z1.ADD,service:null==t?void 0:t.code};const d=this.sessionService.getAppointmentDetails();this.utilityService.strictCompare(null==t?void 0:t.code,p.M3)&&-1===p.lv.indexOf(null==d?void 0:d.slotType)||this.utilityService.strictCompare(null==t?void 0:t.code,p.$r)&&-1===p.$r.indexOf(null==d?void 0:d.slotType)||this.utilityService.strictCompare(null==t?void 0:t.code,p.dF)&&-1===p.dF.indexOf(null==d?void 0:d.slotType)?this.openChangeAppointmentModal(t,Tt.z1.ADD):(this.updateselectedAvailiable(this.serviceList),this.utilityService.add_to_cart(t))}else this.serviceAction={action:Tt.z1.REMOVE,service:null==t?void 0:t.code};this.dataShareService.isServiceModified=!0}}),this.subs.sink=this.router.events.subscribe(()=>{l.close()})}openChangeAppointmentModal(t,o){var n;const l=null===(n=this.dialog)||void 0===n?void 0:n.open(this.changeAppointmentModal,{disableClose:!0,restoreFocus:!0});this.subs.sink=l.afterClosed().subscribe(c=>{this.utilityService.strictCompare(c,!0,!1)&&(this.utilityService.strictCompare(o,Tt.z1.REMOVE)&&(this.utilityService.strictCompare(t.timeslot,"timeslot")&&(this.sessionService.clearAppointmentDetail(),this.commonService.routeToBookAppointment()),this.updateselectedAvailiable(this.serviceList),this.utilityService.remove_to_cart(t),this.isServiceModified=!0),this.utilityService.strictCompare(o,Tt.z1.ADD)&&this.sessionService.setIsAddWalkinMode(!0),this.routePrevious())})}updateselectedAvailiable(t){try{const o=this.sessionService.applicantService,n=this.sessionService.getAppointmentDetails();if(("VAYD"===(null==n?void 0:n.slotType)||(null==n?void 0:n.slotType)===p.$r||(null==n?void 0:n.slotType)===p.dF)&&0===(null==o?void 0:o.filter(h=>h.code===p.M3||h.code===p.$r||h.code===p.dF)).length){const h=null==t?void 0:t.filter(T=>T.code===p.M3||T.code===p.$r||T.code===p.dF);if(h.length>0){const T=this.sessionService.applicationDetailValue.applicantList;h.forEach((I,S)=>{const R=T.map(U=>({arn:U.arn,vasId:I.id.toString(),vasCode:I.code}));I.modifiedList=R,I.total=I.amount,I.unit=null==T?void 0:T.length}),o.push(...h),this.sessionService.applicantService=o,this.X=o}}const l=[];if(null==o||o.map(f=>{var h;null===(h=null==f?void 0:f.complimentaryVAS)||void 0===h||h.forEach(T=>{l.push(T)})}),null==l||l.filter(f=>{const h=o.findIndex(T=>T.code===f.code);h>-1&&o.splice(h,1)}),this.servicesInSession=o,Array.isArray(o))for(const f of this.servicesInSession)f.totalPrice=Number(f.unit*f.amount);const c=t;if(!o||0===(null==o?void 0:o.length))return this.selectedService=[],this.notSelectedService=t,this.totalSelected="0",void this.updateTotalFees();const d=this.allList;this.selectedService=o.filter(f=>d.find(h=>f.id===h.id));const _=c.filter(f=>!l.find(({code:h})=>f.code===h));this.notSelectedService=_.filter(f=>!o.find(({id:h})=>f.id===h)),this.totalSelected=String(this.selectedService.reduce((f,h)=>f+this.utilityService.getNosOfUnit("unit",h.id)*h.amount,0)),this.updateTotalFees()}catch(o){console.log(o)}}removeSMS(t){const o=this.dialog.open(Wo,{data:{service:t}});this.subs.sink=o.afterClosed().subscribe(n=>{this.updateselectedAvailiable(this.serviceList),n&&(this.utilityService.remove_to_cart(t),this.dataShareService.isServiceModified=!0)}),this.subs.sink=this.router.events.subscribe(()=>{o.close()})}saveAndContinue(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.utilityService.fireCustomEvent({dl_category:"VASPage",dl_action:"VASSelected",dl_label:"VASContinueClick",value:0}),this.saveAndContinueWithCaptcha()}catch(t){console.log(t)}})}get isVAYDServiceAdded(){try{return this.selectedService.some(t=>!0===t.isVAYD)}catch(t){throw t}}saveAndContinueWithCaptcha(){return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.submitAttempt=!0,this.allowedCaptcha&&!this.captchaToken&&this.captchaVersionConst.alternate===this.currentCaptcha)return;this.dataShareService.isServiceModified&&(this.sessionService.updateFees=!0);const t=this.sessionService.applicantService,o=yield this.modifyList(t);this.allowedCaptcha&&(o.captcha_version=this.currentCaptcha,o.api_captcha_mapvas=this.captchaToken);const n=yield this.httpService.payloadPost(p.gT.api.mapVas,o).toPromise().then(l=>l).catch(l=>l);if(!n.urn)throw n;{this.sessionService.updateFees=!0,this.sessionService.completedModuleName=p.VB.SERVICES,this.commonService.routeToPostLoginModule(p.m8.REVIEW_AND_PAY);const l=this.sessionService.getSession("apt_dtls");let c=this.sessionService.getSession("application_services"),d=c.find(f=>1==f.isODMV);if("VAYD"==(null==l?void 0:l.slotType))return void this.commonService.routeToPostLoginModule(p.m8.VAYD_ADDRESS);if(d&&c.length>=1&&!0===d.isODMV)return void this.commonService.routeToPostLoginModule(p.m8.VAYD_ADDRESS);this.routeNext(),this.appConfiguration=this.sessionService.applicationConfiguration;const _=this.selectedService.filter(f=>!0===f.isCourierService);(null==_?void 0:_.length)>0?this.commonService.routeToPostLoginModule(p.m8.COURIER_ADDRESS):this.routeNext()}}catch(t){if(this.logger.error(t),!this.allowedCaptcha)return;if(re.N.captchaFallbackEnabled)this.currentCaptcha=this.captchaVersionConst.alternate,this.captchaToken="",this.utilityService.resetCaptcha();else{const o=yield this.captchaContainer.generateToken();this.captchaToken=o}}})}modifyList(t){return new Promise(o=>{let n;n=t&&0!==t.length?t.reduce((d,_)=>[...d,..._.modifiedList],[]):[];const l=this.sessionService.applicationDetailValue.applicantList,c={};c.loginuser=this.sessionService.getLoggedEmail(),c.missioncode=this.sessionService.tenent,c.countrycode=this.sessionService.countryCode,c.urn=l[0].urn,c.applicants=0!==n.length?n:[],o(c)})}serviceName(t){var o;return null===(o=this.serviceList.filter(l=>this.utilityService.strictCompare(l.code,t))[0])||void 0===o?void 0:o.name}submitV2Captcha(t){this.captchaToken=t,this.currentCaptcha=this.captchaVersionConst.alternate}routePrevious(){try{this.sessionService.setIsAppointmentUpdated(!1),this.commonService.routeToPostLoginModule(this.isAddExtraServiceMode?p.m8.DASHBOARD:p.m8.BOOK_APPOINTMENT)}catch(t){this.logger.error(t)}}get isAddExtraServiceMode(){return this.sessionService.isAddExtraServiceMode}checkIfDisabled(){return!0===this.sessionService.applicationConfiguration.isAtleastVASMandatory&&!(this.sessionService.applicantService.length>0)}modulesToBeFilter(){if(this.sessionService.applicantService.findIndex(n=>1==n.isCourierIntegrationEnabled)<0){const n=this.sessionService.getFullApplicationSchema(),l=[p.gT.modules.SERVICES,p.gT.modules.REVIEW_PAYMENT],c=n.modules.filter(d=>l.indexOf(d.logicalName)>-1);n.modules=c,this.sessionService.tempAppSchema=this.sessionService.getApplicationSchema(),this.sessionService.saveApplicationSchemaInBrowser(n)}else{const n=this.sessionService.getFullApplicationSchema(),l=[p.gT.modules.SERVICES,p.gT.modules.POSTAL_INFORMATION,p.gT.modules.REVIEW_PAYMENT],c=n.modules.filter(d=>l.indexOf(d.logicalName)>-1);n.modules=c,this.sessionService.tempAppSchema=this.sessionService.getApplicationSchema(),this.sessionService.saveApplicationSchemaInBrowser(n)}}showErrorMsgPopup(t,o){try{const n=this.dialog.open(nt,{data:t});this.subs.sink=n.afterClosed().subscribe(l=>(0,v.mG)(this,void 0,void 0,function*(){})),this.subs.sink=this.router.events.subscribe(()=>{n.close()})}catch(n){console.log(n)}}gaForDeleteService(t){this.utilityService.GAForDeleteServicePage({action:t,label:this.selectedServiceTemp.name})}deleteService(){return(0,v.mG)(this,void 0,void 0,function*(){let t=this.sessionService.applicantService;t&&t.length>0&&this.selectedService.forEach(o=>{(o.code==p.M3||o.code==p.$r||o.code==p.dF)&&(t=[],this.sessionService.applicantService=t,this.commonService.routeToBookAppointment())})})}clearServices(){let t=this.sessionService.applicantService;t&&t.length>0&&this.selectedService.forEach(o=>{if("VAYD"==o.code||o.code==p.$r||o.code==p.dF){t=[],this.selectedService=t,this.sessionService.applicantService=t;const n=this.allList.filter(l=>!0===l.isAvailableOnline&&!1===l.isMandatory||"VAYD"==l.name||o.code==p.$r||o.code==p.dF);this.notSelectedService=n}})}vasSorting(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.sessionService.vasSortOptionValue=this.sortOption;const t=yield this.commonService.loadServices(void 0,this.sortOption);if(t&&(null==t?void 0:t.length)>0){this.allList=t;const o=t.filter(n=>!0===n.isAvailableOnline&&!1===n.isMandatory||"VAYD"==n.name);this.utilityService.product_impression(o),this.serviceList=o,this.sessionService.setCurrencyCode=t[0].currency,this.currencyCode=t[0].currency,this.updateselectedAvailiable(o)}}catch(t){throw new Error(`${p.Sg.INVALID_REGISTRATION_RESPONSE}: ${t}`)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-manage-service"]],viewQuery:function(t,o){if(1&t&&(e.Gf(tm,5),e.Gf(im,5),e.Gf(om,5,e.SBq)),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first),e.iGM(n=e.CRH())&&(o.changeAppointmentModal=n.first),e.iGM(n=e.CRH())&&(o.radiobutton=n.first)}},features:[e.qOj],decls:23,vars:16,consts:[[1,"container","py-15","py-md-30"],["class","form-card text-right timer-css border-0 mb-5",4,"ngIf"],[1,"form-card"],[1,"fs-24","fs-sm-32","fs-md-42","mb-20"],[1,"c-brand-grey-para","mb-40"],[4,"ngIf"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],["viewChangeAppointmentModal",""],[1,"form-card","text-right","timer-css","border-0","mb-5"],[3,"config"],["cd",""],[1,"fs-18","fs-sm-24","mb-20"],[1,"card","border-bottom-0"],[1,"w-100"],[1,"bg-brand-footer","c-brand-grey-para","border-bottom-1"],[1,"pl-15","py-15"],[1,"d-none","d-lg-inline-block"],[1,"pr-15"],[4,"ngFor","ngForOf","ngForTrackBy"],["colspan","5"],[1,"card","mx-n2","mb-n3","border-top-0","border-bottom-2",2,"height","8px"],[1,"service-bottom-row"],[1,"pl-15","pt-25","pb-15"],[1,"ff-700","fs-sm-20"],[1,"ff-500","c-brand-green"],[1,"border-top-1"],[1,"align-top","py-25","pl-15"],[1,"ff-700","mt-7","fs-sm-18","mb-15"],[1,"c-brand-grey-para","fs-16","text-box-ellipsis"],[4,"ngIf","ngIfElse"],["nocontentfulDesc",""],[1,"fs-sm-18","c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"align-top","pt-25","ff-500"],[1,"mt-7"],[1,"align-top","pt-25","ff-500","c-brand-green"],[1,"mt-7","d-none","d-lg-inline-block"],[1,"mt-7","min-w-85"],[3,"richData"],[1,"align-top","pt-25","pr-15"],[1,"fa","fa-trash-o","c-brand-blue-light","fs-24","cursor-pointer",3,"click"],["class","border-top-1 disabled-6",4,"ngFor","ngForOf"],[1,"border-top-1","disabled-6"],[1,"fs-sm-18","c-brand-orange","text-decoration-underline"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-green-light","cursor-default"],[1,"fa","fa-check"],[1,"fs-18","fs-sm-24","mt-40","mb-20"],["aria-labelledby","example-radio-group-label",1,"example-radio-group",3,"ngModel","ngModelChange","change"],[1,"mr-10"],["class","example-radio-button ml-5",3,"value",4,"ngFor","ngForOf"],[1,"card"],[1,"text-center","pr-15","pr-sm-0"],[1,"pr-15","d-none","d-sm-table-cell"],[1,"example-radio-button","ml-5",3,"value"],[1,"border-bottom-1"],[1,"ff-700","fs-sm-18","mt-7","mb-15"],["notnocontentfulDesc",""],[1,"mb-3"],[1,"align-top","py-25","ff-500","position-relative"],[1,"mt-7","min-w-100","text-center","c-brand-green"],["mat-stroked-button","",1,"btn","btn-outline-brand-orange","d-sm-none","position-absolute","bottom-20",2,"transform","translateX(-50%)","left","50%",3,"click"],[1,"align-top","py-25","pr-15","text-center","d-none","d-sm-table-cell"],["mat-stroked-button","",1,"btn","btn-outline-brand-orange",3,"click"],[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],["matDialogClose","false",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","","aria-label","Close",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"col-12","col-sm-6","col-sm"],["mat-stroked-button","","matDialogClose","false",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"],["mat-stroked-button","","matDialogClose","true",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0),e.YNc(1,nm,5,4,"div",1),e.TgZ(2,"mat-card",2)(3,"h1",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"p",4),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.YNc(9,mm,37,27,"ng-container",5),e.YNc(10,hm,21,17,"ng-container",5),e.qZA(),e.TgZ(11,"mat-card",6)(12,"div",7)(13,"div",8)(14,"button",9),e.NdJ("click",function(){return o.routePrevious()}),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",8)(18,"button",10),e.NdJ("click",function(){return o.saveAndContinue()}),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()(),e.YNc(21,Tm,21,12,"ng-template",null,11,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isPtFlow),e.xp6(3),e.Oqu(e.lcZ(5,8,"services.headerLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(8,10,"services.pageDetails.para1")),e.xp6(2),e.Q6J("ngIf",o.selectedService.length>0),e.xp6(1),e.Q6J("ngIf",o.notSelectedService.length>0),e.xp6(5),e.hij(" ",e.lcZ(16,12,"commonSections.buttons.button8")," "),e.xp6(3),e.Q6J("disabled",o.checkIfDisabled()),e.xp6(1),e.hij(" ",e.lcZ(20,14,"commonSections.buttons.button19")," "))},directives:[w.O5,wt.MR,X.a8,w.sg,kt,V.lW,Qe.VQ,r.JJ,r.On,Qe.U0,oe.ZT],pipes:[D.X$,w.JJ],encapsulation:2}),i})(),zo=(()=>{class i extends a.e{constructor(t){super(),this.dialogRef=t}close(){this.dialogRef.close(!0)}logout(){this.commonService.logoutAndRouteToLogin()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-warning-login-modal"]],features:[e.qOj],decls:17,vars:10,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.close()}),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"h4",4),e._UZ(5,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"hr",6),e.TgZ(9,"p",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",8)(13,"div",9)(14,"button",10),e.NdJ("click",function(){return o.close()})("click",function(){return o.close()}),e._uU(15),e.ALo(16,"translate"),e.qZA()()()()),2&t&&(e.xp6(3),e.MGl("src","",o.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(3),e.hij(" ",e.lcZ(7,4,"commonSections.headerLabel.label3")," "),e.xp6(4),e.Oqu(e.lcZ(11,6,"commonSections.messages.errorMessages.message19")),e.xp6(5),e.hij(" ",e.lcZ(16,8,"commonSections.buttons.button24")," "))},directives:[V.lW],pipes:[D.X$],encapsulation:2}),i})();var vi=A(6362);let Xo=(()=>{class i extends a.e{constructor(t,o,n,l){super(),this.dialog=t,this.dialogRef=o,this.idle=n,this.changeRef=l}close(){this.dialogRef.close(),this.sessionService.isTmiOabEnable?(this.commonService.oabLogout(),window.location.reload()):this.commonService.logoutAndRouteToLogin()}ngOnDestroy(){this.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.uw),e.Y36(oe.so),e.Y36(vi.hX),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-session-timeout"]],features:[e.qOj],decls:17,vars:10,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-10"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.close()}),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"h4",4),e._UZ(5,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"hr",6),e.TgZ(9,"p",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",8)(13,"div",9)(14,"button",10),e.NdJ("click",function(){return o.close()}),e._uU(15),e.ALo(16,"translate"),e.qZA()()()()),2&t&&(e.xp6(3),e.MGl("src","",o.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(3),e.hij(" ",e.lcZ(7,4,"commonSections.headerLabel.label3")," "),e.xp6(4),e.Oqu(e.lcZ(11,6,"commonSections.messages.errorMessages.message20")),e.xp6(5),e.hij(" ",e.lcZ(16,8,"commonSections.buttons.button24")," "))},directives:[V.lW],pipes:[D.X$],encapsulation:2}),i})();function Sm(i,s){1&i&&(e.TgZ(0,"div",17),e._uU(1,"Please Select Your Country"),e.qZA())}function xm(i,s){if(1&i&&(e.TgZ(0,"div",15),e.YNc(1,Sm,2,0,"div",16),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.loginF.username.errors.required)}}function Lm(i,s){if(1&i&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.isoCode),e.xp6(1),e.hij(" ",t.missionName," ")}}function Im(i,s){1&i&&(e.TgZ(0,"div",17),e._uU(1,"Please Select Country"),e.qZA())}function Zm(i,s){if(1&i&&(e.TgZ(0,"div",15),e.YNc(1,Im,2,0,"div",16),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.loginF.password.errors.required)}}function Nm(i,s){if(1&i&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.isoCode),e.xp6(1),e.hij(" ",t.countryName," ")}}const en=function(i){return{"form-error":i}};let tn=(()=>{class i extends a.e{constructor(t,o){super(),this.formBuilder=t,this.translate=o,this.initLoginForm(),this.utilityService.setTitle("Welcome to VFS Global"),this.loadMissions(),this.countryList=[],this.missionList=[]}loadMissions(){return(0,v.mG)(this,void 0,void 0,function*(){const o=yield this.httpService.doGet("/master/mission").toPromise();o&&(this.missionList=o)})}missionSelect(t){return(0,v.mG)(this,void 0,void 0,function*(){const o=`/master/country/${t}`,n=yield this.httpService.doGet(o).toPromise();n&&(this.countryList=n)})}initLoginForm(){this.loginForm=this.formBuilder.group({username:[null,[r.kI.required]],password:[null,r.kI.required]})}get loginF(){return this.loginForm.controls}onSubmit(){return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.loginForm.invalid)return;const t=this.loginForm.value.username.toLowerCase(),o=this.loginForm.value.password.toLowerCase();this.sessionService.appLanguageCode="en",this.sessionService.appCultureCode="en-US",this.sessionService.tenent=o,this.sessionService.countryCode=t,this.translate.use("en"),this.router.navigateByUrl(`${t}/en/${o}`)}catch(t){console.log(`NAVIGATE_FAILED: ${t}`)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(D.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-country-mission-selector"]],features:[e.qOj],decls:29,vars:19,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","Select Your Country","formControlName","username",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"c-brand-error"],["placeholder","Select Country","formControlName","password"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"h1",4),e._uU(5,"Country selector"),e.qZA(),e.TgZ(6,"p",5),e._uU(7,"Please confirm your travel details"),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(9,"div",7)(10,"div"),e._uU(11,"I am a resident of"),e.qZA(),e.YNc(12,xm,2,1,"div",8),e.TgZ(13,"mat-form-field",9)(14,"mat-select",10),e.NdJ("selectionChange",function(l){return o.missionSelect(l.value)}),e.YNc(15,Lm,2,2,"mat-option",11),e.ALo(16,"sortBy"),e.qZA()()(),e.TgZ(17,"div",7)(18,"div"),e._uU(19,"Going to"),e.TgZ(20,"span",12),e._uU(21,"*"),e.qZA()(),e.YNc(22,Zm,2,1,"div",8),e.TgZ(23,"mat-form-field",9)(24,"mat-select",13),e.YNc(25,Nm,2,2,"mat-option",11),e.ALo(26,"sortBy"),e.qZA()()(),e.TgZ(27,"button",14),e._uU(28,"Confirm"),e.qZA()()()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",o.loginForm),e.xp6(1),e.Q6J("ngClass",e.VKq(15,en,o.loginF.username.touched&&o.loginF.username.invalid)),e.xp6(3),e.Q6J("ngIf",o.loginF.username.touched&&o.loginF.username.errors),e.xp6(3),e.Q6J("ngForOf",e.xi3(16,9,o.missionList,"missionName"))("ngForTrackBy",o.trackByFn),e.xp6(2),e.Q6J("ngClass",e.VKq(17,en,o.loginF.password.touched&&o.loginF.password.invalid)),e.xp6(5),e.Q6J("ngIf",o.loginF.password.touched&&o.loginF.password.errors),e.xp6(3),e.Q6J("ngForOf",e.xi3(26,12,o.countryList,"countryName"))("ngForTrackBy",o.trackByFn))},directives:[X.a8,r._Y,r.JL,r.sg,w.mk,w.O5,q.KE,ae.gD,r.JJ,r.u,w.sg,te.ey,V.lW],pipes:[ue.Uw],encapsulation:2}),i})();function Dm(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"a",14),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).routeToSignIn()}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"commonSections.buttons.button6")))}function Om(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",9)(2,"div",10),e._UZ(3,"i",11),e.TgZ(4,"div"),e._uU(5),e.qZA()()(),e.YNc(6,Dm,4,3,"div",12),e.BQk()),2&i){const t=e.oxw(2);e.xp6(5),e.Oqu(t.message),e.xp6(1),e.Q6J("ngIf",t.successComp)}}function Em(i,s){1&i&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")))}function km(i,s){1&i&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"resetpassword.messages.message1")))}function wm(i,s){if(1&i&&(e.TgZ(0,"div",24),e.YNc(1,Em,3,3,"div",25),e.YNc(2,km,3,3,"div",25),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.forgotF.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.forgotF.password.errors.pattern)}}function Fm(i,s){1&i&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")))}function Mm(i,s){1&i&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commonSections.messages.misMatch.message1")))}function Pm(i,s){if(1&i&&(e.TgZ(0,"div",24),e.YNc(1,Fm,3,3,"div",25),e.YNc(2,Mm,3,3,"div",25),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.forgotF.confirmPassword.errors.required),e.xp6(1),e.Q6J("ngIf",t.forgotF.confirmPassword.errors.passwordMismatch)}}function Um(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"a",14),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).routeToSignUp()}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"commonSections.buttons.button7")))}const on=function(i){return{"form-error":i}};function qm(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",15),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw(2).onSubmit()}),e.TgZ(1,"div",16)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",17),e._uU(6,"*"),e.qZA()(),e.YNc(7,wm,3,2,"div",18),e.TgZ(8,"mat-form-field",19),e._UZ(9,"input",20),e.TgZ(10,"i",21),e.NdJ("keypress",function(){e.CHM(t);const n=e.oxw(2);return n.passwordToogle=!n.passwordToogle})("mouseenter",function(){return e.CHM(t),e.oxw(2).passwordToogle=!0})("mouseleave",function(){return e.CHM(t),e.oxw(2).passwordToogle=!1})("click",function(){return e.CHM(t),e.oxw(2).passwordToogle=!0}),e.qZA()()(),e.TgZ(11,"div",16)(12,"div"),e._uU(13),e.ALo(14,"translate"),e.TgZ(15,"span",17),e._uU(16,"*"),e.qZA()(),e.YNc(17,Pm,3,2,"div",18),e.TgZ(18,"mat-form-field",19),e._UZ(19,"input",22),e.TgZ(20,"i",21),e.NdJ("keypress",function(){e.CHM(t);const n=e.oxw(2);return n.confirmPasswordToggle=!n.confirmPasswordToggle})("mouseenter",function(){return e.CHM(t),e.oxw(2).confirmPasswordToggle=!0})("mouseleave",function(){return e.CHM(t),e.oxw(2).confirmPasswordToggle=!1})("click",function(){return e.CHM(t),e.oxw(2).confirmPasswordToggle=!0}),e.qZA()()(),e.TgZ(21,"button",23),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.YNc(24,Um,4,3,"div",12),e.qZA()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.forgotPasswordForm),e.xp6(1),e.Q6J("ngClass",e.VKq(20,on,t.forgotF.password.touched&&t.forgotF.password.invalid)),e.xp6(2),e.Oqu(e.lcZ(4,14,"resetpassword.formLabel.label1")),e.xp6(4),e.Q6J("ngIf",t.forgotF.password.touched&&t.forgotF.password.errors),e.xp6(2),e.Q6J("type",t.passwordToogle?"text":"password"),e.xp6(1),e.Q6J("ngClass",t.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),e.xp6(1),e.Q6J("ngClass",e.VKq(22,on,t.forgotF.confirmPassword.touched&&t.forgotF.confirmPassword.invalid)),e.xp6(2),e.Oqu(e.lcZ(14,16,"resetpassword.formLabel.label2")),e.xp6(4),e.Q6J("ngIf",t.forgotF.confirmPassword.touched&&t.forgotF.confirmPassword.errors),e.xp6(2),e.Q6J("type",t.confirmPasswordToggle?"text":"password"),e.xp6(1),e.Q6J("ngClass",t.confirmPasswordToggle?"fa fa-eye-slash":"fa fa-eye"),e.xp6(1),e.Q6J("disabled",t.forgotPasswordForm.invalid),e.xp6(1),e.Oqu(e.lcZ(23,18,"resetpassword.buttons.button1")),e.xp6(2),e.Q6J("ngIf",t.sessionService.applicationConfiguration&&!t.sessionService.applicationConfiguration.isBelgiumHandshakeEnabled&&!t.sessionService.isSignupLinkDisabled)}}function Gm(i,s){if(1&i&&(e.TgZ(0,"section",1)(1,"div",2)(2,"div",3)(3,"mat-card",4)(4,"div",5)(5,"h1",6),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.YNc(8,Om,7,2,"ng-container",7),e.YNc(9,qm,25,24,"form",8),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,3,"resetpassword.headerLabel.label1")),e.xp6(2),e.Q6J("ngIf",t.message),e.xp6(1),e.Q6J("ngIf",!t.successComp)}}let nn=(()=>{class i extends a.e{constructor(t,o){var n;super(),this.formBuilder=t,this.activatedRoute=o,this.intitForgotForm(),this.message="",this.confirmPasswordToggle=!1,this.passwordToogle=!1,this.successComp=!1,(null===(n=this.sessionService)||void 0===n?void 0:n.applicationConfiguration)||this.commonService.loadConfiguration().catch(l=>l).then(l=>this.sessionService.applicationConfiguration=l)}intitForgotForm(){const t=this.activatedRoute.queryParams;t._value.q||this.commonService.routeToLogin(),this.forgotPasswordForm=this.formBuilder.group({password:["",[r.kI.pattern(p.hE),r.kI.required]],confirmPassword:["",r.kI.required],missioncode:[this.sessionService.tenent,r.kI.required],countrycode:[this.sessionService.countryCode,r.kI.required],token:t._value.q},{validator:this.utilityService.MatchPassword("password","confirmPassword")})}get forgotF(){var t;return null===(t=this.forgotPasswordForm)||void 0===t?void 0:t.controls}onSubmit(){var t,o,n,l,c;return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.forgotPasswordForm.invalid)return;let d=this.forgotPasswordForm.value;d.password=this.encriptionPassword(null===(t=this.forgotPasswordForm.value)||void 0===t?void 0:t.password),d.confirmPassword=this.encriptionPassword(null===(o=this.forgotPasswordForm.value)||void 0===o?void 0:o.confirmPassword);const _=yield this.httpService.payloadWithoutTokenPost(p.gT.api.resetPassword,d).toPromise();_&&(this.successComp="508"!==(null===(n=null==_?void 0:_.error)||void 0===n?void 0:n.code),this.message=(null===(l=null==_?void 0:_.error)||void 0===l?void 0:l.description)||(null==_?void 0:_.message)||this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(c=null==_?void 0:_.error)||void 0===c?void 0:c.code)))}catch(d){console.log(`${p.Sg.INVALID_RESPONSE}: ${d}`)}})}routeToSignUp(){window.location.replace(`${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/register`)}routeToSignIn(){window.location.replace(`${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/${"CC"==this.sessionService.loginResponse?"cc-login":"login"}`)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(B.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-resetpassword"]],features:[e.qOj],decls:1,vars:1,consts:[["class","container py-15 py-md-30",4,"ngIf"],[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"d-none","d-block"],[1,"fs-21","fs-sm-24","mb-10"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],["class","fs-sm-18 mt-20",4,"ngIf"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","formControlName","password","placeholder","**********","autocomplete","off",3,"type"],["tabindex","0",1,"cursor-pointer","icon-toggle","position-absolute","right-0",3,"ngClass","keypress","mouseenter","mouseleave","click"],["matInput","","formControlName","confirmPassword","placeholder","**********","autocomplete","off",3,"type"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(t,o){1&t&&e.YNc(0,Gm,10,5,"section",0),2&t&&e.Q6J("ngIf",o.forgotPasswordForm)},directives:[w.O5,X.a8,r._Y,r.JL,r.sg,w.mk,q.KE,u.Nt,r.Fj,r.JJ,r.u,V.lW],pipes:[D.X$],encapsulation:2}),i})();var ht=A(1737);let an=(()=>{class i extends a.e{constructor(){super(),this.loginComponent=this.commonService.constructURLBeforeLogin(p.m8.LOGIN)}ngOnInit(){try{if(this.sessionService.getJWT()){const t={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,username:this.sessionService.getLoggedEmail()};this.httpService.payloadPost(p.gT.api.logout,t).toPromise().catch(o=>(0,ht._)(o)).then(o=>o)}this.sessionService.clearSession()}catch(t){console.log(t)}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-not-found"]],features:[e.qOj],decls:10,vars:10,consts:[[1,"container","py-15","py-sm-60"],[1,"fs-24","fs-sm-46","mb-15"],[1,"c-brand-grey-para","mb-30","fs-sm-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"href"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",2),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"a",3),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,4,"notFound.pageTitle")),e.xp6(3),e.Oqu(e.lcZ(6,6,"notFound.label1")),e.xp6(2),e.s9C("href",o.loginComponent,e.LSH),e.xp6(1),e.Oqu(e.lcZ(9,8,"notFound.label2")))},pipes:[D.X$],encapsulation:2}),i})();function Vm(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",6)(2,"div",7),e._UZ(3,"i",8),e.TgZ(4,"div"),e._uU(5),e.qZA()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(5),e.Oqu(t.message)}}function Rm(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"h5",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.AsE(" ",e.lcZ(3,2,"applicantInformation.pageDetails.para1")," ",t.isEditModeFlag?t.editApplicantIndex+1:(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)+1," ")}}function Jm(i,s){if(1&i&&(e.TgZ(0,"h5",10),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.firstLastName(t.editApplicantIndex)," ")}}function Ym(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"div",15),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",16),e._uU(7),e.qZA()(),e.TgZ(8,"div",17)(9,"button",18),e.NdJ("click",function(){const l=e.CHM(t).index;return e.oxw(2).editPostalInfo(l)}),e._uU(10),e.ALo(11,"translate"),e.ALo(12,"translate"),e.qZA()()()()}if(2&i){const t=s.$implicit,o=s.index;e.xp6(4),e.AsE("",e.lcZ(5,5,"applicantInformation.pageDetails.para1")," ",o+1,""),e.xp6(3),e.AsE("",null==t?null:t.firstName," ",null==t?null:t.lastName,""),e.xp6(3),e.hij(" ",(null==t||null==t.postalList?null:t.postalList.length)>0?e.lcZ(11,7,"postalInformation.buttons.button2"):e.lcZ(12,9,"postalInformation.buttons.button1")," ")}}function Qm(i,s){if(1&i&&(e.ynx(0),e.YNc(1,Ym,13,11,"div",11),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",null==t.applicationDetails?null:t.applicationDetails.applicantList)("ngForTrackBy",t.trackByFn)}}function Bm(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-checkbox",25),e.NdJ("ngModelChange",function(n){e.CHM(t);const l=e.oxw(3);return l.applicationDetails.applicantList[l.editApplicantIndex].isSamePostalInfo=n})("ngModelChange",function(n){return e.CHM(t),e.oxw(3).onIsSamePostalInfoSelection(n)}),e.TgZ(1,"span",26),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&i){const t=e.oxw(3);e.Q6J("ngModel",t.applicationDetails.applicantList[t.editApplicantIndex].isSamePostalInfo),e.xp6(2),e.AsE("",e.lcZ(3,3,"postalInformation.formLabel.label7")," ",t.firstLastName(0),"")}}function jm(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"h2",21),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",22)(5,"div",23),e.YNc(6,Bm,4,5,"mat-checkbox",24),e.qZA()(),e.BQk()),2&i){const t=e.oxw(2);e.xp6(2),e.AsE(" ",e.lcZ(3,3,"applicantInformation.pageDetails.para1")," ",t.isEditModeFlag?t.editApplicantIndex+1:(null==t.applicationDetails||null==t.applicationDetails.applicantList?null:t.applicationDetails.applicantList.length)+1," "),e.xp6(4),e.Q6J("ngIf",t.applicationDetails.applicantList)}}function Hm(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.YNc(1,jm,7,5,"ng-container",3),e.TgZ(2,"form",19)(3,"app-dynamic-form",20),e.NdJ("formGroupCopy",function(n){return e.CHM(t),e.oxw().postPageLoadActivities(n,!0)}),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.viewIsSamePostalInfoFlag),e.xp6(1),e.Q6J("formGroup",t.currentFormGroup),e.xp6(1),e.Q6J("scope",t.scope)("schema",t.currentModule)}}function $m(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-card",27),e._UZ(2,"app-dynamic-form",28),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("scope",t.scope)("schema",t.currentModuleButtons)}}function Wm(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card",27)(2,"div",29)(3,"div",30)(4,"button",31),e.NdJ("click",function(){return e.CHM(t),e.oxw().goBack()}),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",30)(8,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw().continue()}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()(),e.BQk()}2&i&&(e.xp6(5),e.hij(" ",e.lcZ(6,2,"commonSections.buttons.button8")," "),e.xp6(4),e.hij(" ",e.lcZ(10,4,"commonSections.buttons.button19")," "))}let sn=(()=>{class i extends Ze.o{constructor(t){super(),this.dialog=t,this.scope=this,this.viewApplicantsListFlag=!1,this.isEditModeFlag=!1,this.initBaseForm(p.gT.modules.POSTAL_INFORMATION),this.isEditingFromSamePage=!1,this.message="",this.applicationDetails={},this.editApplicantIndex=0,this.config={},this.currentPageEditFlag=!1}ngOnInit(){this.config=this.sessionService.applicationConfiguration,this.applicationDetails=this.sessionService.applicationDetailValue,this.setEditModeFlag(this.checkIsEditMode()),this.applicationDetails.applicantList.length>0&&!this.dataShareService.editYourDetail&&this.setViewApplicantsList(!0),this.registerOnPageLoadCompleteListener(),this.commonService.bookingMaxtimeSessionTrackStart()}firstLastName(t){var o,n,l,c,d,_,f,h;return(null===(n=null===(o=this.applicationDetails)||void 0===o?void 0:o.applicantList[t])||void 0===n?void 0:n.lastName)?(null===(c=null===(l=this.applicationDetails)||void 0===l?void 0:l.applicantList[t])||void 0===c?void 0:c.firstName)+(null===(_=null===(d=this.applicationDetails)||void 0===d?void 0:d.applicantList[t])||void 0===_?void 0:_.lastName):null===(h=null===(f=this.applicationDetails)||void 0===f?void 0:f.applicantList[t])||void 0===h?void 0:h.firstName}ngAfterViewChecked(){this.utilityService.translationTitleService("postalInformation.pageTitle")}registerOnPageLoadCompleteListener(){try{this.subs.sink=this.dataShareService.pageLoadComplete$.subscribe(t=>{null!=this.sessionService.editApplicantDetailsIdx&&!this.isEditingFromSamePage&&(this.editApplicantIndex=this.sessionService.editApplicantDetailsIdx),this.isEditModeFlag&&this.updateFormForEdit(),t&&this.onEditMode()})}catch(t){console.log(t)}}get isEditingFromSamePage(){return this.currentPageEditFlag}set isEditingFromSamePage(t){this.currentPageEditFlag=t}checkIsEditMode(){try{return null!=this.sessionService.editApplicantDetailsIdx}catch(t){return console.log(t),!1}}onEditMode(){try{const t=this.sessionService.editApplicantDetailsIdx,o=this.sessionService.applicationDetailValue;null!=t&&o&&o.applicantList.length>t&&this.editPostalInfo(t)}catch(t){console.log(t)}}saveAndContinue(t,o){return(0,v.mG)(this,void 0,void 0,function*(){try{if(!this.currentFormGroup||!this.currentFormGroup.valid)return this.commonService.touchAllFields(this.currentFormGroup),void document.querySelector(".form-error").scrollIntoView({behavior:"smooth",block:"center"});this.submitCaptcha("save")}catch(n){console.log(n)}})}submitCaptcha(t){"save"===t?this.savePostal():this.updatePostals()}savePostal(){var t,o,n;return(0,v.mG)(this,void 0,void 0,function*(){try{const l=this.currentFormGroup.value;this.utilityService.startNgxUiSpinner();const c=yield this.savePostalToDB(l);if(!c.hasOwnProperty("error")||null!==c.error){if(c.hasOwnProperty("error")&&c.error.code){const d=c.error.description;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(d,c.error.code)}throw new Error(c.error.description)}null===(n=null===(o=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[this.editApplicantIndex])||void 0===o?void 0:o.postalList)||void 0===n||n.push(l),this.copyAddressToApplicant(l),this.updateApplicationDetailsToSession(this.applicationDetails),yield this.viewApplicationSummary(),this.utilityService.stopNgxUiSpinner()}catch(l){console.log(l)}})}updatePostal(t,o){return(0,v.mG)(this,void 0,void 0,function*(){try{if(!this.currentFormGroup||!this.currentFormGroup.valid)return this.commonService.touchAllFields(this.currentFormGroup),void document.querySelector(".form-error").scrollIntoView({behavior:"smooth",block:"center"});if(this.editApplicantIndex>=this.applicationDetails.applicantList.length)throw new Error("error: invalid_data_index_passed");this.submitCaptcha("update")}catch(n){console.log(n)}})}updatePostals(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){try{const n=this.currentFormGroup.value;this.utilityService.startNgxUiSpinner();const l=yield this.savePostalToDB(n);if(!l.hasOwnProperty("error")||null!==l.error){if(l.hasOwnProperty("error")&&l.error.code){const c=l.error.description;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(c)}throw new Error(l)}null===(o=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[this.editApplicantIndex])||void 0===o||(o.postalList[0]=n),this.copyAddressToApplicant(n),this.updateApplicationDetailsToSession(this.applicationDetails),yield this.viewApplicationSummary(),this.utilityService.stopNgxUiSpinner()}catch(n){console.log(n)}})}copyAddressToApplicant(t){var o,n;for(const l of Object.keys(t))(null===(o=this.applicationDetails)||void 0===o?void 0:o.applicantList[this.editApplicantIndex].hasOwnProperty(l))&&(null===(n=this.applicationDetails)||void 0===n||(n.applicantList[this.editApplicantIndex][l]=t[l]))}showErrorMsgPopup(t,o){try{const n=this.dialog.open(nt,{data:t});n.afterClosed().subscribe(l=>(0,v.mG)(this,void 0,void 0,function*(){1069===o&&(this.utilityService.startNgxUiSpinner(),yield this.viewApplicationSummary(),this.utilityService.stopNgxUiSpinner())})),this.router.events.subscribe(()=>{n.close()})}catch(n){console.log(n)}}savePostalToDB(t){var o;return(0,v.mG)(this,void 0,void 0,function*(){try{const n=this.commonService.checkIfPrepaidCourier(null==t?void 0:t.courierType)?p.gT.api.updatePrepaidCourierInfo:p.gT.api.updateVFSCourierInfo;return t.missionCode=this.sessionService.tenent,t.centerCode=this.sessionService.centerCode,t.loginUser=this.sessionService.getLoggedEmail(),this.commonService.checkIfPrepaidCourier(null==t?void 0:t.courierType)&&(t.countryCode=this.sessionService.countryCode.toUpperCase()),t.aurn=null===(o=this.applicationDetails.applicantList[this.editApplicantIndex])||void 0===o?void 0:o.arn,yield this.httpService.payloadPost(n,t).toPromise().then(c=>c).catch(c=>{throw c})}catch(n){throw n}})}continue(){var t,o;for(const n of null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList)if(!(null==n?void 0:n.postalList)||(null===(o=null==n?void 0:n.postalList)||void 0===o?void 0:o.length)<=0)return this.message=this.commonService.translateValue("postalInformation.messages.errorMessages.message4"),void setTimeout(()=>{this.message=""},1e4);this.routeNext()}goBack(){super.routePrevious()}editPostalInfo(t){var o,n,l;try{this.isEditingFromSamePage=!0,this.editApplicantIndex=t,this.setEditModeFlag(!0),this.setViewApplicantsList(!1),(null===(n=null===(o=this.applicationDetails)||void 0===o?void 0:o.applicantList[this.editApplicantIndex])||void 0===n?void 0:n.postalList)||(this.applicationDetails.applicantList[this.editApplicantIndex].postalList=[]),0===(null===(l=this.applicationDetails.applicantList[this.editApplicantIndex].postalList)||void 0===l?void 0:l.length)&&(this.applicationDetails.applicantList[this.editApplicantIndex].isSamePostalInfo=!1)}catch(c){console.log(c)}}updateFormForEdit(){var t,o;try{const n=null===(o=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[this.editApplicantIndex])||void 0===o?void 0:o.postalList[0];this.currentFormGroup.patchValue(n)}catch(n){console.log(n)}}isEditMode(){var t,o,n;return this.isEditModeFlag&&(null===(n=null===(o=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList[this.editApplicantIndex])||void 0===o?void 0:o.postalList)||void 0===n?void 0:n.length)>0}viewApplicationSummary(){return(0,v.mG)(this,void 0,void 0,function*(){this.setEditModeFlag(!1),this.setViewApplicantsList(!0),this.editApplicantIndex=0,this.isEditingFromSamePage=!1})}onIsSamePostalInfoSelection(t){var o,n,l,c,d,_;try{if(this.currentFormGroup.reset(),t)for(const f of Object.keys(null===(n=null===(o=this.applicationDetails)||void 0===o?void 0:o.applicantList[0])||void 0===n?void 0:n.postalList[0]))null===(l=this.currentFormGroup.get(f))||void 0===l||l.setValue(null===(d=null===(c=this.applicationDetails)||void 0===c?void 0:c.applicantList[0])||void 0===d?void 0:d.postalList[0][f]);else null===(_=this.currentFormGroup.get("countryCode"))||void 0===_||_.setValue("USA");this.currentFormGroup.updateValueAndValidity()}catch(f){console.log(f)}}get viewIsSamePostalInfoFlag(){var t,o;try{const n=null===(o=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList)||void 0===o?void 0:o.length;return!this.isEditModeFlag&&n>=1||this.isEditModeFlag&&this.editApplicantIndex>0}catch(n){console.log(n)}}routePrevious(){try{this.applicationDetails.applicantList.length>0?this.viewApplicationSummary():super.routePrevious()}catch(t){console.log(t)}}updateApplicationDetailsToSession(t){this.sessionService.applicationDetailValue=t}setViewApplicantsList(t){this.viewApplicantsListFlag=t,t&&(this.sessionService.clearEditApplicationIdx(),this.dataShareService.editYourDetail=!1)}setEditModeFlag(t){this.isEditModeFlag=t}updateListenerTextField(t,o,n){var l,c,d,_,f;return(0,v.mG)(this,void 0,void 0,function*(){try{if(!t.onChangeEvent||0===t.onChangeEvent.length)return;if((null==o?void 0:o.length)>4){$("input").blur();for(const h of t.onChangeEvent){const T=h.url,S=this.coreCommonService.extractAndConstructParams(h.params,this.currentFormGroup);S.missionCode=this.sessionService.tenent,S.countryCode=this.sessionService.countryCode,S.centerCode=this.sessionService.centerCode,S.loginUser=this.sessionService.getLoggedEmail(),S.aurn=null===(l=this.applicationDetails)||void 0===l?void 0:l.applicantList[this.editApplicantIndex].arn;const R=yield this.httpService.payloadPost(T,S).toPromise().then(ie=>ie);this.commonService.removeError(n,"invalidPostalCode");const U=yield this.httpService.slashParamsDoGet(p.gT.api.masterState,{countryCode:this.sessionService.countryCode}).toPromise();if(this.formMetaData.metadata.dropdownDetails.state.options=U||[],null==R?void 0:R.error)null===(c=this.currentFormGroup.get("state"))||void 0===c||c.setValue(null),this.commonService.setError(n,"invalidPostalCode"),n.markAsTouched({onlySelf:!0}),this.message=(null===(d=null==R?void 0:R.error)||void 0===d?void 0:d.description)||this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(_=null==R?void 0:R.error)||void 0===_?void 0:_.code)),setTimeout(()=>{this.message=""},1e4);else{this.commonService.removeError(n,"invalidPostalCode");const ie=R.Address.map(he=>he.StateProvinceCode)||[];if(U.length>0){const he=U.filter(_e=>ie.indexOf(_e.isoCode)>-1);if(this.formMetaData.metadata.dropdownDetails.state.options=he,1===he.length){const _e=this.formMetaData.metadata.dropdownDetails.state.valueKey;setTimeout(()=>{var pe;null===(pe=this.currentFormGroup.get("state"))||void 0===pe||pe.setValue(he[0][_e]),this.currentFormGroup.updateValueAndValidity()},500)}}if(null==R?void 0:R.Address){const he=null==R?void 0:R.Address.map(_e=>({city:_e.City,isoCode:_e.City}));1===(null===(f=null==R?void 0:R.Address)||void 0===f?void 0:f.length)&&setTimeout(()=>{var _e;null===(_e=this.currentFormGroup.get("city"))||void 0===_e||_e.setValue(he[0].city),this.currentFormGroup.updateValueAndValidity()},1e3)}}}}}catch(h){this.logger.error(h),this.commonService.setError(n,"invalidPostalCode"),n.markAsTouched({onlySelf:!0})}})}clearDropdownData(){var t,o;for(const n of Object.keys(this.currentFormGroup.controls))"courierType"!=n&&(null===(o=null===(t=this.currentFormGroup)||void 0===t?void 0:t.get(n))||void 0===o||o.reset())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-postal-information"]],features:[e.qOj],decls:15,vars:13,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"c-brand-grey-para","mb-10"],[4,"ngIf"],[1,"fs-24","fs-sm-42","mb-30"],["class","c-brand-grey-para mb-20",4,"ngIf"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-window-close-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"mb-20"],[1,"c-brand-grey-para","mb-20"],["class","bg-brand-footer border-top-1 border-bottom-1 mx-n15 mx-md-n30 px-15 px-md-30 py-20 mt-n1",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-brand-footer","border-top-1","border-bottom-1","mx-n15","mx-md-n30","px-15","px-md-30","py-20","mt-n1"],[1,"row","align-items-center"],[1,"col-12","col-sm","fs-18","mb-sm-0","mb-15"],[1,"c-brand-grey-para","mb-5"],[1,"w-wrap-break"],[1,"col-12","col-sm-auto"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[3,"formGroup"],[3,"scope","schema","formGroupCopy"],[1,"fs-18","fs-sm-22","mb-20"],[1,"mb-30"],[1,"form-group","mb-20"],["class","mat-checkbox-brand w-wrap-break-all",3,"ngModel","ngModelChange",4,"ngIf"],[1,"mat-checkbox-brand","w-wrap-break-all",3,"ngModel","ngModelChange"],[1,"fs-18","text-wrap"],[1,"form-card","p-0","border-0","shadow-none"],[3,"scope","schema"],[1,"row"],[1,"col-sm","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"mat-card",1)(2,"p",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,Vm,6,1,"ng-container",3),e.TgZ(6,"h1",4),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.YNc(9,Rm,4,4,"ng-container",3),e.YNc(10,Jm,2,1,"h5",5),e.YNc(11,Qm,2,2,"ng-container",3),e.YNc(12,Hm,4,4,"ng-container",3),e.qZA(),e.YNc(13,$m,3,2,"ng-container",3),e.YNc(14,Wm,11,6,"ng-container",3),e.qZA()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,9,"applicantInformation.para.label1")),e.xp6(2),e.Q6J("ngIf",o.message),e.xp6(2),e.Oqu(e.lcZ(8,11,null==o.currentModule?null:o.currentModule.displayName)),e.xp6(2),e.Q6J("ngIf",!o.viewApplicantsListFlag&&!o.viewIsSamePostalInfoFlag),e.xp6(1),e.Q6J("ngIf",o.isEditModeFlag&&(null==o.applicationDetails||null==o.applicationDetails.applicantList?null:o.applicationDetails.applicantList.length)>0&&(null==o.applicationDetails?null:o.applicationDetails.applicantList)),e.xp6(1),e.Q6J("ngIf",o.viewApplicantsListFlag&&(null==o.applicationDetails||null==o.applicationDetails.applicantList?null:o.applicationDetails.applicantList.length)>0),e.xp6(1),e.Q6J("ngIf",!o.viewApplicantsListFlag),e.xp6(1),e.Q6J("ngIf",!o.viewApplicantsListFlag),e.xp6(1),e.Q6J("ngIf",o.viewApplicantsListFlag))},directives:[X.a8,w.O5,w.sg,V.lW,le.oG,r.JJ,r.On,r._Y,r.JL,r.sg,ue.rm],pipes:[D.X$],encapsulation:2}),i})();function Km(i,s){if(1&i&&(e.TgZ(0,"div",17)(1,"div",18),e._UZ(2,"i",19),e.TgZ(3,"div"),e._uU(4),e.qZA()()()),2&i){const t=e.oxw();e.Q6J("ngClass",t.appointmentResult?"border-info":"border-danger"),e.xp6(1),e.Q6J("ngClass",t.appointmentResult?"alert-info":"alert-danger"),e.xp6(3),e.Oqu(t.message)}}function zm(i,s){1&i&&(e.TgZ(0,"div",22),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Xm(i,s){1&i&&(e.TgZ(0,"div",22),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message1")," "))}function eg(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,zm,3,3,"div",21),e.YNc(2,Xm,3,3,"div",21),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.appointmentF.arn_number.errors.required),e.xp6(1),e.Q6J("ngIf",t.appointmentF.arn_number.errors.pattern)}}function tg(i,s){1&i&&(e.TgZ(0,"div",22),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function ig(i,s){1&i&&(e.TgZ(0,"div",22),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message1")," "))}function og(i,s){if(1&i&&(e.TgZ(0,"div",20),e.YNc(1,tg,3,3,"div",21),e.YNc(2,ig,3,3,"div",21),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.appointmentF.passport.errors.required),e.xp6(1),e.Q6J("ngIf",t.appointmentF.passport.errors.pattern)}}const ng=function(i){return{"my-12":i}};function ag(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"li",27),e._uU(2),e.qZA(),e.BQk()),2&i){const t=s.$implicit,o=s.odd;e.xp6(1),e.Q6J("ngClass",e.VKq(2,ng,o)),e.xp6(1),e.Oqu(null==t?null:t.value)}}function sg(i,s){if(1&i&&(e.TgZ(0,"ul",25),e.YNc(1,ag,3,4,"ng-container",26),e.ALo(2,"keyvalue"),e.ALo(3,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,2,e.lcZ(3,4,"appointmentverification.pageDetails.para2")))("ngForTrackBy",t.trackByFn)}}function lg(i,s){1&i&&(e.TgZ(0,"div",23),e.YNc(1,sg,4,6,"ul",24),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngIf",!0))}const ln=function(i){return{"form-error":i}};let rg=(()=>{class i extends a.e{constructor(t){super(),this.formBuilder=t,this.intitForgotForm(),this.message="",this.appointmentResult=!1}intitForgotForm(){this.appointmentverificationForm=this.formBuilder.group({arn_number:["",r.kI.required],passport:["",r.kI.required]})}get appointmentF(){var t;return null===(t=this.appointmentverificationForm)||void 0===t?void 0:t.controls}onSubmit(){var t,o,n;return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.appointmentverificationForm.invalid)return;this.message="",this.appointmentResult=!1;const l={missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,languageCode:this.sessionService.appCultureCode,arn:this.appointmentverificationForm.value.arn_number,passportNumber:this.appointmentverificationForm.value.passport},c=yield this.httpService.payloadPost(p.gT.api.appointmentVerify,l).toPromise();!c.error&&c.appointmentDate?(this.message=this.commonService.translateValue("appointmentverification.messages.message2").replace(" X ",`  ${null==c?void 0:c.appointmentDate} `).replace(" Y ",` ${null==c?void 0:c.appointmentTime} `),this.appointmentResult=!0):1019===(null===(t=c.error)||void 0===t?void 0:t.code)||1020===(null===(o=c.error)||void 0===o?void 0:o.code)?this.message=this.commonService.translateValue("commonSections.messages.statusMessages."+c.error.code):(2065===(null===(n=c.error)||void 0===n?void 0:n.code)||!c.appointmentDate)&&(this.message=this.commonService.translateValue("appointmentverification.messages.message3"))}catch(l){console.log(`${p.Sg.INVALID_RESPONSE}: ${l}`)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-appointment-verification"]],features:[e.qOj],decls:37,vars:32,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"d-none","d-block"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],["style","border-left: 5px solid",3,"ngClass",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","formControlName","arn_number","type","text","autocomplete","off",3,"placeholder"],["matInput","","formControlName","passport","type","text","autocomplete","off",3,"placeholder"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],["class","text-lg-center col-md-auto px-0",4,"ngIf"],[2,"border-left","5px solid",3,"ngClass"],[1,"alert","border-0","rounded-0","py-20","pl-50",3,"ngClass"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"text-lg-center","col-md-auto","px-0"],["class","c-brand-grey-para text-left mt-15 pl-20",4,"ngIf"],[1,"c-brand-grey-para","text-left","mt-15","pl-20"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"div",4)(5,"h1",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p",6),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,Km,5,3,"div",7),e.TgZ(12,"form",8),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(13,"div",9)(14,"div"),e._uU(15),e.ALo(16,"translate"),e.TgZ(17,"span",10),e._uU(18,"*"),e.qZA()(),e.YNc(19,eg,3,2,"div",11),e.TgZ(20,"mat-form-field",12),e._UZ(21,"input",13),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"div",9)(24,"div"),e._uU(25),e.ALo(26,"translate"),e.TgZ(27,"span",10),e._uU(28,"*"),e.qZA()(),e.YNc(29,og,3,2,"div",11),e.TgZ(30,"mat-form-field",12),e._UZ(31,"input",14),e.ALo(32,"translate"),e.qZA()(),e.TgZ(33,"button",15),e._uU(34),e.ALo(35,"translate"),e.qZA()(),e.YNc(36,lg,2,1,"div",16),e.qZA()()()()()),2&t&&(e.xp6(6),e.Oqu(e.lcZ(7,14,"appointmentverification.headerLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(10,16,"appointmentverification.pageDetails.para1")),e.xp6(2),e.Q6J("ngIf",o.message),e.xp6(1),e.Q6J("formGroup",o.appointmentverificationForm),e.xp6(1),e.Q6J("ngClass",e.VKq(28,ln,o.appointmentF.arn_number.touched&&o.appointmentF.arn_number.invalid)),e.xp6(2),e.Oqu(e.lcZ(16,18,"appointmentverification.formLabel.label1")),e.xp6(4),e.Q6J("ngIf",o.appointmentF.arn_number.touched&&o.appointmentF.arn_number.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(22,20,"commonSections.formLabel.label2")),e.xp6(2),e.Q6J("ngClass",e.VKq(30,ln,o.appointmentF.passport.touched&&o.appointmentF.passport.invalid)),e.xp6(2),e.Oqu(e.lcZ(26,22,"appointmentverification.formLabel.label2")),e.xp6(4),e.Q6J("ngIf",o.appointmentF.passport.touched&&o.appointmentF.passport.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(32,24,"commonSections.formLabel.label2")),e.xp6(3),e.hij(" ",e.lcZ(35,26,"appointmentverification.buttons.button1")," "),e.xp6(2),e.Q6J("ngIf",o.appointmentResult))},directives:[X.a8,w.O5,w.mk,r._Y,r.JL,r.sg,q.KE,u.Nt,r.Fj,r.JJ,r.u,V.lW,w.sg],pipes:[D.X$,w.Nd],encapsulation:2}),i})();function cg(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",33)(2,"div",34),e._UZ(3,"i",35),e.TgZ(4,"div"),e._uU(5),e.qZA()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(5),e.Oqu(t.proceedFailMsg)}}function ug(i,s){1&i&&(e.TgZ(0,"td",36)(1,"span",37),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"travelMedicalInformation.headerLabel.label5")))}function dg(i,s){1&i&&(e.TgZ(0,"td",36)(1,"span",37),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"applicantInformation.formLabel.label4")))}function pg(i,s){if(1&i&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(null==t?null:t.age)}}function mg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message13")," "))}const Ke=function(i){return{"form-error":i}},gg=function(){return{year:1900,month:1,day:1}},rn=function(){return{standalone:!0}};function _g(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",44)(1,"div")(2,"div",26)(3,"div",45),e.YNc(4,mg,3,3,"div",46),e.qZA(),e.TgZ(5,"div",16)(6,"input",47,48),e.NdJ("change",function(){return e.CHM(t),e.oxw(2).dobValidation()})("ngModelChange",function(n){return e.CHM(t),e.oxw().$implicit.dateOfBirth=n})("keydown",function(n){return e.CHM(t),e.oxw(2).blockNonNumericCharacters(n)}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"div",20),e.NdJ("click",function(){return e.CHM(t),e.MAs(7).toggle()}),e.qZA()()()()()}if(2&i){const t=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngClass",e.VKq(10,Ke,o.tmiDobError.required&&!t.dateOfBirth)),e.xp6(2),e.Q6J("ngIf",o.tmiDobError.required&&!t.dateOfBirth),e.xp6(2),e.s9C("placeholder",e.lcZ(8,8,"travelMedicalInformation.placeholder.label1")),e.Q6J("minDate",e.DdM(12,gg))("maxDate",o.dobEndDate)("ngModel",t.dateOfBirth)("ngModelOptions",e.DdM(13,rn))("disabled",o.dobDisabled(t.dateOfBirth))}}function fg(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr",38)(1,"td",36)(2,"mat-checkbox",39),e.NdJ("ngModelChange",function(n){return e.CHM(t).$implicit.isTmiApplicant=n}),e.qZA()(),e.TgZ(3,"td",40),e._uU(4),e.qZA(),e.YNc(5,pg,2,1,"td",41),e.YNc(6,_g,10,14,"td",42),e.qZA()}if(2&i){const t=s.$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngModel",t.isTmiApplicant)("ngModelOptions",e.DdM(6,rn)),e.xp6(2),e.AsE("",null==t?null:t.firstName," ",null==t?null:t.lastName,""),e.xp6(1),e.Q6J("ngIf",t.isTmiApplicant&&!o.appConfig.isTMIDateofBirthEnabled),e.xp6(1),e.Q6J("ngIf",o.appConfig.isTMIDateofBirthEnabled)}}function vg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message17")," "))}function hg(i,s){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,vg,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.addressLine1||null==t.formGroup.controls.addressLine1.errors?null:t.formGroup.controls.addressLine1.errors.required)}}function yg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message22")," "))}function bg(i,s){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,yg,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.addressLine2||null==t.formGroup.controls.addressLine2.errors?null:t.formGroup.controls.addressLine2.errors.required)}}function Cg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message23")," "))}function Ag(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message9")," "))}function Tg(i,s){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Cg,3,3,"div",46),e.YNc(2,Ag,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.state||null==t.formGroup.controls.state.errors?null:t.formGroup.controls.state.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.state||null==t.formGroup.controls.state.errors?null:t.formGroup.controls.state.errors.pattern)}}function Sg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message24")," "))}function xg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message6")," "))}function Lg(i,s){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Sg,3,3,"div",46),e.YNc(2,xg,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.city||null==t.formGroup.controls.city.errors?null:t.formGroup.controls.city.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.city||null==t.formGroup.controls.city.errors?null:t.formGroup.controls.city.errors.pattern)}}function Ig(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message25")," "))}function Zg(i,s){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Ig,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.postCode||null==t.formGroup.controls.postCode.errors?null:t.formGroup.controls.postCode.errors.required)}}function Ng(i,s){if(1&i&&(e.TgZ(0,"div",3),e.ynx(1),e.TgZ(2,"div",15)(3,"div",50)(4,"div"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"span",51),e._uU(8,"*"),e.qZA()(),e.YNc(9,hg,2,1,"div",17),e.TgZ(10,"mat-form-field",52),e._UZ(11,"input",53),e.ALo(12,"translate"),e.ALo(13,"translate"),e.qZA()()(),e.BQk(),e.ynx(14),e.TgZ(15,"div",15)(16,"div",50)(17,"div"),e._uU(18),e.ALo(19,"translate"),e.TgZ(20,"span",51),e._uU(21,"*"),e.qZA()(),e.YNc(22,bg,2,1,"div",17),e.TgZ(23,"mat-form-field",52),e._UZ(24,"input",54),e.ALo(25,"translate"),e.ALo(26,"translate"),e.qZA()()(),e.BQk(),e.ynx(27),e.TgZ(28,"div",15)(29,"div",50)(30,"div"),e._uU(31),e.ALo(32,"translate"),e.TgZ(33,"span",51),e._uU(34,"*"),e.qZA()(),e.YNc(35,Tg,3,2,"div",17),e.TgZ(36,"mat-form-field",52),e._UZ(37,"input",55),e.ALo(38,"translate"),e.ALo(39,"translate"),e.qZA()()(),e.BQk(),e.ynx(40),e.TgZ(41,"div",15)(42,"div",50)(43,"div"),e._uU(44),e.ALo(45,"translate"),e.TgZ(46,"span",51),e._uU(47,"*"),e.qZA()(),e.YNc(48,Lg,3,2,"div",17),e.TgZ(49,"mat-form-field",52),e._UZ(50,"input",56),e.ALo(51,"translate"),e.ALo(52,"translate"),e.qZA()()(),e.BQk(),e.ynx(53),e.TgZ(54,"div",15)(55,"div",50)(56,"div"),e._uU(57),e.ALo(58,"translate"),e.TgZ(59,"span",51),e._uU(60,"*"),e.qZA()(),e.YNc(61,Zg,2,1,"div",17),e.TgZ(62,"mat-form-field",52),e._UZ(63,"input",57),e.ALo(64,"translate"),e.ALo(65,"translate"),e.qZA()()(),e.BQk(),e.qZA()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",e.VKq(60,Ke,(null==t.formGroup.controls.addressLine1?null:t.formGroup.controls.addressLine1.touched)&&(null==t.formGroup.controls.addressLine1?null:t.formGroup.controls.addressLine1.errors))),e.xp6(1),e.Q6J("formGroup",t.formGroup),e.xp6(2),e.Oqu(e.lcZ(6,30,"applicantInformation.formLabel.label13")),e.xp6(4),e.Q6J("ngIf",(null==t.formGroup.controls.addressLine1?null:t.formGroup.controls.addressLine1.touched)&&(null==t.formGroup.controls.addressLine1?null:t.formGroup.controls.addressLine1.errors)),e.xp6(2),e.MGl("placeholder"," ",e.lcZ(12,32,"applicantInformation.formLabel.label13"),""),e.uIk("aria-label",e.lcZ(13,34,"applicantInformation.formLabel.label13")),e.xp6(4),e.Q6J("ngClass",e.VKq(62,Ke,(null==t.formGroup.controls.addressLine2?null:t.formGroup.controls.addressLine2.touched)&&(null==t.formGroup.controls.addressLine2?null:t.formGroup.controls.addressLine2.errors))),e.xp6(1),e.Q6J("formGroup",t.formGroup),e.xp6(2),e.Oqu(e.lcZ(19,36,"applicantInformation.formLabel.label15")),e.xp6(4),e.Q6J("ngIf",(null==t.formGroup.controls.addressLine2?null:t.formGroup.controls.addressLine2.touched)&&(null==t.formGroup.controls.addressLine2?null:t.formGroup.controls.addressLine2.errors)),e.xp6(2),e.MGl("placeholder"," ",e.lcZ(25,38,"applicantInformation.formLabel.label15"),""),e.uIk("aria-label",e.lcZ(26,40,"applicantInformation.formLabel.label15")),e.xp6(4),e.Q6J("ngClass",e.VKq(64,Ke,(null==t.formGroup.controls.state?null:t.formGroup.controls.state.touched)&&(null==t.formGroup.controls.state?null:t.formGroup.controls.state.errors))),e.xp6(1),e.Q6J("formGroup",t.formGroup),e.xp6(2),e.Oqu(e.lcZ(32,42,"applicantInformation.formLabel.label16")),e.xp6(4),e.Q6J("ngIf",(null==t.formGroup.controls.state?null:t.formGroup.controls.state.touched)&&(null==t.formGroup.controls.state?null:t.formGroup.controls.state.errors)),e.xp6(2),e.MGl("placeholder"," ",e.lcZ(38,44,"applicantInformation.formLabel.label16"),""),e.uIk("aria-label",e.lcZ(39,46,"applicantInformation.formLabel.label16")),e.xp6(4),e.Q6J("ngClass",e.VKq(66,Ke,(null==t.formGroup.controls.city?null:t.formGroup.controls.city.touched)&&(null==t.formGroup.controls.city?null:t.formGroup.controls.city.errors))),e.xp6(1),e.Q6J("formGroup",t.formGroup),e.xp6(2),e.Oqu(e.lcZ(45,48,"applicantInformation.formLabel.label17")),e.xp6(4),e.Q6J("ngIf",(null==t.formGroup.controls.city?null:t.formGroup.controls.city.touched)&&(null==t.formGroup.controls.city?null:t.formGroup.controls.city.errors)),e.xp6(2),e.MGl("placeholder"," ",e.lcZ(51,50,"applicantInformation.formLabel.label17"),""),e.uIk("aria-label",e.lcZ(52,52,"applicantInformation.formLabel.label17")),e.xp6(4),e.Q6J("ngClass",e.VKq(68,Ke,(null==t.formGroup.controls.postCode?null:t.formGroup.controls.postCode.touched)&&(null==t.formGroup.controls.postCode?null:t.formGroup.controls.postCode.errors))),e.xp6(1),e.Q6J("formGroup",t.formGroup),e.xp6(2),e.Oqu(e.lcZ(58,54,"applicantInformation.formLabel.label18")),e.xp6(4),e.Q6J("ngIf",(null==t.formGroup.controls.postCode?null:t.formGroup.controls.postCode.touched)&&(null==t.formGroup.controls.postCode?null:t.formGroup.controls.postCode.errors)),e.xp6(2),e.MGl("placeholder"," ",e.lcZ(64,56,"applicantInformation.formLabel.label18"),""),e.uIk("aria-label",e.lcZ(65,58,"applicantInformation.formLabel.label18"))}}function Dg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message1")," "))}function Og(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function Eg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function kg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message8")," "))}function wg(i,s){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Dg,3,3,"div",46),e.YNc(2,Og,3,3,"div",46),e.YNc(3,Eg,3,3,"div",46),e.YNc(4,kg,3,3,"div",46),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.startdate||null==t.formGroup.controls.startdate.errors?null:t.formGroup.controls.startdate.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.startdate||null==t.formGroup.controls.startdate.errors?null:t.formGroup.controls.startdate.errors.formate),e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.startdate||null==t.formGroup.controls.startdate.errors?null:t.formGroup.controls.startdate.errors.validDate),e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.startdate||null==t.formGroup.controls.startdate.errors?null:t.formGroup.controls.startdate.errors.validStartandEnddates)}}function Fg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message2")," "))}function Mg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message4")," "))}function Pg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function Ug(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message8")," "))}function qg(i,s){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Fg,3,3,"div",46),e.YNc(2,Mg,3,3,"div",46),e.YNc(3,Pg,3,3,"div",46),e.YNc(4,Ug,3,3,"div",46),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.enddate||null==t.formGroup.controls.enddate.errors?null:t.formGroup.controls.enddate.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.enddate||null==t.formGroup.controls.enddate.errors?null:t.formGroup.controls.enddate.errors.formate),e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.enddate||null==t.formGroup.controls.enddate.errors?null:t.formGroup.controls.enddate.errors.validDate),e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.enddate||null==t.formGroup.controls.enddate.errors?null:t.formGroup.controls.enddate.errors.validStartandEnddates)}}function Gg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message5")," "))}function Vg(i,s){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Gg,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.countryofentry||null==t.formGroup.controls.countryofentry.errors?null:t.formGroup.controls.countryofentry.errors.required)}}function Rg(i,s){if(1&i&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.countryCode),e.xp6(1),e.hij(" ",null==t?null:t.countryDisplayName," ")}}function Jg(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",50)(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,Vg,2,1,"div",17),e.TgZ(7,"mat-form-field",52)(8,"mat-select",58),e.ALo(9,"translate"),e.YNc(10,Rg,2,2,"mat-option",59),e.ALo(11,"sortBy"),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(16,Ke,(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.touched)&&(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.errors))),e.xp6(1),e.Q6J("formGroup",t.formGroup),e.xp6(2),e.Oqu(e.lcZ(5,9,"travelMedicalInformation.formLabel.label3")),e.xp6(2),e.Q6J("ngIf",(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.touched)&&(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(9,11,"travelMedicalInformation.placeholder.label2")),e.Q6J("options",t.nationalityList)("valueKey","countryCode"),e.xp6(2),e.Q6J("ngForOf",e.xi3(11,13,t.nationalityList,"countryDisplayName"))("ngForTrackBy",t.trackByFn)}}function Yg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message6")," "))}function Qg(i,s){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Yg,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.coveragetype||null==t.formGroup.controls.coveragetype.errors?null:t.formGroup.controls.coveragetype.errors.required)}}function Bg(i,s){if(1&i&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",null==t?null:t.ctCode),e.xp6(1),e.hij(" ",null==t?null:t.ctDisplayName," ")}}function jg(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",50)(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,Qg,2,1,"div",17),e.TgZ(7,"mat-form-field",52)(8,"mat-select",61),e.ALo(9,"translate"),e.YNc(10,Bg,2,2,"mat-option",59),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(13,Ke,(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.touched)&&(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.errors))),e.xp6(1),e.Q6J("formGroup",t.formGroup),e.xp6(2),e.Oqu(e.lcZ(5,9,"travelMedicalInformation.formLabel.label4")),e.xp6(2),e.Q6J("ngIf",(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.touched)&&(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(9,11,"travelMedicalInformation.placeholder.label3")),e.Q6J("options",t.coverageTypes)("valueKey","ctCode"),e.xp6(2),e.Q6J("ngForOf",t.coverageTypes)("ngForTrackBy",t.trackByFn)}}function Hg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message9")," "))}function $g(i,s){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,Hg,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.coveragelevel||null==t.formGroup.controls.coveragelevel.errors?null:t.formGroup.controls.coveragelevel.errors.required)}}function Wg(i,s){if(1&i&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",null==t?null:t.clCode),e.xp6(1),e.hij(" ",null==t?null:t.clDisplayName," ")}}function Kg(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",50)(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,$g,2,1,"div",17),e.TgZ(7,"mat-form-field",52)(8,"mat-select",62),e.ALo(9,"translate"),e.YNc(10,Wg,2,2,"mat-option",59),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(13,Ke,(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.touched)&&(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.errors))),e.xp6(1),e.Q6J("formGroup",t.formGroup),e.xp6(2),e.Oqu(e.lcZ(5,9,"travelMedicalInformation.formLabel.label5")),e.xp6(2),e.Q6J("ngIf",(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.touched)&&(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(9,11,"travelMedicalInformation.placeholder.label4")),e.Q6J("options",t.coverageLevels)("valueKey","clCode"),e.xp6(2),e.Q6J("ngForOf",t.coverageLevels)("ngForTrackBy",t.trackByFn)}}function zg(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function Xg(i,s){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,zg,3,3,"div",46),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.extremesports||null==t.formGroup.controls.extremesports.errors?null:t.formGroup.controls.extremesports.errors.required)}}function e_(i,s){if(1&i&&(e.TgZ(0,"mat-option",60),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.extCode),e.xp6(1),e.hij(" ",t.extDisplayName," ")}}function t_(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",50)(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,Xg,2,1,"div",17),e.TgZ(7,"mat-form-field",52)(8,"mat-select",63),e.ALo(9,"translate"),e.YNc(10,e_,2,2,"mat-option",59),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(13,Ke,(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.touched)&&(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.errors))),e.xp6(1),e.Q6J("formGroup",t.formGroup),e.xp6(2),e.Oqu(e.lcZ(5,9,"travelMedicalInformation.formLabel.label6")),e.xp6(2),e.Q6J("ngIf",(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.touched)&&(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(9,11,"travelMedicalInformation.placeholder.label5")),e.Q6J("options",t.extremeSports)("valueKey","extCode"),e.xp6(2),e.Q6J("ngForOf",t.extremeSports)("ngForTrackBy",t.trackByFn)}}function i_(i,s){1&i&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message7")," "))}function o_(i,s){if(1&i&&(e.TgZ(0,"div",45),e.YNc(1,i_,3,3,"div",46),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!1===t.formGroup.value.agreeToTermsAndCondition)}}let n_=(()=>{class i extends Ze.o{constructor(t,o,n){var l;super(),this.fb=t,this.datePipe=o,this.titlecase=n,this.scope=this,this.dataOtCpId=re.N.oneTrustPortal.dataOtCpId,this.loggedInUser="",this.travelStartDate=[],this.isSubmit=!1,this.tmiDobError={},this.appConfig=this.sessionService.applicationConfiguration,this.proceedFailMsg="",this.newVal="",this.initBaseForm(p.gT.modules.TRAVEL_MEDICAL_INSURANCE),this.applicantList={},this.loggedInUser=this.sessionService.getLoggedEmail(),this.getTmiProductErrorRes(),this.isTMIDateofBirthEnabled=null===(l=this.sessionService.applicationConfiguration)||void 0===l?void 0:l.isTMIDateofBirthEnabled}ngOnInit(){var t,o,n;return(0,v.mG)(this,void 0,void 0,function*(){this.coverageTypes=[],this.coverageLevels=[],this.extremeSports=[],this.applicantList=null===(o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationDetailValue)||void 0===o?void 0:o.applicantList,this.agreeToTermsAndCondition=!1,this.tmiContentfulData=null===(n=this.sessionService)||void 0===n?void 0:n.tmiContentfulDetails,this.formGroup=this.initFormGroup(),this.loadTmiMasterData(),this.addAddressFormFields(this.appConfig),this.applicantsCheckboxDefaultSelect(),this.calculateApplicantAge(),this.startDates();const l=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY").add(-1,"days");this.dobEndDate={year:+l.format("YYYY"),month:+l.format("MM"),day:+l.format("DD")},this.tmiDobEndDate={year:+l.format("YYYY"),month:+l.format("MM"),day:+l.format("DD")}})}initFormGroup(){return new r.cw({startdate:new r.NI("",[r.kI.required]),enddate:new r.NI("",[r.kI.required]),agreeToTermsAndCondition:new r.NI(!1,[r.kI.required])})}get isApplicantSelectedTmi(){return this.applicantList.some(t=>null==t?void 0:t.isTmiApplicant)}getQuotes(){var t,o,n;this.isSubmit=!0;try{if("INVALID"===this.formGroup.status||!(null===(t=this.formGroup.value)||void 0===t?void 0:t.agreeToTermsAndCondition)){this.commonService.touchAllFields(this.formGroup);const _=document.querySelector(".form-error");return void(null==_||_.scrollIntoView({behavior:"smooth",block:"center"}))}if(this.appConfig.isTMIDateofBirthEnabled&&(this.dobValidation(),null===(o=this.applicantList)||void 0===o?void 0:o.some(f=>f.isTmiApplicant&&""===f.dateOfBirth||null===f.dateOfBirth))){const f=document.querySelector(".form-error");return void(null==f||f.scrollIntoView({behavior:"smooth",block:"center"}))}const l=null===(n=this.formGroup)||void 0===n?void 0:n.value;this.utilityService.fireCustomEvent({dl_category:"get_quote_travel_insurance",dl_action:"cta_click",dl_label:"cta_click",coverage_type:null==l?void 0:l.coveragetype,coverage_level:null==l?void 0:l.coveragelevel,extreme_sports:null==l?void 0:l.extremesports}),l.coverageTypes=this.coverageTypes,l.coverageLevels=this.coverageLevels,l.extremeSports=this.extremeSports,l.nationalityList=this.nationalityList,this.sessionService.tmiDetails=l,this.sessionService.optOutTmi=!1,this.sessionService.tmiVas=[];const d=this.sessionService.applicationDetailValue;d.applicantList=this.applicantList,this.sessionService.applicationDetailValue=d,this.sessionService.tmiProductView=!0,this.sessionService.tmiProductConsent=!1}catch(l){this.logger.error(l)}}loadExtremeSports(){return(0,v.mG)(this,void 0,void 0,function*(){this.extremeSports=["Yes","No"]})}setSelectedValues(t){var o;return(0,v.mG)(this,void 0,void 0,function*(){try{const n=null===(o=this.sessionService)||void 0===o?void 0:o.tmiDetails;if(n)this.formGroup.patchValue(n);else if(null==t?void 0:t.isCountryRequired){let l=[];const c=this.sessionService.tenent,d=yield this.commonService.loadNationality(),_=this.utilityService.getnationalityName(d,c);l.countryofentry=this.titlecase.transform(_),this.formGroup.patchValue(l)}}catch(n){this.logger.error(n)}})}checkifDisabled(){return!this.isApplicantSelectedTmi}loadNationality(){return(0,v.mG)(this,void 0,void 0,function*(){this.nationalityList=yield this.commonService.loadNationality()})}loadTmiMasterData(){var t;return(0,v.mG)(this,void 0,void 0,function*(){const n=(null===(t=this.sessionService.applicationConfiguration)||void 0===t?void 0:t.tmiPartnerCode)||"",l=yield this.commonService.loadMasterTmiData("lift",n);l&&null===(null==l?void 0:l.error)&&(this.masterData=l,this.addRequiredFields(this.masterData))})}addRequiredFields(t){(null==t?void 0:t.isCountryRequired)&&(this.formGroup.addControl("countryofentry",new r.NI(null,r.kI.required)),this.nationalityList=null==t?void 0:t.countries),(null==t?void 0:t.isCoverageTypeRequired)&&(this.formGroup.addControl("coveragetype",new r.NI(null,r.kI.required)),this.coverageTypes=null==t?void 0:t.coverageTypes),(null==t?void 0:t.isCoverageLevelRequired)&&(this.formGroup.addControl("coveragelevel",new r.NI(this.masterData.defaultCoverageLevelCode,r.kI.required)),this.coverageLevels=null==t?void 0:t.coverageLevels),(null==t?void 0:t.isExtremeSportsRequired)&&(this.formGroup.addControl("extremesports",new r.NI(null,r.kI.required)),this.extremeSports=null==t?void 0:t.extremeSports),this.setSelectedValues(t)}calculateApplicantAge(){try{this.applicantList=this.utilityService.calculateApplicantAge(this.applicantList,"dateOfBirth")}catch(t){this.logger.error(t)}}startDates(){var t;this.utilityService.momentInstance(null===(t=this.sessionService.getAppointmentDetails())||void 0===t?void 0:t.date).format("DD/MM/YYYY");const n=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY"),l=this.utilityService.momentInstance(n,"DD/MM/YYYY").add(60,"days");this.travelStartDate.min={year:+n.format("YYYY"),month:+n.format("MM"),day:+n.format("DD")},this.travelStartDate.max={year:+l.format("YYYY"),month:+l.format("MM"),day:+l.format("DD")},this.formGroup.value.endate||(this.travelEndDate=Object.assign({},this.travelStartDate.min))}changeEndDate(t){var o;if(!this.formGroup.value.endate){const n=this.utilityService.momentInstance(null===(o=this.utilityService)||void 0===o?void 0:o.convertJSONInDate(t),"DD/MM/YYYY").add(1,"days");this.travelEndDate={year:+n.format("YYYY"),month:+n.format("MM"),day:+n.format("DD")}}}dateFormatConversion(t){return this.utilityService.momentInstance(t).format("YYYY-MM-DD")}validateStartandEndDates(t,o){var n;this.formGroup.controls.startdate.updateValueAndValidity(),this.formGroup.controls.enddate.updateValueAndValidity(),this.utilityService.momentInstance(null===(n=this.sessionService.getAppointmentDetails())||void 0===n?void 0:n.date).format("DD/MM/YYYY");const c=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY"),d=this.utilityService.momentInstance(c,"YYYY-MM-DD").add(60,"days"),f=(d.format("YYYY"),d.format("MM"),d.format("DD"),this.dateFormatConversion(this.formGroup.value.startdate.year+"-"+this.formGroup.value.startdate.month+"-"+this.formGroup.value.startdate.day)),h=this.dateFormatConversion(this.formGroup.value.enddate.year+"-"+this.formGroup.value.enddate.month+"-"+this.formGroup.value.enddate.day),T=this.dateFormatConversion(t.year+"-"+t.month+"-"+t.day),I=this.utilityService.isDateFormatCheck(t);I&&this.formGroup.controls[o].setErrors({formate:!0}),"startdate"===o&&!I&&!this.utilityService.momentInstance(T).isSameOrAfter(c)&&this.formGroup.controls[o].setErrors({validDate:!0}),this.formGroup.value.startdate&&"enddate"===o&&!I&&!this.utilityService.momentInstance(T).isAfter(f)&&this.formGroup.controls[o].setErrors({validStartandEnddates:!0}),this.formGroup.value.enddate&&"startdate"===o&&!I&&!this.utilityService.momentInstance(T).isBefore(h)&&this.formGroup.controls[o].setErrors({validStartandEnddates:!0})}addAddressFormFields(t){return(0,v.mG)(this,void 0,void 0,function*(){return new Promise((o,n)=>(0,v.mG)(this,void 0,void 0,function*(){var l,c,d,_,f;t.isTMIAddressFieldEnabled&&(t.enableCourierAddress?(this.formGroup.addControl("addressLine1",new r.NI(null===(l=this.applicantList[0])||void 0===l?void 0:l.addressline1,r.kI.required)),this.formGroup.addControl("addressLine2",new r.NI(null===(c=this.applicantList[0])||void 0===c?void 0:c.addressline2,r.kI.required)),this.formGroup.addControl("state",new r.NI(null===(d=this.applicantList[0])||void 0===d?void 0:d.state,[r.kI.required,r.kI.pattern(p.Wg.State)])),this.formGroup.addControl("city",new r.NI(null===(_=this.applicantList[0])||void 0===_?void 0:_.city,[r.kI.required,r.kI.pattern(p.Wg.City)])),this.formGroup.addControl("postCode",new r.NI(null===(f=this.applicantList[0])||void 0===f?void 0:f.pincode,r.kI.required))):(this.formGroup.addControl("addressLine1",new r.NI(null,r.kI.required)),this.formGroup.addControl("addressLine2",new r.NI(null,r.kI.required)),this.formGroup.addControl("state",new r.NI(null,[r.kI.required,r.kI.pattern(p.Wg.State)])),this.formGroup.addControl("city",new r.NI(null,[r.kI.required,r.kI.pattern(p.Wg.City)])),this.formGroup.addControl("postCode",new r.NI(null,r.kI.required)))),o(!0)}))})}applicantsCheckboxDefaultSelect(){try{this.appConfig.isTMIDateofBirthEnabled&&this.applicantList.forEach(t=>{t.isTmiApplicant=!0})}catch(t){this.logger.error(t)}}dobValidation(){if(this.tmiDobError={},this.appConfig.isTMIDateofBirthEnabled)for(let t of this.applicantList)t.isTmiApplicant&&(""===t.dateOfBirth||!t.dateOfBirth)&&(this.tmiDobError.required=!0)}blockNonNumericCharacters(t){const l=["ArrowLeft","ArrowRight","Backspace","Tab"].includes(t.key),c=/^\d{0,2}\/\d{0,2}\/\d{0,4}$/.test(t.key);!l&&!c&&t.preventDefault()}dobDisabled(t){return null!==t&&!this.appConfig.isDOBDisabled}getTmiProductErrorRes(){var t,o;let n=null===(t=this.sessionService)||void 0===t?void 0:t.getTmiProductErrResponse;this.proceedFailMsg="",n&&null===n.products&&(document.body.scrollTop=document.documentElement.scrollTop=0,this.proceedFailMsg=null===(o=null==n?void 0:n.error)||void 0===o?void 0:o.description,setTimeout(()=>this.proceedFailMsg="",4e3))}keyUpDateFormate(t,o){var n=t.target.value.length;if(8!=t.keyCode&&(2===n||5===n)){let l=t.target.value;l+="/","dateFormatStartDate"==o?this.dateFormatStartDate=l:"dateFormatEndDate"==o&&(this.dateFormatEndDate=l)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(w.uU),e.Y36(w.rS))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-tmiform"]],features:[e._Bn([w.rS]),e.qOj],decls:62,vars:60,consts:[["action","","method","post",1,"ot-form-consent",3,"formGroup","ngSubmit"],[4,"ngIf"],[1,"row","align-items-end"],[1,"col-12","mb-30"],[1,"fs-18","fs-sm-24","mb-10"],[1,"table","table-borderless"],[1,"c-brand-grey-para"],[1,"min-w-35","min-lg-w-100","px-0"],[1,"min-w-230","px-5"],["class","px-0",4,"ngIf"],["class","border-bottom-1",4,"ngFor","ngForOf","ngForTrackBy"],["class","col-12 mb-30",4,"ngIf"],[1,"col-12"],[1,"fs-18","fs-sm-24","mb-20"],[1,"col-12","col-sm"],[3,"ngClass"],[1,"datepicker-div","form-group"],["class","errorMessage",4,"ngIf"],["ngbDatepicker","","maxlength","10","formControlName","startdate",1,"form-control","input-lg","mt-5",3,"minDate","value","placeholder","change","ngModelChange","keyup"],["datePickerReference","ngbDatepicker"],[1,"input-group-addon",3,"click"],[1,"col-12","col-sm",3,"formGroup"],[1,"form-group"],["ngbDatepicker","","formControlName","enddate",1,"form-control","input-lg","mt-5",3,"minDate","value","placeholder","change","ngModelChange","keyup"],["datePickerReference2","ngbDatepicker"],[1,"form-group","mt-30",3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"pl-35"],["formControlName","agreeToTermsAndCondition","value","The personal details provided by all persons on this form may be shared with VFS' Insurance partners","type","checkbox",1,"mat-checkbox-brand","ml-n35"],[1,"fs-sm-18","text-wrap","mr-5"],[3,"richData"],["type","email","id","inputEmail","required","",1,"ot-form-control","d-none",3,"value"],["type","submit","id","trigger","mat-stroked-button","",1,"ot-submit-button","btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"px-0"],[1,"d-inline-block","min-lg-w-300"],[1,"border-bottom-1"],["name","sizecb[]",1,"mat-checkbox-brand",3,"ngModel","ngModelOptions","ngModelChange"],[1,"fs-sm-18","px-5"],["class","fs-sm-18 px-0",4,"ngIf"],["class","fs-sm-18 p-0",4,"ngIf"],[1,"fs-sm-18","px-0"],[1,"fs-sm-18","p-0"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],["ngbDatepicker","",1,"form-control","input-lg","mt-5",3,"minDate","maxDate","ngModel","ngModelOptions","placeholder","disabled","change","ngModelChange","keydown"],["datePickerReference5","ngbDatepicker"],[1,"errorMessage","c-brand-error"],[1,"form-group",3,"formGroup"],[1,"c-brand-error"],["appearance","outline",1,"mat-form-field-outline-brand"],["type","text","matInput","","formControlName","addressLine1","autocomplete","off","attr.aria-required","true",3,"placeholder"],["type","text","matInput","","formControlName","addressLine2","autocomplete","off","attr.aria-required","true",3,"placeholder"],["type","text","matInput","","formControlName","state","autocomplete","off","attr.aria-required","true",3,"placeholder"],["type","text","matInput","","formControlName","city","autocomplete","off","attr.aria-required","true",3,"placeholder"],["type","text","matInput","","formControlName","postCode","autocomplete","off","attr.aria-required","true",3,"placeholder"],["appDefaultSelect","","formControlName","countryofentry",3,"options","valueKey","placeholder"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],["appDefaultSelect","","formControlName","coveragetype",3,"options","valueKey","placeholder"],["appDefaultSelect","","formControlName","coveragelevel",3,"options","valueKey","placeholder"],["appDefaultSelect","","formControlName","extremesports",3,"options","valueKey","placeholder"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.getQuotes()}),e.YNc(1,cg,6,1,"ng-container",1),e.TgZ(2,"div",2)(3,"div",3)(4,"h2",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"table",5)(8,"tr",6),e._UZ(9,"td",7),e.TgZ(10,"td",8),e._uU(11),e.ALo(12,"translate"),e.ALo(13,"translate"),e.qZA(),e.YNc(14,ug,4,3,"td",9),e.YNc(15,dg,4,3,"td",9),e.qZA(),e.YNc(16,fg,7,7,"tr",10),e.qZA()(),e.YNc(17,Ng,66,70,"div",11),e.TgZ(18,"div",12)(19,"h2",13),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"div",14)(23,"div",15)(24,"div",16)(25,"div"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.YNc(28,wg,5,4,"div",17),e.TgZ(29,"div",16)(30,"input",18,19),e.NdJ("change",function(){return o.validateStartandEndDates(o.formGroup.value.startdate,"startdate")})("ngModelChange",function(c){return o.changeEndDate(c),o.validateStartandEndDates(c,"startdate")})("keyup",function(c){return o.keyUpDateFormate(c,"dateFormatStartDate")}),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",20),e.NdJ("click",function(){return e.CHM(n),e.MAs(31).toggle()}),e.qZA()()()()(),e.TgZ(34,"div",21)(35,"div",15)(36,"div",22)(37,"div"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.YNc(40,qg,5,4,"div",17),e.TgZ(41,"div",16)(42,"input",23,24),e.NdJ("change",function(){return o.validateStartandEndDates(o.formGroup.value.enddate,"enddate")})("ngModelChange",function(c){return o.validateStartandEndDates(c,"enddate")})("keyup",function(c){return o.keyUpDateFormate(c,"dateFormatEndDate")}),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"div",20),e.NdJ("click",function(){return e.CHM(n),e.MAs(43).toggle()}),e.qZA()()()()(),e.TgZ(46,"div",12),e.YNc(47,Jg,12,18,"ng-container",1),e.YNc(48,jg,11,15,"ng-container",1),e.YNc(49,Kg,11,15,"ng-container",1),e.YNc(50,t_,11,15,"ng-container",1),e.TgZ(51,"div",25)(52,"div",26),e.YNc(53,o_,2,1,"div",17),e.TgZ(54,"div",27)(55,"mat-checkbox",28)(56,"div",29),e._UZ(57,"app-contentful-richtext",30),e.qZA()()()(),e._UZ(58,"input",31),e.TgZ(59,"button",32),e._uU(60),e.ALo(61,"translate"),e.qZA()()()()()}2&t&&(e.Q6J("formGroup",o.formGroup),e.uIk("data-ot-cp-id",o.dataOtCpId),e.xp6(1),e.Q6J("ngIf",o.proceedFailMsg),e.xp6(4),e.hij(" ",e.lcZ(6,36,null==o.tmiContentfulData?null:o.tmiContentfulData.quoteFormSectionTitle1)," "),e.xp6(6),e.AsE(" ",e.lcZ(12,38,"travelMedicalInformation.headerLabel.label3"),"",e.lcZ(13,40,"travelMedicalInformation.headerLabel.label4")," "),e.xp6(3),e.Q6J("ngIf",o.isApplicantSelectedTmi&&!o.isTMIDateofBirthEnabled),e.xp6(1),e.Q6J("ngIf",o.isApplicantSelectedTmi&&o.isTMIDateofBirthEnabled),e.xp6(1),e.Q6J("ngForOf",o.applicantList)("ngForTrackBy",o.trackByFn),e.xp6(1),e.Q6J("ngIf",o.appConfig.isTMIAddressFieldEnabled),e.xp6(3),e.Oqu(e.lcZ(21,42,null==o.tmiContentfulData?null:o.tmiContentfulData.quoteFormSectionTitle2)),e.xp6(3),e.Q6J("ngClass",e.VKq(54,Ke,(null==o.formGroup.controls.startdate?null:o.formGroup.controls.startdate.touched)&&(null==o.formGroup.controls.startdate?null:o.formGroup.controls.startdate.errors))),e.xp6(3),e.Oqu(e.lcZ(27,44,"travelMedicalInformation.formLabel.label1")),e.xp6(2),e.Q6J("ngIf",(null==o.formGroup.controls.startdate?null:o.formGroup.controls.startdate.touched)&&(null==o.formGroup.controls.startdate?null:o.formGroup.controls.startdate.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(32,46,"travelMedicalInformation.placeholder.label1")),e.Q6J("minDate",o.travelStartDate.min)("value",o.dateFormatStartDate),e.xp6(4),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("ngClass",e.VKq(56,Ke,(null==o.formGroup.controls.enddate?null:o.formGroup.controls.enddate.touched)&&(null==o.formGroup.controls.enddate?null:o.formGroup.controls.enddate.errors))),e.xp6(3),e.Oqu(e.lcZ(39,48,"travelMedicalInformation.formLabel.label2")),e.xp6(2),e.Q6J("ngIf",(null==o.formGroup.controls.enddate?null:o.formGroup.controls.enddate.touched)&&(null==o.formGroup.controls.enddate?null:o.formGroup.controls.enddate.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(44,50,"travelMedicalInformation.placeholder.label1")),e.Q6J("minDate",o.travelEndDate)("value",o.dateFormatEndDate),e.xp6(5),e.Q6J("ngIf",null==o.masterData?null:o.masterData.isCountryRequired),e.xp6(1),e.Q6J("ngIf",null==o.masterData?null:o.masterData.isCoverageTypeRequired),e.xp6(1),e.Q6J("ngIf",null==o.masterData?null:o.masterData.isCoverageLevelRequired),e.xp6(1),e.Q6J("ngIf",null==o.masterData?null:o.masterData.isExtremeSportsRequired),e.xp6(1),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("ngClass",e.VKq(58,Ke,!1===o.formGroup.value.agreeToTermsAndCondition&&o.isSubmit)),e.xp6(1),e.Q6J("ngIf",o.isSubmit),e.xp6(4),e.Q6J("richData",null==o.tmiContentfulData?null:o.tmiContentfulData.quoteFormLegalConsent),e.xp6(1),e.Q6J("value",o.loggedInUser),e.xp6(1),e.Q6J("disabled",o.checkifDisabled()),e.xp6(1),e.hij(" ",e.lcZ(61,52,"travelMedicalInformation.buttons.button1")," "))},directives:[r._Y,r.JL,r.sg,w.O5,w.sg,le.oG,r.JJ,r.On,w.mk,J.J4,r.Fj,q.KE,u.Nt,r.u,r.nD,ae.gD,ce,te.ey,kt,V.lW],pipes:[D.X$,ue.Uw],encapsulation:2}),i})();function a_(i,s){if(1&i&&(e.TgZ(0,"li",7)(1,"div",8),e._uU(2,"\u2713"),e.qZA(),e.TgZ(3,"div",9),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",10),e._uU(7),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,2,"travelMedicalInformation.formLabel.label3")),e.xp6(3),e.Oqu(null==t.tmiDetails?null:t.tmiDetails.countryofentryName)}}function s_(i,s){if(1&i&&(e.TgZ(0,"li",7)(1,"div",8),e._uU(2,"\u2713"),e.qZA(),e.TgZ(3,"div",9),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",10),e._uU(7),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,2,"travelMedicalInformation.formLabel.label4")),e.xp6(3),e.Oqu(null==t.tmiDetails?null:t.tmiDetails.coverageTypeName)}}function l_(i,s){if(1&i&&(e.TgZ(0,"li",7)(1,"div",8),e._uU(2,"\u2713"),e.qZA(),e.TgZ(3,"div",9),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",10),e._uU(7),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,2,"travelMedicalInformation.formLabel.label5")),e.xp6(3),e.Oqu(null==t.tmiDetails?null:t.tmiDetails.coveragelevelName)}}function r_(i,s){if(1&i&&(e.TgZ(0,"li",7)(1,"div",8),e._uU(2,"\u2713"),e.qZA(),e.TgZ(3,"div",9),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",10),e._uU(7),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,2,"travelMedicalInformation.formLabel.label6")),e.xp6(3),e.Oqu(null==t.tmiDetails?null:t.tmiDetails.extremeSportsName)}}function c_(i,s){1&i&&(e.ynx(0),e.TgZ(1,"div",18)(2,"div",19),e._UZ(3,"i",20),e.TgZ(4,"div"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.BQk()),2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"travelMedicalInformation.pageDetails.para6")))}function u_(i,s){if(1&i&&(e.TgZ(0,"div",44),e._UZ(1,"img",45),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("src",null==t||null==t.contentful||null==t.contentful.insProviderIcon||null==t.contentful.insProviderIcon.fields||null==t.contentful.insProviderIcon.fields.file?null:t.contentful.insProviderIcon.fields.file.url,e.LSH)}}function d_(i,s){if(1&i&&(e.TgZ(0,"mat-label",46),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t||null==t.contentful?null:t.contentful.insProviderName,"")}}function p_(i,s){if(1&i&&(e.TgZ(0,"div",47)(1,"div",48),e._uU(2),e.qZA()()),2&i){const t=s.$implicit;e.xp6(2),e.Oqu(t.name)}}function m_(i,s){if(1&i&&(e.TgZ(0,"div",55),e._UZ(1,"app-contentful-richtext",56),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("richData",null==t||null==t.contentful?null:t.contentful.insPolicyDesc)}}const cn=function(i){return{"same-coverage-container":i}};function g_(i,s){if(1&i&&(e.TgZ(0,"div",57)(1,"table",58)(2,"tr")(3,"td",59)(4,"div",60),e._uU(5),e.qZA()(),e.TgZ(6,"td",61)(7,"div"),e._uU(8),e.qZA()(),e.TgZ(9,"td",62)(10,"div"),e._uU(11),e.qZA()()()()()),2&i){const t=s.$implicit,o=s.index,n=e.oxw(4);e.Q6J("ngClass",e.VKq(5,cn,n.getSameCoverage(o,"coveragesListOne"))),e.xp6(4),e.Q6J("ngClass",t.isCovered?"c-brand-green":"c-brand-error"),e.xp6(1),e.hij(" ",t.isCovered?"\u2713":"\u2716"," "),e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.amountOrDays)}}function __(i,s){if(1&i&&(e.TgZ(0,"div",57)(1,"table",58)(2,"tr")(3,"td",59)(4,"div",60),e._uU(5),e.qZA()(),e.TgZ(6,"td",61)(7,"div"),e._uU(8),e.qZA()(),e.TgZ(9,"td",63)(10,"div"),e._uU(11),e.qZA()()()()()),2&i){const t=s.$implicit,o=s.index,n=e.oxw(4);e.Q6J("ngClass",e.VKq(5,cn,n.getSameCoverage(o,"coveragesListTwo"))),e.xp6(4),e.Q6J("ngClass",t.isCovered?"c-brand-green":"c-brand-error"),e.xp6(1),e.hij(" ",t.isCovered?"\u2713":"\u2716"," "),e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.amountOrDays)}}function f_(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",49),e.YNc(1,m_,2,1,"div",50),e.TgZ(2,"div",51)(3,"div",52),e.YNc(4,g_,12,7,"div",53),e.qZA(),e.TgZ(5,"div",52),e.YNc(6,__,12,7,"div",53),e.qZA()(),e.TgZ(7,"a",54),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showCoverage=null}),e._uU(8," \u2190"),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(),o=t.index,n=t.$implicit,l=e.oxw(2);e.ekj("show",l.showCoverage!==o),e.xp6(1),e.Q6J("ngIf",null==n||null==n.contentful?null:n.contentful.insPolicyDesc),e.xp6(3),e.Q6J("ngForOf",l.coveragesListOne),e.xp6(2),e.Q6J("ngForOf",l.coveragesListTwo),e.xp6(4),e.Oqu(e.lcZ(11,6,"travelMedicalInformation.formLabel.label17"))}}function v_(i,s){if(1&i&&(e.TgZ(0,"div",64),e._UZ(1,"app-contentful-richtext",56),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("richData",null==t||null==t.contentful?null:t.contentful.insPolicyTermsnCondition)}}function h_(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw(2).addService(n)}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.buttons.button7")," "))}function y_(i,s){1&i&&(e.TgZ(0,"button",66),e._uU(1," \u2713 "),e.qZA())}function b_(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",23),e.YNc(2,u_,2,1,"div",24),e.TgZ(3,"div",25)(4,"div",26),e.YNc(5,d_,2,1,"mat-label",27),e.qZA(),e.TgZ(6,"div",28)(7,"div",29)(8,"div",0)(9,"div",30),e.YNc(10,p_,3,1,"div",31),e.qZA()()(),e.TgZ(11,"div",32)(12,"div",33)(13,"a",34),e.NdJ("click",function(){const l=e.CHM(t).index;return e.oxw(2).viewMoreClick(l)}),e.TgZ(14,"span"),e._uU(15),e.ALo(16,"translate"),e.qZA()()()()(),e._UZ(17,"br")(18,"br"),e.YNc(19,f_,12,8,"div",35),e.TgZ(20,"div",36)(21,"div",37)(22,"div",38)(23,"mat-checkbox",39),e.NdJ("change",function(){const l=e.CHM(t).index;return e.oxw(2).selected=l})("change",function(n){return e.CHM(t),e.oxw(2).agreeConditions(n)}),e.YNc(24,v_,2,1,"div",40),e.qZA()()()()(),e.TgZ(25,"div",41)(26,"mat-label",42),e._uU(27),e.qZA(),e.TgZ(28,"div",43)(29,"div"),e.YNc(30,h_,3,3,"button",16),e.qZA(),e.TgZ(31,"div"),e.YNc(32,y_,2,0,"button",17),e.qZA()()()()()}if(2&i){const t=s.$implicit,o=s.index,n=e.oxw(2);e.xp6(2),e.Q6J("ngIf",null==t||null==t.contentful||null==t.contentful.insProviderIcon||null==t.contentful.insProviderIcon.fields||null==t.contentful.insProviderIcon.fields.file?null:t.contentful.insProviderIcon.fields.file.url),e.xp6(3),e.Q6J("ngIf",null==t||null==t.contentful?null:t.contentful.insProviderName),e.xp6(5),e.Q6J("ngForOf",null==t?null:t.priorityCoverages),e.xp6(5),e.Oqu(e.lcZ(16,14,"travelMedicalInformation.formLabel.label16")),e.xp6(4),e.Q6J("ngIf",n.showCoverage===o),e.xp6(4),e.s9C("id",o),e.Q6J("checked",n.selected===o)("disabled",!n.isSelected(t.productId)),e.uIk("id",o),e.xp6(1),e.Q6J("ngIf",null==n.selectedSevices[0]||null==n.selectedSevices[0].contentful?null:n.selectedSevices[0].contentful.insPolicyTermsnCondition),e.xp6(3),e.AsE("",null==t?null:t.currency," ",null==t?null:t.amount,""),e.xp6(3),e.Q6J("ngIf",!n.isSelected(t.productId)),e.xp6(2),e.Q6J("ngIf",n.isSelected(t.productId))}}function C_(i,s){if(1&i&&(e.ynx(0),e.YNc(1,b_,33,16,"div",21),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.availableServices)("ngForTrackBy",t.trackByFn)}}function A_(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){return e.CHM(t),e.oxw().optOutTmi()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.formLabel.label1")," "))}function T_(i,s){1&i&&(e.TgZ(0,"button",66),e._uU(1,"\u2713"),e.qZA())}let S_=(()=>{class i extends Ze.o{constructor(){super(),this.tmiProductSelected=new e.vpe,this.showCoverage=null,this.availableServices=[],this.nationalityList=[]}ngOnInit(){var t,o,n,l,c,d,_,f;this.applicantList=this.sessionService.applicationDetailValue.applicantList,this.selectedSevices=[],this.currencyCode=null===(t=this.sessionService)||void 0===t?void 0:t.currencyCode,this.tmiContentfulData=null===(o=this.sessionService)||void 0===o?void 0:o.tmiContentfulDetails;const h=this.sessionService.tmiDetails;h.startDate=this.utilityService.convertJSONInDate(h.startdate),h.endDate=this.utilityService.convertJSONInDate(h.enddate);const T=this.utilityService.momentInstance(h.startDate,"DD/MM/YYYY").format(this.dateFormat.toUpperCase());this.dateFormatStartDate=T;const I=this.utilityService.momentInstance(h.endDate,"DD/MM/YYYY").format(this.dateFormat.toUpperCase());this.dateFormatEndDate=I,h.coveragelevelName=null===(n=null==h?void 0:h.coverageLevels.find(S=>S.clCode===(null==h?void 0:h.coveragelevel)))||void 0===n?void 0:n.clDisplayName,h.extremeSportsName=null===(l=null==h?void 0:h.extremeSports.find(S=>S.extCode===(null==h?void 0:h.extremesports)))||void 0===l?void 0:l.extDisplayName,h.coverageTypeName=null===(d=null===(c=null==h?void 0:h.coverageTypes)||void 0===c?void 0:c.find(S=>S.ctCode===(null==h?void 0:h.coveragetype)))||void 0===d?void 0:d.ctDisplayName,h.countryofentryName=null===(f=null===(_=null==h?void 0:h.nationalityList)||void 0===_?void 0:_.find(S=>S.countryCode===(null==h?void 0:h.countryofentry)))||void 0===f?void 0:f.countryDisplayName,this.tmiDetails=h,this.getNationality(),this.getTMIProducts()}showTmiFormView(){this.sessionService.tmiProductView=!1}isSelected(t){return this.selectedSevices.some(o=>o.productId===t)}addService(t){try{this.utilityService.fireCustomEvent({dl_category:"plan_selected",dl_action:null==t?void 0:t.productName,dl_label:null==t?void 0:t.amount}),this.utilityService.startNgxUiSpinner();const n=[];n.push(t),this.selectedSevices=n,this.sessionService.tmiVas=n,this.optedOutTmi=!1,this.sessionService.optOutTmi=!1,this.utilityService.stopNgxUiSpinner(),this.tmiProductSelected.emit(!0),this.selected="",this.sessionService.tmiProductConsent=!1}catch(o){this.logger.error(o)}}get tmiApplicantsName(){let t="";return this.applicantList.forEach(o=>{o.isTmiApplicant&&(t+=o.firstName+" "+o.lastName+", ")}),t.slice(0,-2)}optOutTmi(){this.selectedSevices=[],this.sessionService.tmiVas=[],this.optedOutTmi=!0,this.sessionService.optOutTmi=!0,this.agreeToTermsAndCondition=!1,this.sessionService.tmiProductConsent=!1}agreeConditions(t){this.agreeToTermsAndCondition=t.checked,this.sessionService.tmiProductConsent=this.agreeToTermsAndCondition}getNationality(){return(0,v.mG)(this,void 0,void 0,function*(){this.nationalityList=yield this.commonService.loadNationality(),this.residentCountry=this.utilityService.getnationalityName(this.nationalityList,this.sessionService.countryCode),this.destinationCountry=this.utilityService.getnationalityName(this.nationalityList,this.sessionService.tenent)})}getTMIProducts(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){try{yield this.commonService.loadNationality();const l=this.tmiDetails,c=[],d=this.sessionService.applicationConfiguration;this.applicantList.forEach(f=>{c.push(f.isTmiApplicant&&"Insurte"==d.tmiPartnerCode?{arn:f.arn,firstName:null==f?void 0:f.firstName,lastName:null==f?void 0:f.lastName,age:null==f?void 0:f.age,dateOfBirth:this.utilityService.convertJSONInDate(null==f?void 0:f.tmiDateOfBirth),emailId:null==f?void 0:f.emailId,contactNumber:null==f?void 0:f.contactNumber,dialCode:null==f?void 0:f.dialCode,nationalityCode:null==f?void 0:f.nationalityCode}:{arn:f.arn,firstName:null==f?void 0:f.firstName,lastName:null==f?void 0:f.lastName,age:null==f?void 0:f.age,dateOfBirth:this.utilityService.convertJSONInDate(null==f?void 0:f.dateOfBirth),emailId:null==f?void 0:f.emailId,contactNumber:null==f?void 0:f.contactNumber,dialCode:null==f?void 0:f.dialCode})});const _={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),URN:this.sessionService.urn,productPageNumber:"123",applicants:c,insuranceTravelDetails:{coverageLevel:null==l?void 0:l.coveragelevel,coverageType:null==l?void 0:l.coveragetype,startDate:null==l?void 0:l.startDate,endDate:null==l?void 0:l.endDate,firstCountryOfEntry:null==l?void 0:l.countryofentry,isRequiredExtraSports:!!(null==l?void 0:l.extremesports)&&JSON.parse(null==l?void 0:l.extremesports),addressLine1:null==l?void 0:l.addressLine1,addressLine2:null==l?void 0:l.addressLine2,city:null==l?void 0:l.city,state:null==l?void 0:l.state,postcode:null==l?void 0:l.postCode}};if(this.response=yield this.httpService.payloadPost(p.gT.api.getTMIProducts,_).toPromise().catch(f=>{throw this.productsNotAvailable=!0,this.sessionService.isTmiProductsAvailable=!1,f}).then(f=>f),this.response&&null===this.response.error&&(null===(t=this.response)||void 0===t?void 0:t.products.length)>0){this.availableServices=null===(o=this.response)||void 0===o?void 0:o.products,this.availableServices.forEach(I=>{var S;const R=null===(S=null==I?void 0:I.coverages)||void 0===S?void 0:S.slice(0,4);I.priorityCoverages=R||[]});const f=Math.min.apply(Math,this.availableServices.map(I=>I.amount)),h=this.availableServices.find(function(I){return I.amount==f});this.addService(h);const T=yield this.commonService.constructTMIProductData(this.availableServices);(null==T?void 0:T.length)>0&&(this.availableServices=T),this.productsNotAvailable=!1,this.sessionService.isTmiProductsAvailable=!0}else this.productsNotAvailable=!0,this.sessionService.isTmiProductsAvailable=!1,this.sessionService.getTmiProductErrResponse=this.response,this.sessionService.tmiProductView=!1}catch(n){this.logger.error(n)}})}trimPackageLength(t){return(null==t?void 0:t.length)?Math.round(t.length/2):0}getSameCoverage(t,o){const n="coveragesListOne"===o?this.coveragesListOne:this.coveragesListTwo,l=n[t];return!!n.find((d,_)=>d.id===l.id&&_>t&&d.id)}viewMoreClick(t){var o,n,l;const c=null===(o=this.availableServices[t])||void 0===o?void 0:o.coverages;this.setProductList=c,this.showCoverage=t;const d={dl_category:"read_more_insurance_details",dl_action:null===(n=this.availableServices[t])||void 0===n?void 0:n.productName,dl_label:null===(l=this.availableServices[t])||void 0===l?void 0:l.amount};this.utilityService.fireCustomEvent(d)}set setProductList(t){const o=JSON.parse(JSON.stringify(t));o.sort((l,c)=>(null==l?void 0:l.isCovered)==(null==c?void 0:c.isCovered)?0:(null==l?void 0:l.isCovered)>(null==c?void 0:c.isCovered)?-1:1);const n=Math.ceil(o.length/2);this.coveragesListOne=o.splice(0,n),this.coveragesListTwo=o.splice(-n)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-tmilist"]],outputs:{tmiProductSelected:"tmiProductSelected"},features:[e.qOj],decls:62,vars:36,consts:[[1,"row"],[1,"col"],[1,"fs-18","fs-sm-24","mb-20"],[1,"col-auto"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"col-12"],[1,"list-group","mb-40"],[1,"list-group-item","bg-brand-footer","p-15","pl-60"],[1,"position-absolute","left-16","top-13","min-w-25","lh-25","bg-brand-green","rounded-circle","text-center","text-white"],[1,"c-brand-grey-para"],[1,"fs-18","mt-5"],["class","list-group-item bg-brand-footer p-15 pl-60",4,"ngIf"],[4,"ngIf"],[1,"card","p-15","px-md-30","py-md-20"],[1,"row","align-items-center"],[1,"col","fs-sm-18"],["mat-stroked-button","","class","btn py-3 btn-block min-w-110 btn-outline-brand-orange",3,"click",4,"ngIf"],["mat-stroked-button","","class","btn py-3 btn-block min-w-110 btn-brand-green-light",4,"ngIf"],[1,"border-danger","mt-20",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-times-circle","fs-24","position-absolute","left-15","top-18","mb-0"],["class","card p-15 px-md-30 py-md-20 mb-20",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card","p-15","px-md-30","py-md-20","mb-20"],[1,"row","pl-5"],["class","col-12 col-sm-12 col-md-12 col-lg-2 mb-md-10 gridlft",4,"ngIf"],[1,"col-12","col-sm-12","col-md-12","col-lg-8","row","gridcnt"],[1,"col-12","col-md-12","col-sm-12","mt-sm-10","saverplanHead"],["class"," fs-18",4,"ngIf"],[1,"col-12","col-md-12","col-sm-12","row","mt-15"],[1,"col-md-10"],[1,"col-12","col-sm","row"],["class","col-12 col-md-6 col-sm-3 col-lg-3 d-flex flex-column mb-15 mb- mb-lg-0",4,"ngFor","ngForOf"],[1,"col-md-2","row","mx-auto"],[1,"fs-11"],["role","button",1,"c-brand-orange","text-decoration-underline",3,"click"],["class","col-12 col-md-12 col-sm-12 row ",3,"show",4,"ngIf"],[1,"col-12","col-md-12","col-sm-12","mt-15"],[1,"ml-n60","ml-sm-n45"],[1,"col-12","col-md-12","col-sm-12"],["name","termCond",1,"example-margin","matCheck","fs-16",3,"checked","id","disabled","change"],["class","text-wrap mr-5",4,"ngIf"],[1,"col-12","col-sm-12","col-md-12","col-lg-2","text-center","gridrt"],[1,"labelAmount","ml-0","mb-15"],[1,"col-auto","col-sm-12","mt-15"],[1,"col-12","col-sm-12","col-md-12","col-lg-2","mb-md-10","gridlft"],["alt","img",1,"gridImage",3,"src"],[1,"fs-18"],[1,"col-12","col-md-6","col-sm-3","col-lg-3","d-flex","flex-column","mb-15","mb-","mb-lg-0"],[1,"fs-14","c-brand-grey-para","mb-4","text_truncate"],[1,"col-12","col-md-12","col-sm-12","row"],["class","c-brand-grey-para fs-15  mt-10",4,"ngIf"],[1,"card","tmi-table","overflow-x-auto","mb-15"],[1,"row","no-gutters","fs-13"],["class","col-6 border-top brd-right mt-n1",3,"ngClass",4,"ngFor","ngForOf"],["role","button",1,"c-brand-orange","text-decoration-underline","fs-12",3,"click"],[1,"c-brand-grey-para","fs-15","mt-10"],[3,"richData"],[1,"col-6","border-top","brd-right","mt-n1",3,"ngClass"],[1,"table","mt-n1","mb-0"],["width","40"],[1,"fs-18","lh-16","ff-900",3,"ngClass"],[1,"px-0"],["width","150",1,"text-right"],["width","100",1,"text-right"],[1,"text-wrap","mr-5"],["mat-stroked-button","",1,"btn","py-3","btn-block","min-w-110","btn-outline-brand-orange",3,"click"],["mat-stroked-button","",1,"btn","py-3","btn-block","min-w-110","btn-brand-green-light"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",3)(6,"a",4),e.NdJ("click",function(){return o.showTmiFormView()}),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div",5)(10,"ul",6)(11,"li",7)(12,"div",8),e._uU(13,"\u2713"),e.qZA(),e.TgZ(14,"div",9),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",10),e._uU(18),e.qZA()(),e.TgZ(19,"li",7)(20,"div",8),e._uU(21,"\u2713"),e.qZA(),e.TgZ(22,"div",9),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",10),e._uU(26),e.qZA()(),e.TgZ(27,"li",7)(28,"div",8),e._uU(29,"\u2713"),e.qZA(),e.TgZ(30,"div",9),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",10),e._uU(34),e.qZA()(),e.TgZ(35,"li",7)(36,"div",8),e._uU(37,"\u2713"),e.qZA(),e.TgZ(38,"div",9),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"div",10),e._uU(42),e.qZA()(),e.YNc(43,a_,8,4,"li",11),e.YNc(44,s_,8,4,"li",11),e.YNc(45,l_,8,4,"li",11),e.YNc(46,r_,8,4,"li",11),e.qZA()(),e.TgZ(47,"div",5)(48,"h2",2),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.YNc(51,c_,7,3,"ng-container",12),e.YNc(52,C_,2,2,"ng-container",12),e.TgZ(53,"div",13)(54,"div",14)(55,"div",15),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"div",3)(59,"div"),e.YNc(60,A_,3,3,"button",16),e.YNc(61,T_,2,0,"button",17),e.qZA()()()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,20,null==o.tmiContentfulData?null:o.tmiContentfulData.plansListingPageSectionTitle1)),e.xp6(4),e.Oqu(e.lcZ(8,22,"reviewAndPayment.buttons.button1")),e.xp6(8),e.Oqu(e.lcZ(16,24,"travelMedicalInformation.headerLabel.label7")),e.xp6(3),e.Oqu(o.tmiApplicantsName),e.xp6(5),e.Oqu(e.lcZ(24,26,"travelMedicalInformation.headerLabel.label8")),e.xp6(3),e.Oqu(o.dateFormatStartDate+" - "+o.dateFormatEndDate),e.xp6(5),e.Oqu(e.lcZ(32,28,"travelMedicalInformation.headerLabel.label9")),e.xp6(3),e.Oqu(o.residentCountry),e.xp6(5),e.Oqu(e.lcZ(40,30,"travelMedicalInformation.headerLabel.label10")),e.xp6(3),e.Oqu(o.destinationCountry),e.xp6(1),e.Q6J("ngIf",null==o.tmiDetails?null:o.tmiDetails.countryofentry),e.xp6(1),e.Q6J("ngIf",null==o.tmiDetails?null:o.tmiDetails.coveragetype),e.xp6(1),e.Q6J("ngIf",null==o.tmiDetails?null:o.tmiDetails.coveragelevel),e.xp6(1),e.Q6J("ngIf",null==o.tmiDetails?null:o.tmiDetails.extremesports),e.xp6(3),e.Oqu(e.lcZ(50,32,null==o.tmiContentfulData?null:o.tmiContentfulData.plansListingPageSectionTitle2)),e.xp6(2),e.Q6J("ngIf",o.productsNotAvailable),e.xp6(1),e.Q6J("ngIf",(null==o.availableServices?null:o.availableServices.length)>0),e.xp6(4),e.Oqu(e.lcZ(57,34,"travelMedicalInformation.formLabel.label11")),e.xp6(4),e.Q6J("ngIf",!o.optedOutTmi),e.xp6(1),e.Q6J("ngIf",o.optedOutTmi))},directives:[w.O5,w.sg,q.hX,kt,w.mk,le.oG,V.lW],pipes:[D.X$],encapsulation:2}),i})();function x_(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message1")," "))}function L_(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function I_(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function Z_(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message8")," "))}function N_(i,s){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,x_,3,3,"div",33),e.YNc(2,L_,3,3,"div",33),e.YNc(3,I_,3,3,"div",33),e.YNc(4,Z_,3,3,"div",33),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.startdate||null==t.formGroup.controls.startdate.errors?null:t.formGroup.controls.startdate.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.startdate||null==t.formGroup.controls.startdate.errors?null:t.formGroup.controls.startdate.errors.formate),e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.startdate||null==t.formGroup.controls.startdate.errors?null:t.formGroup.controls.startdate.errors.validDate),e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.startdate||null==t.formGroup.controls.startdate.errors?null:t.formGroup.controls.startdate.errors.validStartandEnddates)}}function D_(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message2")," "))}function O_(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message4")," "))}function E_(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message3")," "))}function k_(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message8")," "))}function w_(i,s){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,D_,3,3,"div",33),e.YNc(2,O_,3,3,"div",33),e.YNc(3,E_,3,3,"div",33),e.YNc(4,k_,3,3,"div",33),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.enddate||null==t.formGroup.controls.enddate.errors?null:t.formGroup.controls.enddate.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.enddate||null==t.formGroup.controls.enddate.errors?null:t.formGroup.controls.enddate.errors.formate),e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.enddate||null==t.formGroup.controls.enddate.errors?null:t.formGroup.controls.enddate.errors.validDate),e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.enddate||null==t.formGroup.controls.enddate.errors?null:t.formGroup.controls.enddate.errors.validStartandEnddates)}}function F_(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message5")," "))}function M_(i,s){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,F_,3,3,"div",33),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.countryofentry||null==t.formGroup.controls.countryofentry.errors?null:t.formGroup.controls.countryofentry.errors.required)}}function P_(i,s){if(1&i&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.countryCode),e.xp6(1),e.hij(" ",null==t?null:t.countryDisplayName," ")}}const je=function(i){return{"form-error":i}};function U_(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",5)(2,"div",35)(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,M_,2,1,"div",7),e.TgZ(7,"mat-form-field",21)(8,"mat-select",36),e.ALo(9,"translate"),e.YNc(10,P_,2,2,"mat-option",37),e.ALo(11,"sortBy"),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(16,je,(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.touched)&&(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.errors))),e.xp6(1),e.Q6J("formGroup",t.formGroup),e.xp6(2),e.Oqu(e.lcZ(5,9,"travelMedicalInformation.formLabel.label3")),e.xp6(2),e.Q6J("ngIf",(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.touched)&&(null==t.formGroup.controls.countryofentry?null:t.formGroup.controls.countryofentry.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(9,11,"travelMedicalInformation.placeholder.label2")),e.Q6J("options",t.nationalityList)("valueKey","countryCode"),e.xp6(2),e.Q6J("ngForOf",e.xi3(11,13,t.nationalityList,"countryDisplayName"))("ngForTrackBy",t.trackByFn)}}function q_(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message6")," "))}function G_(i,s){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,q_,3,3,"div",33),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.coveragetype||null==t.formGroup.controls.coveragetype.errors?null:t.formGroup.controls.coveragetype.errors.required)}}function V_(i,s){if(1&i&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",null==t?null:t.ctCode),e.xp6(1),e.hij(" ",null==t?null:t.ctDisplayName," ")}}function R_(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",5)(2,"div",35)(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,G_,2,1,"div",7),e.TgZ(7,"mat-form-field",21)(8,"mat-select",39),e.ALo(9,"translate"),e.YNc(10,V_,2,2,"mat-option",37),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(13,je,(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.touched)&&(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.errors))),e.xp6(1),e.Q6J("formGroup",t.formGroup),e.xp6(2),e.Oqu(e.lcZ(5,9,"travelMedicalInformation.formLabel.label4")),e.xp6(2),e.Q6J("ngIf",(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.touched)&&(null==t.formGroup.controls.coveragetype?null:t.formGroup.controls.coveragetype.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(9,11,"travelMedicalInformation.placeholder.label3")),e.Q6J("options",t.coverageTypes)("valueKey","ctCode"),e.xp6(2),e.Q6J("ngForOf",t.coverageTypes)("ngForTrackBy",t.trackByFn)}}function J_(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message9")," "))}function Y_(i,s){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,J_,3,3,"div",33),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.coveragelevel||null==t.formGroup.controls.coveragelevel.errors?null:t.formGroup.controls.coveragelevel.errors.required)}}function Q_(i,s){if(1&i&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",null==t?null:t.clCode),e.xp6(1),e.hij(" ",null==t?null:t.clDisplayName," ")}}function B_(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",5)(2,"div",35)(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,Y_,2,1,"div",7),e.TgZ(7,"mat-form-field",21)(8,"mat-select",40),e.ALo(9,"translate"),e.YNc(10,Q_,2,2,"mat-option",37),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(13,je,(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.touched)&&(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.errors))),e.xp6(1),e.Q6J("formGroup",t.formGroup),e.xp6(2),e.Oqu(e.lcZ(5,9,"travelMedicalInformation.formLabel.label5")),e.xp6(2),e.Q6J("ngIf",(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.touched)&&(null==t.formGroup.controls.coveragelevel?null:t.formGroup.controls.coveragelevel.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(9,11,"travelMedicalInformation.placeholder.label4")),e.Q6J("options",t.coverageLevels)("valueKey","clCode"),e.xp6(2),e.Q6J("ngForOf",t.coverageLevels)("ngForTrackBy",t.trackByFn)}}function j_(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message10")," "))}function H_(i,s){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,j_,3,3,"div",33),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup.controls.extremesports||null==t.formGroup.controls.extremesports.errors?null:t.formGroup.controls.extremesports.errors.required)}}function $_(i,s){if(1&i&&(e.TgZ(0,"mat-option",38),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.extCode),e.xp6(1),e.hij(" ",t.extDisplayName," ")}}function W_(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",5)(2,"div",35)(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,H_,2,1,"div",7),e.TgZ(7,"mat-form-field",21)(8,"mat-select",41),e.ALo(9,"translate"),e.YNc(10,$_,2,2,"mat-option",37),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(13,je,(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.touched)&&(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.errors))),e.xp6(1),e.Q6J("formGroup",t.formGroup),e.xp6(2),e.Oqu(e.lcZ(5,9,"travelMedicalInformation.formLabel.label6")),e.xp6(2),e.Q6J("ngIf",(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.touched)&&(null==t.formGroup.controls.extremesports?null:t.formGroup.controls.extremesports.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(9,11,"travelMedicalInformation.placeholder.label5")),e.Q6J("options",t.extremeSports)("valueKey","extCode"),e.xp6(2),e.Q6J("ngForOf",t.extremeSports)("ngForTrackBy",t.trackByFn)}}function K_(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message8")," "))}function z_(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message11")," "))}function X_(i,s){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,K_,3,3,"div",33),e.YNc(2,z_,3,3,"div",33),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.dialCode||null==t.applicantFormGroup.controls.dialCode.errors?null:t.applicantFormGroup.controls.dialCode.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.dialCode||null==t.applicantFormGroup.controls.dialCode.errors?null:t.applicantFormGroup.controls.dialCode.errors.pattern)}}function ef(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message9")," "))}function tf(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message12")," "))}function of(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message27")," "))}function nf(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message25")," "))}function af(i,s){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,ef,3,3,"div",33),e.YNc(2,tf,3,3,"div",33),e.YNc(3,of,3,3,"div",33),e.YNc(4,nf,3,3,"div",33),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.contactNumber||null==t.applicantFormGroup.controls.contactNumber.errors?null:t.applicantFormGroup.controls.contactNumber.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.contactNumber||null==t.applicantFormGroup.controls.contactNumber.errors?null:t.applicantFormGroup.controls.contactNumber.errors.pattern),e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.contactNumber||null==t.applicantFormGroup.controls.contactNumber.errors?null:t.applicantFormGroup.controls.contactNumber.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.contactNumber||null==t.applicantFormGroup.controls.contactNumber.errors?null:t.applicantFormGroup.controls.contactNumber.errors.maxlength)}}function sf(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message17")," "))}function lf(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message26")," "))}function rf(i,s){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,sf,3,3,"div",33),e.YNc(2,lf,3,3,"div",33),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.addressline1||null==t.applicantFormGroup.controls.addressline1.errors?null:t.applicantFormGroup.controls.addressline1.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.addressline1||null==t.applicantFormGroup.controls.addressline1.errors?null:t.applicantFormGroup.controls.addressline1.errors.pattern)}}function cf(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message22")," "))}function uf(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message26")," "))}function df(i,s){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,cf,3,3,"div",33),e.YNc(2,uf,3,3,"div",33),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.addressline2||null==t.applicantFormGroup.controls.addressline2.errors?null:t.applicantFormGroup.controls.addressline2.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.addressline2||null==t.applicantFormGroup.controls.addressline2.errors?null:t.applicantFormGroup.controls.addressline2.errors.pattern)}}function pf(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message23")," "))}function mf(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message20")," "))}function gf(i,s){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,pf,3,3,"div",33),e.YNc(2,mf,3,3,"div",33),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.state||null==t.applicantFormGroup.controls.state.errors?null:t.applicantFormGroup.controls.state.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.state||null==t.applicantFormGroup.controls.state.errors?null:t.applicantFormGroup.controls.state.errors.pattern)}}function _f(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message24")," "))}function ff(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message21")," "))}function vf(i,s){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,_f,3,3,"div",33),e.YNc(2,ff,3,3,"div",33),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.city||null==t.applicantFormGroup.controls.city.errors?null:t.applicantFormGroup.controls.city.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.city||null==t.applicantFormGroup.controls.city.errors?null:t.applicantFormGroup.controls.city.errors.pattern)}}function hf(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message25")," "))}function yf(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.messages.errorMessages.message26")," "))}function bf(i,s){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,hf,3,3,"div",33),e.YNc(2,yf,3,3,"div",33),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.pincode||null==t.applicantFormGroup.controls.pincode.errors?null:t.applicantFormGroup.controls.pincode.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.applicantFormGroup.controls.pincode||null==t.applicantFormGroup.controls.pincode.errors?null:t.applicantFormGroup.controls.pincode.errors.pattern)}}function Cf(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2)(2,"div",5)(3,"div",12)(4,"div"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"span",19),e._uU(8,"*"),e.qZA()(),e.YNc(9,rf,3,2,"div",7),e.TgZ(10,"mat-form-field",21)(11,"input",42),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return n.applicantFormGroup.controls.addressline1.setValue(n.applicantFormGroup.controls.addressline1.value.toUpperCase())}),e.ALo(12,"translate"),e.qZA()()()()(),e.TgZ(13,"div",2)(14,"div",5)(15,"div",12)(16,"div"),e._uU(17),e.ALo(18,"translate"),e.TgZ(19,"span",19),e._uU(20,"*"),e.qZA()(),e.YNc(21,df,3,2,"div",7),e.TgZ(22,"mat-form-field",21)(23,"input",43),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return n.applicantFormGroup.controls.addressline2.setValue(n.applicantFormGroup.controls.addressline2.value.toUpperCase())}),e.ALo(24,"translate"),e.qZA()()()()(),e.TgZ(25,"div",2)(26,"div",5)(27,"div",12)(28,"div"),e._uU(29),e.ALo(30,"translate"),e.TgZ(31,"span",19),e._uU(32,"*"),e.qZA()(),e.YNc(33,gf,3,2,"div",7),e.TgZ(34,"mat-form-field",21)(35,"input",44),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return n.applicantFormGroup.controls.state.setValue(n.applicantFormGroup.controls.state.value.toUpperCase())}),e.ALo(36,"translate"),e.qZA()()()()(),e.TgZ(37,"div",2)(38,"div",5)(39,"div",12)(40,"div"),e._uU(41),e.ALo(42,"translate"),e.TgZ(43,"span",19),e._uU(44,"*"),e.qZA()(),e.YNc(45,vf,3,2,"div",7),e.TgZ(46,"mat-form-field",21)(47,"input",45),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return n.applicantFormGroup.controls.city.setValue(n.applicantFormGroup.controls.city.value.toUpperCase())}),e.ALo(48,"translate"),e.qZA()()()()(),e.TgZ(49,"div",2)(50,"div",5)(51,"div",12)(52,"div"),e._uU(53),e.ALo(54,"translate"),e.TgZ(55,"span",19),e._uU(56,"*"),e.qZA()(),e.YNc(57,bf,3,2,"div",7),e.TgZ(58,"mat-form-field",21)(59,"input",46),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return n.applicantFormGroup.controls.pincode.setValue(n.applicantFormGroup.controls.pincode.value.toUpperCase())}),e.ALo(60,"translate"),e.qZA()()()()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",e.VKq(40,je,(null==t.applicantFormGroup.controls.addressline1?null:t.applicantFormGroup.controls.addressline1.touched)&&(null==t.applicantFormGroup.controls.addressline1?null:t.applicantFormGroup.controls.addressline1.errors))),e.xp6(3),e.Oqu(e.lcZ(6,20,"applicantInformation.formLabel.label13")),e.xp6(4),e.Q6J("ngIf",(null==t.applicantFormGroup.controls.addressline1?null:t.applicantFormGroup.controls.addressline1.touched)&&(null==t.applicantFormGroup.controls.addressline1?null:t.applicantFormGroup.controls.addressline1.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(12,22,"applicantInformation.placeholder.label8")),e.xp6(3),e.Q6J("ngClass",e.VKq(42,je,(null==t.applicantFormGroup.controls.addressline2?null:t.applicantFormGroup.controls.addressline2.touched)&&(null==t.applicantFormGroup.controls.addressline2?null:t.applicantFormGroup.controls.addressline2.errors))),e.xp6(3),e.Oqu(e.lcZ(18,24,"applicantInformation.formLabel.label15")),e.xp6(4),e.Q6J("ngIf",(null==t.applicantFormGroup.controls.addressline2?null:t.applicantFormGroup.controls.addressline2.touched)&&(null==t.applicantFormGroup.controls.addressline2?null:t.applicantFormGroup.controls.addressline2.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(24,26,"applicantInformation.placeholder.label12")),e.xp6(3),e.Q6J("ngClass",e.VKq(44,je,(null==t.applicantFormGroup.controls.state?null:t.applicantFormGroup.controls.state.touched)&&(null==t.applicantFormGroup.controls.state?null:t.applicantFormGroup.controls.state.errors))),e.xp6(3),e.Oqu(e.lcZ(30,28,"applicantInformation.formLabel.label16")),e.xp6(4),e.Q6J("ngIf",(null==t.applicantFormGroup.controls.state?null:t.applicantFormGroup.controls.state.touched)&&(null==t.applicantFormGroup.controls.state?null:t.applicantFormGroup.controls.state.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(36,30,"applicantInformation.placeholder.label11")),e.xp6(3),e.Q6J("ngClass",e.VKq(46,je,(null==t.applicantFormGroup.controls.city?null:t.applicantFormGroup.controls.city.touched)&&(null==t.applicantFormGroup.controls.city?null:t.applicantFormGroup.controls.city.errors))),e.xp6(3),e.Oqu(e.lcZ(42,32,"applicantInformation.formLabel.label17")),e.xp6(4),e.Q6J("ngIf",(null==t.applicantFormGroup.controls.city?null:t.applicantFormGroup.controls.city.touched)&&(null==t.applicantFormGroup.controls.city?null:t.applicantFormGroup.controls.city.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(48,34,"applicantInformation.placeholder.label13")),e.xp6(3),e.Q6J("ngClass",e.VKq(48,je,(null==t.applicantFormGroup.controls.pincode?null:t.applicantFormGroup.controls.pincode.touched)&&(null==t.applicantFormGroup.controls.pincode?null:t.applicantFormGroup.controls.pincode.errors))),e.xp6(3),e.Oqu(e.lcZ(54,36,"applicantInformation.formLabel.label18")),e.xp6(4),e.Q6J("ngIf",(null==t.applicantFormGroup.controls.pincode?null:t.applicantFormGroup.controls.pincode.touched)&&(null==t.applicantFormGroup.controls.pincode?null:t.applicantFormGroup.controls.pincode.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(60,38,"applicantInformation.placeholder.label14"))}}function Af(i,s){1&i&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"travelMedicalInformation.messages.errorMessages.message7")," "))}function Tf(i,s){if(1&i&&(e.TgZ(0,"div",32),e.YNc(1,Af,3,3,"div",33),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!1===t.applicantFormGroup.value.agreeToTermsAndCondition)}}const Sf=function(){return{year:2099,month:12,day:31}};let xf=(()=>{class i extends a.e{constructor(){super(),this.travelStartDate=[],this.isSubmit=!1}ngOnInit(){var t;this.formGroup=this.initFormGroup(),this.applicantFormGroup=this.initForm(),this.tmiContentfulData=null===(t=this.sessionService)||void 0===t?void 0:t.tmiContentfulDetails,this.config=this.sessionService.applicationConfiguration,this.formAddress(this.config),this.startDates(),this.loadTmiMasterData()}loadTmiMasterData(){var t;return(0,v.mG)(this,void 0,void 0,function*(){const n=(null===(t=this.sessionService.applicationConfiguration)||void 0===t?void 0:t.tmiPartnerCode)||"",l=yield this.commonService.loadMasterTmiData("lift",n);l&&null===(null==l?void 0:l.error)&&(this.masterData=l,this.addRequiredFields(this.masterData))})}initFormGroup(){return new r.cw({startdate:new r.NI("",[r.kI.required]),enddate:new r.NI("",[r.kI.required])})}initForm(){return new r.cw({dialCode:new r.NI("",[r.kI.pattern(p.Wg.phone),r.kI.required]),contactNumber:new r.NI("",[r.kI.pattern(p.Wg.phone),r.kI.minLength(7),r.kI.maxLength(15),r.kI.required]),agreeToTermsAndCondition:new r.NI(!1,[r.kI.required])})}formAddress(t){(null==t?void 0:t.enableCourierAddress)&&(this.applicantFormGroup.addControl("addressline1",new r.NI(null,[r.kI.pattern(p.Wg.address),r.kI.required])),this.applicantFormGroup.addControl("addressline2",new r.NI(null,[r.kI.pattern(p.Wg.address),r.kI.required])),this.applicantFormGroup.addControl("state",new r.NI(null,[r.kI.pattern(p.Wg.state),r.kI.required])),this.applicantFormGroup.addControl("city",new r.NI(null,[r.kI.pattern(p.Wg.city),r.kI.required])),this.applicantFormGroup.addControl("pincode",new r.NI(null,[r.kI.pattern(p.Wg.pincode),r.kI.required])))}addRequiredFields(t){(null==t?void 0:t.isCountryRequired)&&(this.formGroup.addControl("countryofentry",new r.NI(null,r.kI.required)),this.nationalityList=null==t?void 0:t.countries),(null==t?void 0:t.isCoverageTypeRequired)&&(this.formGroup.addControl("coveragetype",new r.NI(null,r.kI.required)),this.coverageTypes=null==t?void 0:t.coverageTypes),(null==t?void 0:t.isCoverageLevelRequired)&&(this.formGroup.addControl("coveragelevel",new r.NI(null,r.kI.required)),this.coverageLevels=null==t?void 0:t.coverageLevels),(null==t?void 0:t.isExtremeSportsRequired)&&(this.formGroup.addControl("extremesports",new r.NI(null,r.kI.required)),this.extremeSports=null==t?void 0:t.extremeSports),this.setSelectedValues()}setSelectedValues(){var t;try{const o=null===(t=this.sessionService)||void 0===t?void 0:t.tmiDetails;o&&this.formGroup.patchValue(o);const n=this.sessionService.tmiOabAddress;n&&this.applicantFormGroup.patchValue(n)}catch(o){throw o}}startDates(){const t=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY").add(1,"days"),o=this.utilityService.momentInstance(t,"DD/MM/YYYY").add(60,"days");this.travelStartDate.min={year:+t.format("YYYY"),month:+t.format("MM"),day:+t.format("DD")},this.travelStartDate.max={year:+o.format("YYYY"),month:+o.format("MM"),day:+o.format("DD")},this.formGroup.value.endate||(this.travelEndDate=Object.assign({},this.travelStartDate.min))}changeEndDate(t){var o;if(!this.formGroup.value.endate){const n=this.utilityService.momentInstance(null===(o=this.utilityService)||void 0===o?void 0:o.convertJSONInDate(t),"DD/MM/YYYY").add(1,"days");this.travelEndDate={year:+n.format("YYYY"),month:+n.format("MM"),day:+n.format("DD")}}}dateFormatConversion(t){return this.utilityService.momentInstance(t).format("YYYY-MM-DD")}validateStartandEndDates(t,o){this.formGroup.controls.startdate.updateValueAndValidity(),this.formGroup.controls.enddate.updateValueAndValidity();const n=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY"),l=this.utilityService.momentInstance(n,"YYYY-MM-DD").add(60,"days"),d=(l.format("YYYY"),l.format("MM"),l.format("DD"),this.dateFormatConversion(this.formGroup.value.startdate.year+"-"+this.formGroup.value.startdate.month+"-"+this.formGroup.value.startdate.day)),_=this.dateFormatConversion(this.formGroup.value.enddate.year+"-"+this.formGroup.value.enddate.month+"-"+this.formGroup.value.enddate.day),f=this.dateFormatConversion(t.year+"-"+t.month+"-"+t.day),h=this.utilityService.isDateFormatCheck(t);h&&this.formGroup.controls[o].setErrors({formate:!0}),"startdate"===o&&!h&&!this.utilityService.momentInstance(f).isSameOrAfter(n)&&this.formGroup.controls[o].setErrors({validDate:!0}),this.formGroup.value.startdate&&"enddate"===o&&!h&&!this.utilityService.momentInstance(f).isAfter(d)&&this.formGroup.controls[o].setErrors({validStartandEnddates:!0}),this.formGroup.value.enddate&&"startdate"===o&&!h&&!this.utilityService.momentInstance(f).isBefore(_)&&this.formGroup.controls[o].setErrors({validStartandEnddates:!0})}getQuotes(){var t,o;try{if("INVALID"===this.formGroup.status){this.commonService.touchAllFields(this.formGroup);const _=document.querySelector(".form-error");return void(null==_||_.scrollIntoView({behavior:"smooth",block:"center"}))}if("INVALID"===this.applicantFormGroup.status||!(null===(t=this.applicantFormGroup.value)||void 0===t?void 0:t.agreeToTermsAndCondition)){this.commonService.touchAllFields(this.applicantFormGroup);const _=document.querySelector(".form-error");return void(null==_||_.scrollIntoView({behavior:"smooth",block:"center"}))}const n=null===(o=this.formGroup)||void 0===o?void 0:o.value;n.coverageTypes=this.coverageTypes,n.coverageLevels=this.coverageLevels,n.extremeSports=this.extremeSports,n.nationalityList=this.nationalityList,this.sessionService.tmiDetails=n;const l=this.sessionService.applicationDetailValue,c=l.applicantList[0],d=this.applicantFormGroup.value;for(const _ of Object.keys(d))c.hasOwnProperty(_)&&(c[_]=d[_]);l.applicantList[0]=c,this.sessionService.applicationDetailValue=l,this.sessionService.tmiOabAddress=this.applicantFormGroup.value,this.sessionService.tmiProductView=!0,this.sessionService.tmiProductConsent=!1,this.saveAddress()}catch(n){throw n}}saveAddress(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t=this.sessionService.applicationDetailValue;if(0==t.applicantList.length)return;t.applicantList[0].emailId=this.sessionService.getLoggedEmail(),t.applicantList[0].addressline1=this.applicantFormGroup.value.addressline1,t.applicantList[0].addressline2=this.applicantFormGroup.value.addressline2,t.applicantList[0].city=this.applicantFormGroup.value.city,t.applicantList[0].state=this.applicantFormGroup.value.state,t.applicantList[0].pincode=this.applicantFormGroup.value.pincode;for(let l of t.applicantList)l.dialCode=this.applicantFormGroup.value.dialCode,l.contactNumber=this.applicantFormGroup.value.contactNumber;this.sessionService.applicationDetailValue=t;const o=JSON.parse(JSON.stringify(t));o.isEdit=!0,yield this.httpService.doOABPost(p.gT.api.applicant,o).toPromise()}catch(t){throw t}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-tmiform-oab"]],features:[e.qOj],decls:72,vars:62,consts:[[3,"formGroup"],[1,"row","align-items-end"],[1,"col-12"],[1,"fs-18","fs-sm-24","mb-20"],[1,"col-12","col-sm"],[3,"ngClass"],[1,"datepicker-div","form-group"],["class","errorMessage",4,"ngIf"],["ngbDatepicker","","formControlName","startdate",1,"form-control","input-lg","mt-5",3,"minDate","maxDate","placeholder","change","ngModelChange"],["datePickerReference","ngbDatepicker"],[1,"input-group-addon",3,"click"],[1,"col-12","col-sm",3,"formGroup"],[1,"form-group"],["ngbDatepicker","","formControlName","enddate",1,"form-control","input-lg","mt-5",3,"minDate","maxDate","placeholder","change","ngModelChange"],["datePickerReference2","ngbDatepicker"],[4,"ngIf"],["action","","method","post",1,"ot-form-consent",3,"formGroup","ngSubmit"],[1,"row","align-items-end","mt-20"],[1,"my-20"],[1,"asterisk"],[1,"col-12","col-sm-5"],["appearance","outline",1,"mat-form-field-outline-brand"],["maxlength","3","matInput","","type","tel","formControlName","dialCode",3,"placeholder"],[1,"col-12","col-sm-7"],["matInput","","type","tel","formControlName","contactNumber",3,"placeholder"],[1,"col-12","mt-20"],[1,"form-group",3,"ngClass"],[1,"pl-35"],["formControlName","agreeToTermsAndCondition","type","checkbox",1,"mat-checkbox-brand","ml-n35"],[1,"fs-sm-18","text-wrap","mr-5"],[3,"richData"],["mat-stroked-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange",3,"disabled"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"form-group",3,"formGroup"],["appDefaultSelect","","formControlName","countryofentry",3,"options","valueKey","placeholder"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value"],["appDefaultSelect","","formControlName","coveragetype",3,"options","valueKey","placeholder"],["appDefaultSelect","","formControlName","coveragelevel",3,"options","valueKey","placeholder"],["appDefaultSelect","","formControlName","extremesports",3,"options","valueKey","placeholder"],["matInput","","type","text","minlength","1","maxlength","90","formControlName","addressline1",3,"placeholder","input"],["matInput","","type","text","minlength","1","maxlength","90","formControlName","addressline2",3,"placeholder","input"],["matInput","","type","text","minlength","1","maxlength","20","formControlName","state",3,"placeholder","input"],["matInput","","type","text","minlength","1","maxlength","30","formControlName","city",3,"placeholder","input"],["matInput","","type","text","minlength","4","maxlength","10","formControlName","pincode",3,"placeholder","input"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.YNc(12,N_,5,4,"div",7),e.TgZ(13,"div",6)(14,"input",8,9),e.NdJ("change",function(){return o.validateStartandEndDates(o.formGroup.value.startdate,"startdate")})("ngModelChange",function(c){return o.changeEndDate(c),o.validateStartandEndDates(c,"startdate")}),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",10),e.NdJ("click",function(){return e.CHM(n),e.MAs(15).toggle()}),e.qZA()()()()(),e.TgZ(18,"div",11)(19,"div",5)(20,"div",12)(21,"div"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.YNc(24,w_,5,4,"div",7),e.TgZ(25,"div",6)(26,"input",13,14),e.NdJ("change",function(){return o.validateStartandEndDates(o.formGroup.value.enddate,"enddate")})("ngModelChange",function(c){return o.validateStartandEndDates(c,"enddate")}),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"div",10),e.NdJ("click",function(){return e.CHM(n),e.MAs(27).toggle()}),e.qZA()()()()(),e.TgZ(30,"div",2),e.YNc(31,U_,12,18,"ng-container",15),e.YNc(32,R_,11,15,"ng-container",15),e.YNc(33,B_,11,15,"ng-container",15),e.YNc(34,W_,11,15,"ng-container",15),e.qZA()()(),e.TgZ(35,"form",16),e.NdJ("ngSubmit",function(){return o.getQuotes()}),e.TgZ(36,"div",17)(37,"div",2),e._UZ(38,"hr",18),e.qZA(),e.TgZ(39,"div",2)(40,"div"),e._uU(41),e.ALo(42,"translate"),e.TgZ(43,"span",19),e._uU(44,"*"),e.qZA()()(),e.TgZ(45,"div",20)(46,"div",5)(47,"div",12),e.YNc(48,X_,3,2,"div",7),e.TgZ(49,"mat-form-field",21),e._UZ(50,"input",22),e.ALo(51,"translate"),e.qZA()()()(),e.TgZ(52,"div",23)(53,"div",5)(54,"div",12),e.YNc(55,af,5,4,"div",7),e.TgZ(56,"mat-form-field",21),e._UZ(57,"input",24),e.ALo(58,"translate"),e.qZA()()()(),e.YNc(59,Cf,61,50,"ng-container",15),e.TgZ(60,"div",25)(61,"div",26)(62,"div",12),e.YNc(63,Tf,2,1,"div",7),e.TgZ(64,"div",27)(65,"mat-checkbox",28)(66,"div",29),e._UZ(67,"app-contentful-richtext",30),e.qZA()()()()()(),e.TgZ(68,"div",2)(69,"button",31),e._uU(70),e.ALo(71,"translate"),e.qZA()()()()}2&t&&(e.Q6J("formGroup",o.formGroup),e.xp6(4),e.Oqu(e.lcZ(5,33,null==o.tmiContentfulData?null:o.tmiContentfulData.quoteFormSectionTitle2)),e.xp6(3),e.Q6J("ngClass",e.VKq(51,je,(null==o.formGroup.controls.startdate?null:o.formGroup.controls.startdate.touched)&&(null==o.formGroup.controls.startdate?null:o.formGroup.controls.startdate.errors))),e.xp6(3),e.Oqu(e.lcZ(11,35,"travelMedicalInformation.formLabel.label1")),e.xp6(2),e.Q6J("ngIf",(null==o.formGroup.controls.startdate?null:o.formGroup.controls.startdate.touched)&&(null==o.formGroup.controls.startdate?null:o.formGroup.controls.startdate.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(16,37,"travelMedicalInformation.placeholder.label1")),e.Q6J("minDate",o.travelStartDate.min)("maxDate",o.travelStartDate.max),e.xp6(4),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("ngClass",e.VKq(53,je,(null==o.formGroup.controls.enddate?null:o.formGroup.controls.enddate.touched)&&(null==o.formGroup.controls.enddate?null:o.formGroup.controls.enddate.errors))),e.xp6(3),e.Oqu(e.lcZ(23,39,"travelMedicalInformation.formLabel.label2")),e.xp6(2),e.Q6J("ngIf",(null==o.formGroup.controls.enddate?null:o.formGroup.controls.enddate.touched)&&(null==o.formGroup.controls.enddate?null:o.formGroup.controls.enddate.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(28,41,"travelMedicalInformation.placeholder.label1")),e.Q6J("minDate",o.travelEndDate)("maxDate",e.DdM(55,Sf)),e.xp6(5),e.Q6J("ngIf",null==o.masterData?null:o.masterData.isCountryRequired),e.xp6(1),e.Q6J("ngIf",null==o.masterData?null:o.masterData.isCoverageTypeRequired),e.xp6(1),e.Q6J("ngIf",null==o.masterData?null:o.masterData.isCoverageLevelRequired),e.xp6(1),e.Q6J("ngIf",null==o.masterData?null:o.masterData.isExtremeSportsRequired),e.xp6(1),e.Q6J("formGroup",o.applicantFormGroup),e.xp6(6),e.Oqu(e.lcZ(42,43,"applicantInformation.formLabel.label8")),e.xp6(5),e.Q6J("ngClass",e.VKq(56,je,(null==o.applicantFormGroup.controls.dialCode?null:o.applicantFormGroup.controls.dialCode.touched)&&(null==o.applicantFormGroup.controls.dialCode?null:o.applicantFormGroup.controls.dialCode.errors))),e.xp6(2),e.Q6J("ngIf",(null==o.applicantFormGroup.controls.dialCode?null:o.applicantFormGroup.controls.dialCode.touched)&&(null==o.applicantFormGroup.controls.dialCode?null:o.applicantFormGroup.controls.dialCode.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(51,45,"applicantInformation.placeholder.label10")),e.xp6(3),e.Q6J("ngClass",e.VKq(58,je,(null==o.applicantFormGroup.controls.contactNumber?null:o.applicantFormGroup.controls.contactNumber.touched)&&(null==o.applicantFormGroup.controls.contactNumber?null:o.applicantFormGroup.controls.contactNumber.errors))),e.xp6(2),e.Q6J("ngIf",(null==o.applicantFormGroup.controls.contactNumber?null:o.applicantFormGroup.controls.contactNumber.touched)&&(null==o.applicantFormGroup.controls.contactNumber?null:o.applicantFormGroup.controls.contactNumber.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(58,47,"applicantInformation.placeholder.label7")),e.xp6(2),e.Q6J("ngIf",o.config.enableCourierAddress),e.xp6(2),e.Q6J("ngClass",e.VKq(60,je,!1===o.applicantFormGroup.value.agreeToTermsAndCondition&&o.isSubmit)),e.xp6(2),e.Q6J("ngIf",o.isSubmit),e.xp6(4),e.Q6J("richData",null==o.tmiContentfulData?null:o.tmiContentfulData.quoteFormLegalConsent),e.xp6(2),e.Q6J("disabled",o.applicantFormGroup.invalid||o.formGroup.invalid||!o.applicantFormGroup.value.agreeToTermsAndCondition),e.xp6(1),e.hij(" ",e.lcZ(71,49,"travelMedicalInformation.buttons.button1")," "))},directives:[r._Y,r.JL,r.sg,w.mk,w.O5,J.J4,r.Fj,r.JJ,r.u,q.KE,ae.gD,ce,w.sg,te.ey,u.Nt,r.nD,r.wO,le.oG,kt,V.lW],pipes:[D.X$,ue.Uw],encapsulation:2}),i})();function Lf(i,s){1&i&&(e.TgZ(0,"div",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"tmiOab.messages.errorMessages.message5")," "))}function If(i,s){1&i&&(e.TgZ(0,"div",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"tmiOab.messages.errorMessages.message8")," "))}function Zf(i,s){if(1&i&&(e.TgZ(0,"div",18),e.YNc(1,Lf,3,3,"div",19),e.YNc(2,If,3,3,"div",19),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.applicantForm.controls.firstName||null==t.applicantForm.controls.firstName.errors?null:t.applicantForm.controls.firstName.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.applicantForm.controls.firstName||null==t.applicantForm.controls.firstName.errors?null:t.applicantForm.controls.firstName.errors.pattern)}}function Nf(i,s){1&i&&(e.TgZ(0,"div",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"tmiOab.messages.errorMessages.message6")," "))}function Df(i,s){1&i&&(e.TgZ(0,"div",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"tmiOab.messages.errorMessages.message9")," "))}function Of(i,s){if(1&i&&(e.TgZ(0,"div",18),e.YNc(1,Nf,3,3,"div",19),e.YNc(2,Df,3,3,"div",19),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.applicantForm.controls.lastName||null==t.applicantForm.controls.lastName.errors?null:t.applicantForm.controls.lastName.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.applicantForm.controls.lastName||null==t.applicantForm.controls.lastName.errors?null:t.applicantForm.controls.lastName.errors.pattern)}}function Ef(i,s){1&i&&(e.TgZ(0,"div",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"tmiOab.messages.errorMessages.message7")," "))}function kf(i,s){1&i&&(e.TgZ(0,"div",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"tmiOab.messages.errorMessages.message10")," "))}function wf(i,s){1&i&&(e.TgZ(0,"div",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"tmiOab.messages.errorMessages.message10")," "))}function Ff(i,s){if(1&i&&(e.TgZ(0,"div",18),e.YNc(1,Ef,3,3,"div",19),e.YNc(2,kf,3,3,"div",19),e.YNc(3,wf,3,3,"div",19),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.applicantForm.controls.dateOfBirth||null==t.applicantForm.controls.dateOfBirth.errors?null:t.applicantForm.controls.dateOfBirth.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.applicantForm.controls.dateOfBirth||null==t.applicantForm.controls.dateOfBirth.errors?null:t.applicantForm.controls.dateOfBirth.errors.formate),e.xp6(1),e.Q6J("ngIf",null==t.applicantForm.controls.dateOfBirth||null==t.applicantForm.controls.dateOfBirth.errors||null==t.applicantForm.controls.dateOfBirth.errors.ngbDate?null:t.applicantForm.controls.dateOfBirth.errors.ngbDate.invalid)}}function Mf(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showTmiOabFormView()}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"commonSections.buttons.button3")," "))}const Pf=function(){return{year:1900,month:1,day:1}};function Uf(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"h1"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"h5",1),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"form",2),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().submitApplicant()}),e.TgZ(11,"div",3)(12,"div",4)(13,"div",5)(14,"div"),e._uU(15),e.ALo(16,"translate"),e.TgZ(17,"span",6),e._uU(18,"*"),e.qZA()(),e.YNc(19,Zf,3,2,"div",7),e.TgZ(20,"mat-form-field",8)(21,"input",9),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return n.applicantForm.controls.firstName.setValue(n.applicantForm.controls.firstName.value.toUpperCase())}),e.ALo(22,"translate"),e.qZA()()()(),e.TgZ(23,"div",4)(24,"div",5)(25,"div"),e._uU(26),e.ALo(27,"translate"),e.TgZ(28,"span",6),e._uU(29,"*"),e.qZA()(),e.YNc(30,Of,3,2,"div",7),e.TgZ(31,"mat-form-field",8)(32,"input",10),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return n.applicantForm.controls.lastName.setValue(n.applicantForm.controls.lastName.value.toUpperCase())}),e.ALo(33,"translate"),e.qZA()()()(),e.TgZ(34,"div",11)(35,"div",5)(36,"div"),e._uU(37),e.ALo(38,"translate"),e.TgZ(39,"span",6),e._uU(40,"*"),e.qZA()(),e.YNc(41,Ff,4,3,"div",7),e.TgZ(42,"div",12)(43,"input",13,14),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().dobValidation(n)}),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"div",15),e.NdJ("click",function(){return e.CHM(t),e.MAs(44).toggle()}),e.qZA()()()(),e.YNc(47,Mf,4,3,"div",16),e.TgZ(48,"div",4)(49,"button",17),e._uU(50),e.qZA()()()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,19,"tmiOab.headerLabel.label2")),e.xp6(3),e.Oqu(e.lcZ(6,21,"tmiOab.pageDetails.para6")),e.xp6(3),e.AsE("",e.lcZ(9,23,"tmiOab.pageDetails.para7")," ",t.applicationDetails.applicantList.length+1,""),e.xp6(2),e.Q6J("formGroup",t.applicantForm),e.xp6(5),e.Oqu(e.lcZ(16,25,"tmiOab.formLabel.label3")),e.xp6(4),e.Q6J("ngIf",(null==t.applicantForm.controls.firstName?null:t.applicantForm.controls.firstName.touched)&&(null==t.applicantForm.controls.firstName?null:t.applicantForm.controls.firstName.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(22,27,"tmiOab.placeholder.label2")),e.xp6(5),e.Oqu(e.lcZ(27,29,"tmiOab.formLabel.label4")),e.xp6(4),e.Q6J("ngIf",(null==t.applicantForm.controls.lastName?null:t.applicantForm.controls.lastName.touched)&&(null==t.applicantForm.controls.lastName?null:t.applicantForm.controls.lastName.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(33,31,"tmiOab.placeholder.label3")),e.xp6(5),e.hij("",e.lcZ(38,33,"tmiOab.formLabel.label5")," "),e.xp6(4),e.Q6J("ngIf",(null==t.applicantForm.controls.dateOfBirth?null:t.applicantForm.controls.dateOfBirth.touched)&&(null==t.applicantForm.controls.dateOfBirth?null:t.applicantForm.controls.dateOfBirth.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(45,35,"tmiOab.placeholder.label4")),e.Q6J("minDate",e.DdM(37,Pf))("maxDate",t.initDate.maxDOB),e.xp6(4),e.Q6J("ngIf",0==t.isEditModeFlag&&t.applicationDetails.applicantList.length>0),e.xp6(2),e.Q6J("disabled",t.enableSubmitbutton()),e.xp6(1),e.hij(" ",0==t.isEditModeFlag?"Save and continue":"update and continue"," ")}}function qf(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"i",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().index;return e.oxw(2).removeApplicant(n)}),e.qZA()}}function Gf(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"i",36)(1,"mat-radio-group",37),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(3).insuredPerson=n}),e.TgZ(2,"mat-radio-button",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().index;return e.oxw(2).setInsuredButton(n)}),e.qZA()()()}if(2&i){const t=e.oxw().index,o=e.oxw(2);e.xp6(1),e.Q6J("ngModel",o.insuredPerson),e.xp6(1),e.Q6J("value",t)}}function Vf(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"div",30),e._uU(3),e.qZA()(),e.TgZ(4,"div",31),e.YNc(5,qf,1,0,"i",32),e.TgZ(6,"i",33),e.NdJ("click",function(){const n=e.CHM(t),l=n.$implicit,c=n.index;return e.oxw(2).editApplicant(l,c)}),e.qZA(),e.YNc(7,Gf,3,2,"i",34),e.qZA()()}if(2&i){const t=s.$implicit,o=s.index,n=e.oxw(2);e.xp6(3),e.HOy("",o+1," | ",t.firstName," ",t.lastName," | ",t.age,""),e.xp6(2),e.Q6J("ngIf",o>0),e.xp6(2),e.Q6J("ngIf",n.tmiConfig.isInsuredPersonRequired)}}const Rf=function(i){return{applicant:i}};function Jf(i,s){if(1&i&&(e.TgZ(0,"div",39)(1,"div",40)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(e.xi3(4,1,"tmiOab.messages.errorMessages.message11",e.VKq(4,Rf,t.config.noOfMaxAllowedApplicant)))}}function Yf(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",41)(1,"button",42),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).addAnotherApplicant()}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"commonSections.buttons.button32")," "))}function Qf(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",22)(2,"h1",23),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",24),e.YNc(9,Vf,8,6,"div",25),e.YNc(10,Jf,5,6,"div",26),e.qZA(),e.YNc(11,Yf,4,3,"div",27),e._UZ(12,"app-tmiform-oab"),e.BQk()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,5,"tmiOab.headerLabel.label2")),e.xp6(3),e.Oqu(e.lcZ(7,7,"tmiOab.pageDetails.para13")),e.xp6(3),e.Q6J("ngForOf",t.applicantionList),e.xp6(1),e.Q6J("ngIf",t.hideAddApplicant),e.xp6(1),e.Q6J("ngIf",!t.hideAddApplicant)}}let Bf=(()=>{class i extends a.e{constructor(){super(),this.applicantsListFlag=!1,this.initDate=[],this.addApplicantsFlag=!1,this.isEditModeFlag=!1,this.applicationDetails={}}ngOnInit(){return(0,v.mG)(this,void 0,void 0,function*(){if(this.applicantForm=this.initForm(),this.config=this.sessionService.applicationConfiguration,this.applicationDetails=this.sessionService.applicationDetailValue,this.initDatepicker(),yield this.loadTmiMasterData(),this.applicationDetails.applicantList.length>0){this.applicantList(!0);const t=JSON.parse(JSON.stringify(this.applicationDetails));if(this.applicantionList=t.applicantList,this.calculateApplicantAge(),!this.tmiConfig.isInsuredPersonRequired){const o=this.sessionService.tmiInsuredPerson;this.setInsuredButton(this.applicantionList.findIndex(n=>n.firstName===o.firstName))}}})}loadTmiMasterData(){var t;return(0,v.mG)(this,void 0,void 0,function*(){const n=(null===(t=this.sessionService.applicationConfiguration)||void 0===t?void 0:t.tmiPartnerCode)||"",l=yield this.commonService.loadMasterTmiData("lift",n);l&&null===(null==l?void 0:l.error)&&(this.tmiConfig=l)})}initForm(){return new r.cw({firstName:new r.NI("",[r.kI.pattern("^[a-zA-Z][a-zA-Z ]+$"),r.kI.required]),lastName:new r.NI("",[r.kI.pattern("^[a-zA-Z][a-zA-Z ]+$"),r.kI.required]),dateOfBirth:new r.NI("",[r.kI.required])})}get applicantF(){return this.applicantForm.controls}dobValidation(t){this.utilityService.isDateFormatCheck(t)&&this.applicantForm.controls.dateOfBirth.setErrors({formate:!0})}initDatepicker(){const t=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY").add(-1,"days");this.initDate.maxDOB={year:+t.format("YYYY"),month:+t.format("MM"),day:+t.format("DD")}}submitApplicant(){try{this.applicantForm.invalid||(!1===this.isEditModeFlag?this.addApplicant():!0===this.isEditModeFlag&&this.updateApplicant())}catch(t){console.log(t)}}addApplicant(){return(0,v.mG)(this,void 0,void 0,function*(){try{if(!this.applicantForm.invalid){let t=Object.assign(Object.assign({},this.commonService.initTmiOabApplicantFormData()),this.applicantForm.value);const n=this.constructSingleApplicantApplicationDetails(this.sessionService.applicationDetailValue,t),l=JSON.parse(JSON.stringify(n)),c=yield this.httpService.doOABPost(p.gT.api.applicant,l).toPromise();if(!c.error){this.applicationDetails.applicantList.push(t);const d=this.updateUrnAndArn(this.applicationDetails,c);this.sessionService.applicationDetailValue=d;const _=JSON.parse(JSON.stringify(this.applicationDetails));this.applicantionList=_.applicantList,1===_.applicantList.length&&this.setInsuredButton(0),this.calculateApplicantAge(),this.applicantList(!0)}}}catch(t){console.log(t)}})}showTmiOabFormView(){this.applicantList(!0)}updateApplicant(){return(0,v.mG)(this,void 0,void 0,function*(){try{if(!this.applicantForm.invalid&&this.isEditModeFlag){const t=this.constructApplicantDetails(this.applicantForm.value,this.applicationDetails.applicantList[this.editApplicantIndex]),o=this.constructSingleApplicantApplicationDetails(this.applicationDetails,t,!0),n=JSON.parse(JSON.stringify(o));if(!(yield this.httpService.doOABPost(p.gT.api.applicant,n).toPromise()).error){this.applicationDetails.applicantList[this.editApplicantIndex]=t,this.sessionService.applicationDetailValue=this.applicationDetails,this.isEditModeFlag=!1;const c=JSON.parse(JSON.stringify(this.applicationDetails));this.applicantionList=c.applicantList,this.calculateApplicantAge(),this.applicantList(!0)}}}catch(t){console.log(t)}})}get hideAddApplicant(){var t,o,n,l;return(null===(o=null===(t=this.applicationDetails)||void 0===t?void 0:t.applicantList)||void 0===o?void 0:o.length)===(null===(l=null===(n=this.sessionService)||void 0===n?void 0:n.applicationConfiguration)||void 0===l?void 0:l.noOfMaxAllowedApplicant)}updateUrnAndArn(t,o){try{const n=Object.assign({},t);if(!o.hasOwnProperty("applicantList"))throw new Error("error: invalid_data_passed");let l=0;for(const c of o.applicantList){const d=n.applicantList;d.length>1&&(d[l].arn=c.arn,d[l].urn=o.urn,this.sessionService.urn=o.urn,l++),1===d.length&&(d[0].arn=c.arn,d[0].urn=o.urn,this.sessionService.urn=o.urn)}return n}catch(n){throw n}}constructSingleApplicantApplicationDetails(t,o,n=!1){var l,c;try{const d=Object.assign({},t);return d.applicantList=[],(null===(c=null===(l=this.applicationDetails)||void 0===l?void 0:l.applicantList)||void 0===c?void 0:c.length)>0&&(o.urn=this.applicationDetails.applicantList[0].urn),d.applicantList.push(o),d.isEdit=n,d.languageCode=this.sessionService.appCultureCode,d}catch(d){throw d}}constructApplicantDetails(t,o){try{const n=o||this.commonService.initTmiOabApplicantFormData();for(const l of Object.keys(t))n.hasOwnProperty(l)&&(n[l]=t[l]);return n.ipAddress=this.sessionService.clientIpAddress,n}catch(n){throw n}}enableSubmitbutton(){return!this.applicantForm.valid}applicantList(t){return this.sessionService.isTmiOabAddApplicant=t,this.addApplicantsFlag=t}addAnotherApplicant(){this.applicantForm.reset(),this.applicantList(!1)}editApplicant(t,o){this.isEditModeFlag=!0,this.editApplicantIndex=o,this.applicantForm.patchValue(t),this.applicantList(!1)}removeApplicant(t){return(0,v.mG)(this,void 0,void 0,function*(){try{const o={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,loginUser:this.sessionService.getLoggedEmail(),arn:this.applicationDetails.applicantList[t].arn,urn:this.applicationDetails.applicantList[t].urn};if(null===(yield this.httpService.doOABPost(p.gT.api.oabDeleteApplicant,o).toPromise()).error){this.applicationDetails.applicantList.splice(t,1),this.sessionService.applicationDetailValue=this.applicationDetails;const l=JSON.parse(JSON.stringify(this.applicationDetails));this.applicantionList=l.applicantList,this.calculateApplicantAge()}}catch(o){throw o}})}calculateApplicantAge(){try{if(this.applicantionList.length>0)for(let t of this.applicantionList){const o=this.utilityService.momentInstance().format("DD/MM/YYYY"),n=this.utilityService.convertJSONInDate(t.dateOfBirth),l=this.utilityService.momentInstance(o,"DD/MM/YYYY").diff(this.utilityService.momentInstance(n,"DD/MM/YYYY"),"years");t.age=l}}catch(t){throw t}}setInsuredButton(t){return(0,v.mG)(this,void 0,void 0,function*(){this.insuredPerson=t,this.sessionService.tmiInsuredPerson=this.applicantionList[t]})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-tmi-addapplicant"]],features:[e.qOj],decls:2,vars:2,consts:[[4,"ngIf"],[1,"mb-20"],[3,"formGroup","ngSubmit"],[1,"row","align-items-end","mt-20"],[1,"col-12","col-sm"],[1,"form-group"],[1,"asterisk"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["minlength","2","maxlength","45","formControlName","firstName","matInput","","type","text","required","",2,"text-transform","uppercase",3,"placeholder","input"],["minlength","2","maxlength","45","formControlName","lastName","matInput","","type","text","required","",2,"text-transform","uppercase",3,"placeholder","input"],[1,"col-12","mb-5"],[1,"datepicker-div","form-group"],["ngbDatepicker","","formControlName","dateOfBirth",1,"form-control","input-lg","mt-5",3,"minDate","maxDate","placeholder","ngModelChange"],["datePickerReference1","ngbDatepicker"],[1,"input-group-addon",3,"click"],["class","col-12 col-sm",4,"ngIf"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"mb-35"],[1,"mb-15"],[1,"mx-n15","mx-md-n30","px-15","px-md-30"],["class","row no-gutters align-items-center border-bottom-1 py-15",4,"ngFor","ngForOf"],["class","border-danger mt-10","style","border-left: 5px solid",4,"ngIf"],["class","text-right mt-20",4,"ngIf"],[1,"row","no-gutters","align-items-center","border-bottom-1","py-15"],[1,"col","fs-18"],[1,"w-wrap-break"],[1,"col-auto"],["class","fa fa-trash-o c-brand-blue-light fs-25 cursor-pointer mx-25",3,"click",4,"ngIf"],[1,"fa","fa-edit","c-brand-blue-light","fs-24","cursor-pointer",3,"click"],["class"," fs-25 cursor-pointer mx-25",4,"ngIf"],[1,"fa","fa-trash-o","c-brand-blue-light","fs-25","cursor-pointer","mx-25",3,"click"],[1,"fs-25","cursor-pointer","mx-25"],["name","insuredApplicant","ngDefaultControl","",3,"ngModel","ngModelChange"],["matTooltip","Insured Person",3,"value","click"],[1,"border-danger","mt-10",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-15","pl-50"],[1,"text-right","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-brand-orange",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,Uf,51,38,"ng-container",0),e.YNc(1,Qf,13,9,"ng-container",0)),2&t&&(e.Q6J("ngIf",!o.addApplicantsFlag),e.xp6(1),e.Q6J("ngIf",o.addApplicantsFlag&&o.applicationDetails.applicantList.length>0))},directives:[w.O5,r._Y,r.JL,r.sg,q.KE,r.Fj,u.Nt,r.wO,r.nD,r.JJ,r.u,r.Q7,J.J4,V.lW,w.sg,Qe.VQ,r.On,Qe.U0,At.gM,xf],pipes:[D.X$],encapsulation:2}),i})();function jf(i,s){if(1&i&&(e.TgZ(0,"li",8)(1,"div",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",10),e._uU(5),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"travelMedicalInformation.formLabel.label3")),e.xp6(3),e.Oqu(null==t.tmiDetails?null:t.tmiDetails.countryofentryName)}}function Hf(i,s){if(1&i&&(e.TgZ(0,"li",8)(1,"div",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",10),e._uU(5),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"travelMedicalInformation.formLabel.label4")),e.xp6(3),e.Oqu(null==t.tmiDetails?null:t.tmiDetails.coverageTypeName)}}function $f(i,s){if(1&i&&(e.TgZ(0,"li",8)(1,"div",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",10),e._uU(5),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"travelMedicalInformation.formLabel.label5")),e.xp6(3),e.Oqu(null==t.tmiDetails?null:t.tmiDetails.coveragelevelName)}}function Wf(i,s){if(1&i&&(e.TgZ(0,"li",8)(1,"div",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",10),e._uU(5),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"travelMedicalInformation.formLabel.label6")),e.xp6(3),e.Oqu(null==t.tmiDetails?null:t.tmiDetails.extremeSportsName)}}function Kf(i,s){if(1&i&&(e.TgZ(0,"li",8)(1,"div",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",10),e._uU(5),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,"applicantInformation.formLabel.label8")),e.xp6(3),e.AsE(" ",null==t.applicantAddress?null:t.applicantAddress.dialCode," ",null==t.applicantAddress?null:t.applicantAddress.contactNumber,"")}}function zf(i,s){if(1&i&&(e.TgZ(0,"li",8)(1,"div",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",10),e._uU(5),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"applicantInformation.formLabel.label13")),e.xp6(3),e.hij(" ",null==t.applicantAddress?null:t.applicantAddress.addressline1,"")}}function Xf(i,s){if(1&i&&(e.TgZ(0,"li",8)(1,"div",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",10),e._uU(5),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"applicantInformation.formLabel.label15")),e.xp6(3),e.hij(" ",null==t.applicantAddress?null:t.applicantAddress.addressline2,"")}}function ev(i,s){if(1&i&&(e.TgZ(0,"li",8)(1,"div",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",10),e._uU(5),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"applicantInformation.formLabel.label16")),e.xp6(3),e.hij(" ",null==t.applicantAddress?null:t.applicantAddress.state,"")}}function tv(i,s){if(1&i&&(e.TgZ(0,"li",8)(1,"div",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",10),e._uU(5),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"applicantInformation.formLabel.label17")),e.xp6(3),e.hij(" ",null==t.applicantAddress?null:t.applicantAddress.city,"")}}function iv(i,s){if(1&i&&(e.TgZ(0,"li",8)(1,"div",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",10),e._uU(5),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,"applicantInformation.formLabel.label18")),e.xp6(3),e.hij(" ",null==t.applicantAddress?null:t.applicantAddress.pincode,"")}}function ov(i,s){1&i&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",16),e._UZ(3,"i",17),e.TgZ(4,"div"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.BQk()),2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"travelMedicalInformation.pageDetails.para6")))}function nv(i,s){if(1&i&&(e.TgZ(0,"div",36),e._UZ(1,"img",37),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("src",null==t||null==t.contentful||null==t.contentful.insProviderIcon||null==t.contentful.insProviderIcon.fields||null==t.contentful.insProviderIcon.fields.file?null:t.contentful.insProviderIcon.fields.file.url,e.LSH)}}function av(i,s){if(1&i&&(e.TgZ(0,"div",38),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",null==t||null==t.contentful?null:t.contentful.insProviderName," ")}}function sv(i,s){if(1&i&&(e.TgZ(0,"div",39),e._UZ(1,"app-contentful-richtext",40),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("richData",null==t||null==t.contentful?null:t.contentful.insPolicyDesc)}}const un=function(i){return{"same-coverage-container":i}};function lv(i,s){if(1&i&&(e.TgZ(0,"div",46)(1,"table",47)(2,"tr")(3,"td",48)(4,"div",49),e._uU(5),e.qZA()(),e.TgZ(6,"td",50)(7,"div"),e._uU(8),e.qZA()(),e.TgZ(9,"td",51)(10,"div"),e._uU(11),e.qZA()()()()()),2&i){const t=s.$implicit,o=s.index,n=e.oxw(4);e.Q6J("ngClass",e.VKq(5,un,n.getSameCoverage(o,"coveragesListOne"))),e.xp6(4),e.Q6J("ngClass",t.isCovered?"c-brand-green":"c-brand-error"),e.xp6(1),e.hij(" ",t.isCovered?"\u2713":"\u2716"," "),e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.amountOrDays)}}function rv(i,s){if(1&i&&(e.TgZ(0,"div",46)(1,"table",47)(2,"tr")(3,"td",48)(4,"div",49),e._uU(5),e.qZA()(),e.TgZ(6,"td",50)(7,"div"),e._uU(8),e.qZA()(),e.TgZ(9,"td",52)(10,"div"),e._uU(11),e.qZA()()()()()),2&i){const t=s.$implicit,o=s.index,n=e.oxw(4);e.Q6J("ngClass",e.VKq(5,un,n.getSameCoverage(o,"coveragesListTwo"))),e.xp6(4),e.Q6J("ngClass",t.isCovered?"c-brand-green":"c-brand-error"),e.xp6(1),e.hij(" ",t.isCovered?"\u2713":"\u2716"," "),e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.amountOrDays)}}function cv(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",41)(1,"div",42),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",43)(5,"div",44),e.YNc(6,lv,12,7,"div",45),e.qZA(),e.TgZ(7,"div",44),e.YNc(8,rv,12,7,"div",45),e.qZA()(),e.TgZ(9,"a",27),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).showCoverage=null}),e._uU(10," \u2190"),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"translate"),e.qZA()()()}if(2&i){const t=e.oxw().index,o=e.oxw(2);e.ekj("show",o.showCoverage!==t),e.xp6(2),e.Oqu(e.lcZ(3,6,"travelMedicalInformation.headerLabel.label12")),e.xp6(4),e.Q6J("ngForOf",o.coveragesListOne),e.xp6(2),e.Q6J("ngForOf",o.coveragesListTwo),e.xp6(4),e.Oqu(e.lcZ(13,8,"travelMedicalInformation.buttons.button2"))}}function uv(i,s){if(1&i&&(e.TgZ(0,"div",53)(1,"div",54),e._uU(2),e.qZA(),e.TgZ(3,"div",55),e._uU(4),e.qZA()()),2&i){const t=s.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.amountOrDays)}}function dv(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw(2).addService(n)}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.formLabel.label1")," "))}function pv(i,s){1&i&&(e.TgZ(0,"button",57),e._uU(1," \u2713 "),e.qZA())}function mv(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22),e.YNc(4,nv,2,1,"div",23),e.YNc(5,av,2,1,"div",24),e.qZA(),e.YNc(6,sv,2,1,"div",25),e.TgZ(7,"div",26)(8,"a",27),e.NdJ("click",function(){const l=e.CHM(t).index;return e.oxw(2).viewMoreClick(l)}),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._uU(12," \u2192 "),e.qZA(),e.YNc(13,cv,14,10,"div",28),e.qZA(),e.TgZ(14,"div",20),e.YNc(15,uv,5,2,"div",29),e.qZA()(),e.TgZ(16,"div",30)(17,"div",31)(18,"div",32),e._uU(19),e.qZA(),e.TgZ(20,"div",33)(21,"div"),e.YNc(22,dv,3,3,"button",34),e.qZA(),e.TgZ(23,"div"),e.YNc(24,pv,2,0,"button",35),e.qZA()()()()()()}if(2&i){const t=s.$implicit,o=s.index,n=e.oxw(2);e.xp6(4),e.Q6J("ngIf",null==t||null==t.contentful||null==t.contentful.insProviderIcon||null==t.contentful.insProviderIcon.fields||null==t.contentful.insProviderIcon.fields.file?null:t.contentful.insProviderIcon.fields.file.url),e.xp6(1),e.Q6J("ngIf",null==t||null==t.contentful?null:t.contentful.insProviderName),e.xp6(1),e.Q6J("ngIf",null==t||null==t.contentful?null:t.contentful.insPolicyDesc),e.xp6(4),e.Oqu(e.lcZ(11,10,"services.buttons.button1")),e.xp6(3),e.Q6J("ngIf",n.showCoverage===o),e.xp6(2),e.Q6J("ngForOf",null==t?null:t.priorityCoverages),e.xp6(4),e.AsE("",null==t?null:t.currency," ",null==t?null:t.amount,""),e.xp6(3),e.Q6J("ngIf",!n.isSelected(t.productId)),e.xp6(2),e.Q6J("ngIf",n.isSelected(t.productId))}}function gv(i,s){if(1&i&&(e.ynx(0),e.YNc(1,mv,25,12,"div",18),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.availableServices)("ngForTrackBy",t.trackByFn)}}function _v(i,s){if(1&i&&(e.TgZ(0,"div",62),e._UZ(1,"app-contentful-richtext",40),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("richData",t.selectedSevices[0].contentful.insPolicyTermsnCondition)}}function fv(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",58)(1,"div",59)(2,"mat-checkbox",60),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().agreeToTermsAndCondition=n})("change",function(){return e.CHM(t),e.oxw().agreeConditions()}),e.YNc(3,_v,2,1,"div",61),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.agreeToTermsAndCondition),e.xp6(1),e.Q6J("ngIf",null==t.selectedSevices[0]||null==t.selectedSevices[0].contentful?null:t.selectedSevices[0].contentful.insPolicyTermsnCondition)}}let vv=(()=>{class i extends a.e{constructor(){super(),this.tmiProductSelected=new e.vpe,this.showCoverage=null,this.availableServices=[],this.nationalityList=[]}ngOnInit(){var t,o,n,l,c,d,_,f,h;this.tmiContentfulData=null===(t=this.sessionService)||void 0===t?void 0:t.tmiContentfulDetails;const T=this.sessionService.tmiDetails;T.startDate=this.utilityService.convertJSONInDate(T.startdate),T.endDate=this.utilityService.convertJSONInDate(T.enddate),T.coveragelevelName=null===(n=null===(o=null==T?void 0:T.coverageLevels)||void 0===o?void 0:o.find(I=>I.clCode===(null==T?void 0:T.coveragelevel)))||void 0===n?void 0:n.clDisplayName,T.extremeSportsName=null===(c=null===(l=null==T?void 0:T.extremeSports)||void 0===l?void 0:l.find(I=>I.extCode===(null==T?void 0:T.extremesports)))||void 0===c?void 0:c.extDisplayName,T.coverageTypeName=null===(_=null===(d=null==T?void 0:T.coverageTypes)||void 0===d?void 0:d.find(I=>I.ctCode===(null==T?void 0:T.coveragetype)))||void 0===_?void 0:_.ctDisplayName,T.countryofentryName=null===(h=null===(f=null==T?void 0:T.nationalityList)||void 0===f?void 0:f.find(I=>I.countryCode===(null==T?void 0:T.countryofentry)))||void 0===h?void 0:h.countryDisplayName,this.tmiDetails=T,this.selectedSevices=[],this.getNationality(),this.getTMIProducts(),this.applicantAddress=this.sessionService.tmiOabAddress}getNationality(){return(0,v.mG)(this,void 0,void 0,function*(){this.nationalityList=yield this.commonService.loadNationality(),this.residentCountry=this.utilityService.getnationalityName(this.nationalityList,this.sessionService.countryCode),this.destinationCountry=this.utilityService.getnationalityName(this.nationalityList,this.sessionService.tenent)})}getTMIProducts(){return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.applicantList=this.sessionService.applicationDetailValue.applicantList,this.applicantList.length>0)for(let d of this.applicantList){const _=this.utilityService.momentInstance().format("DD/MM/YYYY"),f=this.utilityService.convertJSONInDate(d.dateOfBirth),h=this.utilityService.momentInstance(_,"DD/MM/YYYY").diff(this.utilityService.momentInstance(f,"DD/MM/YYYY"),"years");d.age=h}const o=this.tmiDetails,n=[];this.applicantList.forEach(d=>{n.push({arn:d.arn,firstName:null==d?void 0:d.firstName,lastName:null==d?void 0:d.lastName,age:null==d?void 0:d.age,dateOfBirth:this.utilityService.convertJSONInDate(null==d?void 0:d.dateOfBirth),emailId:this.sessionService.getLoggedEmail(),contactNumber:null==d?void 0:d.contactNumber,dialCode:null==d?void 0:d.dialCode})});const l={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:"test",cultureCode:this.sessionService.appCultureCode,loginUser:this.sessionService.getLoggedEmail(),URN:this.sessionService.urn,productPageNumber:"123",applicants:n,insuranceTravelDetails:{coverageLevel:null==o?void 0:o.coveragelevel,coverageType:null==o?void 0:o.coveragetype,startDate:null==o?void 0:o.startDate,endDate:null==o?void 0:o.endDate,firstCountryOfEntry:null==o?void 0:o.countryofentry,isRequiredExtraSports:!!(null==o?void 0:o.extremesports)&&JSON.parse(null==o?void 0:o.extremesports)}},c=yield this.httpService.doOABPost(p.gT.api.getTMIProducts,l).toPromise().catch(d=>{throw this.productsNotAvailable=!0,this.sessionService.isTmiProductsAvailable=!1,d}).then(d=>d);if(c&&null===c.error&&(null==c?void 0:c.products.length)>0){this.availableServices=null==c?void 0:c.products,this.availableServices.forEach(_=>{var f;const h=null===(f=null==_?void 0:_.coverages)||void 0===f?void 0:f.slice(0,4);_.priorityCoverages=h||[]});const d=yield this.commonService.constructTMIProductData(this.availableServices);(null==d?void 0:d.length)>0&&(this.availableServices=d),this.productsNotAvailable=!1,this.sessionService.isTmiProductsAvailable=!0}else this.productsNotAvailable=!0,this.sessionService.isTmiProductsAvailable=!1}catch(t){throw t}})}showTmiFormView(){this.sessionService.tmiProductView=!1}get tmiApplicantsName(){let t="";return this.applicantList.forEach(o=>{t+=o.firstName+" "+o.lastName+", "}),t.slice(0,-2)}getSameCoverage(t,o){const n="coveragesListOne"===o?this.coveragesListOne:this.coveragesListTwo,l=n[t];return!!n.find((d,_)=>d.id===l.id&&_>t&&d.id)}viewMoreClick(t){var o,n,l;const c=null===(o=this.availableServices[t])||void 0===o?void 0:o.coverages;this.setProductList=c,this.showCoverage=t;const d={dl_category:"read_more_insurance_details",dl_action:null===(n=this.availableServices[t])||void 0===n?void 0:n.productName,dl_label:null===(l=this.availableServices[t])||void 0===l?void 0:l.amount};this.utilityService.fireCustomEvent(d)}set setProductList(t){const o=JSON.parse(JSON.stringify(t));o.sort((l,c)=>(null==l?void 0:l.isCovered)==(null==c?void 0:c.isCovered)?0:(null==l?void 0:l.isCovered)>(null==c?void 0:c.isCovered)?-1:1);const n=Math.ceil(o.length/2);this.coveragesListOne=o.splice(0,n),this.coveragesListTwo=o.splice(-n)}agreeConditions(){this.sessionService.tmiProductConsent=this.agreeToTermsAndCondition}optOutTmi(){this.selectedSevices=[],this.sessionService.tmiVas=[],this.optedOutTmi=!0,this.sessionService.optOutTmi=!0,this.agreeToTermsAndCondition=!1,this.sessionService.tmiProductConsent=!1}isSelected(t){return this.selectedSevices.some(o=>o.productId===t)}addService(t){try{this.utilityService.startNgxUiSpinner();const o=[];o.push(t),this.selectedSevices=o,this.sessionService.tmiVas=o,this.optedOutTmi=!1,this.sessionService.optOutTmi=!1,this.utilityService.stopNgxUiSpinner(),this.tmiProductSelected.emit(!0)}catch(o){throw o}}constructTmiApplicantList(t,o){var n,l,c;return(0,v.mG)(this,void 0,void 0,function*(){let d=[];for(let _=0;_<o.length;_++){const f={arn:null===(n=o[_])||void 0===n?void 0:n.arn,vasId:null==t?void 0:t.vasId,vasCode:null==t?void 0:t.vasCode,productCode:null===(l=t[0])||void 0===l?void 0:l.productId,amount:_<1?null===(c=t[0])||void 0===c?void 0:c.amount:0};d.push(f)}return d})}updateTMIProductSelection(){return(0,v.mG)(this,void 0,void 0,function*(){return new Promise(t=>(0,v.mG)(this,void 0,void 0,function*(){var o,n,l,c;let d=[];const f=this.sessionService.applicantService||[],h=null==f?void 0:f.filter(R=>"TMIPS"!=R.code),T=this.sessionService.tmiVas||[],I=this.sessionService.applicationDetailValue.applicantList;if(T.length>0){T.vasCode="TMIPS",T.vasId=(null===(o=this.sessionService)||void 0===o?void 0:o.tmiVasID)?parseInt(null===(n=this.sessionService)||void 0===n?void 0:n.tmiVasID):2,this.sessionService.tmiVas=T;const R={id:1,name:"Travel Assistance with Insurance",code:"TMIPS",amount:null===(l=T[0])||void 0===l?void 0:l.amount,unit:I.length>0?I.length:0,price:null===(c=T[0])||void 0===c?void 0:c.amount,quantity:I.length>0?I.length:0};h.push(R),d=yield this.constructTmiApplicantList(T,I)}this.sessionService.applicantService=h;const S=yield this.mapTMIVas(d);t(!!(null==S?void 0:S.urn))}))})}mapTMIVas(t){var o;return(0,v.mG)(this,void 0,void 0,function*(){try{const n=null===(o=this.sessionService.tmiVas[0])||void 0===o?void 0:o.amount,l={loginuser:this.sessionService.getLoggedEmail(),missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,urn:this.sessionService.urn,totalAmount:n||0,applicants:(null==t?void 0:t.length)>0?t:[]};return yield this.httpService.payloadPost(p.gT.api.mapTmiVas,l).toPromise().then(d=>d).catch(d=>d)}catch(n){throw n}})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-tmi-oab-list"]],outputs:{tmiProductSelected:"tmiProductSelected"},features:[e.qOj],decls:55,vars:38,consts:[[1,"col-12"],[1,"mb-35"],[1,"row","mb-20"],[1,"col"],[1,"fs-18","fs-sm-24","mb-0"],[1,"col-auto"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"list-group","mb-40"],[1,"list-group-item","bg-brand-footer","p-15","pl-60"],[1,"c-brand-grey-para"],[1,"fs-18","mt-5"],["class","list-group-item bg-brand-footer p-15 pl-60",4,"ngIf"],[1,"fs-18","fs-sm-24","mb-20"],[4,"ngIf"],["class","form-group mt-30",4,"ngIf"],[1,"border-danger","mt-20",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-times-circle","fs-24","position-absolute","left-15","top-18","mb-0"],["class","card p-15 px-md-30 py-md-20 mb-20",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card","p-15","px-md-30","py-md-20","mb-20"],[1,"row"],[1,"col-12","col-sm","pr-sm-0"],[1,"row","no-gutters","mb-10","align-items-end"],["class","col-auto pr-15",4,"ngIf"],["class","col fs-16 fs-sm-20 lh-20",4,"ngIf"],["class","c-brand-grey-para fs-15 mt-10",4,"ngIf"],[1,"clearfix","fs-15","mb-25"],["role","button",1,"c-brand-orange","text-decoration-underline",3,"click"],["class","position-relative bg-white pt-20 mt-n22",3,"show",4,"ngIf"],["class","col-12 col-sm-6 col-lg d-flex flex-column mb-15 mb-lg-0",4,"ngFor","ngForOf"],[1,"col-12","col-sm-auto","mt-20","mt-sm-0"],[1,"row","align-items-center","d-sm-inline-block","text-right"],[1,"col","col-sm-12","c-brand-green","text-right","mb-sm-13"],[1,"col-auto","col-sm-12"],["mat-stroked-button","","class","btn py-3 btn-block min-w-110 btn-outline-brand-orange",3,"click",4,"ngIf"],["mat-stroked-button","","class","btn py-3 btn-block min-w-110 btn-brand-green-light",4,"ngIf"],[1,"col-auto","pr-15"],["alt","Noor Takaful Insurance",2,"width","70px",3,"src"],[1,"col","fs-16","fs-sm-20","lh-20"],[1,"c-brand-grey-para","fs-15","mt-10"],[3,"richData"],[1,"position-relative","bg-white","pt-20","mt-n22"],[1,"mb-5"],[1,"card","tmi-table","overflow-x-auto","mb-15"],[1,"row","no-gutters","fs-13"],["class","col-6 border-top brd-right mt-n1",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-6","border-top","brd-right","mt-n1",3,"ngClass"],[1,"table","mt-n1","mb-0"],["width","40"],[1,"fs-18","lh-16","ff-900",3,"ngClass"],[1,"px-0"],["width","150",1,"text-right"],["width","100",1,"text-right"],[1,"col-12","col-sm-6","col-lg","d-flex","flex-column","mb-15","mb-lg-0"],[1,"fs-15","c-brand-grey-para","mb-4"],[1,"fs-15","mt-auto"],["mat-stroked-button","",1,"btn","py-3","btn-block","min-w-110","btn-outline-brand-orange",3,"click"],["mat-stroked-button","",1,"btn","py-3","btn-block","min-w-110","btn-brand-green-light"],[1,"form-group","mt-30"],[1,"pl-35"],[1,"mat-checkbox-brand","ml-n35",3,"ngModel","ngModelChange","change"],["class","fs-sm-18 text-wrap mr-5",4,"ngIf"],[1,"fs-sm-18","text-wrap","mr-5"]],template:function(t,o){1&t&&(e.ynx(0),e.TgZ(1,"div",0),e._UZ(2,"div",1),e.TgZ(3,"div",2)(4,"div",3)(5,"h2",4),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",5)(9,"a",6),e.NdJ("click",function(){return o.showTmiFormView()}),e._uU(10),e.ALo(11,"translate"),e.qZA()()()(),e.TgZ(12,"div",0)(13,"ul",7)(14,"li",8)(15,"div",9),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",10),e._uU(19),e.qZA()(),e.TgZ(20,"li",8)(21,"div",9),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"div",10),e._uU(25),e.qZA()(),e.TgZ(26,"li",8)(27,"div",9),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"div",10),e._uU(31),e.qZA()(),e.TgZ(32,"li",8)(33,"div",9),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"div",10),e._uU(37),e.qZA()(),e.YNc(38,jf,6,4,"li",11),e.YNc(39,Hf,6,4,"li",11),e.YNc(40,$f,6,4,"li",11),e.YNc(41,Wf,6,4,"li",11),e.YNc(42,Kf,6,5,"li",11),e.YNc(43,zf,6,4,"li",11),e.YNc(44,Xf,6,4,"li",11),e.YNc(45,ev,6,4,"li",11),e.YNc(46,tv,6,4,"li",11),e.YNc(47,iv,6,4,"li",11),e.qZA()(),e.TgZ(48,"div",0)(49,"h2",12),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.YNc(52,ov,7,3,"ng-container",13),e.YNc(53,gv,2,2,"ng-container",13),e.YNc(54,fv,4,2,"div",14),e.qZA(),e.BQk()),2&t&&(e.xp6(6),e.Oqu(e.lcZ(7,24,"dashboard.headerLabel.label13")),e.xp6(4),e.Oqu(e.lcZ(11,26,"reviewAndPayment.buttons.button1")),e.xp6(6),e.Oqu(e.lcZ(17,28,"travelMedicalInformation.headerLabel.label7")),e.xp6(3),e.Oqu(o.tmiApplicantsName),e.xp6(3),e.Oqu(e.lcZ(23,30,"travelMedicalInformation.headerLabel.label8")),e.xp6(3),e.Oqu((null==o.tmiDetails?null:o.tmiDetails.startDate)+" - "+(null==o.tmiDetails?null:o.tmiDetails.endDate)),e.xp6(3),e.Oqu(e.lcZ(29,32,"travelMedicalInformation.headerLabel.label9")),e.xp6(3),e.Oqu(o.residentCountry),e.xp6(3),e.Oqu(e.lcZ(35,34,"travelMedicalInformation.headerLabel.label10")),e.xp6(3),e.Oqu(o.destinationCountry),e.xp6(1),e.Q6J("ngIf",null==o.tmiDetails?null:o.tmiDetails.countryofentry),e.xp6(1),e.Q6J("ngIf",null==o.tmiDetails?null:o.tmiDetails.coveragetype),e.xp6(1),e.Q6J("ngIf",null==o.tmiDetails?null:o.tmiDetails.coveragelevel),e.xp6(1),e.Q6J("ngIf",null==o.tmiDetails?null:o.tmiDetails.extremesports),e.xp6(1),e.Q6J("ngIf",null==o.applicantAddress?null:o.applicantAddress.contactNumber),e.xp6(1),e.Q6J("ngIf",null==o.applicantAddress?null:o.applicantAddress.addressline1),e.xp6(1),e.Q6J("ngIf",null==o.applicantAddress?null:o.applicantAddress.addressline2),e.xp6(1),e.Q6J("ngIf",null==o.applicantAddress?null:o.applicantAddress.state),e.xp6(1),e.Q6J("ngIf",null==o.applicantAddress?null:o.applicantAddress.city),e.xp6(1),e.Q6J("ngIf",null==o.applicantAddress?null:o.applicantAddress.pincode),e.xp6(3),e.Oqu(e.lcZ(51,36,null==o.tmiContentfulData?null:o.tmiContentfulData.plansListingPageSectionTitle2)),e.xp6(2),e.Q6J("ngIf",o.productsNotAvailable),e.xp6(1),e.Q6J("ngIf",(null==o.availableServices?null:o.availableServices.length)>0),e.xp6(1),e.Q6J("ngIf",(null==o.selectedSevices?null:o.selectedSevices.length)>0))},directives:[w.O5,w.sg,kt,w.mk,V.lW,le.oG,r.JJ,r.On],pipes:[D.X$],encapsulation:2}),i})();const hv=["viewChangeAppointmentModal"];function yv(i,s){if(1&i&&(e.TgZ(0,"h1",9),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"p",10),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"app-tmiform")),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,2,null==t.tmiContentfulData?null:t.tmiContentfulData.quoteFormPageTitle)),e.xp6(3),e.Oqu(e.lcZ(5,4,null==t.tmiContentfulData?null:t.tmiContentfulData.quoteFormPageSubTitle))}}function bv(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"h1",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",10),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"app-tmilist",11),e.NdJ("tmiProductSelected",function(n){return e.CHM(t),e.oxw(2).tmiProductSelected(n)}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,null==t.tmiContentfulData?null:t.tmiContentfulData.plansListingPagePageTitle)),e.xp6(3),e.Oqu(e.lcZ(6,4,null==t.tmiContentfulData?null:t.tmiContentfulData.plansListingPageSubTitle))}}function Cv(i,s){if(1&i&&(e.TgZ(0,"mat-card",6),e.YNc(1,yv,7,6,"ng-template",null,7,e.W1O),e.YNc(3,bv,8,6,"ng-container",8),e.qZA()),2&i){const t=e.MAs(2),o=e.oxw();e.xp6(3),e.Q6J("ngIf",o.tmiProductsView)("ngIfElse",t)}}function Av(i,s){1&i&&e._UZ(0,"app-tmi-addapplicant")}function Tv(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"h1",9),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",10),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"app-tmi-oab-list",11),e.NdJ("tmiProductSelected",function(n){return e.CHM(t),e.oxw(2).tmiProductSelected(n)}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,null==t.tmiContentfulData?null:t.tmiContentfulData.plansListingPagePageTitle)),e.xp6(3),e.Oqu(e.lcZ(6,4,null==t.tmiContentfulData?null:t.tmiContentfulData.plansListingPageSubTitle))}}function Sv(i,s){if(1&i&&(e.TgZ(0,"mat-card",6),e.YNc(1,Av,1,0,"ng-template",null,7,e.W1O),e.YNc(3,Tv,8,6,"ng-container",8),e.qZA()),2&i){const t=e.MAs(2),o=e.oxw();e.xp6(3),e.Q6J("ngIf",o.tmiProductsView)("ngIfElse",t)}}function xv(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).showTmiOabFormView()}),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",15)(6,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).oabSubmit()}),e._uU(7),e.ALo(8,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,3,"commonSections.buttons.button8")," "),e.xp6(3),e.Q6J("disabled",t.payOnlineDisabled),e.xp6(1),e.hij(" ",e.lcZ(8,5,"commonSections.buttons.button34")," ")}}function Lv(i,s){if(1&i&&(e.TgZ(0,"mat-card",12),e.YNc(1,xv,9,7,"div",13),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.tmiProductsView)}}function Iv(i,s){1&i&&e.GkF(0)}function Zv(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card",12)(1,"div",14)(2,"div",15)(3,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().routePrevious()}),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",15),e.YNc(7,Iv,1,0,"ng-container",18),e.qZA()()()}if(2&i){const t=e.oxw(),o=e.MAs(10),n=e.MAs(8);e.xp6(4),e.hij(" ",e.lcZ(5,2,"commonSections.buttons.button8")," "),e.xp6(3),e.Q6J("ngTemplateOutlet",t.tmiProductsView&&!t.checkOptOutTmi?o:n)}}function Nv(i,s){if(1&i&&(e.TgZ(0,"div",19)(1,"div",20)(2,"button",21),e._UZ(3,"img",22),e.qZA()(),e.TgZ(4,"h2",23),e._UZ(5,"i",24),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"hr",25),e.TgZ(9,"p",26),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",14)(13,"div",27)(14,"button",28),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",27)(18,"button",29),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(3),e.MGl("src","",t.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(3),e.hij(" ",e.lcZ(7,5,"commonSections.headerLabel.label3")," "),e.xp6(4),e.hij(" ",e.lcZ(11,7,(null==t.tmiContentfulData?null:t.tmiContentfulData.popUpMessage)||"travelMedicalInformation.pageDetails.para7")," "),e.xp6(5),e.hij(" ",e.lcZ(16,9,"commonSections.buttons.button3")," "),e.xp6(4),e.hij(" ",e.lcZ(20,11,"commonSections.buttons.button4")," ")}}function Dv(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){return e.CHM(t),e.oxw().routetoNextModule()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.checkIfDisabled),e.xp6(1),e.hij(" ",e.lcZ(2,2,"commonSections.buttons.button19")," ")}}function Ov(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",31),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().routetoNextModule()}),e._UZ(1,"input",32)(2,"input",33),e.TgZ(3,"button",34),e._uU(4),e.ALo(5,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.uIk("data-ot-cp-id",t.dataOtCpId),e.xp6(1),e.Q6J("value",t.loggedInUser),e.xp6(2),e.Q6J("disabled",t.checkIfDisabled),e.xp6(1),e.hij(" ",e.lcZ(5,4,"commonSections.buttons.button19")," ")}}let Ev=(()=>{class i extends Ze.o{constructor(t){var o;super(),this.dialog=t,this.scope=this,this.dataOtCpId=re.N.oneTrustPortal.dataOtCpId,this.loggedInUser="",this.isTmiOabEnable=!1,this.tmiContentfulData=null===(o=this.sessionService)||void 0===o?void 0:o.tmiContentfulDetails,this.initBaseForm(p.gT.modules.TRAVEL_MEDICAL_INSURANCE),this.loggedInUser=this.sessionService.getLoggedEmail(),this.proceedFailMsg=""}ngOnInit(){this.utilityService.startNgxUiSpinner(),this.loadTmiMasterData(),this.utilityService.fireCustomEvent({dl_category:"travel medical insurance",dl_action:"travel medical insurance pageview",dl_label:1,value:0}),this.sessionService.tmiProductView=!1,this.utilityService.stopNgxUiSpinner(),this.isTmiOabEnable=this.sessionService.isTmiOabEnable,this.commonService.bookingMaxtimeSessionTrackStart()}routePrevious(){this.commonService.removeTmiProductSelection(),super.routePrevious()}ngAfterViewInit(){this.utilityService.appendScriptForConsent()}routetoNextModule(){var t;const o=()=>{var l,c;const d={dl_category:"continue_travel_insurance",dl_action:(null===(l=n[0])||void 0===l?void 0:l.productName)||void 0,dl_label:(null===(c=n[0])||void 0===c?void 0:c.amount)||void 0};this.utilityService.fireCustomEvent(d),this.sessionService.completedModuleName=p.VB.TRAVEL_MEDICAL_INSURANCE,this.sessionService.updateFees=!0,(0===n.length||!this.tmiProductsView)&&(this.uncheckAllApplicants(),this.deleteTMIDetails()),this.routeNext()},n=this.sessionService.tmiVas||[];if(this.tmiProductsView&&(!this.sessionService.optOutTmi||n.length>0||!this.sessionService.isTmiProductsAvailable))this.updateTMIProductSelection(),o();else{const l=null===(t=this.dialog)||void 0===t?void 0:t.open(this.changeAppointmentModal,{disableClose:!0,restoreFocus:!0});this.subs.sink=l.afterClosed().subscribe(c=>{"true"===c&&(this.sessionService.tmiVas=[],this.sessionService.optOutTmi=!1,this.sessionService.tmiProductConsent=!1,o(),this.commonService.removeTmiProductSelection(),this.mapTMIVas())})}}updateTMIProductSelection(){return(0,v.mG)(this,void 0,void 0,function*(){return new Promise(t=>(0,v.mG)(this,void 0,void 0,function*(){var o,n,l,c;let d=[];const _=this.sessionService.applicantService||[],f=this.sessionService.applicationConfiguration,h=null==_?void 0:_.filter(U=>"TMIPS"!=U.code),T=this.sessionService.tmiVas||[],I=this.sessionService.applicationDetailValue.applicantList,S=this.isTmiOabEnable?I:I.filter(U=>!0===U.isTmiApplicant);if(T.length>0){T.vasCode="TMIPS",T.vasId=(null===(o=this.sessionService)||void 0===o?void 0:o.tmiVasID)?parseInt(null===(n=this.sessionService)||void 0===n?void 0:n.tmiVasID):null,this.isTmiOabEnable&&(T.vasId=f.tmiOabVas),this.sessionService.tmiVas=T;const U={id:1,name:"Travel Assistance with Insurance",code:"TMIPS",amount:null===(l=T[0])||void 0===l?void 0:l.amount,unit:S.length>0?S.length:0,price:null===(c=T[0])||void 0===c?void 0:c.amount,quantity:S.length>0?S.length:0};h.push(U),d=yield this.constructTmiApplicantList(T,S)}this.sessionService.applicantService=h;const R=yield this.mapTMIVas(d);t(!!(null==R?void 0:R.urn))}))})}mapTMIVas(t){var o;return(0,v.mG)(this,void 0,void 0,function*(){try{const n=null===(o=this.sessionService.tmiVas[0])||void 0===o?void 0:o.amount,l={loginuser:this.sessionService.getLoggedEmail(),missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,urn:this.sessionService.urn,totalAmount:n||0,applicants:(null==t?void 0:t.length)>0?t:[]};return yield this.httpService.payloadPost(p.gT.api.mapTmiVas,l).toPromise().then(d=>d).catch(d=>d)}catch(n){this.logger.error(n)}})}uncheckAllApplicants(){var t;const o=this.sessionService.applicationDetailValue;null===(t=o.applicantList)||void 0===t||t.forEach(n=>n.isTmiApplicant=!1),this.sessionService.applicationDetailValue=o}deleteTMIDetails(){this.sessionService.cleartmiDetails()}constructTmiApplicantList(t,o){var n,l,c,d,_;return(0,v.mG)(this,void 0,void 0,function*(){let f=[];t.vasId=(null===(n=this.sessionService)||void 0===n?void 0:n.tmiVasID)?parseInt(null===(l=this.sessionService)||void 0===l?void 0:l.tmiVasID):null;const h=this.sessionService.applicationConfiguration;for(let T=0;T<o.length;T++){const I={arn:null===(c=o[T])||void 0===c?void 0:c.arn,vasId:this.isTmiOabEnable?h.tmiOabVas:null==t?void 0:t.vasId,vasCode:null==t?void 0:t.vasCode,productCode:null===(d=t[0])||void 0===d?void 0:d.productId,amount:T<1?null===(_=t[0])||void 0===_?void 0:_.amount:0};f.push(I)}return f})}get tmiProductsView(){var t;return null===(t=this.sessionService)||void 0===t?void 0:t.tmiProductView}get checkIfDisabled(){return this.tmiProductsView&&this.sessionService.isTmiProductsAvailable&&!(this.checkOptOutTmi||this.sessionService.tmiProductConsent)}get checkOptOutTmi(){var t;return null===(t=this.sessionService)||void 0===t?void 0:t.optOutTmi}tmiProductSelected(t){t&&this.utilityService.appendScriptForConsent()}showTmiOabFormView(){this.sessionService.tmiProductView=!1}get payOnlineDisabled(){return this.tmiProductsView&&!(this.checkOptOutTmi||this.sessionService.tmiProductConsent)}loadTmiMasterData(){var t;return(0,v.mG)(this,void 0,void 0,function*(){const n=(null===(t=this.sessionService.applicationConfiguration)||void 0===t?void 0:t.tmiPartnerCode)||"",l=yield this.commonService.loadMasterTmiData("lift",n);l&&null===(null==l?void 0:l.error)&&(this.tmiConfig=l)})}oabSubmit(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t=yield this.InitiateCreateTMIPolicy();!t.error&&null===t.error&&(yield this.proceedToPayment())}catch(t){throw t}})}InitiateCreateTMIPolicy(){var t,o,n,l,c;return(0,v.mG)(this,void 0,void 0,function*(){try{const d=null===(o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationDetailValue)||void 0===o?void 0:o.applicantList,_=null===(n=this.sessionService)||void 0===n?void 0:n.tmiDetails;_.startDate=this.utilityService.convertJSONInDate(null==_?void 0:_.startdate);const f=null===(l=this.sessionService)||void 0===l?void 0:l.tmiVas,h=this.sessionService.tmiInsuredPerson,T=[];d.forEach(U=>{T.push({arn:U.arn,firstName:null==U?void 0:U.firstName,lastName:null==U?void 0:U.lastName,age:null==U?void 0:U.age,dateOfBirth:this.utilityService.convertJSONInDate(null==U?void 0:U.dateOfBirth),emailId:null==U?void 0:U.emailId,dialCode:null==U?void 0:U.dialCode,contactNumber:null==U?void 0:U.contactNumber})});const I=d.map(U=>Object({addressLine1:U.addressline1,addressLine2:U.addressline2,postalCode:U.pincode,city:U.city,state:U.state,country:U.state,district:U.state})),S={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:"TMIOAB Center",loginUser:this.sessionService.getLoggedEmail(),URN:this.sessionService.urn,amount:String(null===(c=f[0])||void 0===c?void 0:c.amount),productId:f[0].productId,subProductId:f[0].subProductId||"",companyName:f[0].companyName,productName:f[0].productName,applicants:T,insuranceTravelDetails:{coverageLevel:null==_?void 0:_.coveragelevel,coverageType:null==_?void 0:_.coveragetype,startDate:this.utilityService.convertJSONInDate(null==_?void 0:_.startdate),endDate:this.utilityService.convertJSONInDate(null==_?void 0:_.enddate),firstCountryOfEntry:null==_?void 0:_.countryofentry,isRequiredExtraSports:!!(null==_?void 0:_.extremesports)&&JSON.parse(null==_?void 0:_.extremesports)},productHolderAddress:I[0]};return this.tmiConfig.isInsuredPersonRequired&&(S.insuranceTravelDetails.insuredFirstName=h.firstName,S.insuranceTravelDetails.insuredLastName=h.lastName,S.insuranceTravelDetails.insuredDateOfBirth=this.utilityService.convertJSONInDate(h.dateOfBirth)),yield this.httpService.payloadPost(p.gT.api.createPolicy,S).toPromise().then(U=>U).catch(U=>U)}catch(d){throw d}})}proceedToPayment(){var t,o,n,l;return(0,v.mG)(this,void 0,void 0,function*(){try{const c=this.sessionService.paymentDetails;let d=null;null===(t=this.sessionService.applicantService)||void 0===t||t.find(R=>"TMIPS"===R.code);const f=this.sessionService.tmiVas[0],h=f.amount;d={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:"TMIOAB Center",loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.urn,paymentdetails:{paymentmode:"Online",RequestRefNo:c&&c.requestrefno?c.requestrefno.toString():"",clientId:"",merchantId:"",amount:h,currency:this.sessionService.currencyCode,SplitPay:[{SplitAmount:f?null==f?void 0:f.amount:0,SubMerchantId:"43712-1"}]}};const T=p.gT.api.paymentInitiate,I=yield this.httpService.payloadPost(T,d,"Schedule").toPromise().catch(R=>{throw R}).then(R=>R);(null===(o=this.sessionService)||void 0===o?void 0:o.resourceGroupDataTemp)||(this.sessionService.resourceGroupDataTemp=null===(n=this.sessionService)||void 0===n?void 0:n.resourceGroupData);const S=this.utilityService.convertKeystoLowercase(I);if(!S.error&&(null==S?void 0:S.ispaymentrequired)&&S.url){this.sessionService.paymentDetails=S,this.sessionService.paymentData=null==d?void 0:d.paymentdetails;const R=`${S.url}?RequestRefNo=${S.requestrefno}&Currency=${this.sessionService.currencyCode}&Culture=en-US&Amount=${h}&DigitalSignature=${S.digitalsignature}&RedirectURL=`;window.open(R,"_self")}else{document.body.scrollTop=document.documentElement.scrollTop=0;const R=null===(l=null==S?void 0:S.error)||void 0===l?void 0:l.description,U=R.match(/\[([^)]+)\]/);let ie;U&&(ie=U[1]),this.proceedFailMsg=R.replace("["+ie+"]"),setTimeout(()=>{this.proceedFailMsg=""},5e3)}}catch(c){this.logger.error(c)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-travel-medical-insurance"]],viewQuery:function(t,o){if(1&t&&e.Gf(hv,5),2&t){let n;e.iGM(n=e.CRH())&&(o.changeAppointmentModal=n.first)}},features:[e.qOj],decls:11,vars:4,consts:[[1,"container","py-15","py-md-30"],["class","form-card",4,"ngIf"],["class","form-card p-0 border-0 shadow-none mat-card",4,"ngIf"],["viewChangeAppointmentModal",""],["continueBtn",""],["submitBtn",""],[1,"form-card"],["tmiFormView",""],[4,"ngIf","ngIfElse"],[1,"fs-24","fs-sm-32","fs-md-42","mb-20"],[1,"c-brand-grey-para","mb-40"],[3,"tmiProductSelected"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],["class","row",4,"ngIf"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[4,"ngTemplateOutlet"],[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],["matDialogClose","false",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999"],["alt","","aria-label","Close",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"col-12","col-sm-6","col-sm"],["mat-stroked-button","","matDialogClose","false",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0"],["mat-stroked-button","","matDialogClose","true",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mb-10","mb-sm-0"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"disabled","click"],["action","","method","post",1,"ot-form-consent",3,"ngSubmit"],["type","email","id","inputEmail","required","",1,"ot-form-control","d-none",3,"value"],["value","The personal details provided by all persons on this form may be shared with VFS' Insurance partners","checked","true","type","checkbox",1,"d-none"],["type","submit","id","trigger","mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0),e.YNc(1,Cv,4,2,"mat-card",1),e.YNc(2,Sv,4,2,"mat-card",1),e.YNc(3,Lv,2,1,"mat-card",2),e.YNc(4,Zv,8,4,"mat-card",2),e.qZA(),e.YNc(5,Nv,21,13,"ng-template",null,3,e.W1O),e.YNc(7,Dv,3,4,"ng-template",null,4,e.W1O),e.YNc(9,Ov,6,6,"ng-template",null,5,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",!o.isTmiOabEnable),e.xp6(1),e.Q6J("ngIf",o.isTmiOabEnable),e.xp6(1),e.Q6J("ngIf",o.isTmiOabEnable),e.xp6(1),e.Q6J("ngIf",!o.isTmiOabEnable))},directives:[w.O5,X.a8,n_,S_,Bf,vv,V.lW,w.tP,oe.ZT,r._Y,r.JL,r.F],pipes:[D.X$],encapsulation:2}),i})();var vt=A(520);function kv(i,s){1&i&&(e.TgZ(0,"div",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"updatecategory.messages.errorMessages.message1")," "))}function wv(i,s){if(1&i&&(e.TgZ(0,"div",17),e.YNc(1,kv,3,3,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategory||null==t.formGroup.controls.visaCategory.errors?null:t.formGroup.controls.visaCategory.errors.required)}}function Fv(i,s){if(1&i&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function Mv(i,s){1&i&&(e.TgZ(0,"div",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"updatecategory.messages.errorMessages.message2")," "))}function Pv(i,s){if(1&i&&(e.TgZ(0,"div",17),e.YNc(1,Mv,3,3,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.subVisaCategory||null==t.formGroup.controls.subVisaCategory.errors?null:t.formGroup.controls.subVisaCategory.errors.required)}}function Uv(i,s){if(1&i&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}const dn=function(i){return{"form-error":i}};let qv=(()=>{class i extends Ze.o{constructor(t,o,n){super(),this.fb=t,this.sessionService=o,this.http=n,this.visaTypes=[],this.visaCategories=[],this.applicationDetail={}}ngOnInit(){this.applicationDetail=this.sessionService.applicationDetailValue,this.initFormGroup(),this.getCategories()}initFormGroup(){this.formGroup=this.fb.group({visaCategory:["",r.kI.required],subVisaCategory:["",r.kI.required]})}submitForm(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t=this.applicationDetail,n={missionCode:t.missionCode,countryCode:t.countryCode,centerCode:t.centerCode,loginUser:t.loginUser,visaCategoryCode:this.formGroup.value.subVisaCategory,urn:this.sessionService.urn},l=yield this.httpService.payloadPost(p.gT.api.updateApplicant,n).toPromise().then(c=>c).catch(c=>c);1==(null==l?void 0:l.IsUpdatedWaitlistVisa)&&this.commonService.routeToDashboard()}catch(t){this.logger.error(t)}})}getCategories(){var t;return(0,v.mG)(this,void 0,void 0,function*(){this.visaTypes=[],this.visaCategories=[];const o=null===(t=this.applicationDetail)||void 0===t?void 0:t.centerCode,n=yield this.commonService.getVisaCategories(o);n&&(this.visaTypes=n.filter(l=>!0===(null==l?void 0:l.iswaitlist)))})}appointmentCatgoryChange(t){return(0,v.mG)(this,void 0,void 0,function*(){this.visaCategories=[];const o=this.applicationDetail.centerCode;let n=t.value;const l=yield this.commonService.getSubVisaCategories(o,n);l&&(this.visaCategories=l.filter(c=>!0===(null==c?void 0:c.iswaitlist)))})}get disableButton(){return this.formGroup.invalid}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(et.m),e.Y36(vt.eN))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-update-category"]],features:[e.qOj],decls:47,vars:51,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"c-brand-grey","mb-5"],[1,"fs-24","fs-sm-46","mb-25"],[1,"c-brand-grey-para","mb-30"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["formControlName","visaCategory","appDefaultSelect","",3,"placeholder","options","valueKey","selectionChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","subVisaCategory","appDefaultSelect","",3,"placeholder","options","valueKey"],[1,"border-info","mb-0",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],["type","button","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"form")(2,"mat-card",1)(3,"p",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"h1",3),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"p",4),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"form",5)(13,"div",6)(14,"div"),e._uU(15),e.ALo(16,"translate"),e.TgZ(17,"span",7),e._uU(18,"*"),e.qZA()(),e.YNc(19,wv,2,1,"div",8),e.TgZ(20,"mat-form-field",9)(21,"mat-select",10),e.NdJ("selectionChange",function(l){return o.appointmentCatgoryChange(l)}),e.ALo(22,"translate"),e.YNc(23,Fv,2,2,"mat-option",11),e.ALo(24,"sortBy"),e.qZA()()(),e._UZ(25,"hr"),e.TgZ(26,"div",6)(27,"div"),e._uU(28),e.ALo(29,"translate"),e.TgZ(30,"span",7),e._uU(31,"*"),e.qZA()(),e.YNc(32,Pv,2,1,"div",8),e.TgZ(33,"mat-form-field",9)(34,"mat-select",12),e.ALo(35,"translate"),e.YNc(36,Uv,2,2,"mat-option",11),e.ALo(37,"sortBy"),e.qZA()()(),e._UZ(38,"hr"),e.TgZ(39,"div",13)(40,"div",14),e._uU(41),e.ALo(42,"translate"),e.qZA()()()(),e.TgZ(43,"mat-card",15)(44,"button",16),e.NdJ("click",function(){return o.submitForm()}),e._uU(45),e.ALo(46,"translate"),e.qZA()()()()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,23,"updatecategory.pageDetails.para1")),e.xp6(3),e.Oqu(e.lcZ(8,25,"updatecategory.headerLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(11,27,"updatecategory.pageDetails.para2")),e.xp6(2),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("ngClass",e.VKq(47,dn,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.visaCategory?null:o.formGroup.controls.visaCategory.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.visaCategory?null:o.formGroup.controls.visaCategory.invalid))),e.xp6(2),e.Oqu(e.lcZ(16,29,"updatecategory.formLabel.label1")),e.xp6(4),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.visaCategory?null:o.formGroup.controls.visaCategory.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.visaCategory?null:o.formGroup.controls.visaCategory.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(22,31,"updatecategory.placeholder.label1")),e.Q6J("options",o.visaTypes)("valueKey","code"),e.xp6(2),e.Q6J("ngForOf",e.xi3(24,33,o.visaTypes,"name"))("ngForTrackBy",o.trackByFn),e.xp6(3),e.Q6J("ngClass",e.VKq(49,dn,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.subVisaCategory?null:o.formGroup.controls.subVisaCategory.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.subVisaCategory?null:o.formGroup.controls.subVisaCategory.invalid))),e.xp6(2),e.Oqu(e.lcZ(29,36,"updatecategory.formLabel.label2")),e.xp6(4),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.subVisaCategory?null:o.formGroup.controls.subVisaCategory.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.subVisaCategory?null:o.formGroup.controls.subVisaCategory.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(35,38,"updatecategory.placeholder.label2")),e.Q6J("options",o.visaCategories)("valueKey","code"),e.xp6(2),e.Q6J("ngForOf",e.xi3(37,40,o.visaCategories,"name"))("ngForTrackBy",o.trackByFn),e.xp6(5),e.hij(" ",e.lcZ(42,43,"updatecategory.pageDetails.para3")," "),e.xp6(3),e.Q6J("disabled",o.disableButton),e.xp6(1),e.hij(" ",e.lcZ(46,45,"commonSections.buttons.button36")," "))},directives:[r._Y,r.JL,r.F,X.a8,r.sg,w.mk,w.O5,q.KE,ae.gD,r.JJ,r.u,ce,w.sg,te.ey,V.lW],pipes:[D.X$,ue.Uw],encapsulation:2}),i})();function Gv(i,s){1&i&&(e.TgZ(0,"div",18)(1,"div",19),e._UZ(2,"i",20),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"resendemailactivation.messages.successMessages.message1")))}function Vv(i,s){if(1&i&&(e.TgZ(0,"div",21)(1,"div",19),e._UZ(2,"i",20),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,1,t.errorMessage))}}const Rv=function(i,s){return{limit:i,activationTimeOut:s}};function Jv(i,s){if(1&i&&(e.TgZ(0,"div",21)(1,"div",22),e._UZ(2,"i",20),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.xi3(5,1,"resendemailactivation.messages.errorMessages.message1",e.WLB(4,Rv,t.errorDescription[0],t.errorDescription[1])))}}function Yv(i,s){1&i&&(e.TgZ(0,"div",25),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function Qv(i,s){1&i&&(e.TgZ(0,"div",25),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message1")," "))}function Bv(i,s){if(1&i&&(e.TgZ(0,"div",23),e.YNc(1,Yv,3,3,"div",24),e.YNc(2,Qv,3,3,"div",24),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.resendF.emailid.errors.required),e.xp6(1),e.Q6J("ngIf",t.resendF.emailid.errors.pattern)}}const jv=function(i){return{"form-error":i}};let pn=(()=>{class i extends a.e{constructor(t,o){super(),this.formBuilder=t,this.sessionService=o,this.message=!1,this.submitAttempt=!1,this.isErrorMessage=!1,this.errorMessage="",this.errorDescription=[]}ngOnInit(){this.intitForgotForm()}intitForgotForm(){this.resendEmailForm=this.formBuilder.group({emailid:["",[r.kI.pattern(p.Wg.email_caps_allowed),r.kI.required]],missioncode:[this.sessionService.tenent,r.kI.required],countrycode:[this.sessionService.countryCode,r.kI.required],languageCode:this.sessionService.appLanguageCode,url:[`${re.N.activateLink}${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/activateemail?q=`]})}get resendF(){var t;return null===(t=this.resendEmailForm)||void 0===t?void 0:t.controls}routeToSignUp(){this.commonService.routeToOnBoarding()}onSubmit(){return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.submitAttempt=!0,this.resendEmailForm.invalid)return;const t=this.resendEmailForm.value;t.cultureCode=this.sessionService.appCultureCode;const o=yield this.httpService.payloadWithoutTokenPost(p.gT.api.resendEmailActivation,t).toPromise();o.error&&"1022"===o.error.code&&(this.errorDescription=o.error.description.split(","),this.isErrorMessage=!0,setTimeout(()=>{this.isErrorMessage=!1},5e3)),o.error&&"1022"!==o.error.code?(this.errorMessage=this.commonService.translateValue("commonSections.messages.statusMessages."+o.error.code),setTimeout(()=>{this.errorMessage=""},5e3)):"200"===o.code&&(this.message=!0,setTimeout(()=>{this.message=!1},5e3))}catch(t){}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(et.m))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-resend-email-activate"]],features:[e.qOj],decls:32,vars:26,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"d-none","d-block"],[1,"fs-21","fs-sm-24","mb-10"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],["class","border-info","style","border-left: 5px solid",4,"ngIf"],["class","border-danger","style","border-left: 5px solid",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","formControlName","emailid","type","text","autocomplete","off",3,"placeholder"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange"],[1,"fs-sm-18","mt-20"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"div",4)(5,"h1",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p",6),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,Gv,6,3,"div",7),e.YNc(12,Vv,6,3,"div",8),e.YNc(13,Jv,6,7,"div",8),e.TgZ(14,"form",9),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(15,"div",10)(16,"div"),e._uU(17),e.ALo(18,"translate"),e.TgZ(19,"span",11),e._uU(20,"*"),e.qZA()(),e.YNc(21,Bv,3,2,"div",12),e.TgZ(22,"mat-form-field",13),e._UZ(23,"input",14),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"button",15),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"div",16)(29,"a",17),e.NdJ("click",function(){return o.routeToSignUp()}),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()()()()()),2&t&&(e.xp6(6),e.Oqu(e.lcZ(7,12,"resendemailactivation.headerLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(10,14,"resendemailactivation.pageDetails.para1")),e.xp6(2),e.Q6J("ngIf",o.message),e.xp6(1),e.Q6J("ngIf",o.errorMessage),e.xp6(1),e.Q6J("ngIf",o.isErrorMessage),e.xp6(1),e.Q6J("formGroup",o.resendEmailForm),e.xp6(1),e.Q6J("ngClass",e.VKq(24,jv,o.resendF.emailid.touched&&o.resendF.emailid.invalid)),e.xp6(2),e.Oqu(e.lcZ(18,16,"resendemailactivation.formLabel.label1")),e.xp6(4),e.Q6J("ngIf",o.resendF.emailid.touched&&o.resendF.emailid.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(24,18,"commonSections.formLabel.label2")),e.xp6(3),e.hij(" ",e.lcZ(27,20,"resendemailactivation.buttons.button1")," "),e.xp6(4),e.Oqu(e.lcZ(31,22,"resendemailactivation.buttons.button2")))},directives:[X.a8,w.O5,r._Y,r.JL,r.sg,w.mk,q.KE,u.Nt,r.Fj,r.JJ,r.u,V.lW],pipes:[D.X$],encapsulation:2}),i})();function Hv(i,s){if(1&i&&(e.TgZ(0,"div",21),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"countdown",22,23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,2,"header.headerLabel.label17"),""),e.xp6(2),e.Q6J("config",t.config)}}function $v(i,s){1&i&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"polandTurkey.messages.errorMessages.message1")," "))}function Wv(i,s){if(1&i&&(e.TgZ(0,"div",24),e.YNc(1,$v,3,3,"div",25),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory||null==t.formGroup.controls.selectedSubvisaCategory.errors?null:t.formGroup.controls.selectedSubvisaCategory.errors.required)}}function Kv(i,s){if(1&i&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function zv(i,s){1&i&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"polandTurkey.messages.errorMessages.message2")," "))}function Xv(i,s){if(1&i&&(e.TgZ(0,"div",24),e.YNc(1,zv,3,3,"div",25),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.visaCategoryCode||null==t.formGroup.controls.visaCategoryCode.errors?null:t.formGroup.controls.visaCategoryCode.errors.required)}}function eh(i,s){if(1&i&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function th(i,s){if(1&i&&(e.TgZ(0,"h6",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.AsE(" ",null==t.vacCenters?null:t.vacCenters.length," ",e.lcZ(2,2,"polandTurkey.formLabel.label4")," ")}}function ih(i,s){1&i&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"polandTurkey.messages.errorMessages.message3")," "))}function oh(i,s){if(1&i&&(e.TgZ(0,"div",24),e.YNc(1,ih,3,3,"div",25),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode||null==t.formGroup.controls.centerCode.errors?null:t.formGroup.controls.centerCode.errors.required)}}function nh(i,s){1&i&&(e.TgZ(0,"div",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"polandTurkey.messages.errorMessages.message4")," "))}function ah(i,s){if(1&i&&(e.TgZ(0,"div",24),e.YNc(1,nh,3,3,"div",25),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.centersNotAvailable)}}function sh(i,s){if(1&i&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.isoCode),e.xp6(1),e.hij(" ",null==t?null:t.centerName," ")}}function lh(i,s){1&i&&(e.TgZ(0,"div",29)(1,"div",30),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"polandTurkey.formLabel.label5")," "))}function rh(i,s){if(1&i&&(e.TgZ(0,"div",29)(1,"div",30),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"date"),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.AsE(" ",e.lcZ(3,2,"polandTurkey.formLabel.label6")," : ",e.lcZ(4,4,t.latestAvailableDate)," ")}}function ch(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",31)(2,"div",32)(3,"div",33)(4,"div",34),e._UZ(5,"i",35),e.qZA(),e.TgZ(6,"div",36),e._uU(7),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw();e.xp6(7),e.Oqu(t.errorDescription)}}const uh=function(i){return{serviceFees:i}};function dh(i,s){if(1&i&&(e.TgZ(0,"div",29)(1,"div",37),e._UZ(2,"i",38),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.xi3(5,1,"polandTurkey.formLabel.label7",e.VKq(4,uh,t.serviceFees)))}}const co=function(i){return{"form-error":i}};let mn=(()=>{class i extends Ze.o{constructor(t,o,n){var l;super(),this.ngbCalendar=t,this.fb=o,this.httpService=n,this.environment=re.N,this.constants=p.gT,this.initBaseForm(p.gT.modules.ELIGIBILITY_CRITERIA),this.appointmentSlots=!1,this.centersNotAvailable=!1,this.visaTypes=[],this.visaCategories=[],this.vacCenters=[],this.latestAvailableDate=(null===(l=this.sessionService)||void 0===l?void 0:l.latestSlotAvailiable)||null,this.isServiceFees=!1,this.serviceFees=null}ngOnInit(){try{this.isPtFlow&&(this.timeLeft=String(600),this.start()),this.initFormGroup()}catch(t){this.logger.error(t)}}get isPtFlow(){var t,o;return this.utilityService.strictCompare(null===(t=this.sessionService.resourceGroupData)||void 0===t?void 0:t.isloginConcentRequired,"true")||this.utilityService.strictCompare(null===(o=this.sessionService.resourceGroupDataTemp)||void 0===o?void 0:o.isloginConcentRequired,"true")}start(){this.config={leftTime:this.timeLeft,format:"mm:ss",demand:!1},this.commonService.autoLogout(31535600)}initFormGroup(){var t;return(0,v.mG)(this,void 0,void 0,function*(){this.formGroup=this.fb.group({centerCode:[null,r.kI.required],selectedSubvisaCategory:[null,r.kI.required],visaCategoryCode:[null,r.kI.required]});const o=null===(t=this.sessionService)||void 0===t?void 0:t.eligibilityDetails;o?(yield this.loadVisaType(),this.formGroup.patchValue(o)):this.loadVisaType()})}loadVisaType(){var t;return(0,v.mG)(this,void 0,void 0,function*(){try{this.visaTypes=[],this.visaCategories=[],this.vacCenters=[],this.isServiceFees=!1;const o={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,cultureCode:this.sessionService.appCultureCode},n=yield this.getValue(p.gT.api.visaCategoryCodeWithoutCenter,o);return n.length>0&&(null===(null===(t=n[0])||void 0===t?void 0:t.error)||null===(null==n?void 0:n.error))&&(this.visaTypes=n),!0}catch(o){this.logger.error(o)}})}getValue(t,o){return this.httpService.slashParamsDoGet(t,o).toPromise()}appointmentCatgoryChange(t){var o,n,l;return(0,v.mG)(this,void 0,void 0,function*(){try{if(!t)return;this.vacCenters=[],this.visaCategories=[],this.sessionService.eligibilityDetails||(null===(o=this.formGroup.get("visaCategoryCode"))||void 0===o||o.reset(),null===(n=this.formGroup.get("centerCode"))||void 0===n||n.reset()),this.isServiceFees=!1,this.appointmentSlots=!1,this.serviceFees=null,this.latestAvailableDate=null;const c={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,visaCategoryCode:t,cultureCode:this.sessionService.appCultureCode},d=yield this.getValue(p.gT.api.subVisacategoryWithoutCenter,c);return d.length>0&&(null===(null===(l=d[0])||void 0===l?void 0:l.error)||null===(null==d?void 0:d.error))&&(this.visaCategories=d),!0}catch(c){this.logger.error(c)}})}visaSubCategoryChange(t){var o,n;return(0,v.mG)(this,void 0,void 0,function*(){try{if(!t)return;this.vacCenters=[],this.isServiceFees=!1,this.appointmentSlots=!1,this.serviceFees=null,this.latestAvailableDate=null;const l={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,visaCategoryCode:t,cultureCode:this.sessionService.appCultureCode},c=yield this.getValue(p.gT.api.centerWithSlots,l);return c.length>0&&(null===(null===(o=c[0])||void 0===o?void 0:o.error)||null===(null==c?void 0:c.error))?(this.centersNotAvailable=!1,this.vacCenters=c,this.sessionService.eligibilityDetails||null===(n=this.formGroup.get("centerCode"))||void 0===n||n.reset()):this.centersNotAvailable=!0,!0}catch(l){console.log(l)}})}centerCodeChange(t){var o;return(0,v.mG)(this,void 0,void 0,function*(){try{if(!t)return;this.isServiceFees=!1,this.appointmentSlots=!1,this.serviceFees=null,this.latestAvailableDate=null;const n=yield this.getServiceFees(t);if(!n)return;yield this.checkSlotAvailability(),this.sessionService.eligibilityDetails=null,(null==n?void 0:n.error)||1100==(null===(o=null==n?void 0:n.error)||void 0===o?void 0:o.code)?this.isServiceFees=!1:(this.fees=n,this.serviceFees=(null==n?void 0:n.currency)+" "+(null==n?void 0:n.amount),this.isServiceFees=!0)}catch(n){console.log(n)}})}checkSlotAvailability(){var t,o,n;return(0,v.mG)(this,void 0,void 0,function*(){try{if(!(null===(t=this.formGroup.get("visaCategoryCode"))||void 0===t?void 0:t.value))return;const l=null===(o=this.formGroup.get("visaCategoryCode"))||void 0===o?void 0:o.value;this.appointmentSlots=!1;const c={centerCode:this.formGroup.value.centerCode,SubVisaCategory:l||(null===(n=this.sessionService.eligibilityDetails)||void 0===n?void 0:n.visaCategoryCode),roleName:this.sessionService.loginResponse},{earliestDate:d}=(yield this.commonService.checkIfSlotAvailiable(c))||{};if(this.latestAvailableDate=d?this.utilityService.momentInstance(d,"MM/DD/YYYY").format("DD/MM/YYYY"):null,this.sessionService.latestSlotAvailiable=this.latestAvailableDate||"",this.appointmentSlots=!0,this.latestAvailableDate){const _=ft()(this.latestAvailableDate,"DD/MM/YYYY");this.latestAvailableDate=_.toDate()}else this.slotsNotAvailable=!0,setTimeout(()=>{this.slotsNotAvailable=!1},5e3)}catch(l){throw new Error(`${p.Sg.INVALID_REGISTRATION_RESPONSE}: ${l}`)}})}getServiceFees(t){var o,n;return(0,v.mG)(this,void 0,void 0,function*(){try{const l=null===(o=this.formGroup.get("visaCategoryCode"))||void 0===o?void 0:o.value,c=this.sessionService.applicationDetailValue,d={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:t,loginUser:this.sessionService.getLoggedEmail(),subVisaCategoryCode:l||(null===(n=this.sessionService.eligibilityDetails)||void 0===n?void 0:n.visaCategoryCode),urn:null,nationalityCode:c.applicantList[0].nationalityCode,applicantCount:1};return yield this.httpService.payloadPost(p.gT.api.serviceFeeswithoutUrn,d).toPromise()}catch(l){console.log(l)}})}updateUrnAndArn(t,o){try{const n=Object.assign({},t);if(!o.hasOwnProperty("applicantList"))throw new Error("error: invalid_data_passed");let l=0;for(const c of o.applicantList){const d=n.applicantList;d.length>1&&(d[l].arn=c.arn,d[l].urn=o.urn,this.sessionService.urn=o.urn,l++),1===d.length&&(d[0].arn=c.arn,d[0].urn=o.urn,this.sessionService.urn=o.urn)}return n}catch(n){throw n}}initApplicationDetails(){return{feeExemptionDetailsCode:null,feeEntryTypeCode:null,feeExemptionTypeCode:null,countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.sessionService.getLoggedEmail()||"",visaCategoryCode:"",isEdit:!1,applicantList:[],languageCode:this.sessionService.appCultureCode}}getApplicationDetails(t){const o=this.initApplicationDetails();for(const n of Object.keys(t))o.hasOwnProperty(n)&&(o[n]=t[n]);return o}updateApplicationDetailsToSession(t){this.sessionService.applicationDetailValue=t}submitForm(){var t,o,n,l,c;return(0,v.mG)(this,void 0,void 0,function*(){try{const d=this.sessionService.applicationDetailValue;this.sessionService.centerCode=this.formGroup.value.centerCode,this.sessionService.visaSubCategory=this.formGroup.value.selectedSubvisaCategory,this.sessionService.setCurrApplicantVisaType(this.formGroup.value.visaCategoryCode);const _=this.getApplicationDetails(this.formGroup.value);_.applicantList=null==d?void 0:d.applicantList,this.sessionService.eligibilityDetails=this.formGroup.value;const f=_;(null===(t=null==f?void 0:f.applicantList[0])||void 0===t?void 0:t.urn)&&(f.isEdit=!0),this.sessionService.applicationDetailValue=f;const h=yield this.httpService.payloadPost(p.gT.api.applicant,f).toPromise();if(null===(null==h?void 0:h.error)){this.sessionService.setCurrencyCode=(null===(o=this.fees)||void 0===o?void 0:o.currency)||null,this.isServiceFees&&this.updateFeeAmount(Number(null===(n=this.fees)||void 0===n?void 0:n.amount));const T=this.updateUrnAndArn(f,h);this.updateApplicationDetailsToSession(T),this.routeNext()}else if(h.hasOwnProperty("error")&&(null===(l=h.error)||void 0===l?void 0:l.code)){let T=h.error.description;1037===(null===(c=h.error)||void 0===c?void 0:c.code)&&(this.subs.sink=this.translateService.get("applicantInformation.messages.infoMessages.message2").subscribe(I=>T=I)),this.errorDescription=T,setTimeout(()=>{this.errorDescription=null},5e3)}}catch(d){console.log(d)}})}updateFeeAmount(t){this.utilityService.updateTotalFees(t),this.sessionService.feeAmount=t}get disableButton(){return this.formGroup.invalid}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(J.vL),e.Y36(r.qu),e.Y36(Ve.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-application-details"]],features:[e.qOj],decls:63,vars:66,consts:[[1,"container","py-15","py-md-30"],["class","form-card timer-css text-right border-0 mb-5",4,"ngIf"],[1,"form-card"],[1,"c-brand-grey","mb-5"],[1,"fs-24","fs-sm-46","mb-25"],[1,"c-brand-grey-para","mb-30"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["formControlName","selectedSubvisaCategory",3,"placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","visaCategoryCode",3,"placeholder","ngModelChange"],[1,"mt-15"],["class","d-inline pull-right text-right",4,"ngIf"],["formControlName","centerCode",3,"placeholder","ngModelChange"],["class","border-info mb-0","style","border-left: 5px solid",4,"ngIf"],[4,"ngIf"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],["type","button","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"form-card","timer-css","text-right","border-0","mb-5"],[3,"config"],["cd",""],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"value"],[1,"d-inline","pull-right","text-right"],[1,"border-info","mb-0",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0"],[1,"alert-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-times-circle","fs-24","mb-0"],[1,"col"],[1,"alert","alert-info","border-0","pl-50","rounded-0"],[1,"fa","fa-check-circle-o","fs-24","left-15","position-absolute","top-18"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0),e.YNc(1,Hv,5,4,"div",1),e.TgZ(2,"form")(3,"mat-card",2)(4,"p",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"h1",4),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p",5),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"form",6)(14,"div",7)(15,"div"),e._uU(16),e.ALo(17,"translate"),e.TgZ(18,"span",8),e._uU(19,"*"),e.qZA()(),e.YNc(20,Wv,2,1,"div",9),e.TgZ(21,"mat-form-field",10)(22,"mat-select",11),e.NdJ("ngModelChange",function(l){return o.appointmentCatgoryChange(l)}),e.ALo(23,"translate"),e.YNc(24,Kv,2,2,"mat-option",12),e.ALo(25,"sortBy"),e.qZA()()(),e._UZ(26,"hr"),e.TgZ(27,"div",7)(28,"div"),e._uU(29),e.ALo(30,"translate"),e.TgZ(31,"span",8),e._uU(32,"*"),e.qZA()(),e.YNc(33,Xv,2,1,"div",9),e.TgZ(34,"mat-form-field",10)(35,"mat-select",13),e.NdJ("ngModelChange",function(l){return o.visaSubCategoryChange(l)}),e.ALo(36,"translate"),e.YNc(37,eh,2,2,"mat-option",12),e.ALo(38,"sortBy"),e.qZA()()(),e._UZ(39,"hr"),e.TgZ(40,"div",7)(41,"div",14),e._uU(42),e.ALo(43,"translate"),e.TgZ(44,"span",8),e._uU(45,"*"),e.qZA(),e.YNc(46,th,3,4,"h6",15),e.qZA(),e.YNc(47,oh,2,1,"div",9),e.YNc(48,ah,2,1,"div",9),e.TgZ(49,"mat-form-field",10)(50,"mat-select",16),e.NdJ("ngModelChange",function(l){return o.centerCodeChange(l)}),e.ALo(51,"translate"),e.YNc(52,sh,2,2,"mat-option",12),e.ALo(53,"sortBy"),e.qZA()()(),e._UZ(54,"hr"),e.YNc(55,lh,4,3,"div",17),e.YNc(56,rh,5,6,"div",17),e.YNc(57,ch,8,1,"ng-container",18),e.YNc(58,dh,6,6,"div",17),e.qZA()(),e.TgZ(59,"mat-card",19)(60,"button",20),e.NdJ("click",function(){return o.submitForm()}),e._uU(61),e.ALo(62,"translate"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isPtFlow),e.xp6(4),e.Oqu(e.lcZ(6,31,"polandTurkey.pageDetails.para1")),e.xp6(3),e.Oqu(e.lcZ(9,33,"polandTurkey.headerLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(12,35,"polandTurkey.pageDetails.para2")),e.xp6(2),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("ngClass",e.VKq(60,co,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.selectedSubvisaCategory?null:o.formGroup.controls.selectedSubvisaCategory.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.selectedSubvisaCategory?null:o.formGroup.controls.selectedSubvisaCategory.invalid))),e.xp6(2),e.Oqu(e.lcZ(17,37,"polandTurkey.formLabel.label1")),e.xp6(4),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.selectedSubvisaCategory?null:o.formGroup.controls.selectedSubvisaCategory.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.selectedSubvisaCategory?null:o.formGroup.controls.selectedSubvisaCategory.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(23,39,"polandTurkey.placeholder.label1")),e.xp6(2),e.Q6J("ngForOf",e.xi3(25,41,o.visaTypes,"name"))("ngForTrackBy",o.trackByFn),e.xp6(3),e.Q6J("ngClass",e.VKq(62,co,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.visaCategoryCode?null:o.formGroup.controls.visaCategoryCode.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.visaCategoryCode?null:o.formGroup.controls.visaCategoryCode.invalid))),e.xp6(2),e.Oqu(e.lcZ(30,44,"polandTurkey.formLabel.label2")),e.xp6(4),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.visaCategoryCode?null:o.formGroup.controls.visaCategoryCode.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.visaCategoryCode?null:o.formGroup.controls.visaCategoryCode.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(36,46,"polandTurkey.placeholder.label2")),e.xp6(2),e.Q6J("ngForOf",e.xi3(38,48,o.visaCategories,"name"))("ngForTrackBy",o.trackByFn),e.xp6(3),e.Q6J("ngClass",e.VKq(64,co,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.centerCode?null:o.formGroup.controls.centerCode.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.centerCode?null:o.formGroup.controls.centerCode.invalid)||o.centersNotAvailable)),e.xp6(2),e.hij(" ",e.lcZ(43,51,"polandTurkey.formLabel.label3"),""),e.xp6(4),e.Q6J("ngIf",null==o.vacCenters?null:o.vacCenters.length),e.xp6(1),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.centerCode?null:o.formGroup.controls.centerCode.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.centerCode?null:o.formGroup.controls.centerCode.errors)&&!o.centersNotAvailable),e.xp6(1),e.Q6J("ngIf",o.centersNotAvailable),e.xp6(2),e.s9C("placeholder",e.lcZ(51,53,"polandTurkey.placeholder.label3")),e.xp6(2),e.Q6J("ngForOf",e.xi3(53,55,o.vacCenters,"centerName"))("ngForTrackBy",o.trackByFn),e.xp6(3),e.Q6J("ngIf",o.slotsNotAvailable),e.xp6(1),e.Q6J("ngIf",(null==o.formGroup?null:o.formGroup.valid)&&o.appointmentSlots&&o.latestAvailableDate),e.xp6(1),e.Q6J("ngIf",o.errorDescription),e.xp6(1),e.Q6J("ngIf",(null==o.formGroup?null:o.formGroup.valid)&&o.isServiceFees),e.xp6(2),e.Q6J("disabled",o.disableButton),e.xp6(1),e.hij(" ",e.lcZ(62,58,"commonSections.buttons.button19")," "))},directives:[w.O5,wt.MR,r._Y,r.JL,r.F,X.a8,r.sg,w.mk,q.KE,ae.gD,r.JJ,r.u,w.sg,te.ey,V.lW],pipes:[D.X$,ue.Uw,w.uU],encapsulation:2}),i})();const ph=["viewChangeAppointmentModal"];function mh(i,s){if(1&i&&e._UZ(0,"i",44),2&i){const t=e.oxw().$implicit;e.s9C("matTooltip",null==t?null:t.tooltipDescription)}}function gh(i,s){1&i&&(e.TgZ(0,"td",40)(1,"i",45),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"requestRefund.pageDetails.para20")))}function _h(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",40)(1,"mat-checkbox",47),e.NdJ("change",function(n){e.CHM(t);const l=e.oxw(2).$implicit;return e.oxw(3).selectionChange(n,l)}),e.qZA()()}}function fh(i,s){1&i&&(e.TgZ(0,"td",40)(1,"i",45),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"requestRefund.pageDetails.para22")," "))}function vh(i,s){if(1&i&&(e.YNc(0,_h,2,0,"td",46),e.YNc(1,fh,4,3,"td",46)),2&i){const t=e.oxw().$implicit;e.Q6J("ngIf",!t.isAssociatedWithAppointment&&!t.isMandatory&&t.amount>0&&t.isRefundApplicable),e.xp6(1),e.Q6J("ngIf",t.isAssociatedWithAppointment||t.isMandatory||!t.isRefundApplicable)}}function hh(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td",39),e._uU(2),e.YNc(3,mh,1,1,"i",41),e.qZA(),e.TgZ(4,"td",40),e._uU(5),e.ALo(6,"number"),e.qZA(),e.YNc(7,gh,4,3,"td",42),e.YNc(8,vh,2,2,"ng-template",null,43,e.W1O),e.qZA()),2&i){const t=s.$implicit,o=e.MAs(9),n=e.oxw(3);e.xp6(2),e.hij(" ",(null==t||null==t.contentful?null:t.contentful.heading)||t.name," "),e.xp6(1),e.Q6J("ngIf",null==t?null:t.tooltipDescription),e.xp6(2),e.AsE("",t.currency," ",e.xi3(6,6,t.amount,"1.2-2"),""),e.xp6(2),e.Q6J("ngIf",!t.isPackageAssociatedWithAppointment&&n.isRefundInitiated(t.code))("ngIfElse",o)}}function yh(i,s){if(1&i&&(e.TgZ(0,"div")(1,"p",35),e._uU(2),e.qZA(),e.TgZ(3,"div",36)(4,"table",37)(5,"tr",38)(6,"td",39),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"td",40),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"td",40),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.YNc(15,hh,10,9,"tr",14),e.qZA()()()),2&i){const t=s.$implicit,o=e.oxw(2);e.xp6(2),e.hij(" ",t.name," "),e.xp6(5),e.Oqu(e.lcZ(8,6,"requestRefund.formLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(11,8,"requestRefund.formLabel.label2")),e.xp6(3),e.Oqu(e.lcZ(14,10,"requestRefund.formLabel.label3")),e.xp6(2),e.Q6J("ngForOf",t.elements)("ngForTrackBy",o.trackByFn)}}function bh(i,s){1&i&&(e.ynx(0,48),e.TgZ(1,"span",49),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.BQk()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"requestRefund.pageDetails.para21")))}function Ch(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",3)(2,"div",4)(3,"a",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().returnToDashboard()}),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",6),e._uU(7,"\u2192"),e.qZA(),e.TgZ(8,"div",7),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"main")(12,"p",8),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"h1",9),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"p",8),e._uU(19),e.ALo(20,"translate"),e.TgZ(21,"a",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().navigateToRefundPolicy()}),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"h2",11),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"p",12),e._uU(30),e.ALo(31,"translate"),e.TgZ(32,"span",13),e._uU(33),e.ALo(34,"translate"),e.qZA(),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"p",12),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"p",12),e._uU(41),e.ALo(42,"translate"),e.TgZ(43,"span",13),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.YNc(48,yh,16,12,"div",14),e.TgZ(49,"div",15)(50,"table",16)(51,"tr",17)(52,"td",18),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"td",19),e._uU(56),e.ALo(57,"number"),e.qZA()()()(),e.TgZ(58,"div",20)(59,"div",21)(60,"div",22)(61,"div"),e._uU(62),e.ALo(63,"translate"),e.TgZ(64,"span",23),e._uU(65,"*"),e.qZA()(),e.TgZ(66,"mat-form-field",24),e._UZ(67,"textarea",25),e.qZA(),e.YNc(68,bh,4,3,"ng-container",26),e.qZA(),e.TgZ(69,"div",27)(70,"div",28)(71,"mat-checkbox",29),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().agreeToTermsAndCondition=n}),e.TgZ(72,"span",30),e._uU(73),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"a",31),e.NdJ("click",function(){return e.CHM(t),e.oxw().navigateToTermsAndConditions()}),e._uU(76),e.ALo(77,"translate"),e.qZA()()()(),e.TgZ(78,"div",20)(79,"div",32)(80,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().returnToDashboard()}),e._uU(81),e.ALo(82,"translate"),e.qZA()(),e.TgZ(83,"div",32)(84,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw().submitRequest()}),e._uU(85),e.ALo(86,"translate"),e.qZA()()()()()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,29,"requestRefund.formLabel.label7")," "),e.xp6(5),e.hij(" ",e.lcZ(10,31,"requestRefund.headerLabel.label1")," "),e.xp6(4),e.hij(" ",e.lcZ(14,33,"requestRefund.pageDetails.para1")," "),e.xp6(3),e.hij(" ",e.lcZ(17,35,"requestRefund.headerLabel.label1")," "),e.xp6(3),e.hij(" ",e.lcZ(20,37,"requestRefund.pageDetails.para2")," "),e.xp6(3),e.hij(" ",e.lcZ(23,39,"requestRefund.pageDetails.para3")," "),e.xp6(2),e.hij(" ",e.lcZ(25,41,"requestRefund.pageDetails.para4")," "),e.xp6(3),e.Oqu(e.lcZ(28,43,"requestRefund.headerLabel.label2")),e.xp6(3),e.hij(" ",e.lcZ(31,45,"requestRefund.pageDetails.para5")," "),e.xp6(3),e.hij(" ",e.lcZ(34,47,"requestRefund.pageDetails.para6")," "),e.xp6(2),e.hij(" ",e.lcZ(36,49,"requestRefund.pageDetails.para7")," "),e.xp6(3),e.Oqu(e.lcZ(39,51,"requestRefund.pageDetails.para8")),e.xp6(3),e.hij(" ",e.lcZ(42,53,"requestRefund.pageDetails.para9")," "),e.xp6(3),e.Oqu(e.lcZ(45,55,"requestRefund.pageDetails.para10")),e.xp6(2),e.hij(" ",e.lcZ(47,57,"requestRefund.pageDetails.para11")," "),e.xp6(2),e.Q6J("ngForOf",t.filteredVasByApplicant)("ngForTrackBy",t.trackByFn),e.xp6(5),e.Oqu(e.lcZ(54,59,"requestRefund.formLabel.label4")),e.xp6(3),e.AsE("",t.currency," ",e.xi3(57,61,t.totalAmount,"1.2-2"),""),e.xp6(6),e.Oqu(e.lcZ(63,64,"requestRefund.formLabel.label5")),e.xp6(5),e.Q6J("formControl",t.reasonForRefund),e.xp6(1),e.Q6J("ngIf",(t.reasonForRefund.invalid||!t.modifiedReason)&&(t.reasonForRefund.dirty||t.reasonForRefund.touched)),e.xp6(3),e.Q6J("ngModel",t.agreeToTermsAndCondition),e.xp6(2),e.Oqu(e.lcZ(74,66,"requestRefund.formLabel.label6")),e.xp6(3),e.hij(" ",e.lcZ(77,68,"reviewAndPayment.formLabel.label22")," "),e.xp6(5),e.hij(" ",e.lcZ(82,70,"requestRefund.buttons.button2")," "),e.xp6(3),e.Q6J("disabled",t.disableSubmit),e.xp6(1),e.hij(" ",e.lcZ(86,72,"requestRefund.buttons.button1")," ")}}function Ah(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td",39),e._uU(2),e.qZA(),e.TgZ(3,"td",40),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td",40)(7,"i",45),e._uU(8),e.ALo(9,"translate"),e.qZA()()()),2&i){const t=s.$implicit;e.xp6(2),e.Oqu((null==t||null==t.contentful?null:t.contentful.heading)||t.name),e.xp6(2),e.AsE("",t.currency," ",e.xi3(5,4,t.amount,"1.2-2"),""),e.xp6(4),e.Oqu(e.lcZ(9,7,"requestRefund.pageDetails.para20"))}}function Th(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"main")(2,"h1",50),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"p",12),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p",12),e._uU(9),e.ALo(10,"translate"),e.TgZ(11,"span",13),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._uU(14,". "),e.qZA(),e.TgZ(15,"p",12)(16,"span",13),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",36)(22,"table",37)(23,"tr",38)(24,"td",39),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"td",40),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"td",40),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e.YNc(33,Ah,10,9,"tr",14),e.TgZ(34,"tr",17)(35,"td",18),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"td",51),e._uU(39),e.ALo(40,"number"),e.qZA()()()(),e.TgZ(41,"div",52)(42,"div",53)(43,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().returnToDashboard()}),e._uU(44),e.ALo(45,"translate"),e.qZA()()()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,15,"requestRefund.headerLabel.label4")),e.xp6(3),e.Oqu(e.lcZ(7,17,"requestRefund.pageDetails.para15")),e.xp6(3),e.hij(" ",e.lcZ(10,19,"requestRefund.pageDetails.para16")," "),e.xp6(3),e.hij(" ",e.lcZ(13,21,"requestRefund.pageDetails.para17")," "),e.xp6(5),e.Oqu(e.lcZ(18,23,"requestRefund.pageDetails.para18")),e.xp6(2),e.hij(" ",e.lcZ(20,25,"requestRefund.pageDetails.para19")," "),e.xp6(6),e.Oqu(e.lcZ(26,27,"requestRefund.formLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(29,29,"requestRefund.formLabel.label2")),e.xp6(3),e.Oqu(e.lcZ(32,31,"requestRefund.formLabel.label3")),e.xp6(2),e.Q6J("ngForOf",t.submittedServices)("ngForTrackBy",t.trackByFn),e.xp6(3),e.Oqu(e.lcZ(37,33,"requestRefund.formLabel.label4")),e.xp6(3),e.AsE("",t.currency," ",e.xi3(40,35,t.totalSubmittedAmount,"1.2-2"),""),e.xp6(5),e.hij(" ",e.lcZ(45,38,"requestRefund.buttons.button2")," ")}}function Sh(i,s){if(1&i&&(e.TgZ(0,"div",54)(1,"div",55)(2,"button",56),e._UZ(3,"img",57),e.qZA()(),e.TgZ(4,"h2",58),e._UZ(5,"i",59),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"hr",60),e.TgZ(9,"p",61),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",20)(13,"div",62)(14,"button",63),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",62)(18,"button",64),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(3),e.MGl("src","",t.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(3),e.hij(" ",e.lcZ(7,5,"commonSections.headerLabel.label3")," "),e.xp6(4),e.hij(" ",e.lcZ(11,7,"requestRefund.messages.infoMessages.message4")," "),e.xp6(5),e.hij(" ",e.lcZ(16,9,"commonSections.buttons.button3")," "),e.xp6(4),e.hij(" ",e.lcZ(20,11,"requestRefund.buttons.button3")," ")}}let xh=(()=>{class i extends a.e{constructor(t,o){super(),this.cd=t,this.dialog=o,this.optedVas=[],this.selectedSevices=[],this.submittedServices=[],this.totalSubmittedAmount=0,this.totalAmount=0,this.agreeToTermsAndCondition=!1,this.isRefundSubmitted=!1,this.reasonForRefund=new r.NI}ngOnInit(){this.totalAmount=0,this.agreeToTermsAndCondition=!1,this.onlinePurchaseDetails(),this.initApplication()}detechChange(){this.cd.detectChanges()}initApplication(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){try{this.reasonForRefund=new r.NI("",r.kI.required);const n=yield this.onlinePurchaseDetails();if(n){this.servicesPurchased=null==n?void 0:n.data;const _=[];for(let f=0;f<this.servicesPurchased.length;f++){const h=this.servicesPurchased[f],T=_.find(I=>I.urn===h.URN);T?T.elements.push(h):_.push({urn:h.URN,name:h.FirstName+" "+h.LastName,elements:[h]})}this.filteredVasByApplicant=_}else this.servicesPurchased=[];const l=yield this.loadServices(),c=yield this.modifyServices(this.servicesPurchased,l);c.length>0&&(this.servicesPurchased=c);const d=this.servicesPurchased;for(let _=0,f=null==d?void 0:d.length;_<f;_++){const h=yield this.appendToolTipText(d[_]);if(this.optedVas.push(h),null===(t=d[_])||void 0===t?void 0:t.isRefundInitiated){const T=yield this.appendToolTipText(d[_]);this.submittedServices.push(T)}}this.detechChange(),this.currency=null===(o=this.optedVas[0])||void 0===o?void 0:o.currency,this.totalSubmittedAmount=this.submittedServices.reduce((_,f)=>_+f.amount,0),this.detechChange()}catch(n){}})}appendToolTipText(t){var o,n,l,c;return(0,v.mG)(this,void 0,void 0,function*(){try{const d=JSON.parse(JSON.stringify(t));let _;return(null==d?void 0:d.isAssociatedWithAppointment)&&(p.uK.indexOf(null==d?void 0:d.code)>-1?_=yield this.utilityService.translationService(null===(o=null==p.R0?void 0:p.R0.requestRefund)||void 0===o?void 0:o.tooltip.PT):p.dF.indexOf(null==d?void 0:d.code)>-1?_=yield this.utilityService.translationService(null===(n=null==p.R0?void 0:p.R0.requestRefund)||void 0===n?void 0:n.tooltip.PL):p.ln.indexOf(null==d?void 0:d.code)>-1?_=yield this.utilityService.translationService(null===(l=null==p.R0?void 0:p.R0.requestRefund)||void 0===l?void 0:l.tooltip.PLA):p.Kb.indexOf(null==d?void 0:d.code)>-1&&(_=yield this.utilityService.translationService(null===(c=null==p.R0?void 0:p.R0.requestRefund)||void 0===c?void 0:c.tooltip.GPP)),_&&(d.tooltipDescription=_)),d}catch(d){throw d}})}isRefundInitiated(t){var o;return null===(o=(this.servicesPurchased.filter(l=>this.utilityService.strictCompare(l.code,t))||[])[0])||void 0===o?void 0:o.isRefundInitiated}selectionChange(t,o){try{!0===(null==t?void 0:t.checked)?(this.totalAmount=this.totalAmount+(null==o?void 0:o.amount),this.selectedSevices.push(o)):!1===(null==t?void 0:t.checked)&&(this.totalAmount=this.totalAmount-(null==o?void 0:o.amount),this.selectedSevices=this.selectedSevices.filter(n=>!this.utilityService.strictCompare(n.code,o.code)))}catch(n){}}get modifiedReason(){var t,o;return(null===(o=null===(t=this.reasonForRefund)||void 0===t?void 0:t.value)||void 0===o?void 0:o.trimStart()).length>0}get disableSubmit(){return this.totalAmount<=0||!this.modifiedReason||!this.agreeToTermsAndCondition}modifyServices(t,o){return(0,v.mG)(this,void 0,void 0,function*(){const n=[];return t.forEach(l=>{const c={isRefundInitiated:l.isRefundInitiated,transactionDate:l.transactionDate,transactionNumber:l.transactionNumber,isRefundApplicable:l.isRefundApplicable},d=o.filter(_=>this.utilityService.strictCompare(_.code,l.code));d.length>0&&(Object.assign(d[0],c),n.push(d[0]))}),n})}onlinePurchaseDetails(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.applicationDetailValue.vacCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.applicationDetailValue.arn};return yield this.httpService.payloadPost(p.gT.api.onlinePurchaseDetails,t).toPromise()}catch(t){throw t}})}loadServices(){return(0,v.mG)(this,void 0,void 0,function*(){try{return new vt.LE,yield this.commonService.loadServices(void 0)}catch(t){throw t}})}isDSACancellation(){var t;try{let o=!1;for(const n of this.selectedSevices)if((null===(t=n.includedVAS.filter(l=>l.code===p.Ci))||void 0===t?void 0:t.length)>0){o=!0;break}return o}catch(o){throw o}}cancelServices(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.applicationDetailValue.vacCode,loginUser:this.sessionService.getLoggedEmail(),urn:this.sessionService.applicationDetailValue.arn.split("/")[0],services:[],otherreason:this.reasonForRefund.value,totalamount:this.totalAmount};this.selectedSevices.forEach(n=>{this.submittedServices.push(n),this.totalSubmittedAmount=this.totalSubmittedAmount+n.amount,t.services.push({code:n.code,amount:n.amount,currency:n.currency,transactionNumber:null==n?void 0:n.transactionNumber,transactionDate:null==n?void 0:n.transactionDate,urn:n.URN})}),(yield this.httpService.payloadPost(p.gT.api.initiateRefund,t).toPromise()).error||(this.isRefundSubmitted=!0,this.cd.detectChanges())}catch(t){}})}submitRequest(){return(0,v.mG)(this,void 0,void 0,function*(){try{return void this.cancelServices()}catch(o){}})}returnToDashboard(){this.commonService.routeToDashboard()}navigateToRefundPolicy(){return(0,v.mG)(this,void 0,void 0,function*(){this.navigateToTermsAndConditions()})}navigateToTermsAndConditions(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t=this.utilityService.externalUrlAppend("termsandconditions");window.open(t,"_blank")}catch(t){}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(oe.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-refund"]],viewQuery:function(t,o){if(1&t&&e.Gf(ph,5),2&t){let n;e.iGM(n=e.CRH())&&(o.changeAppointmentModal=n.first)}},features:[e.qOj],decls:5,vars:2,consts:[[1,"container","py-15","py-md-30"],[4,"ngIf"],["viewChangeAppointmentModal",""],[1,"row","mb-30"],[1,"col-auto"],["href","javascript:void(0)",1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"col-auto","px-0"],[1,"col-12","col-sm","mt-5","mt-sm-0"],[1,"c-brand-grey-para","fs-16","fs-md-18"],[1,"fs-24","fs-sm-32","fs-md-42","mt-30","mb-15"],[1,"c-brand-orange","text-decoration-underline","cursor-pointer",3,"click"],[1,"fs-18","fs-sm-24","mt-30","mb-15"],[1,"fs-16","fs-md-18"],[1,"ff-700"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"table-responsive-sm"],[1,"table","mt-n1","my-30"],[1,"bg-brand-footer"],["colspan","2",1,"py-18","pl-md-30","ff-700"],[1,"py-18","text-right","text-success",2,"padding-right","9rem"],[1,"row"],[1,"col-12"],["aria-describedby","refundRequest*",1,"form-group"],[1,"c-brand-error"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","rows","6",3,"formControl"],["class","alert",4,"ngIf"],[1,"form-group","mt-20","mb-30"],[1,"pl-35"],[1,"mat-checkbox-brand","mat-checkbox-grey-bg","ml-n35",3,"ngModel","ngModelChange"],[1,"fs-sm-18","text-wrap","mr-5"],[1,"c-brand-orange","fs-sm-18","text-decoration-underline","text-nowrap","cursor-pointer",3,"click"],[1,"col-6"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"c-brand-grey-para","fs-24","fs-md-18","mt-30"],[1,"table-responsive-sm","border","border-bottom-2","rounded-5","my-30"],[1,"table","mt-n1","mb-0"],[1,"bg-brand-footer","ff-700"],[1,"py-18","pl-md-30"],[1,"py-18","text-center"],["class","brand-tooltip fa fa-info","matTooltipPosition","above",3,"matTooltip",4,"ngIf"],["class","py-18 text-center",4,"ngIf","ngIfElse"],["refundNotInitiated",""],["matTooltipPosition","above",1,"brand-tooltip","fa","fa-info",3,"matTooltip"],[1,"c-brand-grey-para"],["class","py-18 text-center",4,"ngIf"],[1,"mat-checkbox-brand","mat-checkbox-grey-bg",3,"change"],[1,"alert"],["id","refundRequest",1,"c-brand-error"],[1,"fs-24","fs-sm-32","fs-md-42","mb-20"],[1,"py-18","text-center","text-success"],[1,"row","justify-content-md-center"],[1,"col-12","col-md-9"],[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],["matDialogClose","false",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999"],["alt","","aria-label","Close",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21","mb-10"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],[1,"col-12","col-sm-6","col-sm"],["mat-stroked-button","","matDialogClose","false",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0"],["mat-stroked-button","","matDialogClose","true",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mb-10","mb-sm-0"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0),e.YNc(1,Ch,87,74,"ng-container",1),e.YNc(2,Th,46,40,"ng-container",1),e.qZA(),e.YNc(3,Sh,21,13,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",!o.isRefundSubmitted),e.xp6(1),e.Q6J("ngIf",o.isRefundSubmitted))},directives:[w.O5,w.sg,At.gM,le.oG,q.KE,u.Nt,r.Fj,r.JJ,r.oH,r.On,V.lW,oe.ZT],pipes:[D.X$,w.JJ],encapsulation:2,changeDetection:0}),i})();const Lh=["captchaContainer"];function Ih(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message1")," "))}function Zh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message2")," "))}function Nh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message12")," "))}function Dh(i,s){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Ih,3,3,"div",34),e.YNc(2,Zh,3,3,"div",34),e.YNc(3,Nh,3,3,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.address1||null==t.formGroup.controls.address1.errors?null:t.formGroup.controls.address1.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.address1?null:t.formGroup.controls.address1.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.address1?null:t.formGroup.controls.address1.hasError("pattern"))&&!(null!=t.formGroup&&null!=t.formGroup.controls&&null!=t.formGroup.controls.address1&&t.formGroup.controls.address1.hasError("maxlength")))}}function Oh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message3")," "))}function Eh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message12")," "))}function kh(i,s){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Oh,3,3,"div",34),e.YNc(2,Eh,3,3,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.address2?null:t.formGroup.controls.address2.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.address2?null:t.formGroup.controls.address2.hasError("pattern"))&&!(null!=t.formGroup&&null!=t.formGroup.controls&&null!=t.formGroup.controls.address2&&t.formGroup.controls.address2.hasError("maxlength")))}}function wh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message4")," "))}function Fh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message5")," "))}function Mh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message6")," "))}function Ph(i,s){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,wh,3,3,"div",34),e.YNc(2,Fh,3,3,"div",34),e.YNc(3,Mh,3,3,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.city||null==t.formGroup.controls.city.errors?null:t.formGroup.controls.city.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.city?null:t.formGroup.controls.city.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.city?null:t.formGroup.controls.city.hasError("pattern"))&&!(null!=t.formGroup&&null!=t.formGroup.controls&&null!=t.formGroup.controls.city&&t.formGroup.controls.city.hasError("maxlength")))}}function Uh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message7")," "))}function qh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message8")," "))}function Gh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message9")," "))}function Vh(i,s){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Uh,3,3,"div",34),e.YNc(2,qh,3,3,"div",34),e.YNc(3,Gh,3,3,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.state||null==t.formGroup.controls.state.errors?null:t.formGroup.controls.state.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.state?null:t.formGroup.controls.state.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.state?null:t.formGroup.controls.state.hasError("pattern"))&&!(null!=t.formGroup&&null!=t.formGroup.controls&&null!=t.formGroup.controls.state&&t.formGroup.controls.state.hasError("maxlength")))}}function Rh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message18")," "))}function Jh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message16")," "))}function Yh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message17")," "))}function Qh(i,s){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Rh,3,3,"div",34),e.YNc(2,Jh,3,3,"div",34),e.YNc(3,Yh,3,3,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.country||null==t.formGroup.controls.country.errors?null:t.formGroup.controls.country.errors.required),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.country?null:t.formGroup.controls.country.hasError("pattern"))&&!(null!=t.formGroup&&null!=t.formGroup.controls&&null!=t.formGroup.controls.country&&t.formGroup.controls.country.hasError("maxlength"))),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.country?null:t.formGroup.controls.country.hasError("maxlength"))}}function Bh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message15")," "))}function jh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message10")," "))}function Hh(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message11")," "))}function $h(i,s){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,Bh,3,3,"div",34),e.YNc(2,jh,3,3,"div",34),e.YNc(3,Hh,3,3,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.postalCode||null==t.formGroup.controls.postalCode.errors?null:t.formGroup.controls.postalCode.errors.required),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.postalCode?null:t.formGroup.controls.postalCode.hasError("pattern"))&&!(null!=t.formGroup&&null!=t.formGroup.controls&&null!=t.formGroup.controls.postalCode&&t.formGroup.controls.postalCode.hasError("maxlength"))),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.postalCode?null:t.formGroup.controls.postalCode.hasError("maxlength"))}}function Wh(i,s){1&i&&(e.TgZ(0,"div",39)(1,"div",35),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"commonSections.messages.requiredMessages.message1")," "))}function Kh(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-captcha-container",36,37),e.NdJ("v2CaptchaSet",function(n){return e.CHM(t),e.oxw(2).submitV2Captcha(n)}),e.qZA(),e.YNc(3,Wh,4,3,"div",38),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("action",t.constants.captcha_action.COURIER)("captchaType",t.currentCaptcha),e.xp6(2),e.Q6J("ngIf",t.currentCaptcha!==t.captchaVersionConst.default&&(null==t.formGroup.controls.captcha_api_key||null==t.formGroup.controls.captcha_api_key.errors?null:t.formGroup.controls.captcha_api_key.errors.required))}}const qt=function(i){return{"form-error":i}};function zh(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",16)(3,"div",17),e.YNc(4,Dh,4,3,"div",18),e.TgZ(5,"div"),e._uU(6),e.ALo(7,"translate"),e.TgZ(8,"span",19),e._uU(9,"* "),e._UZ(10,"span",20),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"mat-form-field",21),e._UZ(13,"input",22),e.ALo(14,"translate"),e.ALo(15,"translate"),e.ALo(16,"translate"),e.qZA()()()(),e.TgZ(17,"div",16)(18,"div",23),e.YNc(19,kh,3,2,"div",18),e.TgZ(20,"div"),e._uU(21),e.ALo(22,"translate"),e.TgZ(23,"mat-form-field",21),e._UZ(24,"input",24),e.ALo(25,"translate"),e.ALo(26,"translate"),e.ALo(27,"translate"),e.qZA()()()(),e.ynx(28),e.TgZ(29,"div",16)(30,"div",25),e.YNc(31,Ph,4,3,"div",18),e.TgZ(32,"div"),e._uU(33),e.ALo(34,"translate"),e.TgZ(35,"span",19),e._uU(36,"* "),e._UZ(37,"span",20),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"mat-form-field",21),e._UZ(40,"input",26),e.ALo(41,"translate"),e.ALo(42,"translate"),e.ALo(43,"translate"),e.qZA()()()(),e.TgZ(44,"div",16)(45,"div",27),e.YNc(46,Vh,4,3,"div",18),e.TgZ(47,"div"),e._uU(48),e.ALo(49,"translate"),e.TgZ(50,"span",19),e._uU(51,"* "),e._UZ(52,"span",20),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"mat-form-field",21),e._UZ(55,"input",28),e.ALo(56,"translate"),e.ALo(57,"translate"),e.ALo(58,"translate"),e.qZA()()()(),e.TgZ(59,"div",16)(60,"div",29),e.YNc(61,Qh,4,3,"div",18),e.TgZ(62,"div"),e._uU(63),e.ALo(64,"translate"),e.TgZ(65,"span",19),e._uU(66,"* "),e._UZ(67,"span",20),e.ALo(68,"translate"),e.qZA(),e.TgZ(69,"mat-form-field",21),e._UZ(70,"input",30),e.ALo(71,"translate"),e.ALo(72,"translate"),e.qZA()()()(),e.TgZ(73,"div",16)(74,"div",31),e.YNc(75,$h,4,3,"div",18),e.TgZ(76,"div"),e._uU(77),e.ALo(78,"translate"),e.TgZ(79,"span",19),e._uU(80,"* "),e._UZ(81,"span",20),e.ALo(82,"translate"),e.qZA(),e.TgZ(83,"mat-form-field",21),e._UZ(84,"input",32),e.ALo(85,"translate"),e.ALo(86,"translate"),e.ALo(87,"translate"),e.qZA()()()(),e.BQk(),e.YNc(88,Kh,4,3,"ng-container",8),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(97,qt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.address1?null:t.formGroup.controls.address1.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.address1?null:t.formGroup.controls.address1.invalid))),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.address1?null:t.formGroup.controls.address1.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.address1?null:t.formGroup.controls.address1.errors)),e.xp6(2),e.hij(" ",e.lcZ(7,41,"courierAddressDetails.formLabel.label1")," "),e.xp6(4),e.uIk("aria-label",e.lcZ(11,43,"commonSections.formLabel.label7")),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(14,45,"courierAddressDetails.formLabel.label1"),""),e.s9C("matTooltip",e.lcZ(15,47,"courierAddressDetails.formLabel.label1")),e.uIk("aria-label",e.lcZ(16,49,"courierAddressDetails.formLabel.label1")),e.xp6(5),e.Q6J("ngClass",e.VKq(99,qt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.address2?null:t.formGroup.controls.address2.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.address2?null:t.formGroup.controls.address2.invalid))),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.address2?null:t.formGroup.controls.address2.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.address2?null:t.formGroup.controls.address2.errors)),e.xp6(2),e.hij(" ",e.lcZ(22,51,"courierAddressDetails.formLabel.label2")," "),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(25,53,"courierAddressDetails.formLabel.label2"),""),e.s9C("matTooltip",e.lcZ(26,55,"courierAddressDetails.formLabel.label2")),e.uIk("aria-label",e.lcZ(27,57,"courierAddressDetails.formLabel.label2")),e.xp6(6),e.Q6J("ngClass",e.VKq(101,qt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.city?null:t.formGroup.controls.city.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.city?null:t.formGroup.controls.city.invalid))),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.city?null:t.formGroup.controls.city.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.city?null:t.formGroup.controls.city.errors)),e.xp6(2),e.hij(" ",e.lcZ(34,59,"courierAddressDetails.formLabel.label3")," "),e.xp6(4),e.uIk("aria-label",e.lcZ(38,61,"commonSections.formLabel.label7")),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(41,63,"courierAddressDetails.formLabel.label3"),""),e.s9C("matTooltip",e.lcZ(42,65,"courierAddressDetails.formLabel.label3")),e.uIk("aria-label",e.lcZ(43,67,"courierAddressDetails.formLabel.label3")),e.xp6(5),e.Q6J("ngClass",e.VKq(103,qt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.state?null:t.formGroup.controls.state.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.state?null:t.formGroup.controls.state.invalid))),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.state?null:t.formGroup.controls.state.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.state?null:t.formGroup.controls.state.errors)),e.xp6(2),e.hij(" ",e.lcZ(49,69,"courierAddressDetails.formLabel.label4")," "),e.xp6(4),e.uIk("aria-label",e.lcZ(53,71,"commonSections.formLabel.label7")),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(56,73,"courierAddressDetails.formLabel.label4"),""),e.s9C("matTooltip",e.lcZ(57,75,"courierAddressDetails.formLabel.label4")),e.uIk("aria-label",e.lcZ(58,77,"courierAddressDetails.formLabel.label4")),e.xp6(5),e.Q6J("ngClass",e.VKq(105,qt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.country?null:t.formGroup.controls.country.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.country?null:t.formGroup.controls.country.invalid))),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.country?null:t.formGroup.controls.country.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.country?null:t.formGroup.controls.country.errors)),e.xp6(2),e.hij(" ",e.lcZ(64,79,"courierAddressDetails.formLabel.label5")," "),e.xp6(4),e.uIk("aria-label",e.lcZ(68,81,"commonSections.formLabel.label7")),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(71,83,"courierAddressDetails.formLabel.label5"),""),e.uIk("aria-label",e.lcZ(72,85,"courierAddressDetails.formLabel.label5")),e.xp6(4),e.Q6J("ngClass",e.VKq(107,qt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.postalCode?null:t.formGroup.controls.postalCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.postalCode?null:t.formGroup.controls.postalCode.invalid))),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.postalCode?null:t.formGroup.controls.postalCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.postalCode?null:t.formGroup.controls.postalCode.errors)),e.xp6(2),e.hij(" ",e.lcZ(78,87,"courierAddressDetails.formLabel.label6")," "),e.xp6(4),e.uIk("aria-label",e.lcZ(82,89,"commonSections.formLabel.label7")),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(85,91,"courierAddressDetails.formLabel.label6"),""),e.s9C("matTooltip",e.lcZ(86,93,"courierAddressDetails.formLabel.label6")),e.uIk("aria-label",e.lcZ(87,95,"courierAddressDetails.formLabel.label6")),e.xp6(4),e.Q6J("ngIf",t.allowedCaptcha)}}let Xh=(()=>{class i extends Ze.o{constructor(t){super(),this.el=t,this.formGroup=new r.cw({}),this.constants=p.gT,this.allowedCaptcha=!1}ngOnInit(){this.currentCaptcha=this.captchaVersionConst.default;const t={dl_category:"Courier Address",dl_action:"Courier Address Page View",dl_label:this.utilityService.countrynameByIso(this.sessionService.countryCode||""),value:void 0};this.utilityService.fireCustomEvent(t),this.initModule(),this.checkCaptchaAllowed()}initModule(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.formGroup=this.getInitForm()}catch(t){this.logger.error(t)}})}getInitForm(){try{let t;return t=new r.cw({address1:new r.NI("",[r.kI.required,r.kI.pattern(p.Wg.ADDRESS_LINE_1),r.kI.maxLength(35)]),address2:new r.NI("",[r.kI.pattern(p.Wg.ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE),r.kI.maxLength(70)]),state:new r.NI("",[r.kI.required,r.kI.maxLength(30),r.kI.pattern(p.Wg.ALPHA_NUMERIC_WITH_SPACE)]),city:new r.NI(null,[r.kI.required,r.kI.maxLength(30),r.kI.pattern(p.Wg.ALPHA_NUMERIC_WITH_SPACE)]),country:new r.NI(null,[r.kI.required,r.kI.maxLength(30),r.kI.pattern(p.Wg.ALPHA_NUMERIC_WITH_SPACE)]),postalCode:new r.NI(null,[r.kI.required,r.kI.pattern(p.Wg.NO_SPACE_APLHA_NUMERIC),r.kI.maxLength(10)]),missionCode:new r.NI(this.sessionService.tenent),countryCode:new r.NI(this.sessionService.countryCode),loginUser:new r.NI(this.sessionService.getLoggedEmail()),urn:new r.NI(this.sessionService.urn)}),t}catch(t){throw t}}ngAfterViewInit(){this.sessionService.courierDetails&&this.formGroup.patchValue(this.sessionService.courierDetails)}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(t=>(0,v.mG)(this,void 0,void 0,function*(){!t||(this.allowedCaptcha=t.indexOf(p.m8.COURIER_ADDRESS)>-1,this.allowedCaptcha&&(this.utilityService.makeFieldRequired(this.formGroup,["captcha_version","captcha_api_key"]),setTimeout(()=>(0,v.mG)(this,void 0,void 0,function*(){const o=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.formGroup,o,this.captchaVersionConst.default)}),1e3)))}))}saveAndContinue(){return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.formGroup.invalid)return void this.setErrorFieldFocus(this.formGroup);if(this.utilityService.fireCustomEvent({dl_category:"Courier Addess",dl_action:"Add Courier Address",dl_label:"Courier Address Cotinue Click",value:void 0}),this.formGroup.invalid)return void this.formGroup.markAllAsTouched();this.saveCourierDetails()}catch(t){this.logger.error(t)}})}setErrorFieldFocus(t){var o;try{t.markAllAsTouched();for(const n of Object.keys(t.controls))if(t.controls[n].invalid){const l=this.el.nativeElement.querySelector(`[formcontrolname="${n}"]`);null===(o=null==l?void 0:l.closest(".form-group"))||void 0===o||o.focus();break}}catch(n){this.logger.error(n)}}submitV2Captcha(t){this.utilityService.patchCaptchaValue(this.formGroup,t,this.captchaVersionConst.alternate)}goBack(){try{this.commonService.routeToPostLoginModule(p.m8.SERVICES)}catch(t){this.logger.error(t)}}saveCourierDetails(){return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.formGroup.valid){let t=this.formGroup.value;this.sessionService.courierDetails=t,!0===(yield this.httpService.payloadPost(p.gT.api.saveCourierAddress,t).toPromise().then(n=>n).catch(n=>n)).isSaved&&this.commonService.routeToPostLoginModule(this.sessionService.tmiEnabled?p.m8.TRAVEL_MEDICAL_INSURANCE:p.m8.REVIEW_AND_PAY)}}catch(t){this.logger.error(t)}})}get isSaveAndContinueDisabled(){var t,o,n;return this.allowedCaptcha?(null===(t=this.formGroup)||void 0===t?void 0:t.invalid)||!(null===(o=this.formGroup.get("captcha_api_key"))||void 0===o?void 0:o.value):null===(n=this.formGroup)||void 0===n?void 0:n.invalid}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-courier-address"]],viewQuery:function(t,o){if(1&t&&e.Gf(Lh,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:32,vars:21,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"row","align-items-center","mb-25","mt-10"],[1,"col"],[1,"c-brand-grey-para"],[1,"row","align-items-center","mb-25"],[1,"fs-24","fs-sm-46","mb-0"],[3,"formGroup"],[4,"ngIf"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],[1,"row"],[1,"col-12","col-sm-6","mt-20",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange"],[1,"col-12","col-sm-6","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"row","align-items-end"],[1,"col-12","col-sm-6","mb-15"],["tabindex","1",1,"form-group",3,"ngClass"],["class","errorMessage","aria-live","assertive",4,"ngIf"],[1,"c-brand-error"],[1,"sr-only"],["appearance","outline",1,"mat-form-field-outline-brand"],["type","text","matInput","","formControlName","address1","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","2",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","address2","autocomplete","off",3,"placeholder","matTooltip"],["tabindex","3",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","city","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","4",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","state","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","5",1,"form-group",3,"ngClass"],["formControlName","country","type","text","matInput","","autocomplete","off","attr.aria-required","true",3,"placeholder"],["tabindex","6",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","postalCode","autocomplete","off",3,"placeholder","matTooltip"],["aria-live","assertive",1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"action","captchaType","v2CaptchaSet"],["captchaContainer",""],["class","errorMessage",4,"ngIf"],[1,"errorMessage"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"form")(2,"mat-card",1)(3,"div",2)(4,"div",3)(5,"p",4),e._uU(6),e.ALo(7,"translate"),e.qZA()()(),e.TgZ(8,"div",5)(9,"div",3)(10,"h1",6),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e._UZ(13,"hr"),e.TgZ(14,"p",4),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p",4),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"form",7),e.YNc(21,zh,89,109,"ng-container",8),e.qZA()(),e.TgZ(22,"mat-card",9)(23,"div",10)(24,"div",11),e.NdJ("click",function(){return o.goBack()}),e.TgZ(25,"button",12),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",13)(29,"button",14),e.NdJ("click",function(){return o.saveAndContinue()}),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()()()),2&t&&(e.xp6(6),e.hij(" ",e.lcZ(7,9,"courierAddressDetails.headerLabel.label2")," "),e.xp6(5),e.hij(" ",e.lcZ(12,11,"courierAddressDetails.headerLabel.label1")," "),e.xp6(4),e.hij(" ",e.lcZ(16,13,"courierAddressDetails.headerLabel.label3")," "),e.xp6(3),e.hij(" ",e.lcZ(19,15,"courierAddressDetails.headerLabel.label4")," "),e.xp6(2),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("ngIf",o.formGroup),e.xp6(5),e.hij(" ",e.lcZ(27,17,"commonSections.buttons.button8")," "),e.xp6(3),e.Q6J("disabled",o.isSaveAndContinueDisabled),e.xp6(1),e.hij(" ",e.lcZ(31,19,"commonSections.buttons.button19")," "))},directives:[r._Y,r.JL,r.F,X.a8,r.sg,w.O5,w.mk,q.KE,u.Nt,r.Fj,r.JJ,r.u,At.gM,Pt,V.lW],pipes:[D.X$],styles:[""]}),i})();function e1(i,s){1&i&&(e.TgZ(0,"div",20)(1,"div",21),e._UZ(2,"i",22),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"tmiOab.messages.errorMessages.message3")))}function t1(i,s){1&i&&(e.TgZ(0,"div",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"tmiOab.messages.errorMessages.message4")," "))}function i1(i,s){1&i&&(e.TgZ(0,"div",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message1")," "))}function o1(i,s){if(1&i&&(e.TgZ(0,"div",8),e.YNc(1,t1,3,3,"div",23),e.YNc(2,i1,3,3,"div",23),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.loginF.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.loginF.email.errors.pattern)}}function n1(i,s){1&i&&(e.TgZ(0,"div",20)(1,"div",21),e._UZ(2,"i",22),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"tmiOab.messages.errorMessages.message1")))}function a1(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",26),e.YNc(2,n1,6,3,"div",9),e.qZA(),e.TgZ(3,"div",27)(4,"div",28)(5,"div"),e._uU(6),e.ALo(7,"translate"),e.qZA()()(),e.TgZ(8,"div",11)(9,"div",28)(10,"mat-form-field",13)(11,"input",29),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().otpPassword=n}),e.qZA()()()(),e.TgZ(12,"div",15)(13,"button",30),e.NdJ("click",function(){return e.CHM(t),e.oxw().validateOTP()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",31)(17,"span",32),e.NdJ("click",function(){return e.CHM(t),e.oxw().generateOtp("OTP Resend")}),e._uU(18),e.ALo(19,"translate"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",1==t.OTPUnsuccess&&0==t.OTPSuccess),e.xp6(4),e.Oqu(e.lcZ(7,6,"tmiOab.pageDetails.para2")),e.xp6(5),e.Q6J("ngModel",t.otpPassword),e.xp6(2),e.Q6J("disabled",6>t.otpPassword.length),e.xp6(1),e.hij(" ",e.lcZ(15,8,"tmiOab.buttons.button2")," "),e.xp6(4),e.Oqu(e.lcZ(19,10,"tmiOab.formLabel.label1"))}}function s1(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"div",35),e._UZ(3,"i",22),e.TgZ(4,"div"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().routeNext()}),e._uU(8),e.ALo(9,"translate"),e.qZA()()}2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"applicantInformation.messages.successMessages.message2")),e.xp6(3),e.hij(" ",e.lcZ(9,4,"commonSections.buttons.button19")," "))}function l1(i,s){1&i&&e._UZ(0,"form")}const r1=function(i){return{"form-error":i}};let c1=(()=>{class i extends a.e{constructor(t,o){super(),this.formBuilder=t,this.baseService=o,this.OTPHandler=!1,this.OTPSuccess=!1,this.OTPUnsuccess=!1,this.OTPCard=!1,this.otpInProgress=!1,this.otpLimitExceed=!1,this.IsOTPEnable=!0,this.createOTPLimit=3,this.constants=p.gT,this.otpPassword=""}ngOnInit(){this.initLoginForm(),this.utilityService.tmiOabISet(!0)}initLoginForm(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.loginForm=this.formBuilder.group({email:["",[r.kI.pattern(p.Wg.email_caps_allowed),r.kI.required]],missionCode:[this.sessionService.tenent],countryCode:[this.sessionService.countryCode],languageCode:[this.sessionService.appLanguageCode]})}catch(t){console.log(t)}})}get loginF(){return this.loginForm.controls}generateOtp(t){return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.loginForm.invalid)return;this.loginForm.value.scanCode=t,(yield this.httpService.doOABLogin(p.gT.api.oabGenerateOtp,this.loginForm.value).toPromise()).error?(this.otpLimitExceed=!0,setTimeout(()=>{this.otpLimitExceed=!1},5e3)):this.OTPHandler=!0}catch(o){console.log(o)}})}validateOTP(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.loginForm.value.OTP=this.otpPassword;const t=yield this.httpService.doOABLogin(p.gT.api.oabLogin,this.loginForm.value).toPromise();t.accessToken?(this.OTPSuccess=!0,this.userDetails=t,this.sessionService.updateLoggedEmail(this.loginForm.value.email)):400===t.error.code&&(this.OTPUnsuccess=!0,setTimeout(()=>{this.OTPUnsuccess=!1},5e3))}catch(t){console.log(t)}})}initApplicationDetails(){return{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.loginForm.value.email,visaCategoryCode:"",isEdit:!1,applicantList:[],languageCode:this.sessionService.appCultureCode}}routeNext(){return(0,v.mG)(this,void 0,void 0,function*(){yield this.commonService.constructTMIData(),yield this.loadConfiguration(),yield this.commonService.postLoginActivity(this.baseService,this.userDetails);const t=this.sessionService.getApplicationSchema(),o=[p.gT.modules.TRAVEL_MEDICAL_INSURANCE],n=t.modules.filter(l=>o.indexOf(l.logicalName)>-1);t.modules=n,this.sessionService.tempAppSchema=this.sessionService.getApplicationSchema(),this.sessionService.saveApplicationSchemaInBrowser(t),this.sessionService.isTmiOabEnable=!0,this.sessionService.applicationDetailValue=this.initApplicationDetails(),this.commonService.routeToPostLoginModule(p.m8.TRAVEL_MEDICAL_INSURANCE)})}loadConfiguration(){return(0,v.mG)(this,void 0,void 0,function*(){try{yield this.commonService.loadConfiguration(),this.sessionService.setCurrencyCode=this.sessionService.applicationConfiguration.tmiOabCurrency}catch(t){throw t}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(qe))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-tmi-oab-login"]],features:[e.qOj],decls:25,vars:15,consts:[[1,"container","py-15","py-md-30"],[1,"row","justify-content-center"],[1,"col-12","col-md-9","col-lg-7","col-xl-6"],[1,"form-card"],[1,"p-15","mt-20"],[1,"fs-18","fs-sm-21","mb-15"],[3,"formGroup"],[3,"ngClass"],[1,"errorMessage"],["class","border-danger","style","border-left: 5px solid",4,"ngIf"],[1,"row","align-items-end"],[1,"col-12","col-sm"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","jane.doe@email.com","matInput","","formControlName","email","type","text","autocomplete","off"],[1,"col-sm-auto","col-12","mt-15","mt-sm-0"],[1,"max-sm-w-500"],["mat-raised-button","",1,"btn","btn-block","mat-btn-lg","btn-brand-orange",3,"disabled","click"],["class","row align-items-end mt-20",4,"ngIf"],["class","align-items-end mt-20",4,"ngIf"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-15","pl-50"],[1,"fa","fa-check-circle","fs-24","position-absolute","left-15","top-13"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"row","align-items-end","mt-20"],[1,"col-12"],[1,"col-12","col-sm-9","col-lg-12"],[1,"form-group","mb-0"],["placeholder","OTP","matInput","","type","text","maxlength","6","required","",3,"ngModel","ngModelChange"],["mat-raised-button","",1,"btn","btn-block","min-sm-w-150","mat-btn-lg","btn-brand-orange",3,"disabled","click"],[1,"col-12","mt-10"],[1,"c-brand-grey-para","text-decoration-underline",2,"cursor","pointer",3,"click"],[1,"align-items-end","mt-20"],[1,"border-success","mt-20",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-15","pl-50"],["type","submit","id","trigger","mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"mat-card",3)(4,"div",4)(5,"h2",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",6)(9,"div",7)(10,"div",8),e.YNc(11,e1,6,3,"div",9),e.qZA(),e.TgZ(12,"div",10)(13,"div",11),e.YNc(14,o1,3,2,"div",12),e.TgZ(15,"mat-form-field",13),e._UZ(16,"input",14),e.qZA()(),e.TgZ(17,"div",15)(18,"div",16)(19,"button",17),e.NdJ("click",function(){return o.generateOtp("OTP Send")}),e._uU(20),e.ALo(21,"translate"),e.qZA()()()()()(),e.YNc(22,a1,20,12,"div",18),e.YNc(23,s1,10,6,"div",19),e.qZA(),e.YNc(24,l1,1,0,"ng-template"),e.qZA()()()()),2&t&&(e.xp6(6),e.Oqu(e.lcZ(7,9,"tmiOab.headerLabel.label1")),e.xp6(2),e.Q6J("formGroup",o.loginForm),e.xp6(1),e.Q6J("ngClass",e.VKq(13,r1,o.loginF.email.touched&&o.loginF.email.invalid)),e.xp6(2),e.Q6J("ngIf",1==o.otpLimitExceed),e.xp6(3),e.Q6J("ngIf",o.loginF.email.touched&&o.loginF.email.errors),e.xp6(5),e.Q6J("disabled",o.loginForm.invalid||1==o.OTPHandler||1==o.OTPSuccess),e.xp6(1),e.hij(" ",e.lcZ(21,11,"tmiOab.buttons.button1")," "),e.xp6(2),e.Q6J("ngIf",1==o.OTPHandler&&0==o.OTPSuccess),e.xp6(1),e.Q6J("ngIf",1==o.OTPHandler&&1==o.OTPSuccess))},directives:[X.a8,r._Y,r.JL,r.sg,w.mk,w.O5,q.KE,u.Nt,r.Fj,r.JJ,r.u,V.lW,r.nD,r.Q7,r.On,r.F],pipes:[D.X$],encapsulation:2}),i})();var hi=A(6089);const u1=["captchaContainer"];function d1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message1")," "))}function p1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message2")," "))}function m1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message12")," "))}function g1(i,s){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,d1,3,3,"div",34),e.YNc(2,p1,3,3,"div",34),e.YNc(3,m1,3,3,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.addressline1||null==t.formGroup.controls.addressline1.errors?null:t.formGroup.controls.addressline1.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.addressline1?null:t.formGroup.controls.addressline1.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.addressline1?null:t.formGroup.controls.addressline1.hasError("pattern"))&&!(null!=t.formGroup&&null!=t.formGroup.controls&&null!=t.formGroup.controls.addressline1&&t.formGroup.controls.addressline1.hasError("maxlength")))}}function _1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message3")," "))}function f1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message12")," "))}function v1(i,s){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,_1,3,3,"div",34),e.YNc(2,f1,3,3,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.addressline2?null:t.formGroup.controls.addressline2.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.addressline2?null:t.formGroup.controls.addressline2.hasError("pattern"))&&!(null!=t.formGroup&&null!=t.formGroup.controls&&null!=t.formGroup.controls.addressline2&&t.formGroup.controls.addressline2.hasError("maxlength")))}}function h1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message4")," "))}function y1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message5")," "))}function b1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message6")," "))}function C1(i,s){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,h1,3,3,"div",34),e.YNc(2,y1,3,3,"div",34),e.YNc(3,b1,3,3,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.city||null==t.formGroup.controls.city.errors?null:t.formGroup.controls.city.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.city?null:t.formGroup.controls.city.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.city?null:t.formGroup.controls.city.hasError("pattern"))&&!(null!=t.formGroup&&null!=t.formGroup.controls&&null!=t.formGroup.controls.city&&t.formGroup.controls.city.hasError("maxlength")))}}function A1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message7")," "))}function T1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message8")," "))}function S1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message9")," "))}function x1(i,s){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,A1,3,3,"div",34),e.YNc(2,T1,3,3,"div",34),e.YNc(3,S1,3,3,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.state||null==t.formGroup.controls.state.errors?null:t.formGroup.controls.state.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.state?null:t.formGroup.controls.state.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.state?null:t.formGroup.controls.state.hasError("pattern"))&&!(null!=t.formGroup&&null!=t.formGroup.controls&&null!=t.formGroup.controls.state&&t.formGroup.controls.state.hasError("maxlength")))}}function L1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message18")," "))}function I1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message16")," "))}function Z1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message17")," "))}function N1(i,s){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,L1,3,3,"div",34),e.YNc(2,I1,3,3,"div",34),e.YNc(3,Z1,3,3,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.countryCode||null==t.formGroup.controls.countryCode.errors?null:t.formGroup.controls.countryCode.errors.required),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.countryCode?null:t.formGroup.controls.countryCode.hasError("pattern"))&&!(null!=t.formGroup&&null!=t.formGroup.controls&&null!=t.formGroup.controls.countryCode&&t.formGroup.controls.countryCode.hasError("maxlength"))),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.countryCode?null:t.formGroup.controls.countryCode.hasError("maxlength"))}}function D1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message15")," "))}function O1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message10")," "))}function E1(i,s){1&i&&(e.TgZ(0,"div",35),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"courierAddressDetails.messages.errorMessages.message11")," "))}function k1(i,s){if(1&i&&(e.TgZ(0,"div",33),e.YNc(1,D1,3,3,"div",34),e.YNc(2,O1,3,3,"div",34),e.YNc(3,E1,3,3,"div",34),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.pincode||null==t.formGroup.controls.pincode.errors?null:t.formGroup.controls.pincode.errors.required),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.pincode?null:t.formGroup.controls.pincode.hasError("pattern"))&&!(null!=t.formGroup&&null!=t.formGroup.controls&&null!=t.formGroup.controls.pincode&&t.formGroup.controls.pincode.hasError("maxlength"))),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.pincode?null:t.formGroup.controls.pincode.hasError("maxlength"))}}function w1(i,s){1&i&&(e.TgZ(0,"div",39)(1,"div",35),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"commonSections.messages.requiredMessages.message1")," "))}function F1(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-captcha-container",36,37),e.NdJ("v2CaptchaSet",function(n){return e.CHM(t),e.oxw(2).submitV2Captcha(n)}),e.qZA(),e.YNc(3,w1,4,3,"div",38),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("action",t.constants.captcha_action.COURIER)("captchaType",t.currentCaptcha),e.xp6(2),e.Q6J("ngIf",t.currentCaptcha!==t.captchaVersionConst.default&&(null==t.formGroup.controls.captcha_api_key||null==t.formGroup.controls.captcha_api_key.errors?null:t.formGroup.controls.captcha_api_key.errors.required))}}const Gt=function(i){return{"form-error":i}};function M1(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",16)(3,"div",17),e.YNc(4,g1,4,3,"div",18),e.TgZ(5,"div"),e._uU(6),e.ALo(7,"translate"),e.TgZ(8,"span",19),e._uU(9,"* "),e._UZ(10,"span",20),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"mat-form-field",21),e._UZ(13,"input",22),e.ALo(14,"translate"),e.ALo(15,"translate"),e.ALo(16,"translate"),e.qZA()()()(),e.TgZ(17,"div",16)(18,"div",23),e.YNc(19,v1,3,2,"div",18),e.TgZ(20,"div"),e._uU(21),e.ALo(22,"translate"),e.TgZ(23,"mat-form-field",21),e._UZ(24,"input",24),e.ALo(25,"translate"),e.ALo(26,"translate"),e.ALo(27,"translate"),e.qZA()()()(),e.ynx(28),e.TgZ(29,"div",16)(30,"div",25),e.YNc(31,C1,4,3,"div",18),e.TgZ(32,"div"),e._uU(33),e.ALo(34,"translate"),e.TgZ(35,"span",19),e._uU(36,"* "),e._UZ(37,"span",20),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"mat-form-field",21),e._UZ(40,"input",26),e.ALo(41,"translate"),e.ALo(42,"translate"),e.ALo(43,"translate"),e.qZA()()()(),e.TgZ(44,"div",16)(45,"div",27),e.YNc(46,x1,4,3,"div",18),e.TgZ(47,"div"),e._uU(48),e.ALo(49,"translate"),e.TgZ(50,"span",19),e._uU(51,"* "),e._UZ(52,"span",20),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"mat-form-field",21),e._UZ(55,"input",28),e.ALo(56,"translate"),e.ALo(57,"translate"),e.ALo(58,"translate"),e.qZA()()()(),e.TgZ(59,"div",16)(60,"div",29),e.YNc(61,N1,4,3,"div",18),e.TgZ(62,"div"),e._uU(63),e.ALo(64,"translate"),e.TgZ(65,"span",19),e._uU(66,"* "),e._UZ(67,"span",20),e.ALo(68,"translate"),e.qZA(),e.TgZ(69,"mat-form-field",21),e._UZ(70,"input",30),e.ALo(71,"translate"),e.ALo(72,"translate"),e.ALo(73,"translate"),e.qZA()()()(),e.TgZ(74,"div",16)(75,"div",31),e.YNc(76,k1,4,3,"div",18),e.TgZ(77,"div"),e._uU(78),e.ALo(79,"translate"),e.TgZ(80,"span",19),e._uU(81,"* "),e._UZ(82,"span",20),e.ALo(83,"translate"),e.qZA(),e.TgZ(84,"mat-form-field",21),e._UZ(85,"input",32),e.ALo(86,"translate"),e.ALo(87,"translate"),e.ALo(88,"translate"),e.qZA()()()(),e.BQk(),e.YNc(89,F1,4,3,"ng-container",8),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngClass",e.VKq(100,Gt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.addressline1?null:t.formGroup.controls.addressline1.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.addressline1?null:t.formGroup.controls.addressline1.invalid))),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.addressline1?null:t.formGroup.controls.addressline1.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.addressline1?null:t.formGroup.controls.addressline1.errors)),e.xp6(2),e.hij(" ",e.lcZ(7,42,"courierAddressDetails.formLabel.label1")," "),e.xp6(4),e.uIk("aria-label",e.lcZ(11,44,"commonSections.formLabel.label7")),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(14,46,"courierAddressDetails.formLabel.label1"),""),e.s9C("matTooltip",e.lcZ(15,48,"courierAddressDetails.formLabel.label1")),e.uIk("aria-label",e.lcZ(16,50,"courierAddressDetails.formLabel.label1")),e.xp6(5),e.Q6J("ngClass",e.VKq(102,Gt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.addressline2?null:t.formGroup.controls.addressline2.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.addressline2?null:t.formGroup.controls.addressline2.invalid))),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.addressline2?null:t.formGroup.controls.addressline2.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.addressline2?null:t.formGroup.controls.addressline2.errors)),e.xp6(2),e.hij(" ",e.lcZ(22,52,"courierAddressDetails.formLabel.label2")," "),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(25,54,"courierAddressDetails.formLabel.label2"),""),e.s9C("matTooltip",e.lcZ(26,56,"courierAddressDetails.formLabel.label2")),e.uIk("aria-label",e.lcZ(27,58,"courierAddressDetails.formLabel.label2")),e.xp6(6),e.Q6J("ngClass",e.VKq(104,Gt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.city?null:t.formGroup.controls.city.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.city?null:t.formGroup.controls.city.invalid))),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.city?null:t.formGroup.controls.city.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.city?null:t.formGroup.controls.city.errors)),e.xp6(2),e.hij(" ",e.lcZ(34,60,"courierAddressDetails.formLabel.label3")," "),e.xp6(4),e.uIk("aria-label",e.lcZ(38,62,"commonSections.formLabel.label7")),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(41,64,"courierAddressDetails.formLabel.label3"),""),e.s9C("matTooltip",e.lcZ(42,66,"courierAddressDetails.formLabel.label3")),e.uIk("aria-label",e.lcZ(43,68,"courierAddressDetails.formLabel.label3")),e.xp6(5),e.Q6J("ngClass",e.VKq(106,Gt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.state?null:t.formGroup.controls.state.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.state?null:t.formGroup.controls.state.invalid))),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.state?null:t.formGroup.controls.state.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.state?null:t.formGroup.controls.state.errors)),e.xp6(2),e.hij(" ",e.lcZ(49,70,"courierAddressDetails.formLabel.label4")," "),e.xp6(4),e.uIk("aria-label",e.lcZ(53,72,"commonSections.formLabel.label7")),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(56,74,"courierAddressDetails.formLabel.label4"),""),e.s9C("matTooltip",e.lcZ(57,76,"courierAddressDetails.formLabel.label4")),e.uIk("aria-label",e.lcZ(58,78,"courierAddressDetails.formLabel.label4")),e.xp6(5),e.Q6J("ngClass",e.VKq(108,Gt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.countryCode?null:t.formGroup.controls.countryCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.countryCode?null:t.formGroup.controls.countryCode.invalid))),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.countryCode?null:t.formGroup.controls.countryCode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.countryCode?null:t.formGroup.controls.countryCode.errors)),e.xp6(2),e.hij(" ",e.lcZ(64,80,"courierAddressDetails.formLabel.label5")," "),e.xp6(4),e.uIk("aria-label",e.lcZ(68,82,"commonSections.formLabel.label7")),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(71,84,"courierAddressDetails.formLabel.label5"),""),e.s9C("matTooltip",e.lcZ(72,86,"courierAddressDetails.formLabel.label5")),e.uIk("aria-label",e.lcZ(73,88,"courierAddressDetails.formLabel.label5")),e.xp6(5),e.Q6J("ngClass",e.VKq(110,Gt,(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.pincode?null:t.formGroup.controls.pincode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.pincode?null:t.formGroup.controls.pincode.invalid))),e.xp6(1),e.Q6J("ngIf",(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.pincode?null:t.formGroup.controls.pincode.touched)&&(null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.pincode?null:t.formGroup.controls.pincode.errors)),e.xp6(2),e.hij(" ",e.lcZ(79,90,"courierAddressDetails.formLabel.label6")," "),e.xp6(4),e.uIk("aria-label",e.lcZ(83,92,"commonSections.formLabel.label7")),e.xp6(3),e.MGl("placeholder"," ",e.lcZ(86,94,"courierAddressDetails.formLabel.label6"),""),e.s9C("matTooltip",e.lcZ(87,96,"courierAddressDetails.formLabel.label6")),e.uIk("aria-label",e.lcZ(88,98,"courierAddressDetails.formLabel.label6")),e.xp6(4),e.Q6J("ngIf",t.allowedCaptcha)}}let P1=(()=>{class i extends a.e{constructor(t,o,n){super(),this.el=t,this.logger=o,this.http=n,this.formGroup=new r.cw({}),this.countries=[],this.constants=p.gT,this.allowedCaptcha=!1}ngOnInit(){this.currentCaptcha=this.captchaVersionConst.default;const t={dl_category:"VAYD Address",dl_action:"VAYD Address Page View",dl_label:this.utilityService.countrynameByIso(this.sessionService.countryCode||""),value:void 0};this.utilityService.fireCustomEvent(t),this.initModule(),this.checkCaptchaAllowed()}initModule(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){try{this.formGroup=this.getInitForm();const n=yield this.getCountryList();this.countries=n,this.formGroup.patchValue({countryCode:null===(o=null===(t=this.sessionService)||void 0===t?void 0:t.countryCode)||void 0===o?void 0:o.toUpperCase()})}catch(n){this.logger.error(n)}})}getInitForm(){try{return new r.cw({addressline1:new r.NI("",[r.kI.required,r.kI.pattern(p.Wg.ADDRESS_LINE_1),r.kI.maxLength(35)]),addressline2:new r.NI("",[r.kI.pattern(p.Wg.ALPHA_NUMERIC_WITH_HYPEN_AND_SPACE),r.kI.maxLength(70)]),state:new r.NI("",[r.kI.required,r.kI.maxLength(30),r.kI.pattern(p.Wg.ALPHA_NUMERIC_WITH_SPACE)]),city:new r.NI(null,[r.kI.required,r.kI.maxLength(30),r.kI.pattern(p.Wg.ALPHA_NUMERIC_WITH_SPACE)]),pincode:new r.NI(null,[r.kI.required,r.kI.pattern(p.Wg.NO_SPACE_APLHA_NUMERIC),r.kI.maxLength(10)]),missionCode:new r.NI(this.sessionService.tenent),countryCode:new r.NI({value:this.utilityService.countrynameByIso(this.sessionService.countryCode),disabled:!0}),loginUser:new r.NI(this.sessionService.getLoggedEmail()),urn:new r.NI(this.sessionService.urn)})}catch(t){throw t}}getCountryList(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t={tenent:this.sessionService.tenent,languageCode:this.sessionService.applicationDetailValue.languageCode,country:this.sessionService.countryCode};return yield this.httpService.slashParamsDoGet(p.gT.api.masterCountry,t).toPromise()}catch(t){throw t}})}ngAfterViewInit(){this.sessionService.vaydDetails&&this.formGroup.patchValue(this.sessionService.vaydDetails)}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(t=>(0,v.mG)(this,void 0,void 0,function*(){!t||(this.allowedCaptcha=t.indexOf(p.m8.VAYD_ADDRESS)>-1,this.allowedCaptcha&&(this.utilityService.makeFieldRequired(this.formGroup,["captcha_version","captcha_api_key"]),setTimeout(()=>(0,v.mG)(this,void 0,void 0,function*(){const o=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.formGroup,o,this.captchaVersionConst.default)}),1e3)))}))}saveAndContinue(){return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.formGroup.invalid)return void this.setErrorFieldFocus(this.formGroup);if(this.utilityService.fireCustomEvent({dl_category:"VAYD Addess",dl_action:"Add VAYD Address",dl_label:"VAYD Address Cotinue Click",value:void 0}),this.formGroup.invalid)return void this.formGroup.markAllAsTouched();this.saveVAYDDetails()}catch(t){this.logger.error(t)}})}setErrorFieldFocus(t){var o;try{t.markAllAsTouched();for(const n of Object.keys(t.controls))if(t.controls[n].invalid){const l=this.el.nativeElement.querySelector(`[formcontrolname="${n}"]`);null===(o=null==l?void 0:l.closest(".form-group"))||void 0===o||o.focus();break}}catch(n){this.logger.error(n)}}submitV2Captcha(t){this.utilityService.patchCaptchaValue(this.formGroup,t,this.captchaVersionConst.alternate)}goBack(){try{this.commonService.routeToPostLoginModule(p.m8.SERVICES)}catch(t){this.logger.error(t)}}saveVAYDDetails(){var t;return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.formGroup.valid){const o={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,centerCode:this.sessionService.centerCode,email:this.sessionService.getLoggedEmail(),aurn:null===(t=this.sessionService.applicationDetailValue)||void 0===t?void 0:t.applicantList[0].arn,isSameCourierAddress:!1,isHALAddress:!1},n=this.sessionService.applicantService.filter(f=>f.isCourierIntegrationEnabled||f.isUPSCourier),l=this.countries.find(f=>this.utilityService.strictCompare(f.isoCode,this.sessionService.countryCode));let c=this.formGroup.value;l&&(c=Object.assign(Object.assign({},this.formGroup.value),{country:l.countryName}));const d=Object.assign(Object.assign({},this.formGroup.value),o);if(this.sessionService.vaydDetails=c,!0===(yield this.httpService.payloadPost(p.gT.api.saveVAYDAddress,d).toPromise().then(f=>f).catch(f=>f)).isSuccess){if(this.sessionService.vaydDetails=JSON.stringify(c),this.sessionService.setIsVaydAddressUpdated(!0),n.length>0&&!this.sessionService.IsCourierAddressUpdated&&!this.sessionService.isCourierIntegratedVasPurchased)return void this.commonService.routeToPostLoginModule(p.m8.COURIER_ADDRESS);this.commonService.routeToPostLoginModule(this.sessionService.tmiEnabled?p.m8.TRAVEL_MEDICAL_INSURANCE:p.m8.REVIEW_AND_PAY)}}}catch(o){this.logger.error(o)}})}get isSaveAndContinueDisabled(){var t,o,n;return this.allowedCaptcha?(null===(t=this.formGroup)||void 0===t?void 0:t.invalid)||!(null===(o=this.formGroup.get("captcha_api_key"))||void 0===o?void 0:o.value):null===(n=this.formGroup)||void 0===n?void 0:n.invalid}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(hi.Kf),e.Y36(Ve.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-vayd-address"]],viewQuery:function(t,o){if(1&t&&e.Gf(u1,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:32,vars:21,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"row","align-items-center","mb-25","mt-10"],[1,"col"],[1,"c-brand-grey-para"],[1,"row","align-items-center","mb-25"],[1,"fs-24","fs-sm-46","mb-0"],[3,"formGroup"],[4,"ngIf"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],[1,"row"],[1,"col-12","col-sm-6","mt-20",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange"],[1,"col-12","col-sm-6","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"row","align-items-end"],[1,"col-12","col-sm-6","mb-15"],["tabindex","1",1,"form-group",3,"ngClass"],["class","errorMessage","aria-live","assertive",4,"ngIf"],[1,"c-brand-error"],[1,"sr-only"],["appearance","outline",1,"mat-form-field-outline-brand"],["type","text","matInput","","formControlName","addressline1","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","2",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","addressline2","autocomplete","off",3,"placeholder","matTooltip"],["tabindex","3",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","city","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","4",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","state","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","5",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","countryCode","autocomplete","off","attr.aria-required","true",3,"placeholder","matTooltip"],["tabindex","6",1,"form-group",3,"ngClass"],["type","text","matInput","","formControlName","pincode","autocomplete","off",3,"placeholder","matTooltip"],["aria-live","assertive",1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"action","captchaType","v2CaptchaSet"],["captchaContainer",""],["class","errorMessage",4,"ngIf"],[1,"errorMessage"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"form")(2,"mat-card",1)(3,"div",2)(4,"div",3)(5,"p",4),e._uU(6),e.ALo(7,"translate"),e.qZA()()(),e.TgZ(8,"div",5)(9,"div",3)(10,"h1",6),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e._UZ(13,"hr"),e.TgZ(14,"p",4),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p",4),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"form",7),e.YNc(21,M1,90,112,"ng-container",8),e.qZA()(),e.TgZ(22,"mat-card",9)(23,"div",10)(24,"div",11),e.NdJ("click",function(){return o.goBack()}),e.TgZ(25,"button",12),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",13)(29,"button",14),e.NdJ("click",function(){return o.saveAndContinue()}),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()()()),2&t&&(e.xp6(6),e.hij(" ",e.lcZ(7,9,"ODMVAddressDetails.headerLabel.label2")," "),e.xp6(5),e.hij(" ",e.lcZ(12,11,"ODMVAddressDetails.headerLabel.label1")," "),e.xp6(4),e.hij(" ",e.lcZ(16,13,"ODMVAddressDetails.headerLabel.label3")," "),e.xp6(3),e.hij(" ",e.lcZ(19,15,"ODMVAddressDetails.headerLabel.label4")," "),e.xp6(2),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("ngIf",o.formGroup),e.xp6(5),e.hij(" ",e.lcZ(27,17,"commonSections.buttons.button8")," "),e.xp6(3),e.Q6J("disabled",o.isSaveAndContinueDisabled),e.xp6(1),e.hij(" ",e.lcZ(31,19,"commonSections.buttons.button19")," "))},directives:[r._Y,r.JL,r.F,X.a8,r.sg,w.O5,w.mk,q.KE,u.Nt,r.Fj,r.JJ,r.u,At.gM,Pt,V.lW],pipes:[D.X$],styles:[""]}),i})();var Vt=A(7470);function U1(i,s){1&i&&(e.TgZ(0,"div")(1,"p",8),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.infoMessages.message2")))}function q1(i,s){if(1&i&&(e.TgZ(0,"div")(1,"p",8),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.HOy("",e.lcZ(3,4,"formFilling.messages.infoMessages.message3")," ",t.countyName," ",e.lcZ(4,6,"formFilling.messages.infoMessages.message4")," ",t.missionName,"")}}const G1=re.N.externalUrl;let V1=(()=>{class i extends a.e{constructor(t,o,n){var l,c;super(),this.dialog=t,this.data=o,this.dialogRef=n,this.missionName=null===(l=Vt.xK(this.sessionService.tenent))||void 0===l?void 0:l.country,this.countyName=null===(c=Vt.xK(this.sessionService.countryCode))||void 0===c?void 0:c.country,n.disableClose=!0}continue(){this.router.ngOnDestroy(),window.location.href=`${G1}/${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/apply-visa`,this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.uw),e.Y36(oe.WI),e.Y36(oe.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ff-modal"]],features:[e.qOj],decls:13,vars:8,consts:[[1,"mat-modal-delete-document"],[1,"fs-18","fs-sm-21"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[4,"ngIf"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"],[1,"fs-sm-17","c-brand-grey-para","mb-30"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h4",1),e._UZ(2,"i",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"hr",3),e.YNc(6,U1,4,3,"div",4),e.YNc(7,q1,5,8,"div",4),e.TgZ(8,"div",5)(9,"div",6)(10,"button",7),e.NdJ("click",function(){return o.continue()}),e._uU(11),e.ALo(12,"translate"),e.qZA()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,4,"commonSections.headerLabel.label3")," "),e.xp6(3),e.Q6J("ngIf","API"==o.data),e.xp6(1),e.Q6J("ngIf","ROUTE"==o.data),e.xp6(4),e.hij(" ",e.lcZ(12,6,"commonSections.buttons.button19")," "))},directives:[w.O5,V.lW],pipes:[D.X$],encapsulation:2}),i})();function R1(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.TgZ(5,"p",21),e._uU(6),e.ALo(7,"translate"),e.qZA()()()),2&i){const t=s.$implicit;e.xp6(2),e.Oqu(t.description),e.xp6(2),e.AsE("",t.currency," ",t.unitPrice,""),e.xp6(2),e.Oqu(e.lcZ(7,4,"formFilling.pageDetails.para16"))}}let J1=(()=>{class i extends Ze.o{constructor(t,o,n){super(),this.activatedRoute=t,this.httpService=o,this.dialog=n,this.isDisabled=!1}ngOnInit(){this.baseConfig()}baseConfig(){this.subs.sink=this.activatedRoute.queryParamMap.subscribe(t=>(0,v.mG)(this,void 0,void 0,function*(){var o,n;window.location.pathname?(this.missionName=null===(o=Vt.xK(window.location.pathname.split("/")[3]))||void 0===o?void 0:o.country,this.countyName=null===(n=Vt.xK(window.location.pathname.split("/")[1]))||void 0===n?void 0:n.country,this.missionCode=window.location.pathname.split("/")[3],this.countyCode=window.location.pathname.split("/")[1],this.cultureCode=window.location.pathname.split("/")[2],this.sessionService.countryCode=String(this.countyCode).toLowerCase(),this.sessionService.tenent=String(this.missionCode).toLowerCase(),this.sessionService.appLanguageCode=String(this.cultureCode).toLowerCase(),this.sessionService.countryCode&&this.sessionService.tenent&&this.sessionService.appCultureCode?yield this.getServiceForApplicant():this.commonService.routeToNotFound()):this.commonService.routeToNotFound()}))}getServiceForApplicant(){return(0,v.mG)(this,void 0,void 0,function*(){try{const l=`${p.gT.api.serviceForApplicant}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appCultureCode}`,c=yield this.httpService.doGet(l).toPromise().then(d=>d).catch(d=>{this.isDisabled=!0,this.showErrorMsgPopup("API",d.status)});c&&(c.services&&c.services.length>0?(this.serviceForApplicant=c.services,this.sessionService.ffServiceForApplicant=this.serviceForApplicant):(this.isDisabled=!0,this.showErrorMsgPopup("ROUTE",c.error)))}catch(t){}})}submit(){this.utilityService.pushDataLayerFFGA({event:"form_fill_cta",eventCategory:"book_now",eventAction:"form_fill_book_now_click",entry_point:"NA"}),this.commonService.routeToFFYourDetails()}showErrorMsgPopup(t,o){try{const n=this.dialog.open(V1,{data:t});n.afterClosed().subscribe(l=>(0,v.mG)(this,void 0,void 0,function*(){1069===o&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner())})),this.router.events.subscribe(()=>{n.close()})}catch(n){throw n}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B.gz),e.Y36(Ve.O),e.Y36(oe.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ff-info"]],features:[e.qOj],decls:97,vars:72,consts:[[2,"background-color","rgb(42 71 102)"],[1,"container"],[1,"c-white","fs-sm-25","pt-60","pb-60"],[1,"fs-sm-20",2,"color","rgb(42 71 102)"],[1,"fs-sm-14"],[1,"row","bg-lightgrey","mr-20","ml-0"],[1,"col-md-12","col-sm-12","col-lg-4","mt-20","mb-20"],[1,"fs-sm-20"],[1,"fs-sm-12"],[1,"col-md-12","col-sm-12","col-lg-2","mt-20","mb-20"],[1,"border-brand-orange",2,"min-width","150px","min-height","150px","border-style","solid"],[1,"mt-0","mb-10"],[1,"row","mr-20","ml-0","mt-10","mb-10"],[1,"fs-sm-20","fw-500","mt-10","mb-10"],[1,"table","table-bordered"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","mr-20","ml-0","mt-20","mb-10"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],["multi","",2,"width","100%"],["hideToggle",""],["aria-hidden","true",1,"fa","fa-plus","c-orange"],[1,"fs-sm-10"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"section",1)(2,"p",2),e._uU(3),e.ALo(4,"translate"),e.qZA()()(),e.TgZ(5,"div")(6,"section",1)(7,"p",3),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p",4),e._uU(11),e.ALo(12,"translate"),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",5)(15,"div",6)(16,"p",7),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"p",8),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"div",9)(23,"mat-card",10)(24,"mat-card-content")(25,"p",11),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"p",11),e._uU(29),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"div",9)(32,"mat-card",10)(33,"mat-card-content")(34,"p",11),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"p",11),e._uU(38),e.ALo(39,"translate"),e.qZA()()()(),e.TgZ(40,"div",9)(41,"mat-card",10)(42,"mat-card-content")(43,"p",11),e._uU(44),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"p",11),e._uU(47),e.ALo(48,"translate"),e.qZA()()()()(),e.TgZ(49,"div",12)(50,"p",13),e._uU(51),e.ALo(52,"translate"),e.qZA()(),e.TgZ(53,"div",12)(54,"table",14)(55,"tr")(56,"th"),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"th"),e._uU(60),e.ALo(61,"translate"),e.qZA()(),e.YNc(62,R1,8,6,"tr",15),e.qZA()(),e.TgZ(63,"div",16)(64,"button",17),e.NdJ("click",function(){return o.submit()}),e._uU(65),e.ALo(66,"translate"),e.qZA()(),e.TgZ(67,"div",12)(68,"p",13),e._uU(69),e.ALo(70,"translate"),e.qZA()(),e.TgZ(71,"div",12)(72,"mat-accordion",18)(73,"mat-expansion-panel",19)(74,"mat-expansion-panel-header")(75,"mat-panel-title"),e._uU(76),e.ALo(77,"translate"),e.qZA(),e._UZ(78,"i",20),e.qZA(),e._uU(79),e.ALo(80,"translate"),e.qZA(),e.TgZ(81,"mat-expansion-panel",19)(82,"mat-expansion-panel-header")(83,"mat-panel-title"),e._uU(84),e.ALo(85,"translate"),e.qZA(),e._UZ(86,"i",20),e.qZA(),e._uU(87),e.ALo(88,"translate"),e.qZA(),e.TgZ(89,"mat-expansion-panel",19)(90,"mat-expansion-panel-header")(91,"mat-panel-title"),e._uU(92),e.ALo(93,"translate"),e.qZA(),e._UZ(94,"i",20),e.qZA(),e._uU(95),e.ALo(96,"translate"),e.qZA()()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,26,"formFilling.pageDetails.para1")),e.xp6(5),e.hij(" ",e.lcZ(9,28,"formFilling.pageDetails.para2")," "),e.xp6(3),e.AsE(" ",e.lcZ(12,30,"formFilling.pageDetails.para3")," ",e.lcZ(13,32,"formFilling.pageDetails.para4")," "),e.xp6(6),e.Oqu(e.lcZ(18,34,"formFilling.pageDetails.para5")),e.xp6(3),e.hij(" ",e.lcZ(21,36,"formFilling.pageDetails.para6")," "),e.xp6(6),e.Oqu(e.lcZ(27,38,"formFilling.pageDetails.para7")),e.xp6(3),e.Oqu(e.lcZ(30,40,"formFilling.pageDetails.para8")),e.xp6(6),e.Oqu(e.lcZ(36,42,"formFilling.pageDetails.para9")),e.xp6(3),e.Oqu(e.lcZ(39,44,"formFilling.pageDetails.para10")),e.xp6(6),e.Oqu(e.lcZ(45,46,"formFilling.pageDetails.para11")),e.xp6(3),e.Oqu(e.lcZ(48,48,"formFilling.pageDetails.para12")),e.xp6(4),e.hij(" ",e.lcZ(52,50,"formFilling.pageDetails.para13")," "),e.xp6(6),e.Oqu(e.lcZ(58,52,"formFilling.pageDetails.para14")),e.xp6(3),e.Oqu(e.lcZ(61,54,"formFilling.pageDetails.para15")),e.xp6(2),e.Q6J("ngForOf",o.serviceForApplicant)("ngForTrackBy",o.trackByFn),e.xp6(2),e.Q6J("disabled",o.isDisabled),e.xp6(1),e.Oqu(e.lcZ(66,56,"formFilling.buttons.button1")),e.xp6(4),e.hij(" ",e.lcZ(70,58,"formFilling.pageDetails.para17")," "),e.xp6(7),e.hij(" ",e.lcZ(77,60,"formFilling.pageDetails.para18")," "),e.xp6(3),e.hij(" ",e.lcZ(80,62,"formFilling.pageDetails.para19")," "),e.xp6(5),e.hij(" ",e.lcZ(85,64,"formFilling.pageDetails.para22")," "),e.xp6(3),e.hij(" ",e.lcZ(88,66,"formFilling.pageDetails.para23")," "),e.xp6(5),e.hij(" ",e.lcZ(93,68,"formFilling.pageDetails.para24")," "),e.xp6(3),e.hij(" ",e.lcZ(96,70,"formFilling.pageDetails.para25")," "))},directives:[X.a8,X.dn,w.sg,V.lW,at.pp,at.ib,at.yz,at.yK],pipes:[D.X$],encapsulation:2}),i})();const Y1=["dateInputField"];function Q1(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"formFilling.messages.errorMessages.message1"),""))}function B1(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"formFilling.messages.errorMessages.message5"),""))}function j1(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"formFilling.messages.errorMessages.message13"),""))}function H1(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"formFilling.messages.errorMessages.message12"),""))}function $1(i,s){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,Q1,4,3,"div",47),e.YNc(2,B1,4,3,"div",47),e.YNc(3,j1,4,3,"div",47),e.YNc(4,H1,4,3,"div",47),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.firstName||null==t.formGroup.controls.firstName.errors?null:t.formGroup.controls.firstName.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.firstName?null:t.formGroup.controls.firstName.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.firstName?null:t.formGroup.controls.firstName.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.firstName?null:t.formGroup.controls.firstName.hasError("minlength"))}}function W1(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"formFilling.messages.errorMessages.message2"),""))}function K1(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"formFilling.messages.errorMessages.message13"),""))}function z1(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"formFilling.messages.errorMessages.message12"),""))}function X1(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"formFilling.messages.errorMessages.message6"),""))}function ey(i,s){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,W1,4,3,"div",47),e.YNc(2,K1,4,3,"div",47),e.YNc(3,z1,4,3,"div",47),e.YNc(4,X1,4,3,"div",47),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.lastName||null==t.formGroup.controls.lastName.errors?null:t.formGroup.controls.lastName.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.lastName?null:t.formGroup.controls.lastName.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.lastName?null:t.formGroup.controls.lastName.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.lastName?null:t.formGroup.controls.lastName.hasError("pattern"))}}function ty(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.errorMessages.message3")))}function iy(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.errorMessages.message7")))}function oy(i,s){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,ty,4,3,"div",47),e.YNc(2,iy,4,3,"div",47),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.email||null==t.formGroup.controls.email.errors?null:t.formGroup.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.email?null:t.formGroup.controls.email.hasError("pattern"))}}function ny(i,s){1&i&&(e.TgZ(0,"div",49)(1,"div",50)(2,"h5",9),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-form-field",12),e._UZ(6,"input",51),e.qZA()()()),2&i&&(e.xp6(3),e.hij("",e.lcZ(4,1,"formFilling.formLabel.label17")," "))}function ay(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.errorMessages.message4")))}function sy(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.errorMessages.message8")))}function ly(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij("",e.lcZ(3,1,"formFilling.messages.errorMessages.message11")," "))}function ry(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"formFilling.messages.errorMessages.message10")," "))}function cy(i,s){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,ay,4,3,"div",47),e.YNc(2,sy,4,3,"div",47),e.YNc(3,ly,4,3,"div",47),e.YNc(4,ry,4,3,"div",47),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.phoneNumber||null==t.formGroup.controls.phoneNumber.errors?null:t.formGroup.controls.phoneNumber.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.phoneNumber?null:t.formGroup.controls.phoneNumber.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.phoneNumber?null:t.formGroup.controls.phoneNumber.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.phoneNumber?null:t.formGroup.controls.phoneNumber.hasError("minlength"))}}function uy(i,s){if(1&i&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.AsE(" ",t.serviceForApplicant[0].currency," ",t.serviceFee," ")}}function dy(i,s){if(1&i&&(e.TgZ(0,"div",28),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.lnq(" ",t.totalPassenger," * ",t.serviceForApplicant[0].currency," ",t.unitPrice," ")}}function py(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.errorMessages.message18")))}function my(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.errorMessages.message23")))}function gy(i,s){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,py,4,3,"div",47),e.YNc(2,my,4,3,"div",47),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.applyingFrom||null==t.formGroup.controls.applyingFrom.errors?null:t.formGroup.controls.applyingFrom.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.applyingFrom?null:t.formGroup.controls.applyingFrom.hasError("pattern"))}}function _y(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"formFilling.messages.errorMessages.message19"),""))}function fy(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.errorMessages.message23")))}function vy(i,s){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,_y,4,3,"div",47),e.YNc(2,fy,4,3,"div",47),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingTo||null==t.formGroup.controls.travellingTo.errors?null:t.formGroup.controls.travellingTo.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingTo?null:t.formGroup.controls.travellingTo.hasError("pattern"))}}function hy(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.errorMessages.message15")))}function yy(i,s){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,hy,4,3,"div",47),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.myPassportIsFrom||null==t.formGroup.controls.myPassportIsFrom.errors?null:t.formGroup.controls.myPassportIsFrom.errors.required)}}function by(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"eligibilityCriteria.messages.errorMessages.message4")))}function Cy(i,s){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,by,4,3,"div",47),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.nationality||null==t.formGroup.controls.nationality.errors?null:t.formGroup.controls.nationality.errors.required)}}function Ay(i,s){if(1&i&&(e.TgZ(0,"mat-option",52),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.name," ")}}function Ty(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.errorMessages.message16")))}function Sy(i,s){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,Ty,4,3,"div",47),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.purposeOfTravel||null==t.formGroup.controls.purposeOfTravel.errors?null:t.formGroup.controls.purposeOfTravel.errors.required)}}function xy(i,s){if(1&i&&(e.TgZ(0,"mat-option",52),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.name," ")}}function Ly(i,s){if(1&i&&(e.TgZ(0,"mat-option",52),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Iy(i,s){1&i&&(e.TgZ(0,"div",48)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.errorMessages.message14")))}function Zy(i,s){if(1&i&&(e.TgZ(0,"div",46),e.YNc(1,Iy,4,3,"div",47),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.travellingDate||null==t.formGroup.controls.travellingDate.errors?null:t.formGroup.controls.travellingDate.errors.required)}}const dt=function(i){return{"form-error":i}},Ny=re.N.numberOfPassengers;let Dy=(()=>{class i extends Ze.o{constructor(t,o,n,l,c){super(),this.fb=t,this.utilityService=o,this.httpService=n,this.dialog=l,this.datePipe=c,this.numberOfPassengersList=[],this.formGroup=new r.cw({}),this.post="",this.totalPassenger=0,this.totalGST=0,this.grandTotal=0,this.nationalityList=[]}ngOnInit(){for(let o=1;o<=Number(Ny);o++)this.numberOfPassengersList.push(o);this.sessionService.ffServiceForApplicant?(this.serviceForApplicant=this.sessionService.ffServiceForApplicant,this.dialCode=this.serviceForApplicant[0].dialCode,this.ffServiceFeeCalculation({value:1})):this.commonService.routeToNotFound(),this.loadSubVisaCategoryList(),this.initModule(),this.loadNationalityList();const t=this.utilityService.momentInstance(this.utilityService.momentInstance().format("DD/MM/YYYY"),"DD/MM/YYYY");this.travelStartDate={year:+t.format("YYYY"),month:+t.format("MM"),day:+t.format("DD")}}initModule(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.formGroup=this.getInitForm()}catch(t){this.logger.error(t)}})}getInitForm(){try{let t;return t=new r.cw({firstName:new r.NI("",[r.kI.required,r.kI.minLength(3),r.kI.maxLength(50),r.kI.pattern(p.Wg.NAME)]),lastName:new r.NI("",[r.kI.required,r.kI.minLength(3),r.kI.maxLength(50),r.kI.pattern(p.Wg.NAME)]),email:new r.NI("",[r.kI.required,r.kI.pattern(p.Wg.email_caps_allowed)]),phoneNumber:new r.NI("",[r.kI.required,r.kI.maxLength(10),r.kI.pattern(p.Wg.NUMERIC)]),applyingFrom:new r.NI({value:this.utilityService.countrynameByIso(this.sessionService.countryCode),disabled:!0}),travellingTo:new r.NI({value:this.utilityService.countrynameByIso(this.sessionService.tenent),disabled:!0}),myPassportIsFrom:new r.NI({value:this.utilityService.countrynameByIso(this.sessionService.countryCode),disabled:!0}),nationality:new r.NI("",[r.kI.required]),purposeOfTravel:new r.NI("",[r.kI.required]),travellingDate:new r.NI("",[r.kI.required]),numberOfPassengers:new r.NI(1,[r.kI.required]),dialCode:new r.NI({value:this.dialCode,disabled:!0})}),t}catch(t){throw t}}loadSubVisaCategoryList(){return(0,v.mG)(this,void 0,void 0,function*(){const l=`${p.gT.api.subVisaCategory}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appCultureCode}`,c=yield this.httpService.doGet(l).toPromise().then(d=>d).catch(d=>d);c&&(this.subVisaCategoryList=c)})}changePurposeofTravel(t){this.utilityService.pushDataLayerFFGA({dl_event:"form_fill",dl_category:"visa_application_form",dl_action:t.source.ngControl.name+"_click",dl_label:t.source.ngControl.name,entry_point:"NA"})}onInitiatePay(){var t;return(0,v.mG)(this,void 0,void 0,function*(){this.utilityService.startNgxUiSpinner();const o=null===(t=this.nationalityList)||void 0===t?void 0:t.find(l=>l.code===this.formGroup.value.nationality);try{if(this.utilityService.pushDataLayerFFGA({dl_event:"post_form_fill_cta",dl_category:"book_now",dl_action:"post_form_book_now_click",entry_point:"NA"}),!this.formGroup.value.travellingDate)return;this.formGroup.value.travellingDate.month<=9&&(this.formGroup.value.travellingDate.month="0"+this.formGroup.value.travellingDate.month),this.formGroup.value.travellingDate.day<=9&&(this.formGroup.value.travellingDate.day="0"+this.formGroup.value.travellingDate.day);const c={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,firstName:this.formGroup.value.firstName.trim(),lastName:this.formGroup.value.lastName.trim(),email:this.formGroup.value.email,mobileNumber:this.formGroup.value.phoneNumber,nationalityCode:this.formGroup.value.nationality,nationalityName:null==o?void 0:o.name,visaCategoryCode:this.formGroup.value.purposeOfTravel,travellingDate:this.formGroup.value.travellingDate.year+"-"+this.formGroup.value.travellingDate.month+"-"+this.formGroup.value.travellingDate.day,cultureCode:this.sessionService.appCultureCode,isFormFillingService:!0,applicantCount:Number(this.formGroup.value.numberOfPassengers)};var n=yield this.httpService.payloadWithoutTokenPost(p.gT.api.serviceApplicants,c).toPromise().then(d=>d).catch(d=>d);if(null!=n.error){if(n.error&&n.error.code){const d=n.error.description;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(d,n.error.code)}throw new Error(n.error.description)}{n.email=this.formGroup.value.email,this.sessionService.ffApplicantDetails=n,this.sessionService.jwtToken=n.accessToken;const d=`${n.url}?RequestRefNo=${n.requestRefNo}&Currency=${n.currency}&Culture=${n.cultureCode}&Amount=${n.totalAmount}&DigitalSignature=${n.digitalSignature}&RedirectURL=`;window.open(d,"_self")}}catch(l){throw l}})}ffServiceFeeCalculation(t){this.serviceForApplicant&&(this.amountWithTax=this.serviceForApplicant[0].amountWithTax,this.unitPrice=this.serviceForApplicant[0].unitPrice),this.formGroup.value&&(this.totalPassenger=t.value,this.gST=this.amountWithTax-this.unitPrice,this.totalGST=this.totalPassenger*this.gST,this.serviceFee=this.totalPassenger*this.unitPrice,this.grandTotal=this.serviceFee+this.totalGST,t.source)&&this.utilityService.pushDataLayerFFGA({dl_event:"form_fill",dl_category:"visa_application_form",dl_action:t.source.ngControl.name+"_click",dl_label:t.source.ngControl.name,entry_point:"NA"})}showErrorMsgPopup(t,o){try{const n=this.dialog.open(nt,{data:t});n.afterClosed().subscribe(l=>(0,v.mG)(this,void 0,void 0,function*(){1069===o&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner())})),this.router.events.subscribe(()=>{n.close()})}catch(n){throw n}}dateFormatConversion(t){return this.utilityService.momentInstance(t).format("YYYY-MM-DD")}ffYourDetailsGA(t){this.utilityService.pushDataLayerFFGA({dl_event:"form_fill",dl_category:"visa_application_form",dl_action:t.target.ariaLabel+"_click",dl_label:t.target.ariaLabel,entry_point:"NA"})}ffDatePickerGA(t){this.utilityService.pushDataLayerFFGA({dl_event:"form_fill",dl_category:"visa_application_form",dl_action:t+"_click",dl_label:t,entry_point:"NA"})}validateTravelDate(t,o){this.formGroup.controls.travellingDate.updateValueAndValidity();const n=this.dateFormatConversion(this.formGroup.value.travellingDate.year+"/"+this.formGroup.value.travellingDate.month+"/"+this.formGroup.value.travellingDate.day);if("traveldate"===o){const l=this.datePipe.transform(n,this.dateFormat);this.dateFormatTravelDate=l}}loadNationalityList(){return(0,v.mG)(this,void 0,void 0,function*(){const n=`${p.gT.api.nationalityForService}/${this.sessionService.tenent}/${this.sessionService.countryCode}`,l=yield this.httpService.doGet(n).toPromise().then(c=>c).catch(c=>c);l&&(this.nationalityList=l)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(Ct.t),e.Y36(Ve.O),e.Y36(oe.uw),e.Y36(w.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ff-your-details"]],viewQuery:function(t,o){if(1&t&&e.Gf(Y1,7),2&t){let n;e.iGM(n=e.CRH())&&(o.dateInputField=n.first)}},features:[e.qOj],decls:186,vars:165,consts:[[1,"container","py-15","py-md-10"],[1,"form-card","p-0","border-0","shadow-none"],[1,"fs-sm-18","fs-sm-32","mb-20"],[3,"formGroup"],[1,"form-card","p-3","border-0","shadow-none"],[1,"row"],[1,"col-sm-12","col-md-12","col-lg-8","border-bottom-2"],[1,"col-lg-6","col-md-12","col-sm-12","mt-20"],["tabindex","3",1,"form-group","p-3",3,"ngClass"],[1,"fs-sm-16","mb-10"],[1,"c-brand-error"],["class","errorMessage","aria-live","assertive",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","type","text","name","firstName","formControlName","firstName","autocomplete","off","attr.aria-required","true","minlength","3","maxlength","50",2,"text-transform","uppercase",3,"placeholder","change"],["name","lastName","formControlName","lastName","autocomplete","off","attr.aria-required","true","matInput","","type","text","minlength","3","maxlength","50",2,"text-transform","uppercase",3,"placeholder","change"],["matInput","","type","text","name","email","formControlName","email","required","","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder","change"],["class","col-lg-4 col-md-6 col-sm-12",4,"ngIf"],[1,"col-lg-8","col-md-6","col-sm-12"],["matInput","","type","text","name","phoneNumber","formControlName","phoneNumber","autocomplete","off","maxlength","10","minlength","10","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder","change"],[1,"col-sm-12","col-md-12","col-lg-4"],[1,"row","border-2"],[1,"col-12","col-sm-12","mt-20","mat-card"],[1,"form-card","p-0","border-0","shadow-none",2,"text-align","center"],[1,"fs-sm-16","fs-sm-16","mt-20","mb-20"],[1,"row","border-bottom-2"],[1,"col-6","col-sm-6","mb-10",2,"text-align","left"],["class","col-6 col-sm-6 mb-10","style","text-align: right;",4,"ngIf"],[1,"row","border-bottom-2","mt-20"],[1,"col-6","col-sm-6","mb-10",2,"text-align","right"],[1,"col-6","col-sm-6","mb-10","fw-600",2,"text-align","left"],[1,"col-6","col-sm-6","mb-10","fw-600",2,"text-align","right"],[1,"col-lg-8","col-md-12","col-md-12"],[1,"form-group","p-3"],["matInput","","type","text","name","applyingFrom","formControlName","applyingFrom","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder"],["matInput","","type","text","name","travellingTo","formControlName","travellingTo","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder"],["matInput","","type","text","name","myPassportIsFrom","formControlName","myPassportIsFrom","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder"],["name","nationality","formControlName","nationality",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],["name","purposeOfTravel","formControlName","purposeOfTravel",3,"placeholder","selectionChange"],["name","numberOfPassengers","formControlName","numberOfPassengers",3,"selectionChange"],[1,"datepicker-div","form-group"],["ngbDatepicker","","autocomplete","off","formControlName","travellingDate",1,"form-control","input-lg","mt-5",3,"readonly","value","minDate","placeholder","change","ngModelChange","dateSelect"],["datePickerReference1","ngbDatepicker"],[1,"input-group-addon",3,"click"],[1,"col-lg-8","col-md-12","col-sm-12"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],["aria-live","assertive",1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"col-lg-4","col-md-6","col-sm-12"],["tabindex","3",1,"form-group","p-3"],["matInput","","type","text","name","dialCode","formControlName","dialCode","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase"],[3,"value"]],template:function(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"h4"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"form",3)(9,"div",4)(10,"div",5)(11,"div",6)(12,"div",5)(13,"div",7)(14,"div",8)(15,"h5",9),e._uU(16),e.ALo(17,"translate"),e.TgZ(18,"span",10),e._uU(19,"*"),e.qZA()(),e.YNc(20,$1,5,4,"div",11),e.TgZ(21,"mat-form-field",12)(22,"input",13),e.NdJ("change",function(c){return o.ffYourDetailsGA(c)}),e.ALo(23,"translate"),e.ALo(24,"translate"),e.qZA()()()(),e.TgZ(25,"div",7)(26,"div",8)(27,"h5",9),e._uU(28),e.ALo(29,"translate"),e.TgZ(30,"span",10),e._uU(31,"*"),e.qZA()(),e.YNc(32,ey,5,4,"div",11),e.TgZ(33,"mat-form-field",12)(34,"input",14),e.NdJ("change",function(c){return o.ffYourDetailsGA(c)}),e.ALo(35,"translate"),e.ALo(36,"translate"),e.qZA()()()()(),e.TgZ(37,"div",5)(38,"div",7)(39,"div",8)(40,"h5",9),e._uU(41),e.ALo(42,"translate"),e.TgZ(43,"span",10),e._uU(44,"*"),e.qZA()(),e.YNc(45,oy,3,2,"div",11),e.TgZ(46,"mat-form-field",12)(47,"input",15),e.NdJ("change",function(c){return o.ffYourDetailsGA(c)}),e.ALo(48,"translate"),e.ALo(49,"translate"),e.qZA()()()(),e.TgZ(50,"div",7)(51,"div",5),e.YNc(52,ny,7,3,"div",16),e.TgZ(53,"div",17)(54,"div",8)(55,"h5",9),e._uU(56),e.ALo(57,"translate"),e.TgZ(58,"span",10),e._uU(59,"*"),e.qZA()(),e.YNc(60,cy,5,4,"div",11),e.TgZ(61,"mat-form-field",12)(62,"input",18),e.NdJ("change",function(c){return o.ffYourDetailsGA(c)}),e.ALo(63,"translate"),e.ALo(64,"translate"),e.qZA()()()()()()()(),e.TgZ(65,"div",19)(66,"div",20)(67,"div",21)(68,"div",22)(69,"h5",23),e._uU(70),e.ALo(71,"translate"),e.qZA()(),e.TgZ(72,"div",24)(73,"div",25),e._uU(74),e.ALo(75,"translate"),e.qZA(),e.YNc(76,uy,2,2,"div",26),e.YNc(77,dy,2,3,"div",26),e.qZA(),e.TgZ(78,"div",27)(79,"div",25),e._uU(80),e.qZA(),e.TgZ(81,"div",28),e._uU(82),e.ALo(83,"number"),e.qZA()(),e.TgZ(84,"div",27)(85,"div",29),e._uU(86),e.ALo(87,"translate"),e.qZA(),e.TgZ(88,"div",30),e._uU(89),e.ALo(90,"number"),e.qZA()()()()()(),e.TgZ(91,"div",5)(92,"div",31)(93,"div",5)(94,"div",7)(95,"div",32)(96,"div",8)(97,"h5",9),e._uU(98),e.ALo(99,"translate"),e.TgZ(100,"span",10),e._uU(101,"*"),e.qZA()(),e.YNc(102,gy,3,2,"div",11),e.TgZ(103,"mat-form-field",12),e._UZ(104,"input",33),e.ALo(105,"translate"),e.ALo(106,"translate"),e.qZA()()()(),e.TgZ(107,"div",7)(108,"div",32)(109,"div",8)(110,"h5",9),e._uU(111),e.ALo(112,"translate"),e.TgZ(113,"span",10),e._uU(114,"*"),e.qZA()(),e.YNc(115,vy,3,2,"div",11),e.TgZ(116,"mat-form-field",12),e._UZ(117,"input",34),e.ALo(118,"translate"),e.ALo(119,"translate"),e.qZA()()()()(),e.TgZ(120,"div",5)(121,"div",7)(122,"div",8)(123,"h5",9),e._uU(124),e.ALo(125,"translate"),e.TgZ(126,"span",10),e._uU(127,"*"),e.qZA()(),e.YNc(128,yy,2,1,"div",11),e.TgZ(129,"mat-form-field",12),e._UZ(130,"input",35),e.ALo(131,"translate"),e.ALo(132,"translate"),e.qZA()()(),e.TgZ(133,"div",7)(134,"div",8)(135,"h5",9),e._uU(136),e.ALo(137,"translate"),e.TgZ(138,"span",10),e._uU(139,"*"),e.qZA()(),e.YNc(140,Cy,2,1,"div",11),e.TgZ(141,"mat-form-field",12)(142,"mat-select",36),e.ALo(143,"translate"),e.YNc(144,Ay,2,2,"mat-option",37),e.qZA()()()(),e.TgZ(145,"div",7)(146,"div",8)(147,"h5",9),e._uU(148),e.ALo(149,"translate"),e.TgZ(150,"span",10),e._uU(151,"*"),e.qZA()(),e.YNc(152,Sy,2,1,"div",11),e.TgZ(153,"mat-form-field",12)(154,"mat-select",38),e.NdJ("selectionChange",function(c){return o.changePurposeofTravel(c)}),e.ALo(155,"translate"),e.YNc(156,xy,2,2,"mat-option",37),e.qZA()()()(),e.TgZ(157,"div",7)(158,"div",8)(159,"h5",9),e._uU(160),e.ALo(161,"translate"),e.TgZ(162,"span",10),e._uU(163,"*"),e.qZA()(),e.TgZ(164,"mat-form-field",12)(165,"mat-select",39),e.NdJ("selectionChange",function(c){return o.ffServiceFeeCalculation(c)}),e.YNc(166,Ly,2,2,"mat-option",37),e.qZA()()()()(),e.TgZ(167,"div",5)(168,"div",7)(169,"div",8)(170,"h5",9),e._uU(171),e.ALo(172,"translate"),e.TgZ(173,"span",10),e._uU(174,"*"),e.qZA()(),e.YNc(175,Zy,2,1,"div",11),e.TgZ(176,"div",40)(177,"input",41,42),e.NdJ("change",function(){return o.validateTravelDate(o.formGroup.value.travellingDate,"traveldate")})("ngModelChange",function(c){return o.validateTravelDate(c,"traveldate")})("dateSelect",function(){return o.ffDatePickerGA("travellingDate")}),e.ALo(179,"translate"),e.qZA(),e.TgZ(180,"div",43),e.NdJ("click",function(){return e.CHM(n),e.MAs(178).toggle()}),e.qZA()()()()()()(),e.TgZ(181,"div",5)(182,"div",44)(183,"button",45),e.NdJ("click",function(){return o.onInitiatePay()}),e._uU(184),e.ALo(185,"translate"),e.qZA()()()()()()}2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,69,"formFilling.headerLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(7,71,"formFilling.headerLabel.label2")),e.xp6(2),e.Q6J("formGroup",o.formGroup),e.xp6(6),e.Q6J("ngClass",e.VKq(143,dt,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.firstName?null:o.formGroup.controls.firstName.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.firstName?null:o.formGroup.controls.firstName.invalid))),e.xp6(2),e.hij("",e.lcZ(17,73,"formFilling.formLabel.label1")," "),e.xp6(4),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.firstName?null:o.formGroup.controls.firstName.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.firstName?null:o.formGroup.controls.firstName.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(23,75,"formFilling.placeholder.label1")),e.uIk("aria-label",e.lcZ(24,77,"formFilling.formLabel.label1")),e.xp6(4),e.Q6J("ngClass",e.VKq(145,dt,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.lastName?null:o.formGroup.controls.lastName.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.lastName?null:o.formGroup.controls.lastName.invalid))),e.xp6(2),e.Oqu(e.lcZ(29,79,"formFilling.formLabel.label2")),e.xp6(4),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.lastName?null:o.formGroup.controls.lastName.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.lastName?null:o.formGroup.controls.lastName.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(35,81,"formFilling.placeholder.label2")),e.uIk("aria-label",e.lcZ(36,83,"formFilling.formLabel.label2")),e.xp6(5),e.Q6J("ngClass",e.VKq(147,dt,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.email?null:o.formGroup.controls.email.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.email?null:o.formGroup.controls.email.invalid))),e.xp6(2),e.Oqu(e.lcZ(42,85,"formFilling.formLabel.label3")),e.xp6(4),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.email?null:o.formGroup.controls.email.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.email?null:o.formGroup.controls.email.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(48,87,"formFilling.placeholder.label3")),e.uIk("aria-label",e.lcZ(49,89,"formFilling.formLabel.label3")),e.xp6(5),e.Q6J("ngIf",o.dialCode),e.xp6(2),e.Q6J("ngClass",e.VKq(149,dt,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.phoneNumber?null:o.formGroup.controls.phoneNumber.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.phoneNumber?null:o.formGroup.controls.phoneNumber.invalid))),e.xp6(2),e.Oqu(e.lcZ(57,91,"formFilling.formLabel.label4")),e.xp6(4),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.phoneNumber?null:o.formGroup.controls.phoneNumber.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.phoneNumber?null:o.formGroup.controls.phoneNumber.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(63,93,"formFilling.placeholder.label4")),e.uIk("aria-label",e.lcZ(64,95,"formFilling.formLabel.label4")),e.xp6(8),e.Oqu(e.lcZ(71,97,"formFilling.headerLabel.label1")),e.xp6(4),e.hij(" ",e.lcZ(75,99,"formFilling.formLabel.label11")," "),e.xp6(2),e.Q6J("ngIf",0==o.totalPassenger),e.xp6(1),e.Q6J("ngIf",0!=o.totalPassenger),e.xp6(3),e.hij(" ",o.serviceForApplicant[0].taxName," "),e.xp6(2),e.hij(" ",e.xi3(83,101,o.totalGST,"1.2-2")," "),e.xp6(4),e.hij(" ",e.lcZ(87,104,"formFilling.formLabel.label13")," "),e.xp6(3),e.hij(" ",e.xi3(90,106,o.grandTotal,"1.2-2")," "),e.xp6(7),e.Q6J("ngClass",e.VKq(151,dt,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.applyingFrom?null:o.formGroup.controls.applyingFrom.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.applyingFrom?null:o.formGroup.controls.applyingFrom.invalid))),e.xp6(2),e.Oqu(e.lcZ(99,109,"formFilling.formLabel.label5")),e.xp6(4),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.applyingFrom?null:o.formGroup.controls.applyingFrom.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.applyingFrom?null:o.formGroup.controls.applyingFrom.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(105,111,"formFilling.placeholder.label5")),e.uIk("aria-label",e.lcZ(106,113,"formFilling.formLabel.label5")),e.xp6(5),e.Q6J("ngClass",e.VKq(153,dt,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.travellingTo?null:o.formGroup.controls.travellingTo.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.travellingTo?null:o.formGroup.controls.travellingTo.invalid))),e.xp6(2),e.Oqu(e.lcZ(112,115,"formFilling.formLabel.label6")),e.xp6(4),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.travellingTo?null:o.formGroup.controls.travellingTo.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.travellingTo?null:o.formGroup.controls.travellingTo.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(118,117,"formFilling.placeholder.label10")),e.uIk("aria-label",e.lcZ(119,119,"formFilling.formLabel.label6")),e.xp6(5),e.Q6J("ngClass",e.VKq(155,dt,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.myPassportIsFrom?null:o.formGroup.controls.myPassportIsFrom.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.myPassportIsFrom?null:o.formGroup.controls.myPassportIsFrom.invalid))),e.xp6(2),e.Oqu(e.lcZ(125,121,"formFilling.formLabel.label7")),e.xp6(4),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.myPassportIsFrom?null:o.formGroup.controls.myPassportIsFrom.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.myPassportIsFrom?null:o.formGroup.controls.myPassportIsFrom.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(131,123,"formFilling.placeholder.label5")),e.uIk("aria-label",e.lcZ(132,125,"formFilling.formLabel.label5")),e.xp6(4),e.Q6J("ngClass",e.VKq(157,dt,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.nationality?null:o.formGroup.controls.nationality.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.nationality?null:o.formGroup.controls.nationality.invalid))),e.xp6(2),e.Oqu(e.lcZ(137,127,"eligibilityCriteria.formLabel.label15")),e.xp6(4),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.nationality?null:o.formGroup.controls.nationality.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.nationality?null:o.formGroup.controls.nationality.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(143,129,"eligibilityCriteria.placeholder.label4")),e.xp6(2),e.Q6J("ngForOf",o.nationalityList),e.xp6(2),e.Q6J("ngClass",e.VKq(159,dt,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.purposeOfTravel?null:o.formGroup.controls.purposeOfTravel.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.purposeOfTravel?null:o.formGroup.controls.purposeOfTravel.invalid))),e.xp6(2),e.Oqu(e.lcZ(149,131,"formFilling.formLabel.label8")),e.xp6(4),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.purposeOfTravel?null:o.formGroup.controls.purposeOfTravel.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.purposeOfTravel?null:o.formGroup.controls.purposeOfTravel.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(155,133,"formFilling.placeholder.label7")),e.xp6(2),e.Q6J("ngForOf",o.subVisaCategoryList),e.xp6(2),e.Q6J("ngClass",e.VKq(161,dt,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.numberOfPassengers?null:o.formGroup.controls.numberOfPassengers.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.numberOfPassengers?null:o.formGroup.controls.numberOfPassengers.invalid))),e.xp6(2),e.Oqu(e.lcZ(161,135,"formFilling.formLabel.label9")),e.xp6(6),e.Q6J("ngForOf",o.numberOfPassengersList),e.xp6(3),e.Q6J("ngClass",e.VKq(163,dt,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.travellingDate?null:o.formGroup.controls.travellingDate.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.travellingDate?null:o.formGroup.controls.travellingDate.invalid))),e.xp6(2),e.Oqu(e.lcZ(172,137,"formFilling.formLabel.label10")),e.xp6(4),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.travellingDate?null:o.formGroup.controls.travellingDate.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.travellingDate?null:o.formGroup.controls.travellingDate.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(179,139,"formFilling.placeholder.label9")),e.Q6J("readonly",!0)("value",o.dateFormatTravelDate)("minDate",o.travelStartDate),e.xp6(6),e.Q6J("disabled",o.formGroup.invalid),e.xp6(1),e.Oqu(e.lcZ(185,141,"formFilling.buttons.button1")))},directives:[r._Y,r.JL,r.sg,w.mk,w.O5,q.KE,u.Nt,r.Fj,r.JJ,r.u,r.wO,r.nD,r.Q7,ae.gD,w.sg,te.ey,J.J4,V.lW],pipes:[D.X$,w.JJ],encapsulation:2}),i})();function Oy(i,s){1&i&&(e.TgZ(0,"mat-card",4)(1,"p",5),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.infoMessages.message1")))}function Ey(i,s){if(1&i&&(e.ynx(0),e.YNc(1,Oy,4,3,"mat-card",3),e.BQk()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.alreadyConfirm)}}function ky(i,s){if(1&i&&(e.TgZ(0,"section",1),e.YNc(1,Ey,2,1,"ng-container",2),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.successPaymentData&&"False"===t.successPaymentData.PaymentStatus)}}let wy=(()=>{class i extends Ze.o{constructor(t,o,n){super(),this.baseService=t,this.activatedRoute=o,this.dialog=n,this.successPaymentData={},this.currencyCode=this.sessionService.currencyCode||"",this.alreadyConfirm="",this.requestComplete=!1}ngOnInit(){this.sessionService.updateJwtFF(this.sessionService.jwtToken),this.confirmPaymentFF()}confirmPaymentFF(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){const n=this.sessionService.tenent,l=this.sessionService.countryCode,c=null===(t=this.activatedRoute.snapshot.queryParams)||void 0===t?void 0:t.TransactionId,d=null===(o=this.activatedRoute.snapshot.queryParams)||void 0===o?void 0:o.PaymentStatus;var _=JSON.parse(this.sessionService.ffApplicantDetails);const f={missionCode:n,countryCode:l,loginUser:_.email,urn:_.urn,bankReferenceNo:c,requestReferenceNo:_.requestRefNo,amount:_.totalAmount,currency:_.currency,isFormFillingService:!0},h=yield this.httpService.payloadPost(p.gT.api.confirmSevicePayment,f).toPromise().then(T=>T).catch(T=>T);h&&null==h.error?(this.sessionService.ffPaymentDetails=h,this.commonService.routeToFFTransactionSummary()):("False"==d||h.error&&h.error.code)&&(this.requestComplete=!0,this.successPaymentData={PaymentStatus:"False"})})}showErrorMsgPopup(t,o){try{const n=this.dialog.open(nt,{data:t});n.afterClosed().subscribe(l=>(0,v.mG)(this,void 0,void 0,function*(){1069===o&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner())})),this.router.events.subscribe(()=>{n.close()})}catch(n){throw n}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(qe),e.Y36(B.gz),e.Y36(oe.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ff-payment-confirmation"]],features:[e.qOj],decls:1,vars:1,consts:[["class","container py-15 py-md-30",4,"ngIf"],[1,"container","py-15","py-md-30"],[4,"ngIf"],["class","form-card mb-20 mb-sm-50",4,"ngIf"],[1,"form-card","mb-20","mb-sm-50"],[1,"c-brand-grey-para","fs-sm-18","mb-8"]],template:function(t,o){1&t&&e.YNc(0,ky,2,1,"section",0),2&t&&e.Q6J("ngIf",o.requestComplete)},directives:[w.O5,X.a8],pipes:[D.X$],encapsulation:2}),i})();function Fy(i,s){if(1&i&&(e.TgZ(0,"section",1)(1,"h3",2),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"h2"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p",3),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,4,"formFilling.headerLabel.label5"),""),e.xp6(3),e.AsE("",e.lcZ(6,6,"formFilling.headerLabel.label6")," ",t.ffPaymentDetails.orderNumber,""),e.xp6(3),e.hij(" ",e.lcZ(9,8,"formFilling.pageDetails.para26"),"")}}let My=(()=>{class i extends Ze.o{constructor(t){super(),this.baseService=t,this.ffServiceForApplicant=this.sessionService.ffServiceForApplicant}ngOnInit(){this.ffPaymentDetails=this.sessionService.ffPaymentDetails,this.utilityService.pushDataLayerFFGA({dl_event:"thank_you_page",dl_category:"booking_sucessful",dl_action:"visa_application_successful",entry_point:"NA",payment_gateway_name:"NA",value:this.ffPaymentDetails.orderNumber})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(qe))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ff-transaction-summary"]],features:[e.qOj],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mt-10",2,"color","rgb(42 71 102)"],[1,"c-brand-grey-para","fs-sm-18","mb-8"]],template:function(t,o){1&t&&e.YNc(0,Fy,10,10,"section",0),2&t&&e.Q6J("ngIf",o.ffPaymentDetails)},directives:[w.O5],pipes:[D.X$],encapsulation:2}),i})();var Py=A(7206),yi=A.n(Py);function Uy(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().close()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"usagss.headerLabel.label23")," "))}let gn=(()=>{class i extends a.e{constructor(t,o,n){super(),this.dialog=t,this.data=o,this.dialogRef=n,n.disableClose=!0}close(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.uw),e.Y36(oe.WI),e.Y36(oe.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-usagss-modal"]],features:[e.qOj],decls:10,vars:5,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"fs-18","fs-sm-21"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],["mat-stroked-button","","class","btn btn-brand-secondary w-30 float-right",3,"click",4,"ngIf"],["mat-stroked-button","",1,"btn","btn-brand-secondary","w-30","float-right",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.TgZ(2,"h4",2),e._UZ(3,"i",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"hr",4),e.TgZ(7,"p",5),e._uU(8),e.qZA(),e.YNc(9,Uy,3,3,"button",6),e.qZA()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,3,"usagss.headerLabel.label22")," "),e.xp6(4),e.Oqu(o.data.paymentAlreadyInitiated?o.data.paymentAlreadyInitiated:o.data),e.xp6(1),e.Q6J("ngIf",o.data.paymentAlreadyInitiated))},directives:[w.O5,V.lW],pipes:[D.X$],encapsulation:2}),i})();var qy=A(1404),uo=A(5254);let po=(()=>{class i{constructor(t){this.httpClient=t,this.cdaClient=(0,qy.e)({space:re.N.contentful.space,accessToken:re.N.contentful.value,host:re.N.contentful.host,basePath:re.N.contentful.basePath})}getTranslation(){const t=localStorage.getItem("app_mission_language");let o;o=t?JSON.parse(t):[];const n=window.location.pathname.split("/");let l;l="",window.location.pathname.split("/").indexOf("confirmation")>-1&&(l=localStorage.getItem("app_language_code")||""),l=l||n[2];var c=`${n[3]} > ${l} > ${n[1]}`,d=`${n[3]} > ${l}`;let f;if((n.includes("visafee-handshake")||n.includes("blg-handshake"))&&(l=localStorage.getItem("app_language_code")||"",c=`${localStorage.getItem("tenent")} > ${l} > ${localStorage.getItem("countrycode")}`,d=`${localStorage.getItem("tenent")} > ${l}`),f=[c,d],l&&f.push(l),f.push("vfs"),re.N.localtranslation){const h=re.N.defaultLang;this.cultureCode=re.N.defaultCultureCode;const T=this.localLoad(h);return(0,uo.D)(T)}return(0,uo.D)(this.cdaClient.getEntries({content_type:"i18n","fields.locale":f.join("&")}).then(h=>{var T;if((null===(T=h.items)||void 0===T?void 0:T.length)>0)return this.cultureCode=h.items[0].fields.languageJson.culturecode||re.N.defaultCultureCode,h.items[0].fields.languageJson;{const I=l||"en";return this.cultureCode=re.N.defaultCultureCode,this.localLoad(I)}},h=>{const T=l||"en";return this.cultureCode=re.N.defaultCultureCode,this.localLoad(T)}))}localLoad(t){return new Promise((o,n)=>{this.httpClient.get(`_angular/assets/i18n/${t}.json`).subscribe(l=>{o(l)})})}set cultureCode(t){localStorage.setItem(p.Y2,t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(vt.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Gy=["captchaContainer"];let _n=(()=>{class i extends a.e{constructor(t,o,n,l,c,d){super(),this.activatedRoute=t,this.contentfulService=o,this.translateService=n,this.baseService=l,this.dialog=c,this.translate=d,this.cgiVisaFeeData={amount:"",countryCode:"",currency:"",languageCode:"",paymentExpiery:"",uniqueReferenceNumber:"",paymentMode:""}}ngOnInit(){(new Date).getTimezoneOffset(),this.getToken()}getToken(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.subs.sink=this.activatedRoute.queryParamMap.subscribe(t=>(0,v.mG)(this,void 0,void 0,function*(){var o,n,l,c,d,_,f,h;if(null==t?void 0:t.has("UniqueReferenceNumber")){if(window.location.pathname){var T=t.get("UniqueReferenceNumber");T=T.substring(0,3),this.sessionService.paymentMode=t.get("PaymentMode"),this.missionName=null===(o=Vt.xK("USA"))||void 0===o?void 0:o.country,this.countyName=null===(n=Vt.xK(T))||void 0===n?void 0:n.country,this.missionCode="USA",this.countyCode=T,this.cultureCode="en-Us",this.sessionService.countryCode=String(this.countyCode).toLowerCase(),this.sessionService.tenent=String(this.missionCode).toLowerCase(),this.sessionService.appLanguageCode=String("en").toLowerCase(),this.sessionService.appCultureCode=String("en-us").toLowerCase(),this.translate.use(this.sessionService.appLanguageCode),this.loadConfiguration(),yield this.getPayVisaFeeSchema()}const R=`${p.gT.api.paymentReference}/`+t.get("UniqueReferenceNumber"),U=yield this.httpService.doGet(R).toPromise().then(ie=>ie).catch(ie=>{console.log(ie),0!=ie.status||this.showErrorMsgPopup(p.Wh.servererror,ie.status)});if(U.error&&(null===(l=U.error)||void 0===l?void 0:l.code)&&null==(null===(c=U.details)||void 0===c?void 0:c.expiration)){const ie=U.error.description;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(ie,U.error.code)}else if(null==U.error){const ie=U.details.expiration,he=this.utilityService.momentInstance(ie,"YYYY-MM-DD").format("YYYYMMDD"),_e={uniqueReferenceNumber:t.get("UniqueReferenceNumber"),applicants:String(U.details.applicants),amount:U.details.totalfeelocal.amount,currency:U.details.totalfeelocal.currencycode,languageCode:"en-US",countryCode:this.sessionService.countryCode,paymentExpiery:he,paymentMode:t.get("PaymentMode")};this.sessionService.paymentExpiryDate=this.sessionService.applicationConfiguration&&"ONLINENEFT"==_e.paymentMode?this.utilityService.momentInstance(ie,"YYYY-MM-DD").format("yyyy/MM/DD")+" "+this.sessionService.applicationConfiguration.usagssNEFTPaymentExpiryTime:"",this.sessionService.saveUsagssCgiData=_e;var I=this.signToken(_e,"");this.initiatePaymentParam={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,grnURN:_e.uniqueReferenceNumber,paymentMode:_e.paymentMode,loginuser:_e.uniqueReferenceNumber,centerCode:"",PaymentExpiryDate:this.sessionService.paymentExpiryDate};var S=yield this.httpService.payloadWithoutTokenPost(p.gT.api.gssInitiatePayment,this.initiatePaymentParam).toPromise().then(pe=>pe).catch(pe=>pe);if(null==S.error||1020==S.error.code||1111==S.error.code){const pe=yield this.httpService.payloadWithoutTokenPost(p.gT.api.visafeeHandshake,{missionCode:this.missionCode,countryCode:this.countyCode,token:I}).toPromise().then(Q=>Q).catch(Q=>Q);if(null!=pe.error){if(pe.error&&pe.error.code){const Q=pe.error.description;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(Q,pe.error.code)}throw new Error(pe.error.description)}this.sessionService.saveUsagssApplicantDetails=pe,this.sessionService.usagssChalanDescription=S,this.commonService.routeToUsaGssApplicantDetails()}else if(S.error&&1140==S.error.code){const pe=p.Wh.paymentsucess;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(pe,S.error.code)}else if(S.error&&1141==S.error.code){const pe=p.Wh.paymentpending;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(pe,S.error.code)}else if((null==S?void 0:S.error)&&1115==(null===(d=null==S?void 0:S.error)||void 0===d?void 0:d.code)){const pe=S.error.description;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(pe,S.error.code)}else if((null==S?void 0:S.error)&&1003==(null===(_=null==S?void 0:S.error)||void 0===_?void 0:_.code)){const pe=null===(f=null==S?void 0:S.error)||void 0===f?void 0:f.description;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(pe,S.error.code)}else{const pe=null===(h=null==S?void 0:S.error)||void 0===h?void 0:h.description;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(pe,S.error.code)}}else{const ie=U.error.description;this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(ie,U.error.code)}}else this.commonService.routeToNotFound()}))}catch(t){}})}getPayVisaFeeSchema(){return(0,v.mG)(this,void 0,void 0,function*(){try{yield this.commonService.UsagssPostLoginActivity(this.baseService,[],"visafee",!1);var t=this.sessionService.getApplicationSchema();t.modules.forEach(n=>{n.controls.forEach(l=>{l.fields.forEach(c=>{"dropdown"==c.fieldType&&(c.optionsListApi.online.url=`${c.optionsListApi.online.url}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appCultureCode}`)})})}),this.sessionService.saveFullApplicationSchemaInBrowser(t),this.sessionService.saveApplicationSchemaInBrowser(t)}catch(n){}})}loadConfiguration(){return(0,v.mG)(this,void 0,void 0,function*(){const t=yield this.commonService.loadConfigurationWithoutVac();return t&&(this.sessionService.applicationConfiguration=t,this.appConfiguration=t),t})}base64url(t){let o=yi().enc.Base64.stringify(t);return o=o.replace(/=+$/,""),o=o.replace(/\+/g,"-"),o=o.replace(/\//g,"_"),o}encodeToken(t){var n=yi().enc.Utf8.parse(JSON.stringify({alg:"HS256",typ:"JWT"})),l=this.base64url(n),c=yi().enc.Utf8.parse(JSON.stringify(t));return l+"."+this.base64url(c)}signToken(t,o){var n=o;let l=this.encodeToken(t);var c=yi().HmacSHA256(l,n);return l+"."+this.base64url(c)}showErrorMsgPopup(t,o){try{const n=this.dialog.open(gn,{data:t});n.afterClosed().subscribe(l=>(0,v.mG)(this,void 0,void 0,function*(){1069===o&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner())})),this.router.events.subscribe(()=>{n.close()})}catch(n){}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B.gz),e.Y36(Ye.a),e.Y36(po),e.Y36(qe),e.Y36(oe.uw),e.Y36(D.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-usagss-visafee-handshake"]],viewQuery:function(t,o){if(1&t&&e.Gf(Gy,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:0,vars:0,template:function(t,o){},encapsulation:2}),i})();const Vy=["captchaContainer"];function Ry(i,s){if(1&i&&(e.TgZ(0,"p",8),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(e.xi3(2,1,t.paymentExpiryDate,"dd/MM/YYYY"))}}function Jy(i,s){1&i&&(e.TgZ(0,"div",27)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.errorMessages.message13")))}function Yy(i,s){1&i&&(e.TgZ(0,"div",27)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"gssYourDetails.messages.errorMessages.message1")))}function Qy(i,s){1&i&&(e.TgZ(0,"div",27)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"applicantInformation.messages.errorMessages.message13")))}function By(i,s){1&i&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"gssYourDetails.messages.errorMessages.message1")," "))}function jy(i,s){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,By,3,3,"div",16),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.firstName||null==t.currentFormGroup.controls.firstName.errors?null:t.currentFormGroup.controls.firstName.errors.required)}}function Hy(i,s){1&i&&(e.TgZ(0,"div",27)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.errorMessages.message13")))}function $y(i,s){1&i&&(e.TgZ(0,"div",27)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"gssYourDetails.messages.errorMessages.message2")))}function Wy(i,s){1&i&&(e.TgZ(0,"div",27)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"applicantInformation.messages.errorMessages.message14")))}function Ky(i,s){1&i&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"gssYourDetails.messages.errorMessages.message2")," "))}function zy(i,s){if(1&i&&(e.TgZ(0,"div",28),e.YNc(1,Ky,3,3,"div",16),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.lastName||null==t.currentFormGroup.controls.lastName.errors?null:t.currentFormGroup.controls.lastName.errors.required)}}function Xy(i,s){1&i&&(e.TgZ(0,"div",27)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.errorMessages.message3")))}function eb(i,s){1&i&&(e.TgZ(0,"div",27)(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"formFilling.messages.errorMessages.message7")))}function tb(i,s){if(1&i&&(e.TgZ(0,"div",29),e.YNc(1,Xy,4,3,"div",16),e.YNc(2,eb,4,3,"div",16),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.email||null==t.currentFormGroup.controls.email.errors?null:t.currentFormGroup.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.email?null:t.currentFormGroup.controls.email.hasError("pattern"))}}function ib(i,s){if(1&i&&e._UZ(0,"p",30),2&i){const t=e.oxw(2);e.Q6J("innerHTML",null==t.sessionService.usagssApplicantDetails?null:t.sessionService.usagssApplicantDetails.vfsHandshakePageInstruction1,e.oJD)}}function ob(i,s){if(1&i&&(e.TgZ(0,"p",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",(null==t.sessionService.usagssApplicantDetails?null:t.sessionService.usagssApplicantDetails.vfsHandshakePageInstruction2)||""," ")}}function nb(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card",2)(2,"h1",3),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"mat-card",2)(6,"h2",4),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"form")(10,"mat-card",5)(11,"div",6)(12,"p",7),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"p",8),e._uU(16),e.qZA()(),e.TgZ(17,"div",6)(18,"p",7),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"p",8),e._uU(22),e.qZA()(),e.TgZ(23,"div",6)(24,"p",7),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.YNc(27,Ry,3,4,"p",9),e.qZA()(),e.TgZ(28,"mat-card",5)(29,"div",10)(30,"form",11)(31,"div",12)(32,"div",13)(33,"h5",14),e._uU(34),e.ALo(35,"translate"),e.TgZ(36,"span",15),e._uU(37,"*"),e.qZA()(),e.YNc(38,Jy,4,3,"div",16),e.YNc(39,Yy,4,3,"div",16),e.YNc(40,Qy,4,3,"div",16),e.YNc(41,jy,2,1,"div",17),e.TgZ(42,"mat-form-field",18),e._UZ(43,"input",19),e.ALo(44,"translate"),e.ALo(45,"translate"),e.qZA()()(),e.TgZ(46,"div",12)(47,"div",13)(48,"h5",14),e._uU(49),e.ALo(50,"translate"),e.TgZ(51,"span",15),e._uU(52,"*"),e.qZA()(),e.YNc(53,Hy,4,3,"div",16),e.YNc(54,$y,4,3,"div",16),e.YNc(55,Wy,4,3,"div",16),e.YNc(56,zy,2,1,"div",17),e.TgZ(57,"mat-form-field",18),e._UZ(58,"input",20),e.ALo(59,"translate"),e.ALo(60,"translate"),e.qZA()()(),e.TgZ(61,"div",12)(62,"div",13)(63,"h5",14),e._uU(64),e.ALo(65,"translate"),e.TgZ(66,"span",15),e._uU(67,"*"),e.qZA()(),e.YNc(68,tb,3,2,"div",21),e.TgZ(69,"mat-form-field",18),e._UZ(70,"input",22),e.ALo(71,"translate"),e.ALo(72,"translate"),e.qZA()()()()()()(),e.TgZ(73,"mat-card",23),e.YNc(74,ib,1,1,"p",24),e.TgZ(75,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().OnCheckProceedToPay()}),e._uU(76),e.ALo(77,"translate"),e.qZA(),e.YNc(78,ob,2,1,"p",26),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,32,"usagss.headerLabel.label1")),e.xp6(4),e.Oqu(e.lcZ(8,34,"usagss.headerLabel.label2")),e.xp6(6),e.Oqu(e.lcZ(14,36,"usagss.headerLabel.label11")),e.xp6(3),e.Oqu(t.cgiData.uniqueReferenceNumber),e.xp6(3),e.Oqu(e.lcZ(20,38,"usagss.headerLabel.label12")),e.xp6(3),e.AsE("",t.cgiData.currency," ",t.cgiData.amount,""),e.xp6(3),e.Oqu(e.lcZ(26,40,"usagss.headerLabel.label13")),e.xp6(2),e.Q6J("ngIf",t.paymentExpiryDate),e.xp6(3),e.Q6J("formGroup",t.currentFormGroup),e.xp6(4),e.Oqu(e.lcZ(35,42,"gssYourDetails.formLabel.label2")),e.xp6(4),e.Q6J("ngIf",null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.firstName?null:t.currentFormGroup.controls.firstName.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.firstName?null:t.currentFormGroup.controls.firstName.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.firstName||null==t.currentFormGroup.controls.firstName.errors?null:t.currentFormGroup.controls.firstName.errors.pattern),e.xp6(1),e.Q6J("ngIf",(null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.firstName?null:t.currentFormGroup.controls.firstName.touched)&&(null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.firstName?null:t.currentFormGroup.controls.firstName.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(44,44,"gssYourDetails.placeholder.label2")),e.uIk("aria-label",e.lcZ(45,46,"formFilling.formLabel.label1")),e.xp6(6),e.Oqu(e.lcZ(50,48,"gssYourDetails.formLabel.label3")),e.xp6(4),e.Q6J("ngIf",null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.lastName?null:t.currentFormGroup.controls.lastName.hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.lastName?null:t.currentFormGroup.controls.lastName.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.lastName||null==t.currentFormGroup.controls.lastName.errors?null:t.currentFormGroup.controls.lastName.errors.pattern),e.xp6(1),e.Q6J("ngIf",(null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.lastName?null:t.currentFormGroup.controls.lastName.touched)&&(null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.lastName?null:t.currentFormGroup.controls.lastName.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(59,50,"gssYourDetails.placeholder.label3")),e.uIk("aria-label",e.lcZ(60,52,"formFilling.formLabel.label1")),e.xp6(6),e.Oqu(e.lcZ(65,54,"gssYourDetails.formLabel.label6")),e.xp6(4),e.Q6J("ngIf",(null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.email?null:t.currentFormGroup.controls.email.touched)&&(null==t.currentFormGroup||null==t.currentFormGroup.controls||null==t.currentFormGroup.controls.email?null:t.currentFormGroup.controls.email.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(71,56,"gssYourDetails.placeholder.label7")),e.uIk("aria-label",e.lcZ(72,58,"formFilling.formLabel.label1")),e.xp6(4),e.Q6J("ngIf",null==t.sessionService.usagssApplicantDetails?null:t.sessionService.usagssApplicantDetails.vfsHandshakePageInstruction1),e.xp6(1),e.Q6J("disabled",t.currentFormGroup.invalid),e.xp6(1),e.hij(" ",e.lcZ(77,60,"usagss.buttons.button1")," "),e.xp6(2),e.Q6J("ngIf",null==t.sessionService.usagssApplicantDetails?null:t.sessionService.usagssApplicantDetails.vfsHandshakePageInstruction2)}}function ab(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",39)(2,"div",40),e._UZ(3,"i",41),e.TgZ(4,"div"),e._uU(5),e.qZA()()(),e.BQk()),2&i){const t=e.oxw(2);e.xp6(5),e.Oqu(t.proceedFailMsg)}}function sb(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"form")(2,"mat-card",32),e.YNc(3,ab,6,1,"ng-container",1),e.TgZ(4,"h1",33),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p",34),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div")(11,"h2",35)(12,"b"),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"p",36),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"p",36),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"p",36),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"h2",35)(25,"b"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"p",36),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"h2",35)(32,"b"),e._uU(33),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"p",36),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"p",36),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"p",36),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"p",36),e._uU(45),e.ALo(46,"translate"),e.qZA()(),e.TgZ(47,"div",12)(48,"div",37)(49,"button",38),e.NdJ("click",function(){return e.CHM(t),e.oxw().Cancel()}),e._uU(50),e.ALo(51,"translate"),e.qZA()(),e.TgZ(52,"div",37)(53,"button",38),e.NdJ("click",function(){return e.CHM(t),e.oxw().initiatePay()}),e._uU(54),e.ALo(55,"translate"),e.qZA()()()()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.proceedFailMsg),e.xp6(2),e.Oqu(e.lcZ(6,16,"reviewAndPayment.headerLabel.label9")),e.xp6(3),e.Oqu(e.lcZ(9,18,"reviewAndPayment.pageDetails.para4")),e.xp6(5),e.Oqu(e.lcZ(14,20,"reviewAndPayment.pageDetails.para5")),e.xp6(3),e.Oqu(e.lcZ(17,22,"reviewAndPayment.pageDetails.para6")),e.xp6(3),e.Oqu(e.lcZ(20,24,"reviewAndPayment.pageDetails.para7")),e.xp6(3),e.Oqu(e.lcZ(23,26,"reviewAndPayment.pageDetails.para8")),e.xp6(4),e.Oqu(e.lcZ(27,28,"reviewAndPayment.pageDetails.para9")),e.xp6(3),e.Oqu(e.lcZ(30,30,"reviewAndPayment.pageDetails.para10")),e.xp6(4),e.Oqu(e.lcZ(34,32,"reviewAndPayment.pageDetails.para11")),e.xp6(3),e.Oqu(e.lcZ(37,34,"reviewAndPayment.pageDetails.para12")),e.xp6(3),e.Oqu(e.lcZ(40,36,"reviewAndPayment.pageDetails.para13")),e.xp6(3),e.Oqu(e.lcZ(43,38,"reviewAndPayment.pageDetails.para14")),e.xp6(3),e.Oqu(e.lcZ(46,40,"reviewAndPayment.pageDetails.para15")),e.xp6(5),e.hij(" ",e.lcZ(51,42,"reviewAndPayment.buttons.button2")," "),e.xp6(4),e.hij(" ",e.lcZ(55,44,"reviewAndPayment.buttons.button3")," ")}}let lb=(()=>{class i extends Ze.o{constructor(t,o){super(),this.dialog=t,this.baseService=o,this.scope=this,this.initBaseForm(p.gT.modules.USAGSS_VISAFEE_APPLICANTDETAILS),this.pgDisclaimer=!1,this.isPaymentOptionsPage=!1,this.proceedFailMsg=""}ngOnInit(){const t=this.sessionService.isGetChalanDescription();if(t.paymentAlreadyInitiated){const o=t.paymentAlreadyInitiated;this.utilityService.stopNgxUiSpinner(),this.showErrorChallanPopup(o,t)}this.sessionService.usagssCgiData&&(this.cgiData=this.sessionService.usagssCgiData,this.paymentExpiryDate=`${this.cgiData.paymentExpiery.substring(0,4)}-${this.cgiData.paymentExpiery.substring(4,6)}-${this.cgiData.paymentExpiery.substring(6,8)}`),this.sessionService.paymentProcessType="VFP",this.currentFormGroup=new r.cw({firstName:new r.NI("",[r.kI.pattern("^[a-zA-Z][a-zA-Z ]+$"),r.kI.required]),lastName:new r.NI("",[r.kI.pattern("^[a-zA-Z]+$"),r.kI.required]),email:new r.NI("",[r.kI.pattern(p.Wg.email_caps_allowed),r.kI.required])})}getPayVisaFeeSchema(){return(0,v.mG)(this,void 0,void 0,function*(){try{yield this.commonService.UsagssPostLoginActivity(this.baseService,[],"visafee",!1),this.sessionService.getApplicationSchema().modules.forEach(n=>{n.controls.forEach(l=>{l.fields.forEach(c=>{"dropdown"==c.fieldType&&(c.optionsListApi.online.url=c.optionsListApi.online.url+"/usa/rus/ru-Ru")})})})}catch(n){}})}OnCheckProceedToPay(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){this.sessionService.updateLoggedEmail(this.currentFormGroup.contains("email")?null===(t=this.currentFormGroup.value)||void 0===t?void 0:t.email:null===(o=this.currentFormGroup.value)||void 0===o?void 0:o.email),this.pgDisclaimer=!0})}initiatePay(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.updatePaymentMode(),this.initiatePaymentParam={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,amount:Number(this.cgiData.amount),grnURN:this.sessionService.usagssApplicantDetails.gssUrn,paymentMode:this.sessionService.paymentMode,loginuser:this.sessionService.usagssApplicantDetails.gssUrn,centerCode:"",PaymentExpiryDate:this.sessionService.paymentExpiryDate,currency:this.cgiData.currency};var o=yield this.httpService.payloadWithoutTokenPost(p.gT.api.gssInitiatePayment,this.initiatePaymentParam).toPromise().then(c=>c).catch(c=>c);if(o.error&&o.error.code){const c=o.error.description;return this.utilityService.stopNgxUiSpinner(),void this.showErrorMsgPopup(c,o.error.code)}this.sessionService.appLanguageCode="en";const n=this.utilityService.convertKeystoLowercase(o);this.sessionService.paymentDetails=n;const l=this.cgiData.currency;if(this.sessionService.setCurrencyCode=l,"bank"==this.sessionService.paymentMode.toLowerCase()||"eft"==this.sessionService.paymentMode.toLowerCase()||"pos"==this.sessionService.paymentMode.toLowerCase())return void this.commonService.routeToUsaGssTransactionSummary();if(n.url){const c=`${n.url}?RequestRefNo=${n.requestrefno}&Currency=${l}&Culture=${this.sessionService.appCultureCode}&Amount=${this.cgiData.amount}&DigitalSignature=${n.digitalsignature}&RedirectURL=`;window.open(c,"_self")}}catch(n){}})}updatePaymentMode(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){this.updatePayModeParam={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,CenterCode:"",GSSURN:this.cgiData.uniqueReferenceNumber,PaymentModeCode:this.sessionService.paymentMode,CultureCode:this.sessionService.appCultureCode,firstName:this.currentFormGroup.value.firstName,lastName:this.currentFormGroup.value.lastName,emailId:this.currentFormGroup.value.email},this.sessionService.updateLoggedEmail(this.currentFormGroup.contains("email")?null===(t=this.currentFormGroup.value)||void 0===t?void 0:t.email:null===(o=this.currentFormGroup.value)||void 0===o?void 0:o.email),yield this.httpService.payloadWithoutTokenPost(p.gT.api.gssUpdatePaymentMode,this.updatePayModeParam).toPromise().then(c=>c).catch(c=>c)})}usagsspaymentmode(){return(0,v.mG)(this,void 0,void 0,function*(){const l=`${p.gT.api.usagssPaymentMode}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appCultureCode}`,c=yield this.httpService.doGet(l).toPromise().then(d=>d).catch(d=>d);c&&(this.paymentmodes=c)})}Cancel(){this.pgDisclaimer=!1}showErrorMsgPopup(t,o){try{const n=this.dialog.open(nt,{data:t});n.afterClosed().subscribe(l=>(0,v.mG)(this,void 0,void 0,function*(){1069===o&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner())})),this.router.events.subscribe(()=>{n.close()})}catch(n){}}showErrorChallanPopup(t,o){try{this.dialog.open(gn,{data:o.paymentAlreadyInitiated?o:t})}catch(n){}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.uw),e.Y36(qe))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-usagss-visafee-applicant-details"]],viewQuery:function(t,o){if(1&t&&e.Gf(Vy,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:3,vars:2,consts:[[1,"container","py-15","py-md-30"],[4,"ngIf"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"fs-sm-24","fs-sm-42","mb-30"],[1,"fs-sm-15","fs-sm-30","mb-20"],[1,"form-card","p-3","border-0","shadow-none","mat-card"],[1,"p-10","border-bottom-2",2,"background-color","rgb(237 237 237)"],[1,"c-brand-grey-para","mb-20","pl-10"],[1,"c-brand-grey-para","mb-2","pl-10","fw-600"],["class","c-brand-grey-para mb-2 pl-10 fw-600",4,"ngIf"],[1,"form-group","p-3"],[3,"formGroup"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","mt-20"],[1,"fs-sm-16","mb-10"],[1,"c-brand-error"],["class","errorMessage c-brand-error",4,"ngIf"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["matInput","","type","text","name","firstName","formControlName","firstName","autocomplete","off","attr.aria-required","true","minlength","2","maxlength","50",2,"text-transform","uppercase",3,"placeholder"],["matInput","","type","text","name","lastName","formControlName","lastName","autocomplete","off","attr.aria-required","true","minlength","1","maxlength","50",2,"text-transform","uppercase",3,"placeholder"],["class","errorMessage","aria-live","assertive",4,"ngIf"],["matInput","","type","text","name","email","formControlName","email","autocomplete","off","attr.aria-required","true",2,"text-transform","uppercase",3,"placeholder"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],["class","c-brand-grey-para mb-10 pl-10 fw-400",3,"innerHTML",4,"ngIf"],["type","button","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],["class","c-brand-grey-para mt-20 mb-2 pl-10 fw-600",4,"ngIf"],[1,"errorMessage","c-brand-error"],[1,"errorMessage"],["aria-live","assertive",1,"errorMessage"],[1,"c-brand-grey-para","mb-10","pl-10","fw-400",3,"innerHTML"],[1,"c-brand-grey-para","mt-20","mb-2","pl-10","fw-600"],[1,"form-card"],[1,"fs-24","fs-sm-42","mb-30"],[1,"c-brand-grey-para"],[1,"fs-18","fs-sm-24","mb-0"],[1,"fs-18","mt-8"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0),e.YNc(1,nb,79,62,"ng-container",1),e.YNc(2,sb,56,46,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",!o.pgDisclaimer),e.xp6(1),e.Q6J("ngIf",o.pgDisclaimer))},directives:[w.O5,X.a8,r._Y,r.JL,r.F,r.sg,q.KE,u.Nt,r.Fj,r.JJ,r.u,r.wO,r.nD,V.lW],pipes:[D.X$,w.uU],encapsulation:2}),i})();const Ne=JSON.parse('{"documentUpload":{"id":4,"displayName":"Accomodation Details","logicalName":"accomodationDetails","routeUrl":"accomodation-details","displayPosition":4,"controls":[]},"passportDetailsData":{"salutation":2,"firstName":"asd","middleName":"asd","surname":"asd","gender":1,"dateOfBirth":"2019-09-24T18:30:00.000Z","passportType":1,"passportNumber":"AB123","passportIssueDate":"2019-09-24T18:30:00.000Z","passportExpiryDate":"2019-09-25T18:30:00.000Z","placeOfIssue":1,"countryOfIssue":1},"nationality":[{"id":"1","displayName":"INDIA","value":"IN"},{"id":"2","displayName":"UNITED ARAB EMIRATES","value":"UAE"}],"countryCodes":[{"id":"1","displayName":"INDIA","value":"91"},{"id":"2","displayName":"USA","value":"01"}],"arrivalFlightApplcants":[{"id":1,"displayName":"Applicant1"},{"id":2,"displayName":"Applicant2"}],"countryCode":[{"id":"1","displayName":"INDIA","value":"91"},{"id":"2","displayName":"USA","value":"01"}],"salutations":[{"id":1,"displayName":"Mr"},{"id":2,"displayName":"Mrs"},{"id":3,"displayName":"Miss"}],"gender":[{"id":1,"displayName":"Male"},{"id":2,"displayName":"Female"}],"passportType":[{"id":1,"displayName":"Type1"},{"id":2,"displayName":"Type2"}],"placeOfIssue":[{"id":1,"displayName":"Mumbai"},{"id":2,"displayName":"Delhi"},{"id":3,"displayName":"Chennai"}],"countryOfIssue":[{"id":1,"displayName":"India"},{"id":2,"displayName":"USA"},{"id":3,"displayName":"UK"}],"province":[{"id":1,"displayName":"Other"},{"id":2,"displayName":"Ang Thong"}],"otherDistricts":[{"id":1,"displayName":"district - 1"},{"id":2,"displayName":"district - 2"}],"angThongDistricts":[{"id":1,"displayName":"district - 3"},{"id":2,"displayName":"district - 4"}],"visaCategory":[{"id":1,"displayName":"Tourism","value":"1"},{"id":2,"displayName":"Business","value":"2"},{"id":3,"displayName":"Visit to Family/Friends","value":"3"}],"purposeOfVisitForTourists":[{"id":1,"displayName":"Tourism","value":"1"}],"purposeOfVisitForTouristSingle":[{"id":1,"displayName":"Vacation","value":"1"},{"id":2,"displayName":"Transit","value":"2"},{"id":3,"displayName":"Business","value":"3"}],"visaTypes":[{"id":1,"VisaTypeName":"C Type","visaTypeId":1},{"id":2,"VisaTypeName":"D Type","visaTypeId":2}],"residingCountry":[{"id":"1","displayName":"INDIA","value":"IN"},{"id":"2","displayName":"UNITED ARAB EMIRATES","value":"UAE"},{"id":"3","displayName":"UNITED STATES OF AMERICA","value":"USA"},{"id":"4","displayName":"UNITED KINGDOM","value":"UK"}],"yesNoValue":[{"id":"1","displayName":"Yes","value":1},{"id":"2","displayName":"No","value":0}],"costOfTravellingCoveredBy":[{"id":"1","displayName":"Cash","value":"cash"},{"id":"2","displayName":"Traveller\'s cheques","value":"travellersCheques"},{"id":"3","displayName":"Credit card","value":"creditCard"},{"id":"4","displayName":"Prepaid accomodation","value":"prepaidAccomodation"},{"id":"5","displayName":"Prepaid transport","value":"prepaidTransport"},{"id":"6","displayName":"All expenses covered during the stay","value":"allExpensesCoveredDuringStay"}],"timeSlotRange":[{"time":"8:00","range":"8:00-8:15"},{"time":"8:15","range":"8:15-8:30"},{"time":"8:30","range":"8:30-8:45"},{"time":"8:45","range":"8:45-9:00"},{"time":"9:00","range":"9:00-9:15"},{"time":"9:15","range":"9:15-9:30"},{"time":"9:30","range":"9:30-9:45"},{"time":"9:45","range":"9:45-10:00"},{"time":"10:00","range":"10:00-10:15"},{"time":"10:15","range":"10:15-10:30"},{"time":"10:30","range":"10:30-10:45"},{"time":"10:45","range":"10:45-11:00"},{"time":"11:00","range":"11:00-11:15"},{"time":"11:15","range":"11:15-11:30"},{"time":"11:30","range":"11:30-11:45"},{"time":"11:45","range":"11:45-12:00"},{"time":"12:00","range":"12:00-12:15"},{"time":"12:15","range":"12:15-12:30"},{"time":"12:30","range":"12:30-12:45"},{"time":"12:45","range":"12:45-13:00"},{"time":"13:00","range":"13:00-13:15"},{"time":"13:15","range":"13:15-13:30"},{"time":"13:30","range":"13:30-13:45"},{"time":"13:45","range":"13:45-14:00"},{"time":"14:00","range":"14:00-14:15"},{"time":"14:15","range":"14:15-14:30"},{"time":"14:30","range":"14:30-14:45"},{"time":"14:45","range":"14:45-15:00"}]}'),rb=["captchaContainer"];function cb(i,s){if(1&i&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.isoCode),e.xp6(1),e.hij(" ",t.countryName," ")}}function ub(i,s){if(1&i&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.name," ")}}function db(i,s){if(1&i&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.name," ")}}function pb(i,s){1&i&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"usagss.formerrormsg.label1")))}function mb(i,s){if(1&i&&(e.TgZ(0,"p",17),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" *Courier charges of INR ",t.submissionModeFee," will be applicable.")}}function gb(i,s){1&i&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"usagss.formerrormsg.label6")))}function _b(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"h3",6),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-form-field",7)(5,"mat-select",15),e.NdJ("selectionChange",function(){e.CHM(t);const n=e.oxw();return n.onSelectedSubmissionMode(n.docSubCenterForm.controls.submissionMode.value)}),e.YNc(6,db,2,2,"mat-option",9),e.ALo(7,"sortBy"),e.qZA()(),e.YNc(8,pb,3,3,"p",16),e.YNc(9,mb,2,1,"p",16),e.YNc(10,gb,3,3,"p",16),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"usagss.formLabel.label5")),e.xp6(4),e.Q6J("ngForOf",e.xi3(7,8,t.gssDocSubList,""))("ngForTrackBy",t.trackByFn),e.xp6(2),e.Q6J("ngIf","PS"==t.docSubCenterForm.controls.submissionMode.value),e.xp6(1),e.Q6J("ngIf","CP"==t.docSubCenterForm.controls.submissionMode.value),e.xp6(1),e.Q6J("ngIf","NS"==t.docSubCenterForm.controls.submissionMode.value)}}function fb(i,s){1&i&&(e.TgZ(0,"h3",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"usagss.formLabel.label6")))}function vb(i,s){1&i&&(e.TgZ(0,"h3",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"usagss.formLabel.label14")))}function hb(i,s){if(1&i&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}const mo=function(i){return{amount:i}};function yb(i,s){if(1&i&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(e.xi3(2,1,"usagss.formerrormsg.label2",e.VKq(4,mo,t.centerFees)))}}function bb(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,fb,3,3,"h3",18),e.YNc(2,vb,3,3,"h3",18),e.TgZ(3,"mat-form-field",7)(4,"mat-select",19),e.NdJ("selectionChange",function(){return e.CHM(t),e.oxw().onSelectedSubmissionCenter()}),e.YNc(5,hb,2,2,"mat-option",9),e.ALo(6,"sortBy"),e.qZA()(),e.YNc(7,yb,3,6,"p",16),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","NS"!=t.docSubCenterForm.controls.submissionMode.value),e.xp6(1),e.Q6J("ngIf","NS"===t.docSubCenterForm.controls.submissionMode.value),e.xp6(3),e.Q6J("ngForOf",e.xi3(6,5,t.gssCenterTypeList,""))("ngForTrackBy",t.trackByFn),e.xp6(2),e.Q6J("ngIf",0!=t.centerFees)}}function Cb(i,s){if(1&i&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.name," ")}}function Ab(i,s){if(1&i&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,"usagss.formerrormsg.label3",e.VKq(4,mo,t.collectionModeFee))," ")}}function Tb(i,s){1&i&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"usagss.formerrormsg.label1")," "))}function Sb(i,s){1&i&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"usagss.formerrormsg.label5")," "))}function xb(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"h3",6),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-form-field",7)(5,"mat-select",20),e.NdJ("selectionChange",function(){e.CHM(t);const n=e.oxw();return n.onSelectedCollectionMode(n.docSubCenterForm.controls.collectionMode.value)}),e.YNc(6,Cb,2,2,"mat-option",9),e.ALo(7,"sortBy"),e.qZA()(),e.YNc(8,Ab,3,6,"p",16),e.YNc(9,Tb,3,3,"p",16),e.YNc(10,Sb,3,3,"p",16),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"usagss.formLabel.label7")),e.xp6(4),e.Q6J("ngForOf",e.xi3(7,8,t.gssCollectionList,""))("ngForTrackBy",t.trackByFn),e.xp6(2),e.Q6J("ngIf","CD"==t.docSubCenterForm.controls.collectionMode.value),e.xp6(1),e.Q6J("ngIf","PC"==t.docSubCenterForm.controls.collectionMode.value),e.xp6(1),e.Q6J("ngIf","NC"==t.docSubCenterForm.controls.collectionMode.value)}}function Lb(i,s){1&i&&(e.TgZ(0,"h3",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"usagss.formLabel.label12")))}function Ib(i,s){1&i&&(e.TgZ(0,"h3",6),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"usagss.formLabel.label15")))}function Zb(i,s){if(1&i&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function Nb(i,s){if(1&i&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(e.xi3(2,1,"usagss.formerrormsg.label2",e.VKq(4,mo,t.collectionCenterFees)))}}function Db(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",5),e.YNc(1,Lb,3,3,"h3",18),e.YNc(2,Ib,3,3,"h3",18),e.TgZ(3,"mat-form-field",7)(4,"mat-select",21),e.NdJ("selectionChange",function(){return e.CHM(t),e.oxw().onSelectedCollectionCenter()}),e.YNc(5,Zb,2,2,"mat-option",9),e.ALo(6,"sortBy"),e.qZA()(),e.YNc(7,Nb,3,6,"p",16),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","NC"!=t.docSubCenterForm.controls.collectionMode.value),e.xp6(1),e.Q6J("ngIf","NC"===t.docSubCenterForm.controls.collectionMode.value),e.xp6(3),e.Q6J("ngForOf",e.xi3(6,5,t.gssCollectionCenterTypeList,""))("ngForTrackBy",t.trackByFn),e.xp6(2),e.Q6J("ngIf",0!=t.collectionCenterFees)}}let Ob=(()=>{class i extends Ze.o{constructor(t,o,n,l){super(),this.dialog=t,this._fb=o,this._sessionService=n,this.baseService=l,this.scope=this,this.docSubCenterForm=this._fb.group({country:["",r.kI.required],service:["DS"],submissionMode:[""],submissionCenter:[""],collectionMode:[""],collectionCenter:[""]}),this.countryList=[],this.gssServiceList=[],this.gssDocSubList=[],this.gssCenterTypeList=[],this.gssCollectionCenterTypeList=[],this.gssCollectionList=[],this.isFromBack=!1,this.collectionModeFee=0,this.submissionModeFee=0,this.centerFees=0,this.courierPickUpFee=0,this.courierDeliveryFee=0,this.collectionCenterFees=0,this.mockData=Ne}ngOnInit(){if(this.sessionService.paymentProcessType="PDDP",this.loadCountries(),this.loadServices(),this.loadDocSubList(),this.loadDocCollectionList(),this.collectionModeFee=0,this.submissionModeFee=0,this.centerFees=0,this.courierPickUpFee=0,this.courierDeliveryFee=0,this.collectionCenterFees=0,window.dataLayer&&window.dataLayer.length>0){const t=window.dataLayer.find(o=>1===o.dl_Id);t&&1===t.dl_Id&&(this.isFromBack=!0,this.docSubCenterForm.patchValue(t),this.docSubCenterForm.disable())}}getSchema(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.utilityService.pushDataLayerGA({dl_event:"dashboard_page",dl_category:"Dashboard Page",dl_action:"Start New Booking",dl_label:"cta_click"})}catch(t){}})}loadCountries(){return(0,v.mG)(this,void 0,void 0,function*(){const l=`${p.gT.api.masterCountry}/${this.sessionService.tenent}/${this.sessionService.appLanguageCode}/${this.sessionService.countryCode}`,c=yield this.httpService.doGet(l).toPromise().then(d=>d).catch(d=>d);c&&(this.countryList=c)})}loadServices(){return(0,v.mG)(this,void 0,void 0,function*(){const l=`${p.gT.api.masterService}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}`,c=yield this.httpService.doGet(l).toPromise().then(d=>d).catch(d=>d);c&&(this.gssServiceList=c)})}loadDocSubList(){return(0,v.mG)(this,void 0,void 0,function*(){const l=`${p.gT.api.masterSubmissionMode}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}`,c=yield this.httpService.doGet(l).toPromise().then(d=>d).catch(d=>d);c&&(this.gssDocSubList=c)})}loadDocCollectionList(){return(0,v.mG)(this,void 0,void 0,function*(){const l=`${p.gT.api.gssCollectionMode}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}`,c=yield this.httpService.doGet(l).toPromise().then(d=>d).catch(d=>d);c&&(this.gssCollectionList=c)})}loadDocCenterTypeList(t){return(0,v.mG)(this,void 0,void 0,function*(){const l=`${p.gT.api.gssCenterType}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${t}`,c=yield this.httpService.doGet(l).toPromise().then(d=>d).catch(d=>d);c&&(this.gssCenterTypeList=c)})}loadDocCenterCollectionTypeList(t){return(0,v.mG)(this,void 0,void 0,function*(){const l=`${p.gT.api.gssCenterType}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${t}`,c=yield this.httpService.doGet(l).toPromise().then(d=>d).catch(d=>d);c&&(this.gssCollectionCenterTypeList=c)})}onClickContinue(){var t,o,n,l,c;return(0,v.mG)(this,void 0,void 0,function*(){if(this.docSubCenterForm.invalid)return;const d=null===(t=this.countryList)||void 0===t?void 0:t.find(S=>S.isoCode===this.docSubCenterForm.value.country),_=null===(o=this.gssDocSubList)||void 0===o?void 0:o.find(S=>S.code===this.docSubCenterForm.value.submissionMode),f=null===(n=this.gssCollectionList)||void 0===n?void 0:n.find(S=>S.code===this.docSubCenterForm.value.collectionMode),h=null===(l=this.gssCenterTypeList)||void 0===l?void 0:l.find(S=>S.name===this.docSubCenterForm.value.submissionCenter),T=null===(c=this.gssCollectionCenterTypeList)||void 0===c?void 0:c.find(S=>S.name===this.docSubCenterForm.value.collectionCenter);if(this.isFromBack||this.utilityService.pushDataLayerGA({dl_event:"docSubCenterSel_details",dl_category:"Document SubCenter Selector Details",dl_action:"Continue",dl_label:"Successful",dl_Id:1,country:this.docSubCenterForm.value.country,countryName:null==d?void 0:d.countryName,service:this.docSubCenterForm.value.service,submissionMode:this.docSubCenterForm.value.submissionMode,submissionModeName:null==_?void 0:_.name,submissionModeFees:null==_?void 0:_.amount,submissionCenter:this.docSubCenterForm.value.submissionCenter,submissionCenterName:null==h?void 0:h.name,submissionCenterFees:null==h?void 0:h.amount,collectionMode:this.docSubCenterForm.value.collectionMode,collectionModeName:null==f?void 0:f.name,collectionModeFee:null==f?void 0:f.amount,collectionCenter:this.docSubCenterForm.value.collectionCenter,collectionCenterName:null==T?void 0:T.name,collectionCenterFee:null==T?void 0:T.amount}),this.docSubCenterForm.controls.submissionMode.value&&"CP"==_.code||this.docSubCenterForm.controls.collectionMode.value&&"CD"==f.code)yield this.commonService.UsagssPostLoginActivity(this.baseService,[],"docsub",!0),this.commonService.routeToUsaGssPostalDetailsPage();else{yield this.commonService.UsagssPostLoginActivity(this.baseService,[],"docsub",!0);const S={dl_event:"postal_details",dl_category:"Postal Details",dl_action:"Continue",dl_label:"Successful",dl_Id:2,pincode:"",addressline1:"",addressline2:"",city:"",state:""};this.isFromBack||this.utilityService.pushDataLayerGA(S),this.commonService.routeToUsaGssYourDetailsPage()}})}onSelectedSubmissionMode(t){var o;const n=null===(o=this.gssDocSubList)||void 0===o?void 0:o.find(l=>l.code===this.docSubCenterForm.value.submissionMode);this.submissionModeFee=null==n?void 0:n.amount,"PS"===t?this.loadDocCenterTypeList("PC"):"NS"===t?this.loadDocCenterTypeList("NC"):"CP"===t&&this.loadDocCenterTypeList("CP")}onSelectedSubmissionCenter(){var t;const o=null===(t=this.gssCenterTypeList)||void 0===t?void 0:t.find(n=>n.name===this.docSubCenterForm.value.submissionCenter);this.centerFees=null==o?void 0:o.amount}onSelectedCollectionMode(t){var o;const n=null===(o=this.gssCollectionList)||void 0===o?void 0:o.find(l=>l.code===this.docSubCenterForm.value.collectionMode);this.collectionModeFee=null==n?void 0:n.amount,("PC"==t||"NC"==t||"CD"==t)&&this.loadDocCenterCollectionTypeList(t)}onSelectedCollectionCenter(){var t;const o=null===(t=this.gssCollectionCenterTypeList)||void 0===t?void 0:t.find(n=>n.name===this.docSubCenterForm.value.collectionCenter);this.collectionCenterFees=null==o?void 0:o.amount}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.uw),e.Y36(r.qu),e.Y36(et.m),e.Y36(qe))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-usagss-docsub-center-selector"]],viewQuery:function(t,o){if(1&t&&e.Gf(rb,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:31,vars:28,consts:[[1,"container","py-15","py-md-30"],[3,"formGroup"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"fs-sm-24","fs-sm-42","mb-30"],[1,"form-card","p-3","border-0","shadow-none","mat-card"],[1,"form-group","p-3"],[1,"fs-sm-20","mb-10"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","Select Your Country","formControlName","country"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","service"],["class","form-group p-3",4,"ngIf"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],["type","button","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[3,"value"],["formControlName","submissionMode",3,"selectionChange"],["class","c-brand-grey-para mb-0",4,"ngIf"],[1,"c-brand-grey-para","mb-0"],["class","fs-sm-20 mb-10",4,"ngIf"],["formControlName","submissionCenter",3,"selectionChange"],["formControlName","collectionMode",3,"selectionChange"],["formControlName","collectionCenter",3,"selectionChange"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"form",1)(2,"mat-card",2)(3,"h1",3),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"mat-card",4)(7,"div",5)(8,"h3",6),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"mat-form-field",7)(12,"mat-select",8),e.YNc(13,cb,2,2,"mat-option",9),e.ALo(14,"sortBy"),e.qZA()()(),e.TgZ(15,"div",5)(16,"h3",6),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"mat-form-field",7)(20,"mat-select",10),e.YNc(21,ub,2,2,"mat-option",9),e.ALo(22,"sortBy"),e.qZA()()(),e.YNc(23,_b,11,11,"div",11),e.YNc(24,bb,8,8,"div",11),e.YNc(25,xb,11,11,"div",11),e.YNc(26,Db,8,8,"div",11),e.qZA(),e.TgZ(27,"mat-card",12)(28,"button",13),e.NdJ("click",function(){return o.onClickContinue()}),e._uU(29),e.ALo(30,"translate"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.docSubCenterForm),e.xp6(3),e.Oqu(e.lcZ(5,14,"usagss.headerLabel.label1")),e.xp6(5),e.Oqu(e.lcZ(10,16,"usagss.formLabel.label3")),e.xp6(4),e.Q6J("ngForOf",e.xi3(14,18,o.countryList,"countryName"))("ngForTrackBy",o.trackByFn),e.xp6(4),e.Oqu(e.lcZ(18,21,"usagss.formLabel.label4")),e.xp6(4),e.Q6J("ngForOf",e.xi3(22,23,o.gssServiceList,""))("ngForTrackBy",o.trackByFn),e.xp6(2),e.Q6J("ngIf","DC"!=o.docSubCenterForm.controls.service.value),e.xp6(1),e.Q6J("ngIf","DC"!=o.docSubCenterForm.controls.service.value&&("PS"==o.docSubCenterForm.controls.submissionMode.value||"NS"==o.docSubCenterForm.controls.submissionMode.value)),e.xp6(1),e.Q6J("ngIf","DS"!=o.docSubCenterForm.controls.service.value),e.xp6(1),e.Q6J("ngIf","DS"!=o.docSubCenterForm.controls.service.value&&("NC"==o.docSubCenterForm.controls.collectionMode.value||"PC"==o.docSubCenterForm.controls.collectionMode.value)),e.xp6(2),e.Q6J("disabled",o.docSubCenterForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(30,26,"usagss.buttons.button2")," "))},directives:[r._Y,r.JL,r.sg,X.a8,q.KE,ae.gD,r.JJ,r.u,w.sg,te.ey,w.O5,V.lW],pipes:[D.X$,ue.Uw],encapsulation:2}),i})();const Eb=["captchaContainer"];function kb(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"section",1)(1,"mat-card",2)(2,"div",3),e._UZ(3,"i",4),e.qZA(),e.TgZ(4,"h1",5),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"h4",5),e._uU(8),e.ALo(9,"translate"),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"h4",5),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"mat-card",6)(15,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().navigate()}),e._uU(16),e.ALo(17,"translate"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,5,"gssTrnSummary.headerLabel.label6")),e.xp6(3),e.AsE("",e.lcZ(9,7,"gssTrnSummary.headerLabel.label7")," ",e.lcZ(10,9,t.cgiData.uniqueReferenceNumber)," ."),e.xp6(4),e.Oqu(e.lcZ(13,11,"gssTrnSummary.headerLabel.label8")),e.xp6(4),e.hij(" ",e.lcZ(17,13,"gssTrnSummary.buttons.button1")," ")}}function wb(i,s){if(1&i&&(e.TgZ(0,"div",20),e._UZ(1,"img",21)(2,"br"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.QRCode,e.LSH),e.xp6(3),e.Oqu((null==t.sessionService.paymentDetails?null:t.sessionService.paymentDetails.paymentreferencenumber)||"")}}function Fb(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"section")(1,"div",22)(2,"div",23)(3,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).PrintThis()}),e._uU(4," Print / Save "),e.qZA()()()()}}function Mb(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"section",10)(2,"div",11),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",12)(6,"div",13)(7,"div",14)(8,"div",15),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",16),e._uU(12),e.qZA()(),e.TgZ(13,"div",14)(14,"div",15),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",16),e._uU(18),e.qZA()(),e.TgZ(19,"div",14)(20,"div",15),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div",16),e._uU(24),e.qZA()(),e.TgZ(25,"div",14)(26,"div",15),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"div",16),e._uU(30),e.qZA()(),e.TgZ(31,"div",14)(32,"div",15),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"div",16),e._uU(36),e.qZA()()()(),e.TgZ(37,"div",17),e._UZ(38,"p",18)(39,"p",18),e.qZA(),e.YNc(40,wb,5,2,"div",19),e.qZA(),e.YNc(41,Fb,5,0,"section",9),e.BQk()),2&i){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,17,"usagss.headerLabel.label21")," "),e.xp6(6),e.Oqu(e.lcZ(10,19,"usagss.headerLabel.label11")),e.xp6(3),e.Oqu((null==t.sessionService.paymentDetails?null:t.sessionService.paymentDetails.paymentreferencenumber)||""),e.xp6(3),e.Oqu(e.lcZ(16,21,"usagss.headerLabel.label17")),e.xp6(3),e.Oqu(t.paymentexpirydate||""),e.xp6(3),e.Oqu(e.lcZ(22,23,"usagss.headerLabel.label18")),e.xp6(3),e.AsE("",t.sessionService.currencyCode," ",(null==t.sessionService.paymentDetails?null:t.sessionService.paymentDetails.totalamount)||"",""),e.xp6(3),e.Oqu(e.lcZ(28,25,"usagss.headerLabel.label19")),e.xp6(3),e.AsE("",t.sessionService.currencyCode," ",(null==t.sessionService.paymentDetails?null:t.sessionService.paymentDetails.remainingbalance)||"",""),e.xp6(3),e.Oqu(e.lcZ(34,27,"usagss.headerLabel.label20")),e.xp6(3),e.Oqu((null==t.sessionService.paymentDetails?null:t.sessionService.paymentDetails.cashpaymentaccountnumber)||""),e.xp6(2),e.Q6J("innerHTML",(null==t.sessionService.paymentDetails?null:t.sessionService.paymentDetails.confirmationinstruction1)||"",e.oJD),e.xp6(1),e.Q6J("innerHTML",(null==t.sessionService.paymentDetails?null:t.sessionService.paymentDetails.confirmationinstruction2)||"",e.oJD),e.xp6(1),e.Q6J("ngIf",null==t.sessionService.paymentDetails?null:t.sessionService.paymentDetails.barcode),e.xp6(1),e.Q6J("ngIf",null==t.sessionService.paymentDetails?null:t.sessionService.paymentDetails.paymentreferencenumber)}}function Pb(i,s){if(1&i&&(e.TgZ(0,"section",1),e.ynx(1),e.TgZ(2,"mat-card",8)(3,"div",3),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"h1",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"h4",5),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.BQk(),e.YNc(11,Mb,42,29,"ng-container",9),e.qZA()),2&i){const t=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,3,"gssTrnSummary.headerLabel.label6")),e.xp6(3),e.Oqu(e.lcZ(10,5,"gssTrnSummary.headerLabel.label9")),e.xp6(2),e.Q6J("ngIf","BANK"==t.sessionService.paymentMode||"EFT"==t.sessionService.paymentMode||"POS"==t.sessionService.paymentMode)}}let Ub=(()=>{class i extends Ze.o{constructor(t,o,n){super(),this.dialog=t,this.baseService=o,this.datePipe=n,this.scope=this}ngOnInit(){var t,o;this.paymentMode=this.sessionService.paymentMode,this.sessionService.paymentDetails&&(this.QRCode="data:image/png;base64,"+(null===(t=this.sessionService.paymentDetails)||void 0===t?void 0:t.barcode),this.paymentexpirydate=this.datePipe.transform(null===(o=this.sessionService.paymentDetails)||void 0===o?void 0:o.paymentexpirydate,"MMM d, y")),"ONLINENEFT"!=this.sessionService.paymentMode&&("VFP"==this.sessionService.paymentProcessType?(this.cgiData=this.sessionService.usagssCgiData,this.paymentExpiryDate=`${this.cgiData.paymentExpiery.substring(0,4)}-${this.cgiData.paymentExpiery.substring(4,6)}-${this.cgiData.paymentExpiery.substring(6,8)}`):this.docSubData=this.sessionService.usagssApplicantDetails,this.usagssPaymentDetails=this.sessionService.usagssPaymentDetails)}navigate(){window.close()}PrintThis(){var t,o,n,l,c,d,_,f=window.open("","","left=0,top=0,width=800,height=900,toolbar=0,scrollbars=0,status=0");f.document.write("<html><head></head><body>"),f.document.write('<section id="PrintThis">'),f.document.write('  <div style="border: 2px solid black; text-align: center; margin: auto; max-width: 40%; padding: 15px; font-size: 12px; font-weight: bold;"> US VISA APPLICATION FEE DEPOSIT SLIP NOTICE OF PAYMENT VISA TAX APPLICATION USA</div>'),f.document.write('  <div style="text-align: center; margin: 15px auto; max-width: 65%;">'),f.document.write('    <table style="border: 2px solid black; width: 100%; vertical-align: top; border-collapse: collapse; ">'),f.document.write("      <tbody>"),f.document.write("       <tr>"),f.document.write('          <th style="text-align: left; border-bottom: 2px solid;">Payment Reference Number</th>'),f.document.write('          <td style="text-align: right; border-bottom: 2px solid;">'+((null===(t=this.sessionService.paymentDetails)||void 0===t?void 0:t.paymentreferencenumber)||"")+"</td>"),f.document.write("        </tr>"),f.document.write("      </tbody>"),f.document.write("      <tbody>"),f.document.write("        <tr>"),f.document.write('          <th style="text-align: left; border-bottom: 2px solid;">Expiration Date</th>'),f.document.write('          <td style="text-align: right; border-bottom: 2px solid;">'+(this.paymentexpirydate||"")+"</td>"),f.document.write("        </tr>"),f.document.write("        <tr>"),f.document.write('          <th style="text-align: left;border-bottom: 2px solid;">Total Amount</th>'),f.document.write('          <td style="text-align: right;border-bottom: 2px solid;">'+(this.sessionService.currencyCode||"")+" "+((null===(o=this.sessionService.paymentDetails)||void 0===o?void 0:o.totalamount)||"")+"</td>"),f.document.write("        </tr>"),f.document.write("        <tr>"),f.document.write('          <th style="text-align: left; border-bottom: 2px solid;">Remaining Balance</th>'),f.document.write('          <td style="text-align: right;border-bottom: 2px solid;">'+(this.sessionService.currencyCode||"")+" "+((null===(n=this.sessionService.paymentDetails)||void 0===n?void 0:n.remainingbalance)||"")+"</td>"),f.document.write("        </tr>"),f.document.write("        <tr>"),f.document.write('          <th style="text-align: left;">Cash Payment Account Number</th>'),f.document.write('          <td style="text-align: right;">'+((null===(l=this.sessionService.paymentDetails)||void 0===l?void 0:l.cashpaymentaccountnumber)||"")+"</td>"),f.document.write("        </tr>"),f.document.write("      </tbody>"),f.document.write("    </table>"),f.document.write("  </div>"),f.document.write('  <div style="text-align: left; margin: auto; max-width: 85%; padding: 05px;">'),f.document.write("    <p>"+((null===(c=this.sessionService.paymentDetails)||void 0===c?void 0:c.confirmationinstruction1)||"")+"</p>"),f.document.write("    <p>"+((null===(d=this.sessionService.paymentDetails)||void 0===d?void 0:d.confirmationinstruction2)||"")+"</p>"),f.document.write("  </div>"),f.document.write('  <div style="text-align: center;">'),f.document.write('    <img style="width: 300px" src="'+this.QRCode+'" /> <br> <b>'+((null===(_=this.sessionService.paymentDetails)||void 0===_?void 0:_.paymentreferencenumber)||"")+"</b>"),f.document.write("  </div>"),f.document.write("</section>"),f.document.write("</body></html>"),f.document.close(),f.focus(),f.print(),f.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.uw),e.Y36(qe),e.Y36(w.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-usagss-transaction-summary"]],viewQuery:function(t,o){if(1&t&&e.Gf(Eb,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:2,vars:2,consts:[["class","container py-15 py-md-30",4,"ngIf"],[1,"container","py-15","py-md-30"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"text-center","mb-20"],[1,"fa","fa-check-circle-o","fs-30","c-brand-green"],[1,"text-center","fs-21","fs-sm-24","mb-10"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],["type","button","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"form-card","mb-20","mb-sm-50"],[4,"ngIf"],["id","PrintThis",1,"container","py-15","py-md-30","justify-content-center"],[1,"border","border-dark","text-center","mx-auto","py-15"],[1,"row"],[1,"col-12","mt-40","rounded-5"],[1,"row","border","p-10","py-15"],[1,"col-lg-6","col-md-12","col-sm-12","font-weight-bold"],[1,"col-lg-6","col-md-12","col-sm-12","text-right"],[1,"paragraph","text-justify"],[3,"innerHTML"],["class","text-center",4,"ngIf"],[1,"text-center"],[2,"width","300px",3,"src"],[1,"row","justify-content-center"],[1,"col-sm-4","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"]],template:function(t,o){1&t&&(e.YNc(0,kb,18,15,"section",0),e.YNc(1,Pb,12,7,"section",0)),2&t&&(e.Q6J("ngIf","ONLINECC"==o.sessionService.paymentMode),e.xp6(1),e.Q6J("ngIf","ONLINENEFT"==o.sessionService.paymentMode||"BANK"==o.sessionService.paymentMode||"EFT"==o.sessionService.paymentMode||"POS"==o.sessionService.paymentMode))},directives:[w.O5,X.a8,V.lW],pipes:[D.X$],encapsulation:2}),i})();const qb=["captchaContainer"];function Gb(i,s){if(1&i&&(e.TgZ(0,"div",12)(1,"ul",13)(2,"li",14)(3,"div",4),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",15),e._uU(7),e.qZA()(),e.TgZ(8,"li",14)(9,"div",4),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",15),e._uU(13),e.qZA()()()()),2&i){const t=e.oxw(2);e.xp6(4),e.hij("",e.lcZ(5,4,"eligibilityCriteria.formLabel.label4")," "),e.xp6(3),e.Oqu(null==t.docSubCenterDetails?null:t.docSubCenterDetails.countryName),e.xp6(3),e.hij("",e.lcZ(11,6,"eligibilityCriteria.formLabel.label5")," "),e.xp6(3),e.Oqu(null==t.docSubCenterDetails?null:t.docSubCenterDetails.Mission)}}function Vb(i,s){if(1&i&&(e.TgZ(0,"mat-accordion",16)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header",17)(3,"div",18)(4,"div",19),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",20),e._uU(8),e.qZA()()(),e.TgZ(9,"table",21),e.ynx(10),e.TgZ(11,"tr")(12,"td",22),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"td",23),e._uU(16),e.qZA()(),e.TgZ(17,"tr")(18,"td",22),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"td",23),e._uU(22),e.qZA()(),e.TgZ(23,"tr")(24,"td",22),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"td",23),e._uU(28),e.qZA()(),e.BQk(),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("@.disabled",!0),e.xp6(3),e.hij("",e.lcZ(6,10,"reviewAndPayment.formLabel.label6")," "),e.xp6(3),e.AsE("",null==t.yourDetails?null:t.yourDetails.FirstName," ",null==t.yourDetails?null:t.yourDetails.LastName,""),e.xp6(5),e.hij("",e.lcZ(14,12,"applicantInformation.formLabel.label6")," : "),e.xp6(3),e.Oqu(null==t.yourDetails?null:t.yourDetails.PassportNumber),e.xp6(3),e.hij("",e.lcZ(20,14,"applicantInformation.formLabel.label11")," : "),e.xp6(3),e.Oqu(null==t.yourDetails?null:t.yourDetails.ContactNumber),e.xp6(3),e.hij("",e.lcZ(26,16,"applicantInformation.formLabel.label9")," : "),e.xp6(3),e.Oqu(null==t.yourDetails?null:t.yourDetails.EmailId)}}function Rb(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",5)(2,"div",6)(3,"h2",7),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",12)(7,"ul",13)(8,"li",14)(9,"div",4),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",15),e._uU(13),e.qZA()(),e.TgZ(14,"li",14)(15,"div",4),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",15),e._uU(19),e.qZA()(),e.TgZ(20,"li",14)(21,"div",4),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"div",15),e._uU(25),e.qZA()(),e.TgZ(26,"li",14)(27,"div",4),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"div",15),e._uU(31),e.qZA()(),e.TgZ(32,"li",14)(33,"div",4),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"div",15),e._uU(37),e.qZA()()()(),e.BQk()),2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,11,"usagss.headerLabel.label8")),e.xp6(6),e.hij("",e.lcZ(11,13,"postalInformation.formLabel.label1")," "),e.xp6(3),e.Oqu(null==t.postalDetails?null:t.postalDetails.pincode),e.xp6(3),e.hij("",e.lcZ(17,15,"postalInformation.formLabel.label2")," "),e.xp6(3),e.Oqu(null==t.postalDetails?null:t.postalDetails.addressline1),e.xp6(3),e.hij("",e.lcZ(23,17,"postalInformation.formLabel.label3")," "),e.xp6(3),e.Oqu(null==t.postalDetails?null:t.postalDetails.addressline2),e.xp6(3),e.hij("",e.lcZ(29,19,"postalInformation.formLabel.label5")," "),e.xp6(3),e.Oqu(null==t.postalDetails?null:t.postalDetails.city),e.xp6(3),e.hij("",e.lcZ(35,21,"postalInformation.formLabel.label4")," "),e.xp6(3),e.Oqu(null==t.postalDetails?null:t.postalDetails.state)}}function Jb(i,s){if(1&i&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij("INR ",null==t.docSubCenterDetails?null:t.docSubCenterDetails.submissionModeFees,"")}}function Yb(i,s){if(1&i&&(e.TgZ(0,"li",14)(1,"div",4),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,Jb,2,1,"div",25),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.AsE("",e.lcZ(3,3,"usagss.formLabel.label9")," - ",null==t.docSubCenterDetails?null:t.docSubCenterDetails.submissionModeName," "),e.xp6(2),e.Q6J("ngIf","CP"==(null==t.docSubCenterDetails?null:t.docSubCenterDetails.submissionMode))}}function Qb(i,s){if(1&i&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij("INR ",null==t.docSubCenterDetails?null:t.docSubCenterDetails.submissionCenterFees,"")}}function Bb(i,s){if(1&i&&(e.TgZ(0,"li",14)(1,"div",4),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,Qb,2,1,"div",25),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.AsE("",e.lcZ(3,3,"usagss.formLabel.label10")," - ",null==t.docSubCenterDetails?null:t.docSubCenterDetails.submissionCenterName," "),e.xp6(2),e.Q6J("ngIf","PS"==(null==t.docSubCenterDetails?null:t.docSubCenterDetails.submissionMode))}}function jb(i,s){if(1&i&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij("INR ",null==t.docSubCenterDetails?null:t.docSubCenterDetails.collectionModeFee,"")}}function Hb(i,s){if(1&i&&(e.TgZ(0,"li",14)(1,"div",4),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,jb,2,1,"div",25),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.AsE("",e.lcZ(3,3,"usagss.formLabel.label11")," - ",null==t.docSubCenterDetails?null:t.docSubCenterDetails.collectionModeName," "),e.xp6(2),e.Q6J("ngIf","CD"==(null==t.docSubCenterDetails?null:t.docSubCenterDetails.collectionMode))}}function $b(i,s){if(1&i&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij("INR ",null==t.docSubCenterDetails?null:t.docSubCenterDetails.collectionCenterFee,"")}}function Wb(i,s){if(1&i&&(e.TgZ(0,"li",14)(1,"div",4),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,$b,2,1,"div",25),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.AsE("",e.lcZ(3,3,"usagss.formLabel.label13")," - ",null==t.docSubCenterDetails?null:t.docSubCenterDetails.collectionCenterName," "),e.xp6(2),e.Q6J("ngIf","PC"==(null==t.docSubCenterDetails?null:t.docSubCenterDetails.collectionMode))}}function Kb(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",5)(2,"div",6)(3,"h2",7),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",12)(7,"ul",13),e.YNc(8,Yb,5,5,"li",24),e.YNc(9,Bb,5,5,"li",24),e.YNc(10,Hb,5,5,"li",24),e.YNc(11,Wb,5,5,"li",24),e.qZA()(),e.BQk()),2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,5,"usagss.headerLabel.label10")),e.xp6(4),e.Q6J("ngIf","DC"!=(null==t.docSubCenterDetails?null:t.docSubCenterDetails.service)),e.xp6(1),e.Q6J("ngIf","DC"!=(null==t.docSubCenterDetails?null:t.docSubCenterDetails.service)&&"CP"!=(null==t.docSubCenterDetails?null:t.docSubCenterDetails.submissionMode)),e.xp6(1),e.Q6J("ngIf","DS"!=(null==t.docSubCenterDetails?null:t.docSubCenterDetails.service)),e.xp6(1),e.Q6J("ngIf","DS"!=(null==t.docSubCenterDetails?null:t.docSubCenterDetails.service)&&"CD"!=(null==t.docSubCenterDetails?null:t.docSubCenterDetails.collectionMode))}}function zb(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",5)(2,"div",6)(3,"h2",7),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"mat-card",26)(7,"div",27)(8,"form",28)(9,"app-dynamic-form",29),e.NdJ("formGroupCopy",function(n){return e.CHM(t),e.oxw(2).postPageLoadActivities(n,!0)}),e.qZA()()()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,4,"usagss.headerLabel.label6")),e.xp6(4),e.Q6J("formGroup",t.currentFormGroup),e.xp6(1),e.Q6J("scope",t.scope)("schema",t.currentModule)}}function Xb(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card",30)(1,"div",31)(2,"div",32)(3,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).goBack()}),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",32)(7,"button",34),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).initiatePay()}),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()}2&i&&(e.xp6(4),e.hij(" ",e.lcZ(5,2,"commonSections.buttons.button8")," "),e.xp6(4),e.hij(" ",e.lcZ(9,4,"usagss.buttons.button2")," "))}function eC(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"form")(2,"mat-card",2)(3,"h1",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"p",4),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.ynx(9),e.TgZ(10,"div",5)(11,"div",6)(12,"h2",7),e._uU(13),e.ALo(14,"translate"),e.qZA()()(),e.YNc(15,Gb,14,8,"div",8),e.TgZ(16,"h2",9),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.YNc(19,Vb,29,18,"mat-accordion",10),e.YNc(20,Rb,38,23,"ng-container",1),e.YNc(21,Kb,12,7,"ng-container",1),e.BQk(),e.YNc(22,zb,10,6,"ng-container",1),e.qZA(),e.YNc(23,Xb,10,6,"mat-card",11),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,10,"reviewAndPayment.headerLabel.label1")),e.xp6(3),e.Oqu(e.lcZ(8,12,"reviewAndPayment.pageDetails.para1")),e.xp6(6),e.Oqu(e.lcZ(14,14,"reviewAndPayment.headerLabel.label2")),e.xp6(2),e.Q6J("ngIf",t.docSubCenterDetails),e.xp6(2),e.Oqu(e.lcZ(18,16,"reviewAndPayment.headerLabel.label3")),e.xp6(2),e.Q6J("ngIf",t.yourDetails),e.xp6(1),e.Q6J("ngIf","CD"==(null==t.docSubCenterDetails?null:t.docSubCenterDetails.courier)||"CP"==(null==t.docSubCenterDetails?null:t.docSubCenterDetails.submission)),e.xp6(1),e.Q6J("ngIf",t.docSubCenterDetails),e.xp6(1),e.Q6J("ngIf","NS"!=t.docSubCenterDetails.submissionMode||"NC"!=t.docSubCenterDetails.submissionMode),e.xp6(1),e.Q6J("ngIf","NS"!=t.docSubCenterDetails.submissionMode||"NC"!=t.docSubCenterDetails.submissionMode)}}function tC(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",36)(2,"div",37),e._UZ(3,"i",38),e.TgZ(4,"div"),e._uU(5),e.qZA()()(),e.BQk()),2&i){const t=e.oxw(2);e.xp6(5),e.Oqu(t.proceedFailMsg)}}function iC(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"form")(2,"mat-card",2),e.YNc(3,tC,6,1,"ng-container",1),e.TgZ(4,"h1",3),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p",4),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div")(11,"h2",7)(12,"b"),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"p",15),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"p",15),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"p",15),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"h2",7)(25,"b"),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"p",15),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"h2",7)(32,"b"),e._uU(33),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"p",15),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"p",15),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"p",15),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"p",15),e._uU(45),e.ALo(46,"translate"),e.qZA()(),e.TgZ(47,"div",31)(48,"div",32)(49,"button",35),e._uU(50),e.ALo(51,"translate"),e.qZA()(),e.TgZ(52,"div",32)(53,"button",33),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmPay()}),e._uU(54),e.ALo(55,"translate"),e.qZA()()()()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.proceedFailMsg),e.xp6(2),e.Oqu(e.lcZ(6,16,"reviewAndPayment.headerLabel.label9")),e.xp6(3),e.Oqu(e.lcZ(9,18,"reviewAndPayment.pageDetails.para4")),e.xp6(5),e.Oqu(e.lcZ(14,20,"reviewAndPayment.pageDetails.para5")),e.xp6(3),e.Oqu(e.lcZ(17,22,"reviewAndPayment.pageDetails.para6")),e.xp6(3),e.Oqu(e.lcZ(20,24,"reviewAndPayment.pageDetails.para7")),e.xp6(3),e.Oqu(e.lcZ(23,26,"reviewAndPayment.pageDetails.para8")),e.xp6(4),e.Oqu(e.lcZ(27,28,"reviewAndPayment.pageDetails.para9")),e.xp6(3),e.Oqu(e.lcZ(30,30,"reviewAndPayment.pageDetails.para10")),e.xp6(4),e.Oqu(e.lcZ(34,32,"reviewAndPayment.pageDetails.para11")),e.xp6(3),e.Oqu(e.lcZ(37,34,"reviewAndPayment.pageDetails.para12")),e.xp6(3),e.Oqu(e.lcZ(40,36,"reviewAndPayment.pageDetails.para13")),e.xp6(3),e.Oqu(e.lcZ(43,38,"reviewAndPayment.pageDetails.para14")),e.xp6(3),e.Oqu(e.lcZ(46,40,"reviewAndPayment.pageDetails.para15")),e.xp6(5),e.hij(" ",e.lcZ(51,42,"reviewAndPayment.buttons.button2")," "),e.xp6(4),e.hij(" ",e.lcZ(55,44,"reviewAndPayment.buttons.button3")," ")}}let oC=(()=>{class i extends Ze.o{constructor(t,o,n,l){super(),this.activatedRoute=t,this.contentfulService=o,this.dialog=n,this.baseService=l,this.scope=this,this.isFromBack=!1,this.tempfeetype=[],this.initBaseForm(p.gT.modules.USAGSS_REVIEW_AND_PAY),this.pgDisclaimer=!1,this.isPaymentOptionsPage=!1,this.proceedFailMsg=""}ngOnInit(){this.loadSchema(),this.cgiData=this.sessionService.usagssCgiData}loadSchema(){return(0,v.mG)(this,void 0,void 0,function*(){window.dataLayer&&window.dataLayer.length>0&&(this.docSubCenterDetails=window.dataLayer.find(t=>1===t.dl_Id),this.postalDetails=window.dataLayer.find(t=>2===t.dl_Id),this.yourDetails=window.dataLayer.find(t=>3===t.dl_Id))})}goBack(){this.commonService.routeToUsaGssYourDetailsPage()}confirmPay(){var t;return(0,v.mG)(this,void 0,void 0,function*(){const o=this.currentFormGroup.value,n=this.applicantDetail.applicantList.find(c=>c.gssUrn===this.sessionService.usagssApplicantDetails.gssUrn);try{this.initiatePaymentParam={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,amount:Number(n.amount),grnURN:this.yourDetails.URN,paymentMode:o.docSubPaymentMode,loginuser:this.yourDetails.URN,centerCode:"",currency:null===(t=this.cgiData)||void 0===t?void 0:t.currency};var l=yield this.httpService.payloadWithoutTokenPost(p.gT.api.gssInitiatePayment,this.initiatePaymentParam).toPromise().then(f=>f).catch(f=>f);const c=this.utilityService.convertKeystoLowercase(l);this.sessionService.paymentDetails=c;const _=`${c.url}?RequestRefNo=${c.requestrefno}&Currency=INR&Culture=${this.sessionService.appCultureCode}&Amount=${this.initiatePaymentParam.amount}&DigitalSignature=${c.digitalsignature}&RedirectURL=`;window.open(_,"_self")}catch(c){}})}initiatePay(){var t,o,n,l,c,d;return(0,v.mG)(this,void 0,void 0,function*(){const _=this.currentFormGroup.value;"DS"==this.docSubCenterDetails.service&&("CP"==this.docSubCenterDetails.submissionMode&&this.tempfeetype.push({Code:this.docSubCenterDetails.submissionMode,Amount:String(null===(t=this.docSubCenterDetails)||void 0===t?void 0:t.submissionModeFees)}),"PS"==this.docSubCenterDetails.submissionMode&&this.tempfeetype.push({Code:this.docSubCenterDetails.submissionMode,Amount:String(null===(o=this.docSubCenterDetails)||void 0===o?void 0:o.submissionCenterFees)})),"DC"==this.docSubCenterDetails.service&&("CD"==this.docSubCenterDetails.collectionMode&&this.tempfeetype.push({Code:this.docSubCenterDetails.collectionMode,Amount:String(null===(n=this.docSubCenterDetails)||void 0===n?void 0:n.collectionModeFee)}),"PC"==this.docSubCenterDetails.collectionMode&&this.tempfeetype.push({Code:this.docSubCenterDetails.collectionMode,Amount:String(null===(l=this.docSubCenterDetails)||void 0===l?void 0:l.collectionCenterFee)})),"DCDS"==this.docSubCenterDetails.service&&(this.tempfeetype.push({Code:this.docSubCenterDetails.submissionMode,Amount:String(null===(c=this.docSubCenterDetails)||void 0===c?void 0:c.submissionCenterFees)}),this.tempfeetype.push({Code:this.docSubCenterDetails.collectionMode,Amount:String(null===(d=this.docSubCenterDetails)||void 0===d?void 0:d.collectionCenterFee)}));try{const h={MissionCode:this.sessionService.tenent,CountryCode:this.sessionService.countryCode,CenterCode:this.docSubCenterDetails.center,GSSURN:this.yourDetails.URN,FeeType:this.tempfeetype,CultureCode:this.sessionService.appLanguageCode,serviceCode:this.docSubCenterDetails.service,SubmissionModeCode:this.docSubCenterDetails.submissionMode,CollectionModeCode:this.docSubCenterDetails.collectionMode,PaymentModeCode:_.docSubPaymentMode,applicantList:[{GSSURN:this.yourDetails.URN,FirstName:this.yourDetails.FirstName,LastName:this.yourDetails.LastName,ContactNumber:this.yourDetails.ContactNumber,PassportNumber:this.yourDetails.PassportNumber,DialCode:this.yourDetails.DialCode,EmailId:this.yourDetails.EmailId,Addressline1:this.postalDetails.addressline1,Addressline2:this.postalDetails.addressline2,Pincode:this.postalDetails.pincode,State:this.postalDetails.state,City:this.postalDetails.city}]};this.sessionService.paymentMode=_.docSubPaymentMode;var f=yield this.httpService.payloadWithoutTokenPost(p.gT.api.gssAddApplicants,h).toPromise().then(T=>T).catch(T=>T);this.sessionService.saveUsagssApplicantDetails=f,this.applicantDetail=f,"bank"!=_.docSubPaymentMode.toLowerCase()&&(this.pgDisclaimer=!0,this.isPaymentOptionsPage=!0)}catch(h){}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B.gz),e.Y36(Ye.a),e.Y36(oe.uw),e.Y36(qe))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-usagss-docsub-review-and-pay"]],viewQuery:function(t,o){if(1&t&&e.Gf(qb,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:3,vars:2,consts:[[1,"container","py-15","py-md-30"],[4,"ngIf"],[1,"form-card"],[1,"fs-24","fs-sm-42","mb-30"],[1,"c-brand-grey-para"],[1,"row","mb-20"],[1,"col"],[1,"fs-18","fs-sm-24","mb-0"],["class","card border-bottom-2 mb-40",4,"ngIf"],[1,"fs-18","fs-sm-24","mb-20"],["class","dashboard-accordion card mb-40",4,"ngIf"],["class","form-card p-0 border-0 shadow-none",4,"ngIf"],[1,"card","border-bottom-2","mb-40"],[1,"list-group","list-group-flush"],[1,"list-group-item","p-15","px-md-25"],[1,"fs-18","mt-8"],[1,"dashboard-accordion","card","mb-40"],[1,"card-header","bg-brand-footer"],[1,"py-2"],[1,"fs-16","c-brand-grey-para"],[1,"fs-18","mt-3","text-overflow"],[1,"c-brand-grey-para","w-100","fs-16","mt-15"],[1,"py-10","w-25"],[1,"py-10"],["class","list-group-item p-15 px-md-25",4,"ngIf"],["class","fs-18 mt-8",4,"ngIf"],[1,"form-card","p-3","border-0","shadow-none","mat-card"],[1,"form-group","p-3"],[3,"formGroup"],[3,"scope","schema","formGroupCopy"],[1,"form-card","p-0","border-0","shadow-none"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0),e.YNc(1,eC,24,18,"ng-container",1),e.YNc(2,iC,56,46,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",!o.pgDisclaimer&&!o.isPaymentOptionsPage),e.xp6(1),e.Q6J("ngIf",o.pgDisclaimer&&o.isPaymentOptionsPage))},directives:[w.O5,r._Y,r.JL,r.F,X.a8,at.pp,at.ib,at.yz,r.sg,ue.rm,V.lW],pipes:[D.X$],encapsulation:2}),i})();const nC=["captchaContainer"];let aC=(()=>{class i extends Ze.o{constructor(t,o,n,l){super(),this.activatedRoute=t,this.contentfulService=o,this.dialog=n,this.baseService=l,this.scope=this,this.isFromBack=!1,this.initBaseForm(p.gT.modules.USAGSS_POSTAL_DETAILS),this.loadSchema()}ngOnInit(){}loadSchema(){return(0,v.mG)(this,void 0,void 0,function*(){if(yield this.commonService.UsagssPostLoginActivity(this.baseService,[],"docsub",!0),window.dataLayer&&window.dataLayer.length>0){const t=window.dataLayer.find(o=>2===o.dl_Id);t&&2===t.dl_Id&&(this.isFromBack=!0,this.currentFormGroup.patchValue(t),this.currentFormGroup.disable())}})}onClickContinue(){return(0,v.mG)(this,void 0,void 0,function*(){if(this.currentFormGroup.invalid)return;const t={requestId:"000",source:"LIFT",courierPartner:[{name:"BLUEDART",services:[]}],missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,vacCode:"ATL",shipDate:"2023-02-13",destination:{postalCode:this.currentFormGroup.value.pincode,countryCode:this.sessionService.countryCode},origin:{postalCode:"12401",countryCode:"USA"}},o=yield this.httpService.payloadWithoutTokenPost(p.gT.api.gssServiceAvailability,t).toPromise().then(l=>l).catch(l=>l);o.response.BLUEDART.notifications[0]&&1==o.response.BLUEDART.notifications.length?this.showErrorMsgPopup(o.response.BLUEDART.notifications[0].message,0):(this.isFromBack||this.utilityService.pushDataLayerGA({dl_event:"postal_details",dl_category:"Postal Details",dl_action:"Continue",dl_label:"Successful",dl_Id:2,pincode:this.currentFormGroup.value.pincode,addressline1:this.currentFormGroup.value.addressline1,addressline2:this.currentFormGroup.value.addressline2,city:this.currentFormGroup.value.city,state:this.currentFormGroup.value.state}),this.routeNext())})}goBack(){this.commonService.routeToUsaGssDocSubCenterSel()}showErrorMsgPopup(t,o){try{const n=this.dialog.open(nt,{data:t});n.afterClosed().subscribe(l=>(0,v.mG)(this,void 0,void 0,function*(){1069===o&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner())})),this.router.events.subscribe(()=>{n.close()})}catch(n){}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B.gz),e.Y36(Ye.a),e.Y36(oe.uw),e.Y36(qe))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-usagss-docsub-postal-details"]],viewQuery:function(t,o){if(1&t&&e.Gf(nC,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:20,vars:13,consts:[[1,"container","py-15","py-md-30"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"fs-sm-24","fs-sm-42","mb-30"],[1,"form-card","p-3","border-0","shadow-none","mat-card"],[1,"form-group","p-3"],[3,"formGroup"],[3,"scope","schema","formGroupCopy"],[1,"form-card","p-0","border-0","shadow-none"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"mat-card",1)(2,"h1",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"form")(6,"mat-card",3)(7,"div",4)(8,"form",5)(9,"app-dynamic-form",6),e.NdJ("formGroupCopy",function(l){return o.postPageLoadActivities(l,!0)}),e.qZA()()()()(),e.TgZ(10,"mat-card",7)(11,"div",8)(12,"div",9)(13,"button",10),e.NdJ("click",function(){return o.goBack()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",9)(17,"button",11),e.NdJ("click",function(){return o.onClickContinue()}),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,7,"usagss.headerLabel.label8")),e.xp6(5),e.Q6J("formGroup",o.currentFormGroup),e.xp6(1),e.Q6J("scope",o.scope)("schema",o.currentModule),e.xp6(5),e.hij(" ",e.lcZ(15,9,"commonSections.buttons.button31")," "),e.xp6(3),e.Q6J("disabled",o.currentFormGroup.invalid),e.xp6(1),e.hij(" ",e.lcZ(19,11,"usagss.buttons.button2")," "))},directives:[X.a8,r._Y,r.JL,r.F,r.sg,ue.rm,V.lW],pipes:[D.X$],encapsulation:2}),i})();const sC=["captchaContainer"];let lC=(()=>{class i extends Ze.o{constructor(t,o,n,l){super(),this.activatedRoute=t,this.contentfulService=o,this.dialog=n,this.baseService=l,this.scope=this,this.isFromBack=!1,this.initBaseForm(p.gT.modules.USAGSS_YOUR_DETAILS)}ngOnInit(){this.loadSchema()}loadSchema(){return(0,v.mG)(this,void 0,void 0,function*(){if(yield this.commonService.UsagssPostLoginActivity(this.baseService,[],"docsub",!0),window.dataLayer&&window.dataLayer.length>0){const t=window.dataLayer.find(o=>3===o.dl_Id);this.docSubCenterDetails=window.dataLayer.find(o=>1===o.dl_Id),t&&3===t.dl_Id&&(this.isFromBack=!0,this.currentFormGroup.patchValue(t),this.currentFormGroup.disable())}this.getPayVisaDocSchema()})}goBack(){"CP"===this.docSubCenterDetails.submissionMode||"CD"===this.docSubCenterDetails.collectionMode?this.commonService.routeToUsaGssPostalDetailsPage():this.commonService.routeToUsaGssDocSubCenterSel()}onClickContinue(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t={dl_event:"your_details",dl_category:"Your Details",dl_action:"Continue_Step-2",dl_label:"page_url",dl_Id:3,URN:this.currentFormGroup.value.URN,FirstName:this.currentFormGroup.value.FirstName,LastName:this.currentFormGroup.value.LastName,PassportNumber:this.currentFormGroup.value.PassportNumber,DialCode:this.currentFormGroup.value.DialCode,ContactNumber:this.currentFormGroup.value.ContactNumber,EmailId:this.currentFormGroup.value.EmailId};this.isFromBack||this.utilityService.pushDataLayerGA(t),this.routeNext()}catch(t){this.logger.error(t)}})}getPayVisaDocSchema(){return(0,v.mG)(this,void 0,void 0,function*(){try{yield this.commonService.UsagssPostLoginActivity(this.baseService,[],"docsub",!0);var t=this.sessionService.getApplicationSchema();t.modules.forEach(n=>{n.controls.forEach(l=>{l.fields.forEach(c=>{"dropdown"==c.fieldType&&(c.optionsListApi.online.url=`${c.optionsListApi.online.url}/${this.sessionService.tenent}/${this.sessionService.countryCode}/${this.sessionService.appCultureCode}`)})})}),this.sessionService.saveFullApplicationSchemaInBrowser(t),this.sessionService.saveApplicationSchemaInBrowser(t),("CD"!=this.docSubCenterDetails.collectionMode||"CP"!=this.docSubCenterDetails.submissionMode)&&this.removePostalModule()}catch(n){}})}removePostalModule(){return(0,v.mG)(this,void 0,void 0,function*(){try{if(!this.sessionService.isSchemaUpdated){const o=this.sessionService.getFullApplicationSchema(),n=[];n.push(p.gT.modules.USAGSS_POSTAL_DETAILS);const l=yield this.commonService.removeModule(o,n);this.sessionService.saveApplicationSchemaInBrowser(l),this.sessionService.isSchemaUpdated=!0}}catch(t){this.logger.error(t)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B.gz),e.Y36(Ye.a),e.Y36(oe.uw),e.Y36(qe))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-usagss-docsub-your-details"]],viewQuery:function(t,o){if(1&t&&e.Gf(sC,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:20,vars:13,consts:[[1,"container","py-15","py-md-30"],[1,"form-card","p-0","border-0","shadow-none","mat-card"],[1,"fs-sm-24","fs-sm-42","mb-30"],[1,"form-card","p-3","border-0","shadow-none","mat-card"],[1,"form-group","p-3"],[3,"formGroup"],[3,"scope","schema","formGroupCopy"],[1,"form-card","p-0","border-0","shadow-none"],[1,"row"],[1,"col-12","col-sm-6","mt-20"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange",3,"click"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"mat-card",1)(2,"h1",2),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"form")(6,"mat-card",3)(7,"div",4)(8,"form",5)(9,"app-dynamic-form",6),e.NdJ("formGroupCopy",function(l){return o.postPageLoadActivities(l,!0)}),e.qZA()()()()(),e.TgZ(10,"mat-card",7)(11,"div",8)(12,"div",9)(13,"button",10),e.NdJ("click",function(){return o.goBack()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",9)(17,"button",11),e.NdJ("click",function(){return o.onClickContinue()}),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()()),2&t&&(e.xp6(3),e.Oqu(e.lcZ(4,7,"gssYourDetails.headerLabel.label2")),e.xp6(5),e.Q6J("formGroup",o.currentFormGroup),e.xp6(1),e.Q6J("scope",o.scope)("schema",o.currentModule),e.xp6(5),e.hij(" ",e.lcZ(15,9,"commonSections.buttons.button31")," "),e.xp6(3),e.Q6J("disabled",o.currentFormGroup.invalid),e.xp6(1),e.hij(" ",e.lcZ(19,11,"commonSections.buttons.button19")," "))},directives:[X.a8,r._Y,r.JL,r.F,r.sg,ue.rm,V.lW],pipes:[D.X$],encapsulation:2}),i})();function rC(i,s){1&i&&(e.TgZ(0,"section",1),e.ynx(1),e.TgZ(2,"mat-card",2)(3,"div",3),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"h1",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"h4",6),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"h4",7),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.BQk(),e.qZA()),2&i&&(e.xp6(6),e.Oqu(e.lcZ(7,3,"usagss.headerLabel.label14")),e.xp6(3),e.Oqu(e.lcZ(10,5,"usagss.headerLabel.label15")),e.xp6(3),e.Oqu(e.lcZ(13,7,"usagss.headerLabel.label16")))}let fn=(()=>{class i extends Ze.o{constructor(t,o,n,l){super(),this._sessionService=t,this.baseService=o,this.activatedRoute=n,this.dialog=l}ngOnInit(){this.sessionService.appLanguageCode="en",this.cgiData=this.sessionService.usagssCgiData,this.confirmPaymentGSS()}confirmPaymentGSS(){var t,o,n;return(0,v.mG)(this,void 0,void 0,function*(){const l=this.sessionService.tenent,c=this.sessionService.countryCode,d=null===(t=this.activatedRoute.snapshot.queryParams)||void 0===t?void 0:t.RequestRefNo,_=null===(o=this.activatedRoute.snapshot.queryParams)||void 0===o?void 0:o.TransactionId;if(this.paymentStatus=null===(n=this.activatedRoute.snapshot.queryParams)||void 0===n?void 0:n.PaymentStatus,this.bankResult="True"==this.paymentStatus?"Success":"Fail","VFP"===this.sessionService.paymentProcessType)this.amount=Number(this.cgiData.amount);else{const T=this.sessionService.usagssApplicantDetails.applicantList.find(I=>I.gssUrn===this.sessionService.usagssApplicantDetails.gssUrn);this.amount=Number(T.amount)}const f={missionCode:l,countryCode:c,grnURN:this.sessionService.usagssApplicantDetails.gssUrn,loginuser:this.sessionService.usagssApplicantDetails.gssUrn,emailId:this.sessionService.getLoggedEmail(),bankReferenceNo:_,requestReferenceNo:d,vendorBankname:"",collectionbankbranch:"",collectionbankbranchname:"",collectionbankteller:"",transactionId:_,amount:Number(this.amount),bankResult:this.bankResult,paymentMode:this.sessionService.paymentMode,service:"VFP"},h=yield this.httpService.payloadPost(p.gT.api.confirmPaymentGSS,f).toPromise().then(T=>T).catch(T=>T);"Success"==this.bankResult&&"ONLINENEFT"!=this.sessionService.paymentMode?(this.sessionService.usagssPaymentDetails=h,this.commonService.routeToUsaGssTransactionSummary()):"Fail"==this.bankResult&&"ONLINENEFT"==this.sessionService.paymentMode?(this.commonService.routeToUsaGssTransactionSummary(),this.logger.error(h.error.description)):this.logger.error(h.error.description)})}navigate(){var t;return(0,v.mG)(this,void 0,void 0,function*(){try{if("bank"!=this.sessionService.paymentMode.toLowerCase()){this.initiatePaymentParam={missionCode:this.sessionService.tenent,countryCode:this.sessionService.countryCode,amount:Number(this.cgiData.amount),grnURN:this.sessionService.usagssApplicantDetails.gssUrn,paymentMode:this.sessionService.paymentMode,loginuser:this.sessionService.usagssApplicantDetails.gssUrn,centerCode:"",currency:null===(t=this.cgiData)||void 0===t?void 0:t.currency};var o=yield this.httpService.payloadWithoutTokenPost(p.gT.api.gssInitiatePayment,this.initiatePaymentParam).toPromise().then(d=>d).catch(d=>d);if(o.error&&o.error.code){const d=o.error.description;return this.utilityService.stopNgxUiSpinner(),void this.showErrorMsgPopup(d,o.error.code)}this.sessionService.appLanguageCode="en";const n=this.utilityService.convertKeystoLowercase(o);this.sessionService.paymentDetails=n;const c=`${n.url}?RequestRefNo=${n.requestrefno}&Currency=${this.cgiData.currency}&Culture=${this.sessionService.appCultureCode}&Amount=${this.cgiData.amount}&DigitalSignature=${n.digitalsignature}&RedirectURL=`;window.open(c,"_self")}else this.commonService.routeToUsaGssTransactionSummary()}catch(n){}})}showErrorMsgPopup(t,o){try{const n=this.dialog.open(nt,{data:t});n.afterClosed().subscribe(l=>(0,v.mG)(this,void 0,void 0,function*(){1069===o&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner())})),this.router.events.subscribe(()=>{n.close()})}catch(n){}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(et.m),e.Y36(qe),e.Y36(B.gz),e.Y36(oe.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-usagss-docsub-payment-confirmation"]],features:[e.qOj],decls:1,vars:1,consts:[["class","container py-15 py-md-30",4,"ngIf"],[1,"container","py-15","py-md-30"],[1,"form-card","mb-20","mb-sm-50"],[1,"text-center","mb-20"],[1,"fa","fa-times-circle","fs-30","c-brand-orange"],[1,"text-center","fs-21","fs-sm-24","mb-10"],[1,"text-center","fs-21","fs-sm-20","mb-10"],[1,"text-center","fs-21","fs-sm-18","mb-10"]],template:function(t,o){1&t&&e.YNc(0,rC,14,9,"section",0),2&t&&e.Q6J("ngIf","True"!=o.paymentStatus&&"ONLINENEFT"!=o.sessionService.paymentMode)},directives:[w.O5,X.a8],pipes:[D.X$],encapsulation:2}),i})();const cC=["captchaContainer"];function uC(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",18,19),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip1")))}function dC(i,s){if(1&i&&(e.TgZ(0,"h6",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.AsE(" ",null==t.vacCenters?null:t.vacCenters.length," ",e.lcZ(2,2,"eligibilityCriteria.formLabel.label17")," ")}}function pC(i,s){1&i&&(e.TgZ(0,"div",23),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message14")," "))}function mC(i,s){if(1&i&&(e.TgZ(0,"div",21),e.YNc(1,pC,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.centerCode||null==t.formGroup.controls.centerCode.errors?null:t.formGroup.controls.centerCode.errors.required)}}function gC(i,s){if(1&i&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.isoCode),e.xp6(1),e.hij(" ",null==t?null:t.centerName," ")}}function _C(i,s){1&i&&(e.ynx(0),e._UZ(1,"i",18,19),e.ALo(3,"translate"),e.BQk()),2&i&&(e.xp6(1),e.s9C("matTooltip",e.lcZ(3,1,"eligibilityCriteria.formLabel.tooltip4")))}function fC(i,s){1&i&&(e.TgZ(0,"div",23),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"eligibilityCriteria.messages.errorMessages.message15")," "))}function vC(i,s){if(1&i&&(e.TgZ(0,"div",21),e.YNc(1,fC,3,3,"div",22),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.formGroup||null==t.formGroup.controls||null==t.formGroup.controls.selectedSubvisaCategory||null==t.formGroup.controls.selectedSubvisaCategory.errors?null:t.formGroup.controls.selectedSubvisaCategory.errors.required)}}function hC(i,s){if(1&i&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}const vn=function(i){return{"form-error":i}},hn=["captcha_version","captcha_api_key"];let yn=(()=>{class i extends Ze.o{constructor(t,o){var n;super(),this.fb=t,this.httpService=o,this.environment=re.N,this.constants=p.gT,this.initBaseForm(p.gT.modules.ELIGIBILITY_CRITERIA_HMPO),this.vacCenters=[],this.visaTypes=[],this.isEditMode=!1,this.allowedCaptcha=!1,this.currentCaptcha=this.captchaVersionConst.default,this.captchaToken="",this.IS_HMPO_JOURNEY=null===(n=this.sessionService)||void 0===n?void 0:n.isHmpoJourney}ngOnInit(){try{this.utilityService.fireCustomEvent({dl_category:"form loaded",dl_action:"form loaded - application details",dl_label:void 0,value:void 0}),this.initFormGroup(),this.initApplication(),this.checkCaptchaAllowed()}catch(t){this.logger.error(t)}}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(t=>(0,v.mG)(this,void 0,void 0,function*(){t?(this.allowedCaptcha=t.indexOf(p.m8.ELIGIBILITY_CRITERIA_HMPO)>-1,this.allowedCaptcha&&(hn.forEach(o=>{this.formGroup.addControl(o,new r.NI("",r.kI.required))}),setTimeout(()=>(0,v.mG)(this,void 0,void 0,function*(){const o=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.formGroup,o,this.captchaVersionConst.default)}),1e3))):this.allowedCaptcha=!1}))}initApplication(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t=this.sessionService.applicationConfiguration?this.sessionService.applicationConfiguration:{},o=this.sessionService.eligibilityDetails;o?(this.appConfiguration=t,yield this.loadVacCodes(),this.checkForEditMode().then(n=>this.onEditMode(n)),yield this.loadVacCodes(),this.formGroup.patchValue(o)):this.loadVacCodes()}catch(t){this.logger.error(t)}})}initFormGroup(){this.formGroup=this.fb.group({centerCode:[null,r.kI.required],selectedSubvisaCategory:[null,r.kI.required]})}submitV2Captcha(t){this.utilityService.patchCaptchaValue(this.formGroup,t,this.captchaVersionConst.alternate)}loadVacCodes(){var t;return(0,v.mG)(this,void 0,void 0,function*(){try{this.vacCenters=[],this.visaTypes=[];const o=yield this.commonService.getVacCenters(null===(t=this.sessionService)||void 0===t?void 0:t.appCultureCode);return o&&(this.vacCenters=o),!0}catch(o){this.logger.error(o)}})}onCenterCodeChange(t){var o;return(0,v.mG)(this,void 0,void 0,function*(){this.utilityService.startNgxUiSpinner(),this.sessionService.eligibilityDetails||this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Choose Visa Application Centre",dl_label:"page_url"}),this.visaTypes=[],this.utilityService.formcontrolReset(this.formGroup,["nationalityCode","serviceType","selectedSubvisaCategory","entryType","visaType"]),yield this.loadConfiguration(t),(null===(o=this.appConfiguration)||void 0===o?void 0:o.enableServiceType)||this.loadVisaType(t),this.utilityService.stopNgxUiSpinner()})}appointmentCatgoryChange(t){null==t||this.sessionService.eligibilityDetails||this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Choose appointment category",dl_label:"page_url"})}loadVisaType(t){var o;return(0,v.mG)(this,void 0,void 0,function*(){try{const n=this.sessionService.eligibilityDetails,l=t||(n&&n.centerCode?n.centerCode:this.formGroup.value.centerCode);if(!l)return!1;this.utilityService.formcontrolReset(this.formGroup,["selectedSubvisaCategory"]);const c=yield this.commonService.getVisaCategories(l);c&&(this.visaTypes=c);const d=this.sessionService.eligibilityDetails;return d&&d.hasOwnProperty("selectedSubvisaCategory")&&(null===(o=this.formGroup.get("selectedSubvisaCategory"))||void 0===o||o.setValue(d.selectedSubvisaCategory)),!0}catch(n){this.logger.error(n)}})}submitCaptcha(){!this.isEditMode&&this.formGroup.get("visaCategoryCode")}checkForEditMode(){return(0,v.mG)(this,void 0,void 0,function*(){try{return this.isEditMode=!!this.sessionService.eligibilityDetails,this.isEditMode}catch(t){this.logger.error(t)}})}onEditMode(t){return(0,v.mG)(this,void 0,void 0,function*(){try{t&&this.formGroup.disable()}catch(o){throw o}})}get disableButton(){return this.formGroup.invalid}submitForm(t){return(0,v.mG)(this,void 0,void 0,function*(){this.sessionService.isHmpoJourney=!0,this.isEditMode||this.formGroup.valid?this.isEditMode?this.getApplicationDetails(this.formGroup.value)&&this.routeNext():this.isEditMode||this.sessionService.applicationDetailValue?this.routeNext():this.submitEligibility():this.commonService.touchAllFields(this.formGroup)})}submitEligibility(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){try{const n={dl_category:"form submission",dl_action:"form submission - application details",dl_label:null===(t=this.formGroup.value)||void 0===t?void 0:t.selectedSubvisaCategory,value:void 0};this.utilityService.fireCustomEvent(n),(null===(o=this.appConfiguration)||void 0===o?void 0:o.enableReferenceNumber)&&(this.sessionService.isGRNEnabled=!0),yield this.filterModuleOnEligibilitySubmit(this.formGroup.value.centerCode,""),this.sessionService.centerCode=this.formGroup.value.centerCode;const l=this.getApplicationDetails(this.formGroup.value);l.visaCategoryCode=this.formGroup.value.selectedSubvisaCategory,this.sessionService.applicationDetailValue=l;const c=this.formGroup.value;c.visaCategoryCode=this.formGroup.value.selectedSubvisaCategory,this.sessionService.eligibilityDetails=c,l&&this.routeNext(),this.utilityService.pushDataLayerGA({dl_event:"appointment_details",dl_category:"Appointment Details",dl_action:"Appointment Details Continue",dl_label:"Continue"})}catch(n){if(this.logger.error(n),!this.allowedCaptcha)return;if(re.N.captchaFallbackEnabled)this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.formGroup,hn),this.utilityService.resetCaptcha();else{const l=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.formGroup,l,this.captchaVersionConst.default)}}})}getApplicationDetails(t){const o=this.initApplicationDetails();for(const n of Object.keys(t))o.hasOwnProperty(n)&&(o[n]=t[n]);return o}initApplicationDetails(){var t,o,n,l;const c=(null===(o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration)||void 0===o?void 0:o.enableApplicationType)?"":void 0,d=(null===(l=null===(n=this.sessionService)||void 0===n?void 0:n.applicationConfiguration)||void 0===l?void 0:l.enableServiceType)?"":void 0;return{countryCode:this.sessionService.countryCode,missionCode:this.sessionService.tenent,centerCode:"",loginUser:this.sessionService.getLoggedEmail()||"",visaCategoryCode:"",isEdit:!1,feeEntryTypeCode:null,feeExemptionTypeCode:null,feeExemptionDetailsCode:null,applicantList:[],languageCode:this.sessionService.appCultureCode,applicationType:c,serviceType:d}}loadConfiguration(t){return(0,v.mG)(this,void 0,void 0,function*(){t||(t=this.sessionService.centerCode);const o=yield this.commonService.loadVacConfiguration(t);return o&&(this.sessionService.applicationConfiguration=o,this.appConfiguration=o),o})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(Ve.O))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-eligibility-criteria-hmpo"]],viewQuery:function(t,o){if(1&t&&e.Gf(cC,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:46,vars:50,consts:[[1,"container","py-15","py-md-30"],[1,"form-card"],[1,"c-brand-grey","mb-5"],[1,"fs-24","fs-sm-46","mb-25"],[1,"c-brand-grey-para","mb-30"],[3,"formGroup"],[1,"form-group",3,"ngClass"],[1,"mt-15"],[1,"c-brand-error"],[4,"ngIf"],["class","d-inline pull-right text-right",4,"ngIf"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["formControlName","centerCode","appDefaultSelect","",3,"options","valueKey","placeholder","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","selectedSubvisaCategory","appDefaultSelect","",3,"placeholder","options","valueKey","ngModelChange"],[1,"form-card","p-0","border-0","mt-20","shadow-none"],["type","button","mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],["matTooltipPosition","above",1,"brand-tooltip","fa","fa-info",3,"matTooltip"],["tooltip","matTooltip"],[1,"d-inline","pull-right","text-right"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0)(1,"form")(2,"mat-card",1)(3,"p",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"h1",3),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"p",4),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"form",5)(13,"div",6)(14,"div",7),e._uU(15),e.ALo(16,"translate"),e.TgZ(17,"span",8),e._uU(18,"*"),e.qZA(),e.YNc(19,uC,4,3,"ng-container",9),e.YNc(20,dC,3,4,"h6",10),e.qZA(),e.YNc(21,mC,2,1,"div",11),e.TgZ(22,"mat-form-field",12)(23,"mat-select",13),e.NdJ("ngModelChange",function(l){return o.onCenterCodeChange(l)}),e.ALo(24,"translate"),e.YNc(25,gC,2,2,"mat-option",14),e.ALo(26,"sortBy"),e.qZA()()(),e._UZ(27,"hr"),e.TgZ(28,"div",6)(29,"div"),e._uU(30),e.ALo(31,"translate"),e.TgZ(32,"span",8),e._uU(33,"*"),e.qZA(),e.YNc(34,_C,4,3,"ng-container",9),e.qZA(),e.YNc(35,vC,2,1,"div",11),e.TgZ(36,"mat-form-field",12)(37,"mat-select",15),e.NdJ("ngModelChange",function(l){return o.appointmentCatgoryChange(l)}),e.ALo(38,"translate"),e.YNc(39,hC,2,2,"mat-option",14),e.ALo(40,"sortBy"),e.qZA()()(),e._UZ(41,"hr"),e.qZA()(),e.TgZ(42,"mat-card",16)(43,"button",17),e.NdJ("click",function(){return o.submitForm()}),e._uU(44),e.ALo(45,"translate"),e.qZA()()()()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,24,"eligibilityCriteria.pageDetails.para1")),e.xp6(3),e.Oqu(e.lcZ(8,26,"eligibilityCriteria.headerLabel.label2")),e.xp6(3),e.Oqu(e.lcZ(11,28,"eligibilityCriteria.pageDetails.para16")),e.xp6(2),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("ngClass",e.VKq(46,vn,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.centerCode?null:o.formGroup.controls.centerCode.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.centerCode?null:o.formGroup.controls.centerCode.invalid))),e.xp6(2),e.hij(" ",e.lcZ(16,30,"courierAddressDetails.formLabel.label5"),""),e.xp6(4),e.Q6J("ngIf",o.hasTranslation("eligibilityCriteria.formLabel.tooltip1")),e.xp6(1),e.Q6J("ngIf",null==o.vacCenters?null:o.vacCenters.length),e.xp6(1),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.centerCode?null:o.formGroup.controls.centerCode.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.centerCode?null:o.formGroup.controls.centerCode.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(24,32,"eligibilityCriteria.placeholder.label14")),e.Q6J("options",o.vacCenters)("valueKey","isoCode"),e.xp6(2),e.Q6J("ngForOf",e.xi3(26,34,o.vacCenters,"centerName"))("ngForTrackBy",o.trackByFn),e.xp6(3),e.Q6J("ngClass",e.VKq(48,vn,(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.selectedSubvisaCategory?null:o.formGroup.controls.selectedSubvisaCategory.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.selectedSubvisaCategory?null:o.formGroup.controls.selectedSubvisaCategory.invalid))),e.xp6(2),e.hij(" ",e.lcZ(31,37,"courierAddressDetails.formLabel.label3"),""),e.xp6(4),e.Q6J("ngIf",o.hasTranslation("eligibilityCriteria.formLabel.tooltip4")),e.xp6(1),e.Q6J("ngIf",(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.selectedSubvisaCategory?null:o.formGroup.controls.selectedSubvisaCategory.touched)&&(null==o.formGroup||null==o.formGroup.controls||null==o.formGroup.controls.selectedSubvisaCategory?null:o.formGroup.controls.selectedSubvisaCategory.errors)),e.xp6(2),e.s9C("placeholder",e.lcZ(38,39,"eligibilityCriteria.placeholder.label15")),e.Q6J("options",o.visaTypes)("valueKey","code"),e.xp6(2),e.Q6J("ngForOf",e.xi3(40,41,o.visaTypes,"name"))("ngForTrackBy",o.trackByFn),e.xp6(5),e.hij(" ",e.lcZ(45,44,"commonSections.buttons.button19")," "))},directives:[r._Y,r.JL,r.F,X.a8,r.sg,w.mk,w.O5,At.gM,q.KE,ae.gD,r.JJ,r.u,ce,w.sg,te.ey,V.lW],pipes:[D.X$,ue.Uw],encapsulation:2}),i})();function yC(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"button",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().continue()}),e._uU(3),e.ALo(4,"translate"),e.qZA()()()}2&i&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"commonSections.buttons.button19")," "))}function bC(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",12)(2,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmAddApplicant()}),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",12)(6,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmCancel()}),e._uU(7),e.ALo(8,"translate"),e.qZA()()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"commonSections.buttons.button15")),e.xp6(4),e.Oqu(e.lcZ(8,4,"commonSections.buttons.button14")))}let CC=(()=>{class i extends a.e{constructor(t,o){super(),this.dialogData=t,this.dialogRef=o,this.data=t.data,this.flag=t.flag,o.disableClose=!0}ngOnInit(){}close(t=!1,o){this.dialogRef.close(t)}continue(t=!0,o){this.dialogRef.close({data:"no"})}confirmCancel(){this.dialogRef.close({data:"yes"})}confirmAddApplicant(){this.dialogRef.close({data:"no"})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.WI),e.Y36(oe.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-handshake-goto-dashboard-modal"]],features:[e.qOj],decls:13,vars:7,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],[1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"fs-18","fs-sm-21"],[1,"fa","fa-exclamation-triangle","mr-5"],[1,"my-20"],[1,"fs-sm-17","c-brand-grey-para","mb-30"],["class","row",4,"ngIf"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mb-10","mb-sm-0",3,"click"],[1,"col-6","col-md"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"click"],["mat-stroked-button","","data-dismiss","modal",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mt-15",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.close()}),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"h4",4),e._UZ(5,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"hr",6),e.TgZ(9,"p",7),e._uU(10),e.qZA(),e.YNc(11,yC,5,3,"div",8),e.YNc(12,bC,9,6,"div",8),e.qZA()),2&t&&(e.xp6(3),e.MGl("src","",o.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(3),e.hij(" ",e.lcZ(7,5,"commonSections.headerLabel.label3")," "),e.xp6(4),e.Oqu(o.data),e.xp6(1),e.Q6J("ngIf","STAE"==o.flag),e.xp6(1),e.Q6J("ngIf","DTSPAE"==o.flag))},directives:[w.O5,V.lW],pipes:[D.X$],encapsulation:2}),i})();const AC=["captchaContainer"];let TC=(()=>{class i extends a.e{constructor(t,o,n,l,c,d){super(),this.activatedRoute=t,this.contentfulService=o,this.translateService=n,this.baseService=l,this.translate=c,this.dialog=d,this.translate.use("en"),this.handshakeDialogData={}}ngOnInit(){this.getToken()}getToken(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.subs.sink=this.activatedRoute.queryParamMap.subscribe(t=>(0,v.mG)(this,void 0,void 0,function*(){if(null==t?void 0:t.has("token")){this.sessionService.handShakeTokenFlag=!0,this.token=null==t?void 0:t.get("token");var o=yield this.httpService.payloadWithoutTokenPost(p.gT.api.blgHandshake,{token:this.token,passportnumber:""}).toPromise().then(n=>n).catch(n=>n);null==o.error||1037==o.error.code||1038==o.error.code?(this.missionCode=o.missionCode,this.countyCode=o.countryCode,this.sessionService.appLanguageCode="en",this.sessionService.appCultureCode="en-US",this.sessionService.tenent=this.missionCode,this.sessionService.countryCode=this.countyCode,this.sessionService.centerCode=o.vacCode,this.sessionService.centerCodeLs=o.vacCode,this.sessionService.visaType=o.purposeOfTravelCategory,this.sessionService.travelCategory=o.visaType,this.translate.use(this.sessionService.appLanguageCode),this.loadConfiguration(o)):this.commonService.routeToNotFound()}else this.commonService.routeToNotFound()}))}catch(t){}})}handlePostAuthActivity(t){return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.sessionService.bhsGroupIdentifier=t.urn,this.sessionService.countryCode=String(t.countryCode).toLowerCase(),this.sessionService.tenent=String(t.missionCode).toLowerCase(),this.sessionService.appLanguageCode=re.N.defaultLang,this.sessionService.updateLoggedEmail(t.loginUser),yield this.commonService.postLoginActivity(this.baseService,t),null!=t.error&&1037==t.error.code){const n=this.commonService.translateValue("commonSections.messages.bhsMessages.message1")+t.passportNumber;this.handshakeDialogData.data=n,this.handshakeDialogData.flag="STAE",this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(this.handshakeDialogData,t)}else if(null!=t.error&&1038==t.error.code){var o=t.error.description.split("-");const n=this.commonService.translateValue("commonSections.messages.bhsMessages.message2")+o[1]+"."+this.commonService.translateValue("commonSections.messages.bhsMessages.message3");this.handshakeDialogData.data=n,this.handshakeDialogData.flag="DTSPAE",this.utilityService.stopNgxUiSpinner(),this.showErrorMsgPopup(this.handshakeDialogData,t)}else null==t.error&&(this.sessionService.loginResponse=t.roleName,this.commonService.routeToApplicationDetails());return!0}catch(n){throw n}})}loadConfiguration(t){return(0,v.mG)(this,void 0,void 0,function*(){const o=yield this.commonService.loadConfigurationWithoutVac();return o&&(this.sessionService.applicationConfiguration=o,this.appConfiguration=o,this.handlePostAuthActivity(t)),o})}showErrorMsgPopup(t,o){try{const n=this.dialog.open(CC,{data:t});n.afterClosed().subscribe(l=>(0,v.mG)(this,void 0,void 0,function*(){if("no"==l.data||void 0===l.data)this.commonService.routeToDashboard();else if("yes"==l.data){var c=o.error.description.split("-"),d=yield this.httpService.payloadWithoutTokenPost(p.gT.api.blgHandshake,{token:this.token,passportnumber:c[1]}).toPromise().then(_=>_).catch(_=>_);(null==d.error||1038==o.error.code)&&(this.sessionService.centerCode=d.vacCode,this.sessionService.centerCodeLs=d.vacCode,this.sessionService.visaType=d.purposeOfTravelCategory,this.sessionService.travelCategory=d.visaType,this.handlePostAuthActivity(d))}})),this.router.events.subscribe(()=>{n.close()})}catch(n){}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(B.gz),e.Y36(Ye.a),e.Y36(po),e.Y36(qe),e.Y36(D.sK),e.Y36(oe.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-blg-handshake"]],viewQuery:function(t,o){if(1&t&&e.Gf(AC,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:0,vars:0,template:function(t,o){},encapsulation:2}),i})();var SC=A(592);const xC=["captchaContainer"];function LC(i,s){1&i&&(e.TgZ(0,"p",14),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.pageDetails.para1")))}function IC(i,s){1&i&&(e.TgZ(0,"p",14),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.pageDetails.para5")))}const ZC=function(i){return{count:i}};function NC(i,s){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij(" ",e.xi3(2,1,"commonSections.messages.errorMessages.message24",e.VKq(4,ZC,t.remainingCount))," ")}}function DC(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",15)(2,"div",16),e._UZ(3,"i",17),e.TgZ(4,"div"),e._uU(5),e.qZA(),e.YNc(6,NC,3,6,"div",8),e.qZA()(),e.BQk()),2&i){const t=e.oxw(3);e.xp6(5),e.Oqu(t.actiateMailMessage),e.xp6(1),e.Q6J("ngIf",t.isRemainingCount)}}function OC(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",18)(2,"div",19)(3,"div",20)(4,"div",21),e._UZ(5,"i",22),e.qZA(),e._UZ(6,"div",23),e.qZA()()(),e.BQk()),2&i){const t=e.oxw(3);e.xp6(6),e.Q6J("translate",t.successCode)}}function EC(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",24)(2,"div",25)(3,"div",20)(4,"div",21),e._UZ(5,"i",26),e.qZA(),e._UZ(6,"div",23),e.qZA()()(),e.BQk()),2&i){const t=e.oxw(3);e.xp6(6),e.Q6J("translate",t.errorCode)}}function kC(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-radio-group",27),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(3).slotType=n})("change",function(n){return e.CHM(t),e.oxw(3).radioChange(n)}),e.TgZ(1,"div",28)(2,"mat-radio-button",29),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",28)(6,"mat-radio-button",29),e._uU(7),e.ALo(8,"translate"),e.qZA()()()}if(2&i){const t=e.oxw(3);e.Q6J("ngModel",t.slotType),e.xp6(2),e.Q6J("value",0),e.xp6(1),e.Oqu(e.lcZ(4,5,"login.formLabel.label1")),e.xp6(3),e.Q6J("value",1),e.xp6(1),e.Oqu(e.lcZ(8,7,"login.formLabel.label3"))}}function wC(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function FC(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message1")," "))}function MC(i,s){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,wC,3,3,"div",40),e.YNc(2,FC,3,3,"div",40),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.loginF.username.errors.required),e.xp6(1),e.Q6J("ngIf",t.loginF.username.errors.pattern)}}function PC(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function UC(i,s){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,PC,3,3,"div",40),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.loginF.password.errors.required)}}function qC(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-cloudflare-captcha-container",42,43),e.NdJ("v2CaptchaSet",function(n){return e.CHM(t),e.oxw(4).submitV2Captcha(n)}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("action",t.constants.captcha_action.LOGIN)("captchaType",t.currentCaptcha)}}function GC(i,s){1&i&&(e.TgZ(0,"div",39)(1,"div",41),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"commonSections.messages.requiredMessages.message1")," "))}function VC(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-captcha-container",42,44),e.NdJ("v2CaptchaSet",function(n){return e.CHM(t),e.oxw(4).submitV2Captcha(n)}),e.qZA(),e.YNc(3,GC,4,3,"div",32),e.BQk()}if(2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("action",t.constants.captcha_action.LOGIN)("captchaType",t.currentCaptcha),e.xp6(2),e.Q6J("ngIf",(null==t.loginF.captcha_api_key||null==t.loginF.captcha_api_key.errors?null:t.loginF.captcha_api_key.errors.required)&&t.loginSubmit)}}const Ft=function(i){return{"form-error":i}};function RC(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",30)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",31),e._uU(6,"*"),e.qZA()(),e.YNc(7,MC,3,2,"div",32),e.TgZ(8,"mat-form-field",33),e._UZ(9,"input",34),e.qZA()(),e.TgZ(10,"div",30)(11,"div"),e._uU(12),e.ALo(13,"translate"),e.TgZ(14,"span",31),e._uU(15,"*"),e.qZA()(),e.YNc(16,UC,2,1,"div",32),e.TgZ(17,"mat-form-field",33),e._UZ(18,"input",35),e.TgZ(19,"i",36),e.NdJ("keypress",function(){e.CHM(t);const n=e.oxw(3);return n.passwordToogle=!n.passwordToogle})("mouseenter",function(){return e.CHM(t),e.oxw(3).passwordToogle=!0})("mouseleave",function(){return e.CHM(t),e.oxw(3).passwordToogle=!1})("click",function(){return e.CHM(t),e.oxw(3).passwordToogle=!0}),e.qZA()()(),e.ynx(20),e._UZ(21,"div",37),e.BQk(),e.YNc(22,qC,3,2,"ng-container",8),e.YNc(23,VC,4,3,"ng-container",8),e.TgZ(24,"button",38),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).submitLogin()}),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(17,Ft,t.loginF.username.touched&&t.loginF.username.invalid)),e.xp6(2),e.Oqu(e.lcZ(4,11,"login.formLabel.label1")),e.xp6(4),e.Q6J("ngIf",t.loginF.username.touched&&t.loginF.username.errors),e.xp6(3),e.Q6J("ngClass",e.VKq(19,Ft,t.loginF.password.touched&&t.loginF.password.invalid)),e.xp6(2),e.Oqu(e.lcZ(13,13,"login.formLabel.label2")),e.xp6(4),e.Q6J("ngIf",t.loginF.password.touched&&t.loginF.password.errors),e.xp6(2),e.Q6J("type",t.passwordToogle?"text":"password"),e.xp6(1),e.Q6J("ngClass",t.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),e.xp6(3),e.Q6J("ngIf",t.allowedCaptcha&&t.enableCloudFlareCaptchaLogin),e.xp6(1),e.Q6J("ngIf",t.allowedCaptcha&&!t.isChinaCountry&&!t.isServicesDomain),e.xp6(2),e.hij(" ",e.lcZ(26,15,"login.buttons.button8")," ")}}function JC(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function YC(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"login.messages.errorMessages.message1")," "))}function QC(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"login.messages.errorMessages.message2")," "))}function BC(i,s){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,JC,3,3,"div",40),e.YNc(2,YC,3,3,"div",40),e.YNc(3,QC,3,3,"div",40),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",t.loginF.dailcode.errors.required),e.xp6(1),e.Q6J("ngIf",t.loginF.dailcode.errors.pattern),e.xp6(1),e.Q6J("ngIf",!t.loginF.dailcode.errors.pattern&&t.loginF.dailcode.errors.maxlength)}}function jC(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function HC(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message31")," "))}function $C(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message27")," "))}function WC(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message25")," "))}function KC(i,s){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,jC,3,3,"div",40),e.YNc(2,HC,3,3,"div",40),e.YNc(3,$C,3,3,"div",40),e.YNc(4,WC,3,3,"div",40),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.loginF.contact||null==t.loginF.contact.errors?null:t.loginF.contact.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.loginF.contact||null==t.loginF.contact.errors?null:t.loginF.contact.errors.pattern),e.xp6(1),e.Q6J("ngIf",null==t.loginF.contact||null==t.loginF.contact.errors?null:t.loginF.contact.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.loginF.contact||null==t.loginF.contact.errors?null:t.loginF.contact.errors.maxlength)}}function zC(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",45)(2,"div",46)(3,"div",47)(4,"div"),e._uU(5),e.ALo(6,"translate"),e.TgZ(7,"span",31),e._uU(8,"*"),e.qZA()(),e.YNc(9,BC,4,3,"div",32),e.TgZ(10,"mat-form-field",33),e._UZ(11,"input",48),e.qZA()()(),e.TgZ(12,"div",49)(13,"div",47)(14,"div"),e._UZ(15,"span",31),e.qZA(),e.YNc(16,KC,5,4,"div",32),e.TgZ(17,"mat-form-field",33),e._UZ(18,"input",50),e.qZA()()()(),e.TgZ(19,"button",51),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).generateOtp()}),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(9,Ft,t.loginF.contact.touched&&t.loginF.contact.invalid||t.loginF.dailcode.touched&&t.loginF.dailcode.invalid)),e.xp6(4),e.hij("",e.lcZ(6,5,"login.formLabel.label3"),"s"),e.xp6(4),e.Q6J("ngIf",t.loginF.dailcode.touched&&t.loginF.dailcode.errors),e.xp6(7),e.Q6J("ngIf",t.loginF.contact.touched&&t.loginF.contact.errors),e.xp6(4),e.hij(" ",e.lcZ(21,7,"commonSections.buttons.button19")," ")}}function XC(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function e0(i,s){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,XC,3,3,"div",40),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.loginF?null:t.loginF.otp.errors.required)}}function t0(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"login.messages.errorMessages.message4")," "))}function o0(i,s){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,t0,3,3,"div",40),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.Q6J("ngIf",null==t.loginF?null:t.loginF.otp.errors.pattern)}}function n0(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",57),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).generateOtp()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"applicantInformation.formLabel.label22")))}function a0(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",52)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",30)(6,"div"),e._uU(7),e.ALo(8,"translate"),e.TgZ(9,"span",31),e._uU(10,"*"),e.qZA()(),e.YNc(11,e0,2,1,"div",32),e.YNc(12,o0,2,1,"div",32),e.TgZ(13,"mat-form-field",53),e._UZ(14,"input",54),e.TgZ(15,"i",36),e.NdJ("keypress",function(){e.CHM(t);const n=e.oxw(3);return n.passwordToogle=!n.passwordToogle})("mouseenter",function(){return e.CHM(t),e.oxw(3).passwordToogle=!0})("mouseleave",function(){return e.CHM(t),e.oxw(3).passwordToogle=!1})("click",function(){return e.CHM(t),e.oxw(3).passwordToogle=!0}),e.qZA()(),e.YNc(16,n0,3,3,"span",55),e.qZA(),e.TgZ(17,"button",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).submitLogin()}),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,10,"login.messages.infoMessages.message1")),e.xp6(2),e.Q6J("ngClass",e.VKq(16,Ft,(null==t.loginF||null==t.loginF.otp?null:t.loginF.otp.touched)&&(null==t.loginF?null:t.loginF.otp.invalid))),e.xp6(2),e.Oqu(e.lcZ(8,12,"login.messages.errorMessages.message3")),e.xp6(4),e.Q6J("ngIf",(null==t.loginF||null==t.loginF.otp?null:t.loginF.otp.touched)&&(null==t.loginF?null:t.loginF.otp.errors)),e.xp6(1),e.Q6J("ngIf",(null==t.loginF?null:t.loginF.otp.touched)&&(null==t.loginF?null:t.loginF.otp.errors)),e.xp6(2),e.Q6J("type",t.passwordToogle?"text":"password"),e.xp6(1),e.Q6J("ngClass",t.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),e.xp6(1),e.Q6J("ngIf",!(null!=t.userDetails&&t.userDetails.enableOTPAuthentication)),e.xp6(1),e.Q6J("disabled",t.loginForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(19,14,"login.buttons.button8")," ")}}function s0(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"mat-card",5)(3,"h1",6),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,LC,3,3,"p",7),e.YNc(7,IC,3,3,"p",7),e.YNc(8,DC,7,2,"ng-container",8),e.YNc(9,OC,7,1,"ng-container",8),e.YNc(10,EC,7,1,"ng-container",8),e.YNc(11,kC,9,9,"mat-radio-group",9),e.TgZ(12,"form",10),e.YNc(13,RC,27,21,"ng-container",8),e.YNc(14,zC,22,11,"ng-container",8),e.YNc(15,a0,20,18,"ng-container",8),e.TgZ(16,"div",11)(17,"div",12)(18,"a",13),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onResetPassword()}),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()()()()}if(2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(e.lcZ(5,12,"login.headerLabel.label1")),e.xp6(2),e.Q6J("ngIf",!t.isOtpLoginEnabled&&!t.otpScreen),e.xp6(1),e.Q6J("ngIf",t.isOtpLoginEnabled&&!t.otpScreen),e.xp6(1),e.Q6J("ngIf",t.actiateMailMessage),e.xp6(1),e.Q6J("ngIf",t.otpScreen&&t.successCode),e.xp6(1),e.Q6J("ngIf",t.errorCode),e.xp6(1),e.Q6J("ngIf",t.isOtpLoginEnabled&&!t.otpScreen),e.xp6(1),e.Q6J("formGroup",t.loginForm),e.xp6(1),e.Q6J("ngIf",0===t.slotType),e.xp6(1),e.Q6J("ngIf",1===t.slotType&&!t.otpScreen),e.xp6(1),e.Q6J("ngIf",1===t.slotType&&t.otpScreen),e.xp6(4),e.Oqu(e.lcZ(20,14,"forogotpassword.buttons.button1"))}}function l0(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",24)(2,"div",25)(3,"div",20)(4,"div",21),e._UZ(5,"i",26),e.qZA(),e._UZ(6,"div",23),e.qZA()()(),e.BQk()),2&i){const t=e.oxw(3);e.xp6(6),e.Q6J("translate",t.errorCode)}}function r0(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"div",24)(2,"div",60),e._UZ(3,"i",17),e.TgZ(4,"div"),e._uU(5),e.qZA()()(),e.BQk()),2&i){const t=e.oxw(3);e.xp6(5),e.Oqu(t.actiateErrorMessage)}}function c0(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).saveMobileNo()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.buttons.button36")," "))}function u0(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).generateOtp()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"applicantInformation.buttons.button1")," "))}function d0(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",45)(2,"div",61)(3,"div",62)(4,"span",63),e._uU(5,"Current Password"),e.TgZ(6,"span",31),e._uU(7,"*"),e.qZA()()(),e.TgZ(8,"div",64)(9,"mat-form-field",33),e._UZ(10,"input",65),e.TgZ(11,"i",36),e.NdJ("keypress",function(){e.CHM(t);const n=e.oxw(3);return n.passwordToogle=!n.passwordToogle})("mouseenter",function(){return e.CHM(t),e.oxw(3).passwordToogle=!0})("mouseleave",function(){return e.CHM(t),e.oxw(3).passwordToogle=!1})("click",function(){return e.CHM(t),e.oxw(3).passwordToogle=!0}),e.qZA()()()(),e.TgZ(12,"div",61)(13,"div",62)(14,"span",63),e._uU(15,"Password"),e.TgZ(16,"span",31),e._uU(17,"*"),e.qZA()()(),e.TgZ(18,"div",64)(19,"mat-form-field",33),e._UZ(20,"input",35),e.TgZ(21,"i",36),e.NdJ("keypress",function(){e.CHM(t);const n=e.oxw(3);return n.passwordToogle1=!n.passwordToogle1})("mouseenter",function(){return e.CHM(t),e.oxw(3).passwordToogle1=!0})("mouseleave",function(){return e.CHM(t),e.oxw(3).passwordToogle1=!1})("click",function(){return e.CHM(t),e.oxw(3).passwordToogle1=!0}),e.qZA()()()(),e.TgZ(22,"div",61)(23,"div",62)(24,"span",63),e._uU(25,"Confirm Password"),e.TgZ(26,"span",31),e._uU(27,"*"),e.qZA()()(),e.TgZ(28,"div",66)(29,"mat-form-field",33),e._UZ(30,"input",67),e.TgZ(31,"i",36),e.NdJ("keypress",function(){e.CHM(t);const n=e.oxw(3);return n.passwordToogle2=!n.passwordToogle2})("mouseenter",function(){return e.CHM(t),e.oxw(3).passwordToogle2=!0})("mouseleave",function(){return e.CHM(t),e.oxw(3).passwordToogle2=!1})("click",function(){return e.CHM(t),e.oxw(3).passwordToogle2=!0}),e.qZA()()()()(),e.YNc(32,c0,3,3,"button",68),e.YNc(33,u0,3,3,"button",68),e.BQk()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(9,Ft,(null==t.updatesForm.controls||null==t.updatesForm.controls.contactNo?null:t.updatesForm.controls.contactNo.touched)&&(null==t.updatesForm.controls||null==t.updatesForm.controls.contactNo?null:t.updatesForm.controls.contactNo.invalid)||(null==t.updatesForm.controls||null==t.updatesForm.controls.dialCode?null:t.updatesForm.controls.dialCode.touched)&&(null==t.updatesForm.controls||null==t.updatesForm.controls.dialCode?null:t.updatesForm.controls.dialCode.invalid))),e.xp6(9),e.Q6J("type",t.passwordToogle?"text":"password"),e.xp6(1),e.Q6J("ngClass",t.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),e.xp6(9),e.Q6J("type",t.passwordToogle1?"text":"password"),e.xp6(1),e.Q6J("ngClass",t.passwordToogle1?"fa fa-eye-slash":"fa fa-eye"),e.xp6(9),e.Q6J("type",t.passwordToogle2?"text":"password"),e.xp6(1),e.Q6J("ngClass",t.passwordToogle2?"fa fa-eye-slash":"fa fa-eye"),e.xp6(1),e.Q6J("ngIf",!(null!=t.appConfigure&&t.appConfigure.isCaptureMobileNumberOTPvalidation)),e.xp6(1),e.Q6J("ngIf",null==t.appConfigure?null:t.appConfigure.isCaptureMobileNumberOTPvalidation)}}function p0(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",30)(2,"div"),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",31),e._uU(6,"*"),e.qZA()(),e.TgZ(7,"mat-form-field",53),e._UZ(8,"input",54),e.TgZ(9,"i",36),e.NdJ("keypress",function(){e.CHM(t);const n=e.oxw(3);return n.passwordToogle=!n.passwordToogle})("mouseenter",function(){return e.CHM(t),e.oxw(3).passwordToogle=!0})("mouseleave",function(){return e.CHM(t),e.oxw(3).passwordToogle=!1})("click",function(){return e.CHM(t),e.oxw(3).passwordToogle=!0}),e.qZA()(),e.TgZ(10,"span",57),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).generateOtp()}),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"button",69),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).saveMobileNo()}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(12,Ft,(null==t.updatesForm||null==t.updatesForm.otp?null:t.updatesForm.otp.touched)&&(null==t.updatesForm?null:t.updatesForm.otp.invalid))),e.xp6(2),e.Oqu(e.lcZ(4,6,"login.messages.errorMessages.message3")),e.xp6(5),e.Q6J("type",t.passwordToogle?"text":"password"),e.xp6(1),e.Q6J("ngClass",t.passwordToogle?"fa fa-eye-slash":"fa fa-eye"),e.xp6(2),e.Oqu(e.lcZ(12,8,"applicantInformation.formLabel.label22")),e.xp6(3),e.hij(" ",e.lcZ(15,10,"applicantInformation.buttons.button1")," ")}}function m0(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-card-subtitle",70),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",71),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).logout()}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.BQk()}2&i&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"login.pageDetails.para10")," "),e.xp6(3),e.hij(" ",e.lcZ(6,4,"login.buttons.button11")," "))}function g0(i,s){if(1&i&&(e.TgZ(0,"div",3)(1,"div",4)(2,"mat-card",5)(3,"h1",58),e._uU(4,"Update Password"),e.qZA(),e.YNc(5,l0,7,1,"ng-container",8),e.YNc(6,r0,6,1,"ng-container",8),e.TgZ(7,"form",59),e.YNc(8,d0,34,11,"ng-container",8),e.YNc(9,p0,16,14,"ng-container",8),e.YNc(10,m0,7,6,"ng-container",8),e.qZA()()()()),2&i){const t=e.oxw(2);e.xp6(5),e.Q6J("ngIf",t.errorCode),e.xp6(1),e.Q6J("ngIf",t.actiateErrorMessage),e.xp6(1),e.Q6J("formGroup",t.updatesForm),e.xp6(1),e.Q6J("ngIf",!t.isMobileUpdateScesses&&!t.otpScreen),e.xp6(1),e.Q6J("ngIf",!t.isMobileUpdateScesses&&(null==t.appConfigure?null:t.appConfigure.isCaptureMobileNumberOTPvalidation)&&t.otpScreen),e.xp6(1),e.Q6J("ngIf",t.isMobileUpdateScesses)}}function _0(i,s){if(1&i&&(e.TgZ(0,"section",1),e.YNc(1,s0,21,16,"div",2),e.YNc(2,g0,11,6,"div",2),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.updatePasswordScreen),e.xp6(1),e.Q6J("ngIf",t.updatePasswordScreen)}}function f0(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.requiredMessages.message1")," "))}function v0(i,s){1&i&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commonSections.messages.patternMessages.message1")," "))}function h0(i,s){if(1&i&&(e.TgZ(0,"div",39),e.YNc(1,f0,3,3,"div",40),e.YNc(2,v0,3,3,"div",40),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.generateOtpF.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.generateOtpF.email.errors.pattern)}}function y0(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"mat-card",5)(3,"div",72)(4,"h1",6),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"p",14),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"form",59)(11,"div",30)(12,"div"),e._uU(13),e.ALo(14,"translate"),e.TgZ(15,"span",31),e._uU(16,"*"),e.qZA()(),e.YNc(17,h0,3,2,"div",32),e.TgZ(18,"mat-form-field",33),e._UZ(19,"input",73),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"button",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).sendOTP()}),e._uU(22),e.ALo(23,"translate"),e.qZA()()()()()()}if(2&i){const t=e.oxw(2);e.xp6(5),e.Oqu(e.lcZ(6,9,"ccAustralia.headerLabel.label6")),e.xp6(3),e.Oqu(e.lcZ(9,11,"ccAustralia.pageDetails.para1")),e.xp6(2),e.Q6J("formGroup",t.generateOtpForm),e.xp6(1),e.Q6J("ngClass",e.VKq(19,Ft,t.generateOtpF.email.touched&&t.generateOtpF.email.invalid)),e.xp6(2),e.Oqu(e.lcZ(14,13,"forogotpassword.formLabel.label1")),e.xp6(4),e.Q6J("ngIf",t.generateOtpF.email.touched&&t.generateOtpF.email.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(20,15,"commonSections.formLabel.label2")),e.xp6(2),e.Q6J("disabled",t.generateOtpForm.invalid),e.xp6(1),e.hij(" ",e.lcZ(23,17,"applicantInformation.buttons.button1")," ")}}function b0(i,s){1&i&&(e.TgZ(0,"div",84)(1,"div",85),e._UZ(2,"i",86),e.TgZ(3,"div"),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"applicantInformation.messages.errorMessages.message34")))}function C0(i,s){if(1&i&&(e.TgZ(0,"h5",87),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.teamLeadEmailId)}}function A0(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4),e.YNc(2,b0,6,3,"div",74),e.TgZ(3,"mat-card",75)(4,"h1",76),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",77)(8,"div",78)(9,"div",79),e.YNc(10,C0,2,1,"h5",80),e.TgZ(11,"mat-form-field",33)(12,"input",81),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw(2).enteredOTP=n}),e.qZA()()()()(),e.TgZ(13,"div",82)(14,"div",78)(15,"button",83),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).validateOTP()}),e._uU(16),e.ALo(17,"translate"),e.qZA()()()()()()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",1==t.OTPUnsuccess),e.xp6(3),e.Oqu(e.lcZ(6,6,"ccAustralia.headerLabel.label7")),e.xp6(5),e.Q6J("ngIf",t.teamLeadEmailId),e.xp6(2),e.Q6J("ngModel",t.enteredOTP),e.xp6(3),e.Q6J("disabled",!t.enteredOTP),e.xp6(1),e.Oqu(e.lcZ(17,8,"commonSections.buttons.button4"))}}function T0(i,s){if(1&i&&(e.TgZ(0,"section",1),e.YNc(1,y0,24,21,"div",2),e.YNc(2,A0,18,10,"div",2),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.canShowGenOtpForm),e.xp6(1),e.Q6J("ngIf",t.canShowVerifyOtpForm)}}const go=["captcha_version","captcha_api_key"],x0=[{path:"",component:tn,canActivate:[ko]},{path:p.m8.USAGSS_VISAFEE_HANDSHAKE,component:_n,data:{title:"gssvisafee.handshakePageTitle"}},{path:p.m8.PRE_LOGIN_BELGIUM_HANDSHAKE,component:TC,data:{title:"blgHandshake.pageTitle"}},{path:":countrycode/:lang/:mission",children:[{path:p.m8.USAGSS_VISAFEE_HANDSHAKE,component:_n,data:{title:"gssvisafee.handshakePageTitle"}},{path:p.m8.USAGSS_VISAFEE_APPLICANTDETAILS,component:lb,data:{title:"gssvisafee.pageTitle"}},{path:p.m8.USAGSS_DOCSUB_CENTER_SELECTOR,component:Ob,data:{title:"usagss.pageTitle"}},{path:p.m8.USAGSS_TRANSACTION_SUMMARY,component:Ub,data:{title:"gssTrnSummary.pageTitle"}},{path:p.m8.USAGSS_REVIEW_PAY,component:oC,data:{title:"reviewAndPayment.pageTitle"}},{path:p.m8.USAGSS_POSTAL_DETAILS,component:aC,data:{title:"reviewAndPayment.pageTitle"}},{path:p.m8.USAGSS_YOUR_DETAILS,component:lC,data:{title:"reviewAndPayment.pageTitle"}},{path:p.m8.USAGSS_PAYMENT_CONFIRMATION,component:fn,data:{title:"reviewAndPayment.pageTitle"}},{path:"",canActivate:[ko],children:[{path:p.m8.FF_INFO,component:J1,data:{title:"formFilling.pageTitle.label1",breadcrumb:"Form Filling Service"}},{path:p.m8.FF_YOUR_DETAILS,component:Dy,data:{title:"formFilling.pageTitle.label2",breadcrumb:"Form Filling Service"}},{path:p.m8.FF_PAYMENT_CONFIRMATION,component:wy,data:{title:"formFilling.pageTitle.label3",breadcrumb:"Payment Confirmation"}},{path:p.m8.FF_TRANSACTION_SUMMARY,component:My,data:{title:"formFilling.pageTitle.label4",breadcrumb:"Payment Summary"}},{path:p.m8.ON_BOARDING,component:ai,data:{title:"onBoarding.pageTitle"}},{path:p.m8.LOGIN,component:Do,data:{title:"login.pageTitle"}},{path:p.m8.CCLOGIN,component:(()=>{class i extends a.e{constructor(t,o,n){super(),this.formBuilder=t,this.baseService=o,this.dialog=n,this.constants=p.gT,this.loginSubmit=!1,this.enableCloudFlareCaptchaLogin=!1,this.updatePasswordScreen=!1,this.isMobileUpdateScesses=!1,this.OTPPage=!1,this.canShowGenOtpForm=!1,this.canShowVerifyOtpForm=!1,this.OTPUnsuccess=!1,this.isRemainingCount=!1,this.passwordToogle=!1,this.passwordToogle1=!1,this.passwordToogle2=!1,this.errorCode=null,this.successCode=null,this.actiateMailMessage=null,this.allowedCaptcha=!1,this.slotType=0,this.otpScreen=!1,this.agreeToTermsAndCondition=!1,this.currentCaptcha=this.captchaVersionConst.alternate,this.enableCloudFlareCaptchaLogin=!1,this.updatesForm=this.formBuilder.group({}),this.isMobileUpdateScesses=!1,this.actiateErrorMessage=null,this.appConfigure=[]}ngAfterViewInit(){setTimeout(()=>{this.sessionService.clearActivateMessage(),this.actiateMailMessage=null},1e4)}ngOnInit(){this.utilityService.startNgxUiSpinner(),this.utilityService.fireCustomEvent({dl_category:"Authenticate",dl_action:"Authentication page is loaded",dl_label:void 0,value:void 0});try{this.actiateMailMessage=this.sessionService.activateMessage||"",setTimeout(()=>{var o,n,l;this.enableCloudFlareCaptchaLogin=null===(n=null===(o=this.sessionService)||void 0===o?void 0:o.applicationConfiguration)||void 0===n?void 0:n.enableCloudFlareCaptchaLogin,this.appConfigure=null===(l=this.sessionService)||void 0===l?void 0:l.applicationConfiguration,this.initLoginForm(),this.updatePasswordScreen=!1,this.initUpdateMobileForm(),this.checkCaptchaAllowed(),this.utilityService.stopNgxUiSpinner(),this.initGenerateOtpForm()},5e3)}catch(o){console.log(o)}}radioChange(t){0===t.value&&(!this.isServicesDomain&&!this.isChinaCountry&&this.allowedCaptcha&&window.location.reload(),this.loginForm.contains("username")||this.loginForm.addControl("username",new r.NI(null,[r.kI.pattern(p.Wg.email_caps_allowed),r.kI.required])),this.loginForm.contains("password")||this.loginForm.addControl("password",new r.NI(null,[r.kI.required])),this.loginForm.removeControl("dailcode"),this.loginForm.removeControl("contact"),this.loginForm.removeControl("otp")),1===t.value&&(this.loginForm.removeControl("username"),this.loginForm.removeControl("password"),!this.isServicesDomain&&!this.isChinaCountry&&this.allowedCaptcha&&go.forEach(o=>{this.loginForm.removeControl(o)}),this.loginForm.addControl("dailcode",new r.NI(null,[r.kI.pattern("^[0-9]+$"),r.kI.maxLength(3),r.kI.required])),this.loginForm.addControl("contact",new r.NI(null,[r.kI.pattern("^[0-9]+$"),r.kI.maxLength(15),r.kI.minLength(7),r.kI.required])),this.loginForm.addControl("otp",new r.NI(null,[r.kI.pattern("^[0-9]+$"),r.kI.required])))}checkCaptchaAllowed(){this.subs.sink=this.dataShareService.captchaAllowedRoutes.subscribe(t=>(0,v.mG)(this,void 0,void 0,function*(){!t||(this.allowedCaptcha=t.indexOf(p.m8.LOGIN)>-1,(this.allowedCaptcha&&!this.isServicesDomain&&!this.isChinaCountry||this.enableCloudFlareCaptchaLogin)&&(go.forEach(o=>{this.loginForm.addControl(o,new r.NI("",r.kI.required))}),setTimeout(()=>(0,v.mG)(this,void 0,void 0,function*(){if(!this.enableCloudFlareCaptchaLogin){const o=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.loginForm,o,this.captchaVersionConst.alternate)}}),1e3)))}))}initLoginForm(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.loginForm=this.formBuilder.group({username:["",[r.kI.pattern(p.Wg.email_caps_allowed),r.kI.required]],password:["",r.kI.required],missioncode:[this.sessionService.tenent],countrycode:[this.sessionService.countryCode]})}catch(t){console.log(t)}})}get isOtpLoginEnabled(){var t;const o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration;return null==o?void 0:o.enableOTPLoginRegistration}get isServicesDomain(){return window.location.hostname.indexOf("services")>-1}get loginF(){return this.loginForm.controls}get isChinaCountry(){return this.utilityService.strictCompare(this.sessionService.countryCode,"chn")||this.utilityService.strictCompare(this.sessionService.countryCode,"hkg")}submitV2Captcha(t){this.allowedCaptcha&&this.enableCloudFlareCaptchaLogin?this.utilityService.patchCaptchaValue(this.loginForm,t,this.captchaVersionConst.cloudflare,"captcha_api_key"):this.allowedCaptcha&&!this.isChinaCountry&&!this.isServicesDomain&&this.utilityService.patchCaptchaValue(this.loginForm,t,this.captchaVersionConst.alternate,"captcha_api_key")}switchView(){}generateOtp(){var t,o,n,l,c,d;return(0,v.mG)(this,void 0,void 0,function*(){try{let _;if((null===(t=this.loginForm.get("contact"))||void 0===t?void 0:t.valid)&&(null===(o=this.loginForm.get("dailcode"))||void 0===o?void 0:o.valid))_={missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,contactNo:null===(n=this.loginForm.get("contact"))||void 0===n?void 0:n.value,dialCode:null===(l=this.loginForm.get("dailcode"))||void 0===l?void 0:l.value,action:"Login"};else{if(!(null===(c=this.appConfigure)||void 0===c?void 0:c.isCaptureMobileNumberOTPvalidation)||!this.updatesForm.valid)return;_={missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,contactNo:this.updatesForm.value.contactNo,dialCode:this.updatesForm.value.dialCode,loginUser:this.userDetails.loginUser,action:"Login"}}const f=yield this.httpService.basicPayload(p.gT.api.generateOtp,_,"gotp").toPromise().catch(T=>T).then(T=>T),h="onBoarding.messages.status.";(null==f?void 0:f.isOTPSend)?(this.successCode=h+"201",(null===(d=this.appConfigure)||void 0===d?void 0:d.isCaptureMobileNumberOTPvalidation)&&this.updatesForm.addControl("otp",new r.NI(null,[r.kI.pattern("^[0-9]+$"),r.kI.required])),setTimeout(()=>{this.successCode=null},4e3),this.otpScreen=!0):("421"===f.error.code||"416"===f.error.code||"413"===f.error.code||"424"===f.error.code)&&(this.errorCode=h+f.error.code,setTimeout(()=>{this.errorCode=null},5e3))}catch(_){console.log(_)}})}get disableLogin(){return this.isPtFlow&&!this.agreeToTermsAndCondition}get criticalInformation(){var t;return null===(t=this.sessionService.resourceGroupData)||void 0===t?void 0:t.criricalinformation}submitLogin(){var t,o,n,l,c,d,_;return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.loginSubmit=!0,this.loginForm.invalid)return;let f=this.loginForm.value;f.password=this.encription(null===(t=this.loginForm.value)||void 0===t?void 0:t.password);const h=this.utilityService.momentInstance().format("YYYY-MM-DDTHH:mm:ss"),I=this.encription("CC;"+h+"Z");let S;S=yield this.httpService.doPostLogin(p.gT.api.login,f,I).toPromise(),S.taResetPWDToken&&S.isNewUser&&4231===(null===(o=null==S?void 0:S.error)||void 0===o?void 0:o.code)?(this.sessionService.setSignupLinkDisabled(!0),this.sessionService.loginResponse="CC",this.router.navigate([this.sessionService.countryCode,this.sessionService.appLanguageCode,this.sessionService.tenent,p.m8.RESETPASSWORD],{queryParams:{q:S.taResetPWDToken}})):S.accessToken||null==(null==S?void 0:S.error)?(null==S?void 0:S.error)||(this.userDetails=S,this.loginResponse=S.roleName,this.sessionService.loginResponse=this.loginResponse,this.sessionService.updateLoggedEmail(this.loginForm.contains("username")?null===(_=this.loginForm.value)||void 0===_?void 0:_.username:null==S?void 0:S.loginUser),this.sessionService.pwdExpiryData={PasswordExpirydays:this.userDetails.PasswordExpirydays,isPasswordExpiryMessage:this.userDetails.isPasswordExpiryMessage},yield this.commonService.postLoginActivity(this.baseService,S),this.commonService.routeToDashboard()):(this.actiateMailMessage=421===(null===(n=null==S?void 0:S.error)||void 0===n?void 0:n.code)?this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(l=null==S?void 0:S.error)||void 0===l?void 0:l.code)).replace(" X ",` ${null==S?void 0:S.accountLockHours} `):this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(c=null==S?void 0:S.error)||void 0===c?void 0:c.code))||(null===(d=null==S?void 0:S.error)||void 0===d?void 0:d.description)||(null==S?void 0:S.message),(null==S?void 0:S.error)&&(null==S?void 0:S.remainingCount)>0&&(this.remainingCount=null==S?void 0:S.remainingCount,this.isRemainingCount=!0),setTimeout(()=>{this.actiateMailMessage="",this.isRemainingCount=!1},1e4))}catch(f){if(!this.allowedCaptcha)return;if(re.N.captchaFallbackEnabled)this.currentCaptcha=this.captchaVersionConst.alternate,this.utilityService.formcontrolReset(this.loginForm,go),this.utilityService.resetCaptcha();else{const h=yield this.captchaContainer.generateToken();this.utilityService.patchCaptchaValue(this.loginForm,h,this.captchaVersionConst.default)}}})}encription(t){const n=SC.pki.publicKeyFromPem(p.UV+re.N.rsaString+p.rY);return window.btoa(n.encrypt(t.toString()))}initUpdateMobileForm(){return(0,v.mG)(this,void 0,void 0,function*(){this.updatesForm=this.formBuilder.group({cPassword:["",[r.kI.pattern("^[0-9]+$"),r.kI.maxLength(3),r.kI.required]],password:["",[r.kI.pattern("^[0-9]+$"),r.kI.maxLength(15),r.kI.minLength(7),r.kI.required]],cnPassword:""})})}saveMobileNo(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){try{if(this.updatesForm.invalid)return;const n={missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,loginUser:this.userDetails.loginUser,dialCode:this.updatesForm.value.dialCode,contactNumber:this.updatesForm.value.contactNo,otp:(null===(t=this.updatesForm.get("otp"))||void 0===t?void 0:t.valid)?this.updatesForm.value.otp:""},l=yield this.httpService.payloadPost(p.gT.api.updateMobileNumber,n).toPromise();l.status?this.isMobileUpdateScesses=!0:l.error&&(this.actiateErrorMessage=this.commonService.translateValue("commonSections.messages.statusMessages."+(null===(o=null==l?void 0:l.error)||void 0===o?void 0:o.code)),setTimeout(()=>{this.actiateErrorMessage=""},5e3))}catch(n){console.log(n)}})}logout(){try{this.commonService.logoutAndRouteToLogin()}catch(t){console.log(t)}}onResetPassword(){this.OTPPage=!0,this.canShowGenOtpForm=!0}initGenerateOtpForm(){this.generateOtpForm=this.formBuilder.group({email:["",[r.kI.pattern(p.Wg.email_caps_allowed),r.kI.required]]})}get generateOtpF(){var t;return null===(t=this.generateOtpForm)||void 0===t?void 0:t.controls}sendOTP(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t={missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,loginUser:this.generateOtpForm.controls.email.value,emailId:"",action:"Reset",contactNo:"",dialCode:""},o=yield this.httpService.basicPayload(p.gT.api.generateOtp,t,"gotp").toPromise().catch(n=>n).then(n=>n);(null==o?void 0:o.isOTPSend)?(this.teamLeadEmailId=o.TeamLeadEmailId,this.canShowGenOtpForm=!1,this.canShowVerifyOtpForm=!0):this.showErrorMsgPopup(null==o?void 0:o.error.description,null==o?void 0:o.error.code)}catch(t){console.log(t)}})}validateOTP(){return(0,v.mG)(this,void 0,void 0,function*(){try{const t={missioncode:this.sessionService.tenent,countrycode:this.sessionService.countryCode,loginUser:this.generateOtpForm.controls.email.value,languageCode:this.sessionService.appCultureCode,OTP:this.enteredOTP?this.enteredOTP:"",action:"Validate",contactNo:null,dialCode:null},o=yield this.httpService.basicPayload(p.gT.api.validateOtp,t,"gotp").toPromise().catch(n=>n).then(n=>n);(null==o?void 0:o.result)&&(null==o?void 0:o.ResetToken)?(this.sessionService.setSignupLinkDisabled(!0),this.sessionService.loginResponse="CC",this.router.navigate([this.sessionService.countryCode,this.sessionService.appLanguageCode,this.sessionService.tenent,p.m8.RESETPASSWORD],{queryParams:{q:o.ResetToken}})):o.error?(this.OTPUnsuccess=!0,setTimeout(()=>{this.OTPUnsuccess=!1},5e3)):this.showErrorMsgPopup(null==o?void 0:o.error.description,null==o?void 0:o.error.code)}catch(t){console.log(t)}})}showErrorMsgPopup(t,o){try{const n=this.dialog.open(nt,{data:t});n.afterClosed().subscribe(l=>(0,v.mG)(this,void 0,void 0,function*(){1069===o&&(this.utilityService.startNgxUiSpinner(),this.utilityService.stopNgxUiSpinner())})),this.router.events.subscribe(()=>{n.close()})}catch(n){throw n}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(qe),e.Y36(oe.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-cc-login"]],viewQuery:function(t,o){if(1&t&&e.Gf(xC,5),2&t){let n;e.iGM(n=e.CRH())&&(o.captchaContainer=n.first)}},features:[e.qOj],decls:2,vars:2,consts:[["class","container py-15 py-md-30",4,"ngIf"],[1,"container","py-15","py-md-30"],["class","row justify-content-center",4,"ngIf"],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-9","col-lg-7","col-xl-6"],[1,"form-card","px-md-50","py-md-40"],[1,"fs-21","fs-sm-24","mb-10"],["class","c-brand-grey-para fs-sm-18 mb-25",4,"ngIf"],[4,"ngIf"],["class","row mat-radio-group-brand mb-10",3,"ngModel","ngModelChange","change",4,"ngIf"],["autocomplete","off",3,"formGroup"],[1,"row","no-gutters","justify-content-between","mt-20"],[1,"col-auto","mb-10"],[1,"fs-14","fs-sm-18","text-decoration-underline","cursor-pointer","c-inherit",3,"click"],[1,"c-brand-grey-para","fs-sm-18","mb-25"],[1,"border-info",2,"border-left","5px solid"],[1,"alert","alert-info","border-0","rounded-0","py-20","pl-50"],[1,"fa","fa-check-circle-o","fs-24","position-absolute","left-15","top-18","mb-0"],[1,"border-success",2,"border-left","5px solid"],[1,"alert","alert-success","border-0","rounded-0","py-20"],[1,"row","no-gutters","align-items-center"],[1,"col-auto","ml-n5","pr-15"],[1,"fa","fa-check-circle-o","fs-24","mb-0"],[1,"col",3,"translate"],[1,"alert-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-20"],[1,"fa","fa-times-circle","fs-24","mb-0"],[1,"row","mat-radio-group-brand","mb-10",3,"ngModel","ngModelChange","change"],[1,"col-12","col-sm-6","mb-15"],[1,"mat-block",3,"value"],[1,"form-group",3,"ngClass"],[1,"c-brand-error"],["class","errorMessage",4,"ngIf"],["appearance","outline",1,"mat-form-field-outline-brand"],["placeholder","jane.doe@email.com","matInput","","formControlName","username","type","text","autocomplete","off"],["matInput","","formControlName","password","placeholder","**********","autocomplete","off",3,"type"],["tabindex","0",1,"cursor-pointer","icon-toggle","position-absolute","right-0",3,"ngClass","keypress","mouseenter","mouseleave","click"],["id","widgetId"],["mat-stroked-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"errorMessage"],["class","errorMessage c-brand-error",4,"ngIf"],[1,"errorMessage","c-brand-error"],[3,"action","captchaType","v2CaptchaSet"],["cloudflareCaptchaContainer",""],["captchaContainer",""],[1,"row","align-items-end",3,"ngClass"],[1,"col-12","col-sm-4","col-lg-4","pr-sm-1"],[1,"form-group"],["placeholder","44","matInput","","formControlName","dailcode","type","text","autocomplete","off"],[1,"col-12","col-sm-8"],["placeholder","1234567890","matInput","","formControlName","contact","type","text","autocomplete","off"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"click"],[1,"c-brand-grey-para","fs-sm-16","mb-20"],["appearance","outline",1,"mat-form-field-outline-brand","mb-10"],["matInput","","formControlName","otp","placeholder","**********","autocomplete","off",3,"type"],["style","cursor: pointer","class","c-brand-grey-para text-decoration-underline",3,"click",4,"ngIf"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange",3,"disabled","click"],[1,"c-brand-grey-para","text-decoration-underline",2,"cursor","pointer",3,"click"],[1,"fs-21","fs-sm-24","mb-25"],[3,"formGroup"],[1,"alert","alert-danger","border-0","rounded-0","py-20","pl-50"],[1,"col-12","row","mb-15"],[1,"col-sm-4","col-lg-4","pr-sm-1","d-flex","align-items-cente",2,"align-items","center"],[1,"align-middle"],[1,"col-sm-8","col-lg-8","pr-sm-1"],["matInput","","formControlName","cPassword","placeholder","**********","autocomplete","off",3,"type"],[1,"col-sm-8","col-lg-8","pr-sm-2"],["matInput","","formControlName","cnPassword","placeholder","**********","autocomplete","off",3,"type"],["mat-raised-button","","class","btn mat-btn-lg btn-block btn-brand-orange mt-15",3,"click",4,"ngIf"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"click"],[1,"mobileNoUpdateSucessMessage","mb-10"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-10","mb-10",3,"click"],[1,"d-none","d-block"],["matInput","","formControlName","email","type","text","autocomplete","off",3,"placeholder"],["class","border-danger","style","border-left: 5px solid",4,"ngIf"],[1,"form-card"],[1,"fs-21","fs-sm-24","mb-30"],[1,"row"],[1,"col-12"],[1,"form-group","mb-0"],["class","fs-sm-16 mb-1",4,"ngIf"],["placeholder","OTP","matInput","","type","text","maxlength","6","required","",3,"ngModel","ngModelChange"],[1,"row","mt-20"],["mat-raised-button","",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"disabled","click"],[1,"border-danger",2,"border-left","5px solid"],[1,"alert","alert-danger","border-0","rounded-0","py-15","pl-50"],[1,"fa","fa-check-circle","fs-24","position-absolute","left-15","top-13"],[1,"fs-sm-16","mb-1"]],template:function(t,o){1&t&&(e.YNc(0,_0,3,2,"section",0),e.YNc(1,T0,3,2,"section",0)),2&t&&(e.Q6J("ngIf",o.loginForm&&!o.OTPPage),e.xp6(1),e.Q6J("ngIf",o.OTPPage))},directives:[w.O5,X.a8,D.Pi,Qe.VQ,r.JJ,r.On,Qe.U0,r._Y,r.JL,r.sg,w.mk,q.KE,u.Nt,r.Fj,r.u,Bt,Pt,V.lW,X.$j,r.nD,r.Q7],pipes:[D.X$],encapsulation:2}),i})(),data:{title:"login.pageTitle"}},{path:p.m8.FORGOT_PASSWORD,component:Eo,data:{title:"forogotpassword.pageTitle"}},{path:p.m8.ACTIVATE_EMAIL,component:Wn,data:{title:"activate mail"}},{path:p.m8.RESETPASSWORD,component:nn,data:{title:"resetpassword.pageTitle"}},{path:p.m8.RESEND_EMAIL_ACTIVATION,component:pn,data:{title:"resendemailactivation.pageTitle"}},{path:p.m8.RESEND_EMAIL_ACTIVATION,component:pn,data:{title:"resendemailactivation.pageTitle"}},{path:p.m8.TMI_OAB_Login,component:c1,data:{title:"TMI OAB Login"}},{path:p.m8.APPOINTMENT_VERIFICATION,component:rg,data:{title:"appointmentverification.pageTitle"}},{path:"",redirectTo:p.m8.LOGIN,pathMatch:"full"}]},{path:"",canActivate:[Kn],children:[{path:p.m8.APPLICATION_DETAIL,component:Fo,data:{title:"eligibilityCriteria.pageTitle"}},{path:p.m8.APPLICATION_DETAIL_HMPO,component:yn,data:{title:"eligibilityCriteria.pageTitle"}},{path:p.m8.APPLICATION_DETAILS,component:mn,data:{title:"eligibilityCriteria.pageTitle"}},{path:p.m8.REVIEW_AND_PAY,component:Mo.W,data:{title:"reviewAndPayment.pageTitle"}},{path:p.m8.DASHBOARD,component:Go,data:{title:"dashboard.pageTitle"}},{path:p.m8.YOUR_DETAILS,component:Qo,data:{title:"applicantInformation.pageTitle"}},{path:p.m8.PAYMENT_CONFIRMATION,component:jo,data:{title:"paymentConfirmation.pageTitle"}},{path:p.m8.USAGSS_PAYMENT_CONFIRMATION,component:fn,data:{title:"paymentConfirmation.pageTitle"}},{path:p.m8.BOOK_APPOINTMENT,component:Ho,data:{title:"bookAppointment.pageTitle"}},{path:p.m8.SERVICES,component:Ko,data:{title:"services.pageTitle"}},{path:p.m8.COURIER_ADDRESS,component:Xh,data:{title:"courierAddressDetails.pageTitle"}},{path:p.m8.POSTAL_INFORMATION,component:sn,data:{title:"postalInformation.pageTitle"}},{path:p.m8.TRAVEL_MEDICAL_INSURANCE,component:Ev,data:{title:"travelMedicalInformation.pageTitle"}},{path:p.m8.UPDATE_CATEGORY,component:qv,data:{title:"updateCategory.pageTitle"}},{path:p.m8.REQUEST_REFUND,component:xh,data:{title:"requestRefund.pageTitle"}},{path:p.m8.VAYD_ADDRESS,component:P1,data:{title:"VaydAddress.pageTitle"}},{path:"",redirectTo:p.m8.DASHBOARD,pathMatch:"full"}]},{path:p.m8.NOT_FOUND,component:an,data:{title:"notFound.pageTitle"}},{path:"",redirectTo:p.m8.LOGIN,pathMatch:"full"},{path:"**",redirectTo:p.m8.NOT_FOUND,pathMatch:"full"}]},{path:"**",redirectTo:"",pathMatch:"full"}];let L0=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[B.Bz.forRoot(x0,{scrollPositionRestoration:"top",useHash:!1,onSameUrlNavigation:"reload"})],B.Bz]}),i})();var bi=A(2198);const I0=function(i){return{minute:i}};let Z0=(()=>{class i extends a.e{constructor(t,o,n,l,c){super(),this.data=t,this.dialog=o,this.dialogRef=n,this.idle=l,this.changeRef=c,this.showCancel=!1,this.displayMin="2"}ngOnInit(){setTimeout(()=>{this.displayMin="1"},6e4),this.clearTimeout=setTimeout(()=>{this.dialogRef.close(!1),this.dialog.open(Xo,{disableClose:!0})},12e4)}closeModal(t){t||(this.sessionService.isTmiOabEnable?(this.commonService.oabLogout(),window.location.reload()):this.commonService.logoutAndRouteToLogin()),this.dialogRef.close(t)}ngOnDestroy(){clearInterval(this.clearTimeout)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(oe.WI),e.Y36(oe.uw),e.Y36(oe.so),e.Y36(vi.hX),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-session-management"]],inputs:{showCancel:"showCancel"},features:[e.qOj],decls:24,vars:16,consts:[[1,"mat-modal-delete-document"],[1,"position-absolute","top-10","right-10"],["mat-dialog-close","",1,"position-relative","bg-transparent","border-0","p-0","focus-none","z-index-999",3,"click"],["alt","close-btn",1,"cursor-pointer",3,"src"],[1,"my-20"],[1,"d-block"],[1,"row"],[1,"col-12","col-sm"],["mat-stroked-button","","type","button",1,"btn","mat-btn-lg","btn-block","btn-outline-brand-orange","mt-15",3,"click"],["mat-raised-button","","type","button",1,"btn","mat-btn-lg","btn-block","btn-brand-orange","mt-15",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return o.closeModal(!0)}),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"h4")(5,"span"),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e._UZ(8,"hr",4),e.TgZ(9,"mat-dialog-content")(10,"span"),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e._UZ(13,"hr",4),e.TgZ(14,"mat-dialog-actions",5)(15,"div",6)(16,"div",7)(17,"button",8),e.NdJ("click",function(){return o.closeModal(!1)}),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",7)(21,"button",9),e.NdJ("click",function(){return o.closeModal(!0)}),e._uU(22),e.ALo(23,"translate"),e.qZA()()()()()),2&t&&(e.xp6(3),e.MGl("src","",o.getGlobalImagePath,"/close-btn.png",e.LSH),e.xp6(3),e.Oqu(e.lcZ(7,5,"commonSections.headerLabel.label3")),e.xp6(5),e.Oqu(e.xi3(12,7,"commonSections.pageDetails.para1",e.VKq(14,I0,o.displayMin))),e.xp6(7),e.hij(" ",e.lcZ(19,10,"commonSections.buttons.button2")," "),e.xp6(4),e.hij(" ",e.lcZ(23,12,"commonSections.buttons.button1")," "))},directives:[oe.ZT,oe.xY,oe.H8,V.lW],pipes:[D.X$],encapsulation:2}),i})();var N0=A(3272),D0=A(8065);function O0(i,s){if(1&i&&(e.TgZ(0,"div",1)(1,"span",2),e._uU(2),e.qZA(),e._UZ(3,"i",3),e.qZA()),2&i){const t=e.oxw();e.Q6J("ngClass",null!=t.receivedMessage&&t.receivedMessage.isError?"alert alert-info":"alert alert-primary"),e.xp6(2),e.Oqu(null==t.receivedMessage?null:t.receivedMessage.message)}}let E0=(()=>{class i{constructor(){this.showMessage=!1}ngOnChanges(){this.showMessage=!0,setTimeout(()=>{this.showMessage=!1},5e3)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-notification"]],inputs:{receivedMessage:"receivedMessage"},features:[e.TTD],decls:1,vars:1,consts:[["class","border-0 border-brand-blue border-top-4 fade fixed-top pr-35 rounded-0 show z-index-1090","role","alert",3,"ngClass",4,"ngIf"],["role","alert",1,"border-0","border-brand-blue","border-top-4","fade","fixed-top","pr-35","rounded-0","show","z-index-1090",3,"ngClass"],[1,"c-brand-blue"],["data-dismiss","alert",1,"c-brand-blue","fa","fa-times-circle-o","fs-25","position-absolute","right-8","top-10","cursor-pointer"]],template:function(t,o){1&t&&e.YNc(0,O0,4,2,"div",0),2&t&&e.Q6J("ngIf",!(null==o.receivedMessage||!o.receivedMessage.message)&&o.showMessage)},directives:[w.O5,w.mk],encapsulation:2}),i})();function k0(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"a",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().routeToDashboard()}),e._UZ(1,"img",11),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.s9C("src",null==t.sessionService.resourceGroupData?null:t.sessionService.resourceGroupData.embassylogolink,e.LSH)}}function w0(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"a",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().routeToDashboard()}),e._UZ(1,"img",12),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.MGl("src","",t.getGlobalImagePath,"/vfs-global-logo.png",e.LSH)}}function F0(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"a",18),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(3).languageSelection(l.code)}),e._uU(1),e.qZA()}if(2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.languagename)}}const M0=function(){return[]};function P0(i,s){if(1&i&&(e.TgZ(0,"div",16),e.YNc(1,F0,2,1,"a",17),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.allowedLanguages||e.DdM(1,M0))}}function U0(i,s){if(1&i&&(e.TgZ(0,"div",13)(1,"button",14),e._uU(2),e.qZA(),e.YNc(3,P0,2,2,"div",15),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",(null==t.allowedLanguages?null:t.allowedLanguages.length)>0?"btn border dropdown-toggle":"btn border"),e.xp6(1),e.hij(" ",t.currentLanguage," "),e.xp6(1),e.Q6J("ngIf",(null==t.allowedLanguages?null:t.allowedLanguages.length)>0)}}function q0(i,s){1&i&&e._UZ(0,"button",19)}function G0(i,s){if(1&i&&(e.TgZ(0,"ul",29)(1,"li")(2,"div",30),e._uU(3),e.qZA()()()),2&i){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.urnNumber," ")}}function V0(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",20)(1,"ul",21)(2,"li",22)(3,"a",23),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",24)(7,"a",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().routeToDashboard()}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"div",26),e.TgZ(11,"a",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().logout()}),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.YNc(14,G0,4,1,"ul",28),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,4,"header.headerLabel.label1")," "),e.xp6(4),e.Oqu(e.lcZ(9,6,"header.headerLabel.label2")),e.xp6(4),e.hij(" ",e.lcZ(13,8,"header.headerLabel.label3")," "),e.xp6(2),e.Q6J("ngIf",t.showReferenceNumber&&null!=t.urnNumber)}}function R0(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",20)(1,"ul",21)(2,"li",22)(3,"a",31),e.NdJ("click",function(){return e.CHM(t),e.oxw().logout()}),e._uU(4),e.ALo(5,"translate"),e.qZA()()()()}2&i&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"header.headerLabel.label13")," "))}function J0(i,s){if(1&i&&(e.TgZ(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",35),e._UZ(4,"i",36),e.qZA(),e.TgZ(5,"div",37),e._uU(6),e.ALo(7,"translate"),e.TgZ(8,"a",38),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._uU(11),e.ALo(12,"translate"),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(6),e.hij(" ",e.lcZ(7,4,"polandTurkey.messages.infoMessages.message1")," "),e.xp6(2),e.Q6J("href",t.ptHelplineEmail,e.LSH),e.xp6(1),e.hij(" ",e.lcZ(10,6,"polandTurkey.messages.infoMessages.message2")," "),e.xp6(2),e.hij(" ",e.lcZ(12,8,"polandTurkey.messages.infoMessages.message3")," ")}}const Y0=function(i){return{"active cursor-pointer":i}},Q0=function(i){return{active:i}};function B0(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",43),e.NdJ("click",function(){const l=e.CHM(t).index;return e.oxw(2).checkAndNavigateToModule(l+1)}),e.TgZ(2,"a",44)(3,"span",45),e._uU(4),e.qZA(),e.TgZ(5,"span",46),e._uU(6,"\u2713"),e.qZA(),e.TgZ(7,"span",47),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.BQk()}if(2&i){const t=s.$implicit,o=s.index,n=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(6,Y0,n.cmpltdFieldIdx>=o||n.currentModuleIdx===o)),e.xp6(1),e.Q6J("ngClass",e.VKq(8,Q0,n.cmpltdFieldIdx>=o)),e.xp6(2),e.Oqu(o+1),e.xp6(4),e.Oqu(e.lcZ(9,4,null==t?null:t.displayName))}}function j0(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"li",48)(2,"span",49),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"span",50),e._uU(7),e.ALo(8,"number"),e.qZA()(),e.BQk()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,3,"header.headerLabel.label15")),e.xp6(4),e.AsE("",t.currencyCode&&"null"!=t.currencyCode?t.currencyCode:""," ",e.xi3(8,5,t.cartAmount,"1.2-2"),"")}}function H0(i,s){if(1&i&&(e.TgZ(0,"div",39)(1,"div",33)(2,"ul",40),e.YNc(3,B0,10,10,"ng-container",41),e.YNc(4,j0,9,8,"ng-container",42),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.headerData)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngIf",t.cartAmount&&"0"!=t.cartAmount)}}let $0=(()=>{class i extends a.e{constructor(t){var o;super(),this.contentfulService=t,this.isUserLoggedIn=!1,this.headerData=[],this.sendMessage={},this.isDraftVisible=!1,this.currentModuleIdx=-1,this.isTmiOab=!1,this.embassylogolink=(null===(o=this.sessionService.resourceGroupData)||void 0===o?void 0:o.embassylogolink)||null,this.isvfsLogoDisabled=this.sessionService.isVFSLogoDisabled,this.currencyCode="",this.cartAmount="",this.cmpltdFieldIdx=0,this.currentLanguage="",this.subs.sink=this.router.events.subscribe(n=>{this.currentLanguage="tl"==window.location.pathname.split("/")[2]?"Filipino":D0.Z.getName(window.location.pathname.split("/")[2])}),this.isTmiOab=this.sessionService.isTmiOabEnable}ngOnInit(){this.registerLoginEvent(),this.trackCurrentModule(),this.handleAlertBar(),this.subscribeNavigationEnd(),this.totalFees(),this.utilityService.tmiOab.subscribe(t=>this.isTmiOab=t),this.isTmiOab||(this.isTmiOab=this.sessionService.isTmiOabEnable),this.ptHelplineEmail=this.isPiFlow&&this.isPtFlow?"mailto:info.polandin@vfshelpline.com":"mailto:info.pltr@vfshelpline.com"}totalFees(){this.subs.sink=this.dataShareService.cartAmount.subscribe(t=>{this.cartAmount=t,this.currencyCode=this.sessionService.currencyCode||""})}checkAndNavigateToModule(t){return(0,v.mG)(this,void 0,void 0,function*(){try{if(!this.sessionService.applicantAplhaId)return}catch(o){console.log(o)}})}getApplicationIdx(t){try{return t?this.headerData.findIndex(n=>this.utilityService.strictCompare(n.logicalName,t)):void 0}catch(o){throw o}}onSuccessfulLogin(t=!1){return(0,v.mG)(this,void 0,void 0,function*(){try{this.loadNavbar(),this.registerSchemaChange(),this.isUserLoggedIn=Boolean("boolean"!=typeof t?JSON.parse(t):t)}catch(o){console.log(o)}})}loadNavbar(){try{const t=this.extractHeaderData(this.sessionService.getAllModulesSchema());t||this.sessionService.updateLoginStatus(!1),this.headerData=t}catch(t){throw t}}registerSchemaChange(){this.subs.sink=this.sessionService.appSchema$.subscribe(()=>{this.loadNavbar()})}extractHeaderData(t=[]){return t.map(n=>Object({displayName:n.displayName,routeUrl:n.routeUrl,logicalName:n.logicalName,displayPosition:n.displayPosition}))}logout(){this.utilityService.pushDataLayerGA({dl_event:"dashboard_page",dl_category:"Dashboard Page",dl_action:"Sign Out",dl_label:"cta_click"}),this.dataShareService.cartAmount.next(""),this.commonService.logoutAndRouteToLogin()}registerLoginEvent(){this.subs.sink=this.sessionService.isLoggedIn.subscribe(t=>{const o=Boolean("boolean"!=typeof t?JSON.parse(t):t);o?this.onSuccessfulLogin(o):this.isUserLoggedIn=!1})}get viewButton(){try{return this.isDraftVisible&&!this.isDashboard&&this.utilityService.strictCompare(this.router.url.indexOf(p.m8.REVIEW_AND_PAY),-1)&&this.utilityService.strictCompare(this.router.url.indexOf(p.m8.DOCUMENT_UPLOAD),-1)&&this.utilityService.strictCompare(this.router.url.indexOf(p.m8.PAYMENT_GATEWAY),-1)&&this.utilityService.strictCompare(this.router.url.indexOf(p.m8.PAYMENT_CONFIRMATION),-1)}catch(t){return!1}}trackCurrentModule(){this.subs.sink=this.coreSessionService.currentModule$.pipe((0,Wt.x)()).subscribe(t=>{this.isDraftVisible=!1,t&&t.hasOwnProperty("displayPosition")&&(this.isDraftVisible=this.utilityService.strictCompare(p.gT.SAVE_AS_DRAFT_EXCEPTION_LIST.indexOf(t.logicalName),-1),this.setCurrentModuleIdx(null==t?void 0:t.logicalName))})}setCurrentModuleIdx(t){try{this.currentModuleIdx=this.getApplicationIdx(t)}catch(o){console.log(o)}}handleAlertBar(){this.sendMessage={},this.subs.sink=this.commonService.showAlertBar$.subscribe(t=>{this.sendMessage=t})}setCmpltdFieldIdx(t){this.cmpltdFieldIdx=t}get isLogin(){return this.router.url.indexOf(p.m8.LOGIN)>-1}get isPiFlow(){return this.utilityService.strictCompare(this.sessionService.tenent.toLowerCase(),"pol")&&this.utilityService.strictCompare(this.sessionService.countryCode.toLowerCase(),"ind")}routeToDashboard(){this.isUserLoggedIn?(this.commonService.setSessionValues(null,null,null,null,null),this.sessionService.applicationStatus="",this.setCmpltdFieldIdx(0),this.commonService.stopTimeOut(),this.commonService.routeToDashboard()):window.location.replace(`${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/login`)}get viewHeader(){try{return!!(this.isUserLoggedIn&&this.headerData&&!this.isDashboard&&this.headerData.length>0&&this.utilityService.strictCompare(p.gT.NAVBAR_EXCEPTION_LIST.indexOf(this.router.url),-1))}catch(t){return console.log(t),!1}}get showDropDown(){try{return this.sessionService.loginStatus&&!p.gT.DROP_DOWN_EXCLUDE_ROUTE.some(t=>this.router.url.indexOf(t)>=0)}catch(t){return console.log(t),!1}}get showLanguageDropdown(){try{return!this.sessionService.loginStatus}catch(t){return console.log(t),!1}}get isDashboard(){try{return this.router.url.indexOf(p.m8.DASHBOARD)>-1||this.router.url.indexOf(p.m8.ADDITIONAL_DOCUMENT)>-1||this.router.url.indexOf(p.m8.PAYMENT_CONFIRMATION)>-1||this.router.url.indexOf(p.m8.REVIEW_APPLICATION)>-1||this.router.url.indexOf(p.m8.NOT_FOUND)>-1||this.router.url.indexOf(p.m8.UPDATE_CATEGORY)>-1||this.router.url.indexOf(p.m8.REQUEST_REFUND)>-1}catch(t){console.log(p.Sg.INVALID_URL)}}get showReferenceNumber(){try{return this.router.url.indexOf(p.m8.YOUR_DETAILS)>-1||this.router.url.indexOf(p.m8.BOOK_APPOINTMENT)>-1||this.router.url.indexOf(p.m8.SERVICES)>-1||this.router.url.indexOf(p.m8.TRAVEL_MEDICAL_INSURANCE)>-1||this.router.url.indexOf(p.m8.REVIEW_AND_PAY)>-1||this.router.url.indexOf(p.m8.PAYMENT_CONFIRMATION)>-1||this.router.url.indexOf(p.m8.POSTAL_INFORMATION)>-1}catch(t){console.log(p.Sg.INVALID_URL)}}get urnNumber(){var t,o;try{return 1==this.isOverSeasEnable?null===(o=null===(t=this.sessionService.applicationDetailValue)||void 0===t?void 0:t.applicantList[0])||void 0===o?void 0:o.referenceNumber:this.sessionService.urn}catch(n){console.log(n)}}subscribeNavigationEnd(){try{this.subs.sink=this.router.events.pipe((0,bi.h)(t=>t instanceof B.m2),(0,Wt.x)()).subscribe(t=>{t instanceof B.m2&&this.handleTitleHighlight(t.url)})}catch(t){console.log(t)}}languageSelection(t){const o="/"+this.sessionService.countryCode+"/"+t+"/"+this.sessionService.tenent+"/"+p.m8.LOGIN;this.utilityService.handleCaptcha(),this.contentfulService.getResourceGroup(t),this.isPtFlow?window.location.replace(o):this.router.navigateByUrl(o)}get allowedLanguages(){return this.sessionService.appMissionLanguage}handleTitleHighlight(t){return(0,v.mG)(this,void 0,void 0,function*(){try{const o=p.gT.NAVBAR_EXCEPTION_LIST,n=t.split("/").pop();if(!this.utilityService.strictCompare(o.indexOf(n),-1)||!this.sessionService.loginStatus)return;const c=this.getApplicationIdx(this.sessionService.completedModuleName);return this.setCmpltdFieldIdx(c),this.utilityService.strictCompare(n,"services")&&this.setCurrentModuleIdx(p.VB.SERVICES),void(this.utilityService.strictCompare(n,"review-pay")&&this.setCurrentModuleIdx(p.VB.REVIEW_PAYMENT))}catch(o){(0,ht._)(o)}})}saveApplicationAsDraft(){return(0,v.mG)(this,void 0,void 0,function*(){try{this.routeToDashboard()}catch(t){console.log(`Error Status: ${t.status}\nMessage: ${t.message}`)}})}get isOverSeasEnable(){var t,o;return 1==(null===(o=null===(t=this.sessionService)||void 0===t?void 0:t.applicationConfiguration)||void 0===o?void 0:o.isOverSeasEnable)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ye.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["header"]],features:[e.qOj],decls:13,vars:9,consts:[[1,"navbar"],[1,"container","navbar-expand-sm"],["class","navbar-brand cursor-pointer",3,"click",4,"ngIf"],[1,"ml-auto"],["class","dropdown",4,"ngIf"],["class","navbar-toggler","type","button","data-toggle","collapse","data-target",".navbarToggle","aria-expanded","false",4,"ngIf"],["class","collapse navbar-collapse navbarToggle",4,"ngIf"],["class","flash-msg py-20",4,"ngIf"],[3,"receivedMessage"],["id","stepper",4,"ngIf"],[1,"navbar-brand","cursor-pointer",3,"click"],["alt","LIFT VFS Global",2,"width","120px",3,"src"],["alt","LIFT VFS Global",3,"src"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",3,"ngClass"],["class","dropdown-menu","aria-labelledby","dropdownMenuButton",4,"ngIf"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],["class","dropdown-item","href","javascript:void(0);",3,"click",4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"dropdown-item",3,"click"],["type","button","data-toggle","collapse","data-target",".navbarToggle","aria-expanded","false",1,"navbar-toggler"],[1,"collapse","navbar-collapse","navbarToggle"],[1,"navbar-nav","ml-auto","align-items-sm-center"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle","c-brand-orange"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","dropdown-menu-right","mb-15","cursor-pointer"],[1,"dropdown-item",3,"click"],[1,"dropdown-divider"],[1,"dropdown-item","bg-brand-orange","text-white","cursor-pointer","c-inherit",3,"click"],["class","navbar-nav justify-content-end",4,"ngIf"],[1,"navbar-nav","justify-content-end"],[1,"nav-link","c-inherit","ff-700"],[1,"nav-link","c-inherit","cursor-pointer",3,"click"],[1,"flash-msg","py-20"],[1,"container"],[1,"row","align-items-sm-center","c-brand-blue-navy"],[1,"col-auto","fs-25","pr-0"],[1,"fa","fa-exclamation-triangle"],[1,"col","fs-sm-17"],["target","_blank",1,"text-decoration-underline",3,"href"],["id","stepper"],[1,"steps-nav","navbar-nav","navbar-expand-lg"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"nav-item",3,"ngClass","click"],[1,"nav-link",3,"ngClass"],[1,"sr-num"],[1,"check-mark"],[1,"name","text-wrap"],[1,"nav-item","total-amt"],[1,"c-brand-grey-para","fs-13","fs-lg-inherit"],[1,"c-brand-green","fs-13","fs-lg-inherit","text-overflow"]],template:function(t,o){1&t&&(e.ynx(0),e.TgZ(1,"div",0)(2,"div",1),e.YNc(3,k0,2,1,"a",2),e.YNc(4,w0,2,1,"a",2),e._UZ(5,"span",3),e.YNc(6,U0,4,3,"div",4),e.YNc(7,q0,1,0,"button",5),e.YNc(8,V0,15,10,"div",6),e.YNc(9,R0,6,3,"div",6),e.qZA()(),e.YNc(10,J0,13,10,"div",7),e._UZ(11,"app-notification",8),e.YNc(12,H0,5,3,"div",9),e.BQk()),2&t&&(e.xp6(3),e.Q6J("ngIf",o.sessionService.isVFSLogoDisabled),e.xp6(1),e.Q6J("ngIf",!o.sessionService.isVFSLogoDisabled),e.xp6(2),e.Q6J("ngIf",o.showLanguageDropdown),e.xp6(1),e.Q6J("ngIf",o.showDropDown),e.xp6(1),e.Q6J("ngIf",o.showDropDown&&!o.isDashboard&&!o.isTmiOab),e.xp6(1),e.Q6J("ngIf",o.showDropDown&&o.isDashboard&&!o.isTmiOab),e.xp6(1),e.Q6J("ngIf",o.isPtFlow&&o.isLogin),e.xp6(1),e.Q6J("receivedMessage",o.sendMessage),e.xp6(1),e.Q6J("ngIf",o.viewHeader))},directives:[J.M2,w.O5,w.mk,w.sg,E0],pipes:[D.X$,w.JJ],encapsulation:2}),i})(),bn=(()=>{class i{onKeyDown(t){if(!re.N.localReload&&(116===(t.which||t.keyCode)||82===t.keyCode&&t.ctrlKey))return t.preventDefault(),!1;if(8===t.keyCode||8===t.which||"Backspace"===t.code){let o=!0;const n=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"],l=t.target;if(!l.disabled&&!t.target.readOnly)if(l.isContentEditable)o=!1;else if("INPUT"===l.nodeName){let d=l.type;d&&(d=d.toLowerCase()),n.indexOf(d)>-1&&(o=!1)}else"TEXTAREA"===l.nodeName&&(o=!1);if(o)return t.preventDefault(),!1}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=e.lG2({type:i,selectors:[["","appKeydown",""]],hostBindings:function(t,o){1&t&&e.NdJ("keydown",function(l){return o.onKeyDown(l)},!1,e.evT)}}),i})(),W0=(()=>{class i{constructor(t){this.utilityService=t}ngOnInit(){this.version=re.N.appVersion,this.currentYear=this.utilityService.momentInstance().year()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ct.t))},i.\u0275cmp=e.Xpm({type:i,selectors:[["footer"]],decls:3,vars:5,consts:[[1,"container","c-brand-grey-para","py-15"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t&&(e.xp6(1),e.lnq(" AR-",o.version," \xa9 ",o.currentYear," ",e.lcZ(2,3,"footer.pageDetails.para1")," "))},pipes:[D.X$],encapsulation:2}),i})();function K0(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"a",4),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.routeToUrl(n.urls.faq)}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"formFilling.footerDetails.para4")))}function z0(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"a",4),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return n.routeToUrl(n.browserInfo["browser-info-link"])}),e._uU(2),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(t.browserInfo["browser-info-link-name:"])}}function X0(i,s){if(1&i&&(e.TgZ(0,"div",9)(1,"span"),e._uU(2),e.YNc(3,z0,3,1,"ng-container",10),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.AsE("",t.browserInfo["footer.iso"]," ",t.browserInfo["browser-info"]," "),e.xp6(1),e.Q6J("ngIf",(null==t.browserInfo["browser-info-link"]?null:t.browserInfo["browser-info-link"].length)>0)}}let e2=(()=>{class i extends a.e{constructor(t){super(),this.contentfulService=t,this.externalUrls=re.N.externalUrls,this.urls={aboutUs:"",contact:"",faq:"",disclaimer:"",termsAndConditions:"",cookies:"",privacy:"",refund:""},this.browserInfo={}}ngOnInit(){this.currentYear=this.utilityService.momentInstance().year(),this.initUrls(),this.loadBrowserInfo(),this.subscribeToNavigationEnd()}initUrls(){try{this.urls.aboutUs=`${this.routeBasedBaseUrl}/${this.externalUrls.AboutUs}`,this.urls.contact=`${this.routeBasedBaseUrl}/${this.externalUrls.Contact}`,this.urls.faq=`${this.routeBasedBaseUrl}/${this.externalUrls.FAQ}`,this.urls.disclaimer=`${this.routeBasedBaseUrl}/${this.externalUrls.disclaimer}`,this.urls.termsAndConditions=`${this.routeBasedBaseUrl}/${this.externalUrls.TermsAndConditions}`,this.urls.cookies=`${this.externalUrls.vfsGlobalUrl}/${this.sessionService.appLanguageCode}/${this.externalUrls.CookiePolicy}`,this.urls.privacy=`${this.routeBasedBaseUrl}/${this.externalUrls.Privacy}`,this.urls.refund=`${this.routeBasedBaseUrl}/${this.externalUrls.refund}`}catch(t){this.logger.error(t)}}get routeBasedBaseUrl(){try{return`${this.externalUrls.externalBaseUrl}/${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}`}catch(t){throw t}}routeToUrl(t){try{window.open(t,"_blank")}catch(o){this.logger.error(o)}}loadBrowserInfo(){var t,o;return(0,v.mG)(this,void 0,void 0,function*(){try{const n=[`${this.sessionService.tenent} > ${this.sessionService.appLanguageCode}`,`${this.sessionService.tenent}`],l=yield this.contentfulService.getEnteries({content_type:"resourceGroup","fields.locale":n.join("&"),limit:500});this.browserInfo=null===(o=null===(t=null==l?void 0:l.items[0])||void 0===t?void 0:t.fields)||void 0===o?void 0:o.resources}catch(n){}})}subscribeToNavigationEnd(){try{this.subs.sink=this.router.events.pipe((0,bi.h)(t=>t instanceof B.m2)).subscribe(()=>this.loadBrowserInfo())}catch(t){this.logger.error(t)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ye.a))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ff-footer"]],features:[e.qOj],decls:33,vars:30,consts:[[1,"container","py-15"],[1,"row"],[1,"col"],[1,"nav","flex-column","flex-sm-row","footer-links-big","mb-20","mb-sm-10","text-decoration-underline"],[1,"nav-link","cursor-pointer",3,"click"],["class","nav-link cursor-pointer",3,"click",4,"ngIf"],[1,"nav","flex-column","flex-sm-row","footer-links-small","c-brand-grey-para","fs-14","mb-20","mb-sm-6","text-decoration-underline"],[1,"c-brand-grey-para","fs-14","ml-12"],["class","c-brand-grey-para fs-14",4,"ngIf"],[1,"c-brand-grey-para","fs-14"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",2)(4,"nav",3)(5,"a",4),e.NdJ("click",function(){return o.routeToUrl(o.urls.aboutUs)}),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"a",4),e.NdJ("click",function(){return o.routeToUrl(o.urls.contact)}),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,K0,3,3,"a",5),e.TgZ(12,"a",4),e.NdJ("click",function(){return o.routeToUrl(o.urls.refund)}),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"nav",6)(16,"a",4),e.NdJ("click",function(){return o.routeToUrl(o.urls.disclaimer)}),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"a",4),e.NdJ("click",function(){return o.routeToUrl(o.urls.termsAndConditions)}),e._uU(20),e.ALo(21,"translate"),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"a",4),e.NdJ("click",function(){return o.routeToUrl(o.urls.cookies)}),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"a",4),e.NdJ("click",function(){return o.routeToUrl(o.urls.privacy)}),e._uU(27),e.ALo(28,"translate"),e.qZA()(),e.TgZ(29,"div",7),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.YNc(32,X0,4,3,"div",8),e.qZA()()()()),2&t&&(e.xp6(6),e.Oqu(e.lcZ(7,12,"formFilling.footerDetails.para2")),e.xp6(3),e.Oqu(e.lcZ(10,14,"formFilling.footerDetails.para3")),e.xp6(2),e.Q6J("ngIf","che"==o.sessionService.tenent),e.xp6(2),e.Oqu(e.lcZ(14,16,"formFilling.footerDetails.para9")),e.xp6(4),e.Oqu(e.lcZ(18,18,"formFilling.footerDetails.para10")),e.xp6(3),e.AsE("",e.lcZ(21,20,"formFilling.footerDetails.para5")," & ",e.lcZ(22,22,"formFilling.footerDetails.para6"),""),e.xp6(4),e.Oqu(e.lcZ(25,24,"formFilling.footerDetails.para7")),e.xp6(3),e.Oqu(e.lcZ(28,26,"formFilling.footerDetails.para8")),e.xp6(3),e.AsE(" \xa9 ",o.currentYear," ",e.lcZ(31,28,"formFilling.footerDetails.para1"),""),e.xp6(2),e.Q6J("ngIf",o.browserInfo))},directives:[w.O5],pipes:[D.X$],encapsulation:2}),i})();var _o=A(7407);function t2(i,s){if(1&i&&(e.TgZ(0,"span",9),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij("",t.zoomLevel,"%")}}function i2(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"span",5),e._uU(2,"A"),e.qZA(),e.TgZ(3,"input",6),e.NdJ("mouseover",function(){return e.CHM(t),e.oxw().showZoomLevel=!0})("mouseout",function(){return e.CHM(t),e.oxw().showZoomLevel=!1})("ngModelChange",function(n){return e.CHM(t),e.oxw().zoomLevel=n})("input",function(){return e.CHM(t),e.oxw().updateZoomLevel()}),e.qZA(),e.TgZ(4,"span",7),e._uU(5,"A"),e.qZA(),e.YNc(6,t2,2,1,"span",8),e.qZA()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.zoomLevel),e.xp6(3),e.Q6J("ngIf",t.showZoomLevel)}}function o2(i,s){1&i&&e._UZ(0,"footer",10)}function n2(i,s){1&i&&e._UZ(0,"app-ff-footer",10)}const a2=function(i){return{"logged-in":i}};let s2=(()=>{class i extends N0.n{constructor(t,o,n,l,c,d,_,f,h,T,I,S,R){super(),this.sessionService=t,this.router=o,this.commonService=n,this.idle=l,this.element=c,this.changeRef=d,this.dialog=_,this.utilityService=f,this.translate=h,this.renderer=T,this.activatedRoute=I,this.contentfulService=S,this.meta=R,this.zoomLevel=100,this.showZoomLevel=!1,this.hideZoom=!0,this.count=0,this.initAppFundamentals(),o.events.subscribe(U=>{U instanceof B.m2&&(-1==this.router.url.indexOf(p.m8.BOOK_APPOINTMENT)&&"ita"==this.router.url.split("/")[3]&&"kwt"==this.router.url.split("/")[1]?this.hideZoom=!0:(this.resetZoomRange(),this.hideZoom=!1))}),this.meta.addTag({name:"google-site-verification",content:re.N.contentForMetaTag})}resetZoomRange(){this.zoomLevel=100,this.showZoomLevel=!1}ngAfterViewInit(){const t=this.renderer.selectRootElement("#loader");this.renderer.setStyle(t,"display","none")}ngOnInit(){this.utilityService.setTitle(),window.location.pathname.split("/").includes("blg-handshake")||this.commonService.loadConfiguration();const o="boolean"!=typeof this.sessionService.loginStatus?Boolean(JSON.parse(this.sessionService.loginStatus)):Boolean(this.sessionService.loginStatus),n=window.location.pathname;o&&!re.N.localReload&&-1===n.indexOf(p.m8.PAYMENT_CONFIRMATION)&&-1===n.indexOf(p.m8.YOUR_DETAILS)&&this.commonService.logoutAndRouteToLogin()}initAppFundamentals(){try{this.utilityService.handleCaptcha(),re.N.production&&(this.utilityService.appendScriptForCookies(),this.utilityService.appendGaTrackingCode()),this.sessionService.loginStatus||this.sessionService.clearSession(),this.subscribeNavigationEnd(),this.registerLoginEvent(),this.initializeErrors(),this.commonService.loadClientIp(),this.contentfulService.loadCaptchaRoute()}catch(t){this.logger.error(t)}}subscribeNavigationEnd(){try{this.subs.sink=this.router.events.pipe((0,bi.h)(t=>t instanceof B.m2),(0,Wt.x)()).subscribe(t=>{var o;if(t instanceof B.m2){(null===(o=t.url.split("/")[4])||void 0===o?void 0:o.includes(p.m8.PAYMENT_CONFIRMATION))?this.translate.use(this.sessionService.appLanguageCode||re.N.defaultLang):(this.translate.use(t.url.split("/")[2]),this.translate.get("culturecode").subscribe(l=>{l&&(this.sessionService.appCultureCode=l)}),this.translate.addLangs([t.url.split("/")[2]])),re.N.localReload||this.utilityService.disableBrowserBack(),re.N.production&&this.utilityService.fireGAEvent(),this.utilityService.closeAllDialog(),this.urlValidation(t.url);const n=this.utilityService.getChild(this.activatedRoute);this.subs.sink=n.data.subscribe(l=>{this.utilityService.translationTitleService(l.title)})}})}catch(t){console.log(t)}}subscribeNavigationEndOld(){try{this.subs.sink=this.router.events.pipe((0,bi.h)(t=>t instanceof B.m2),(0,Wt.x)()).subscribe(t=>{var o;if(t instanceof B.m2){(null===(o=t.url.split("/")[4])||void 0===o?void 0:o.includes(p.m8.PAYMENT_CONFIRMATION))?this.translate.use(this.sessionService.appLanguageCode||re.N.defaultLang):(this.translate.use("en"),this.translate.get("culturecode").subscribe(l=>{l&&(this.sessionService.appCultureCode=l)}),this.translate.addLangs(["en"])),re.N.localReload||this.utilityService.disableBrowserBack(),re.N.production&&this.utilityService.fireGAEvent(),this.utilityService.closeAllDialog(),this.urlValidation(t.url);const n=this.utilityService.getChild(this.activatedRoute);this.subs.sink=n.data.subscribe(l=>{this.utilityService.translationTitleService(l.title)})}})}catch(t){console.log(t)}}urlValidation(t){if(t.split("/")[2]&&t.length>=3)if(this.sessionService.getLoggedEmail()){if(t.split("/")[3]!==this.sessionService.tenent||t.split("/")[1]!==this.sessionService.countryCode||t.split("/")[2]!==this.sessionService.appLanguageCode){if(t.split("/")[4].includes(p.m8.PAYMENT_CONFIRMATION)){const n=`${this.sessionService.countryCode}/${this.sessionService.appLanguageCode}/${this.sessionService.tenent}/${t.split("/")[4]}`;return setTimeout(()=>{this.translate.use(this.sessionService.appLanguageCode||re.N.defaultLang)},1e3),void this.router.navigateByUrl(n)}return void this.commonService.routeToDashboard()}}else this.sessionService.tenent=t.split("/")[3],this.sessionService.countryCode=t.split("/")[1],this.sessionService.appLanguageCode=t.split("/")[2]}initializeErrors(){this.subs.sink=this.sessionService.getErrors().pipe((0,Ro.q)(1)).subscribe(t=>{this.openUnauthorizedPop()})}registerLoginEvent(){this.subs.sink=this.sessionService.isLoggedIn.subscribe((t=!1)=>{Boolean("boolean"!=typeof t?JSON.parse(t):t)&&this.sessionStarts()})}get setNavBarClassStatus(){try{const t=this.router.url.split("/").pop();return!!t&&this.utilityService.strictCompare(p.gT.NAVBAR_EXCEPTION_LIST.indexOf(t),-1)&&!!this.sessionService.loginStatus}catch(t){return console.log(t),!1}}sessionStarts(){this.idle.setIdle(re.N.sessionTime),this.idle.setInterrupts([new vi.em(this.element.nativeElement,"keydown DOMMouseScroll mousewheel mousedown touchstart touchmove scroll")]),this.idleOnTimeout$=this.idle.onIdleStart.subscribe(()=>{this.count++,1===this.count&&this.sessionService.getJWT()&&this.openSessionPopup()}),this.reset()}reset(){this.idle.watch()}refreshUserState(){this.idle.isIdling()||this.reset()}openSessionPopup(){this.dialog.open(Z0,{disableClose:!0}).afterClosed().subscribe(o=>{o?(this.count=0,this.reset(),this.changeRef.markForCheck()):(this.count=0,this.idle.stop(),this.idle.ngOnDestroy(),this.changeRef.markForCheck(),this.idleOnTimeout$.unsubscribe())},o=>{this.count=0,this.idle.stop(),this.idle.ngOnDestroy(),this.changeRef.markForCheck(),this.idleOnTimeout$.unsubscribe()})}openUnauthorizedPop(){const t=this.dialog.open(zo);this.utilityService.stopNgxUiSpinner(),this.subs.sink=t.afterClosed().subscribe(o=>{!0===o&&this.commonService.logoutAndRouteToLogin()})}get ffFooter(){try{return this.router.url.indexOf(p.m8.FF_INFO)>-1||this.router.url.indexOf(p.m8.FF_YOUR_DETAILS)>-1||this.router.url.indexOf(p.m8.FF_PAYMENT_CONFIRMATION)>-1||this.router.url.indexOf(p.m8.FF_TRANSACTION_SUMMARY)>-1}catch(t){}}updateZoomLevel(){this.showZoomLevel=!0}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(et.m),e.Y36(B.F0),e.Y36(gi.v),e.Y36(vi.hX),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(oe.uw),e.Y36(Ct.t),e.Y36(D.sK),e.Y36(e.Qsj),e.Y36(B.gz),e.Y36(Ye.a),e.Y36(k.h_))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-root"]],hostBindings:function(t,o){1&t&&e.NdJ("mousemove",function(){return o.refreshUserState()},!1,e.Jf7)},features:[e.qOj],decls:8,vars:8,consts:[[1,"header-main","bg-white","sticky-top",3,"ngClass"],["appKeydown","",1,"clearfix","main-container"],["style","text-align: center; margin-top: 25px",4,"ngIf"],["class","footer-bottom mt-auto",4,"ngIf"],[2,"text-align","center","margin-top","25px"],[1,"small-letter"],["type","range","min","100","max","200","step","10","discrete","true",1,"zoom-scale",2,"height","3px","width","105px",3,"ngModel","mouseover","mouseout","ngModelChange","input"],[1,"big-letter"],["class","zoom-level","style","margin-left: 10px",4,"ngIf"],[1,"zoom-level",2,"margin-left","10px"],[1,"footer-bottom","mt-auto"]],template:function(t,o){1&t&&(e.TgZ(0,"div"),e._UZ(1,"header",0),e.TgZ(2,"div",1),e.YNc(3,i2,7,2,"div",2),e._UZ(4,"router-outlet"),e.qZA(),e.YNc(5,o2,1,0,"footer",3),e.YNc(6,n2,1,0,"app-ff-footer",3),e._UZ(7,"ngx-ui-loader"),e.qZA()),2&t&&(e.Udp("zoom",o.zoomLevel/100),e.xp6(1),e.Q6J("ngClass",e.VKq(6,a2,o.setNavBarClassStatus)),e.xp6(2),e.Q6J("ngIf",o.hideZoom),e.xp6(2),e.Q6J("ngIf","undefined"!==(null==o.sessionService?null:o.sessionService.tenent)&&!o.ffFooter),e.xp6(1),e.Q6J("ngIf","undefined"!==(null==o.sessionService?null:o.sessionService.tenent)&&o.ffFooter))},directives:[$0,w.mk,bn,w.O5,r.eT,r.Fj,r.JJ,r.On,B.lC,W0,e2,_o.Jj],encapsulation:2}),i})();var Cn=A(6360),Ci=A(7021),An=A(1004),Tn=A(1279);const l2=[Ci.FA,Tn.Ps,u.c,le.p9,V.ot,ae.LD,At.AV,Ci.FA,te.XK,ae.LD,u.c,Qe.Fk,X.QW,at.To,oe.Is,_i.Nh,An.Co,q.lN,J.Gs];let Sn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[w.ez,...l2],Ci.FA,Tn.Ps,u.c,le.p9,V.ot,ae.LD,At.AV,Ci.FA,te.XK,ae.LD,u.c,Qe.Fk,X.QW,at.To,oe.Is,_i.Nh,An.Co,q.lN,J.Gs]}),i})();var xn=A(3300);const u2=[r.u5,r.UX,w.ez,Sn,Et.Yi,xn.rK,wt.cD];let d2=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[{provide:J.NG,useClass:ue.ic}],imports:[[u2,D.aw.forChild(),J.IJ],r.u5,r.UX,w.ez,Sn,Et.Yi,xn.rK,wt.cD,D.aw]}),i})();var p2=A(6789),m2=A(2994),g2=A(7221),Ln=A(8118);let _2=(()=>{class i{constructor(t,o,n,l){this.sessionService=t,this.commonService=o,this.logger=n,this.utilityService=l,this.responseCacheMap=new Map,this.postReqBodyMap=new Map,this.captchaAttempt=0;try{this.subscriptions$=this.sessionService.isLoggedIn.subscribe((c=!1)=>{!Boolean("boolean"!=typeof c?JSON.parse(c):c)&&this.subscriptions$&&(this.responseCacheMap=new Map,this.postReqBodyMap=new Map)})}catch(c){console.log(c)}}intercept(t,o){const n=this.responseCacheMap.get(t.urlWithParams);if(this.utilityService.strictCompare(t.method,p.gT.HTTP_METHODS.GET)){if(n)return(0,Ln.of)(n)}else if(this.utilityService.strictCompare(t.method,p.gT.HTTP_METHODS.POST)&&n){if(t.url.indexOf(p.gT.api.appointmentFees)>-1&&this.sessionService.updateFees)return this.getDataFromApi(t,o);const l=JSON.parse(JSON.stringify(t.body));if(this.postReqBodyMap.get(JSON.stringify(l)))return(0,Ln.of)(n)}return(0,uo.D)(this.addCaptchaPayload(t,o))}addCaptchaPayload(t,o){return(0,v.mG)(this,void 0,void 0,function*(){const n=this.sessionService.captchaConfiguration.find(c=>t.url.includes(c.api_url));if(!n||"v3"!==this.sessionService.captchaMode)return this.getDataFromApi(t,o);const l=yield this.utilityService.executeCapctha(n.action);if(this.utilityService.strictCompare(t.method,p.gT.HTTP_METHODS.GET)){let c=t.params;c=c.append(n.captcha_key,l),c=c.append("captcha_version",this.sessionService.captchaMode),t=t.clone({params:c})}return this.utilityService.strictCompare(t.method,p.gT.HTTP_METHODS.POST)&&(t="application/x-www-form-urlencoded;charset=UTF-8"===t.detectContentTypeHeader()?t.clone({body:t.body.append(n.captcha_key,l).append("captcha_version",this.sessionService.captchaMode)}):t.clone({body:Object.assign(Object.assign({},t.body),{[n.captcha_key]:l,captcha_version:this.sessionService.captchaMode})})),this.getDataFromApi(t,o)})}getDataFromApi(t,o){try{return o.handle(this.modifyRequest(t)).pipe((0,m2.b)(n=>{n instanceof vt.Zn&&this.cacheResponse(t,n)}),(0,Uo.U)(n=>this.modifyResponse(n)),(0,g2.K)(n=>this.handleError(n))).toPromise()}catch(n){this.logger.error(n)}}modifyRequest(t){t.body&&(t=this.modifyDateFormat(t));const o=t.headers.set("route",window.location.pathname.split("/").slice(1,4).join("/")),c=[p.gT.api.loadNationality,p.gT.api.masterGender,p.gT.api.masterPassportType,p.gT.api.masterCourierType,p.gT.api.masterCourierSercProvider,p.gT.api.masterMission,p.gT.api.masterCountry].find(_=>t.urlWithParams.indexOf(_)>-1)?`${t.url}/${this.sessionService.appCultureCode}`:t.url;return t.clone({headers:o,url:c})}modifyDateFormat(t){try{let o=t.clone();const l=this.modifyDateHelper(o.body);return o=o.clone({body:l}),o}catch(o){return t}}modifyDateHelper(t){try{if("object"==typeof t)for(const o of Object.keys(t))if(Array.isArray(t[o]))for(const n of t[o])this.modifyDateHelper(n);else"object"==typeof t[o]&&this.isNgbDateObject(t[o])&&(t[o]=this.commonService.constructDate(t[o],Tt.E_.D_M_Y_SLASH));return t}catch(o){throw o}}isNgbDateObject(t){try{return!(!t.hasOwnProperty(Tt.iW.month)||!t.hasOwnProperty(Tt.iW.year))}catch(o){return!1}}modifyResponse(t){try{this.sessionService.captchaMode="v3";let o=t;const n=t;return t&&t.hasOwnProperty("body")&&n.url.indexOf(p.gT.api.masterGender)>-1&&(o=t.clone({body:t.body.genders})),t&&t.hasOwnProperty("body")&&n.url.indexOf(p.gT.api.masterPassportType)>-1&&(o=t.clone({body:t.body.passportTypes})),t&&t.hasOwnProperty("body")&&n.url.indexOf(p.gT.api.masterCourierType)>-1&&(o=t.clone({body:t.body.courierTypes})),t&&t.hasOwnProperty("body")&&n.url.indexOf(p.gT.api.masterCourierSercProvider)>-1&&(o=t.clone({body:t.body.courierServiceProviders})),t&&t.hasOwnProperty("body")&&n.url.indexOf(p.gT.api.masterState)>-1&&(o=t.clone({body:t.body.states})),this.logger.log("Response: ",o),this.checkForErrorObject(o),o}catch(o){return t}}checkForErrorObject(t){const o=t;if(o.body&&o.body.hasOwnProperty("error")){const n=o.body.error.code;4002===n&&(this.commonService.onResponsesAlertBar({statusCode:n,isError:!0}),this.commonService.logoutAndRouteToLogin())}}handleError(t){if(t instanceof vt.UA){const o=t.url;if(this.sessionService.captchaConfiguration.some(l=>o.indexOf(l)>=0)&&this.captchaAttempt<3&&re.N.captchaFallbackEnabled)return this.captchaAttempt++,this.sessionService.captchaMode="v2",(0,ht._)(t);if(this.logger.error("Error occured: ",t),t.error instanceof ErrorEvent)return(0,ht._)(t);{const l=[400,401,403,429,500,502,504,0];if(!o.includes("logout")&&!o.includes("login")&&l.indexOf(t.status)>-1){const c=t.status;return(403===t.status||400===t.status)&&this.commonService.routeToNotFound(),this.commonService.onResponsesAlertBar({statusCode:c,isError:!0}),this.utilityService.stopNgxUiSpinner(),(0,ht._)(t)}return(0,ht._)(t)}}return(0,ht._)(t)}cacheResponse(t,o){try{let n=!1;if(this.utilityService.strictCompare(t.method,p.gT.HTTP_METHODS.GET)){const l=["/master/",p.gT.api.vasByVac,p.gT.api.appointmentSlots];for(const c of l)t.urlWithParams.indexOf(c)>-1&&!this.responseCacheMap.has(t.urlWithParams)&&(t.urlWithParams.endsWith(p.gT.api.masterGender)?this.responseCacheMap.set(t.urlWithParams,o.clone({body:o.body.genders})):t.urlWithParams.endsWith(p.gT.api.masterPassportType)?this.responseCacheMap.set(t.urlWithParams,o.clone({body:o.body.passportTypes})):t.urlWithParams.endsWith(p.gT.api.masterCourierType)?this.responseCacheMap.set(t.urlWithParams,o.clone({body:o.body.courierTypes})):t.urlWithParams.endsWith(p.gT.api.masterCourierSercProvider)?this.responseCacheMap.set(t.urlWithParams,o.clone({body:o.body.courierServiceProviders})):t.urlWithParams.indexOf(p.gT.api.masterState)>-1?this.responseCacheMap.set(t.urlWithParams,o.clone({body:o.body.states})):this.responseCacheMap.set(t.urlWithParams,o),n=!0)}else if(this.utilityService.strictCompare(t.method,p.gT.HTTP_METHODS.POST)){const l=[p.gT.api.appointmentFees];for(const c of l)if(t.urlWithParams.indexOf(c)>-1){this.responseCacheMap.set(t.urlWithParams,o);const d=JSON.parse(JSON.stringify(t.body));this.postReqBodyMap.set(JSON.stringify(d),o),n=!0}}return n}catch(n){console.log(n)}}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(et.m),e.LFG(gi.v),e.LFG(hi.Kf),e.LFG(Ct.t))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const f2={bgsColor:"#40543b",fgsColor:"rgba(12,11,11,0.95)",fgsSize:40,logoSize:50,pbColor:"red",hasProgressBar:!1};var v2=A(1346),h2=A(3559),y2=A(4130),In=A(1086),b2=A(1709),C2=A(3308),A2=A(8583),T2=A(9390);const Rt=JSON.parse('{"login":{"id":1,"displayName":"Login","logicalName":"login","routeUrl":"login","displayPosition":1,"formLayoutType":{"online":"type-1","backoffice":"type-1"},"apis":{"online":null,"backoffice":null},"controls":[{"row":3,"fields":[{"displayName":"onBoarding.formLabel.label1","logicalName":"username","fieldType":"email","placeholder":"commonSections.formLabel.label4","readOnly":false,"hidden":false,"onChangeEvent":[{"functionName":null,"param1":null}],"defaultValueLookup":null,"defaultValueOptionSet":null,"validations":{"regex":{"message":"commonSections.messages.patternMessages.message1","value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$"},"minValue":null,"maxValue":null,"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"emailExists":{"message":"onBoarding.messages.errorMessages.message1","value":false}},"referenceEntity":null,"applicableValuesTwoOptions":null,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":1,"fields":[{"displayName":"onBoarding.formLabel.label7","logicalName":"password","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"dateTimeFormat":null,"hidden":false,"readOnly":false,"decimalPrecision":null,"currencyPrecision":null,"onChangeEvent":[],"fieldType":"password-toggle","placeholder":"commonSections.formLabel.label5","validations":{"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}}}]},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":5,"fields":[{"fieldType":"button","displayName":"commonSections.buttons.button6","logicalName":"login","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"","onClickEvent":[{"functionName":"loginUser","url":"/user/login","params":[]}]}]}]},"forgotPassword":{"id":1,"displayName":"Forgot Password","logicalName":"forgotPassword","routeUrl":"forgot-password","displayPosition":1,"formLayoutType":{"online":"type-1","backoffice":"type-1"},"apis":{"online":null,"backoffice":null},"controls":[{"row":3,"fields":[{"displayName":"onBoarding.formLabel.label1","logicalName":"username","fieldType":"email","placeholder":"commonSections.formLabel.label2","readOnly":false,"hidden":false,"onChangeEvent":[{"functionName":null,"param1":null}],"defaultValueLookup":null,"defaultValueOptionSet":null,"validations":{"regex":{"message":"commonSections.messages.patternMessages.message1","value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$"},"minValue":null,"maxValue":null,"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"emailExists":{"message":"onBoarding.messages.errorMessages.message1","value":false}},"referenceEntity":null,"applicableValuesTwoOptions":null,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":5,"fields":[{"fieldType":"button","displayName":"commonSections.buttons.button29","logicalName":"login","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"","onClickEvent":[{"functionName":"forgotUser","url":"/user/forgotpassword","params":[]}]}]}]},"onBoarding":{"id":1,"displayName":"On Boarding","logicalName":"onBoarding","routeUrl":"on-boarding","displayPosition":1,"formLayoutType":{"online":"type-1","backoffice":"type-1"},"apis":{"online":null,"backoffice":null},"controls":[{"row":3,"fields":[{"displayName":"onBoarding.formLabel.label1","logicalName":"emailid","fieldType":"email","placeholder":"commonSections.formLabel.label2","readOnly":false,"hidden":false,"onChangeEvent":[{"functionName":null,"param1":null}],"defaultValueLookup":null,"defaultValueOptionSet":null,"validations":{"regex":{"message":"commonSections.messages.patternMessages.message1","value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$"},"minValue":null,"maxValue":null,"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"emailExists":{"message":"onBoarding.messages.errorMessages.message1","value":false}},"referenceEntity":null,"applicableValuesTwoOptions":null,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":1,"fields":[{"displayName":"onBoarding.formLabel.label7","logicalName":"password","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"dateTimeFormat":null,"hidden":false,"readOnly":false,"decimalPrecision":null,"currencyPrecision":null,"onChangeEvent":[],"fieldType":"password-toggle","placeholder":"commonSections.formLabel.label2","validations":{"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1},"regex":{"message":"commonSections.messages.patternMessages.message8","value":"^[A-Za-z\\\\d@$%*&!#\\"\\\\\',.?|~`+\\\\-_\\\\=\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]\\\\\\\\/:;<>\\\\^]{8,20}$"}}}]},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":2,"fields":[{"fieldType":"password-toggle","displayName":"onBoarding.formLabel.label8","logicalName":"confirmPassword","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"dateTimeFormat":null,"decimalPrecision":null,"currencyPrecision":null,"onChangeEvent":[{"functionName":"validatePassword","params":"password"}],"changeEmitterFields":[{"targetFieldLogicalName":"password","functionName":"validatePassword","params":"password"}],"placeholder":"commonSections.formLabel.label2","validations":{"regex":{"message":"commonSections.messages.patternMessages.message4","value":"^[A-Za-z\\\\d@$%*&!#\\"\\\\\',.?|~`+\\\\-_\\\\=\\\\(\\\\)\\\\{\\\\}\\\\[\\\\]\\\\\\\\/:;<>\\\\^]{8,20}$"},"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}}}]},{"row":12,"fields":[{"displayName":"<span>I allow VFS Worldwide Group to process my personal data so that I can use the visa application services offered by them. For more details see <a class=\'c-brand-orange text-decoration-underline\' target=\'_blank\' href=\'register-privacy-policy\'>Privacy Policy</a>","logicalName":"instructionAgreed","referenceEntity":null,"mandatory":false,"defaultValueLookup":false,"applicableValuesTwoOptions":null,"readOnly":false,"placeholder":"","fieldType":"checkbox","hidden":false,"value":false,"onChangeEvent":[{"functionName":"tncChanged","params":[]}],"visaCategory":["1"],"accessibility":"ALL"}]},{"mandatory":false,"bundleLabel":null,"bundleName":null,"row":5,"fields":[{"fieldType":"button","displayName":"commonSections.buttons.button30","logicalName":"login","referenceEntity":null,"defaultValueLookup":null,"applicableValuesTwoOptions":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"","onClickEvent":[{"functionName":"registerUser","url":"/user/registration","params":[]}]}]}]},"schema_default":{"tenent":"nld","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label23","logicalName":"nationalId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label17","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message40","value":true},"regex":{"value":"^[A-Za-z0-9]+$","message":"applicantInformation.messages.errorMessages.message41"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isnationalIdEnabled","type":"STATIC","value":"isnationalIdEnabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label24","logicalName":"VisaToken","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label18","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message42","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message43"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVisaTokenEnabled","type":"STATIC","value":"isVisaTokenEnabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","key":"setRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"VLN Number","logicalName":"vlnNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label16","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message32","type":"SESSION","value":"vln_regex"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message31","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVLNEnabled","type":"STATIC","value":"isVLNEnabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label33","logicalName":"vfsReferenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label22","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message59"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message58","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isMaltaFamilyReunificationEnabled","type":"STATIC","value":"isMaltaFamilyReunificationEnabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label34","logicalName":"familyReunificationCerificateNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label23","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message61"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message60","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isMaltaFamilyReunificationEnabled","type":"STATIC","value":"isMaltaFamilyReunificationEnabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label19","logicalName":"middleName","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label15","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message29","value":false},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message30"},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null,"invalid":""},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"","toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableMiddleName","type":"STATIC","value":"enableMiddleName"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isDOBDisabled","type":"STATIC","value":"isDOBDisabled"}]}],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isNationalitySetoptional","type":"STATIC","value":"isNationalitySetoptional"}]}],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1},"customError":[{"code":"passportNoMissmatchTest","message":"applicantInformation.messages.errorMessages.message44"}]},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label27","logicalName":"confirmPassportNumber","defaultValueLookup":null,"readOnly":false,"autocomplete":"off","fieldType":"password","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"commonSections.formLabel.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message51","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"payOnlineEnabled","type":"STATIC","value":"payOnlineEnabled"}]}],"defaultValueOptionSet":null}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7","customError":[{"code":"passportExpiryMissmatchTest","message":"applicantInformation.messages.errorMessages.message45"}]},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":7,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":8,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":3},"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":10,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"state","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z ]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"city","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":17,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label29","logicalName":"employerFirstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label24","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message54","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message56"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"maltaWorkPermitNumberEnabled","type":"STATIC","value":"maltaWorkPermitNumberEnabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":18,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label30","logicalName":"employerLastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label25","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message55","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message57s"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"maltaWorkPermitNumberEnabled","type":"STATIC","value":"maltaWorkPermitNumberEnabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":19,"fields":[{"displayName":"applicantInformation.formLabel.label35","logicalName":"employerDialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":3},"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"maltaWorkPermitNumberEnabled","type":"STATIC","value":"maltaWorkPermitNumberEnabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label35","logicalName":"employerContactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"maltaWorkPermitNumberEnabled","type":"STATIC","value":"maltaWorkPermitNumberEnabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label35","bundleName":"Employercontact"},{"row":20,"fields":[{"displayName":"applicantInformation.formLabel.label32","logicalName":"employerEmailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label21","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"maltaWorkPermitNumberEnabled","type":"STATIC","value":"maltaWorkPermitNumberEnabled"}]}],"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label16","logicalName":"insurance","routeUrl":"insurance","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":6,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":6,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_default_pt":{"tenent":"nld","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":1,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","key":"setRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"VLN Number","logicalName":"vlnNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label16","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message32","type":"SESSION","value":"vln_regex"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message31","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVLNEnabled","type":"STATIC","value":"isVLNEnabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isDOBDisabled","type":"STATIC","value":"isDOBDisabled"}]}],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":3},"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"state","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z ]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"city","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":2,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"applicationdetails","displayPosition":2,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_ihc":{"tenent":"ihc","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"centreCodeForRefenceNumber","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"readOnly":false,"fieldType":"textbox","cssClass":"col-4","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"([a-zA-Z]){4}$","key":"","type":"STATIC"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]},{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"col-8","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"centerCode","key":"setGovtRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true,"bundleName":"contact","bundleLabel":"applicantInformation.formLabel.label14","displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message4","type":"STATIC","key":null}},{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label1","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message13","value":"^[a-zA-Z][a-zA-Z ]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"defaultValueOptionSet":null}],"mandatory":false},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label19","logicalName":"middleName","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label15","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message29","value":false},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message30"},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null,"invalid":""},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"","toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableMiddleName","type":"STATIC","value":"enableMiddleName"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":false},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label21","logicalName":"passportType","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/passporttype","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":null}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"180"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"toggleDisableField":[],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact","displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message5","type":"STATIC","key":null}},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label14","logicalName":"postalInformation","routeUrl":"postal-information","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[{"row":1,"mandatory":false,"fields":[{"displayName":"postalInformation.formLabel.label8","logicalName":"courierType","defaultValueLookup":null,"defaultValueOptionSet":[],"readOnly":false,"placeholder":"commonSections.formLabel.label1","fieldType":"dropdown","validations":{"regex":null,"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/couriertype","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":1,"fields":[{"displayName":"postalInformation.formLabel.label1","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label1","validations":{"regex":{"message":"commonSections.messages.patternMessages.message21","value":"^[0-9]*$"},"mandatory":{"message":"commonSections.messages.patternMessages.message21","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message21","value":5},"minLength":{"message":"commonSections.messages.patternMessages.message21","value":5},"customError":[{"code":"invalidPostalCode","message":"commonSections.messages.patternMessages.message21"}],"invalid":""},"onChangeEvent":[{"functionName":"updateListenerTextField","params":[{"key":"postalCode","type":"FORM_VALUE","value":"pincode"}],"url":"/courier/validatepostalcode","type":"POST"}],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":2,"fields":[{"displayName":"postalInformation.formLabel.label2","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":3,"fields":[{"displayName":"postalInformation.formLabel.label3","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":false},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":false},{"row":4,"fields":[{"displayName":"postalInformation.formLabel.label4","logicalName":"state","defaultValueLookup":[],"readOnly":false,"fieldType":"dropdown","cssClass":"","optionsListApi":{"online":{"url":"/master/state","type":"GET","getParamsType":"slash","displayKey":"stateName","valueKey":"isoCode","params":[{"key":"countryCode","type":"SESSION","value":"countrycode","mandatory":true}]},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":5,"fields":[{"displayName":"postalInformation.formLabel.label5","logicalName":"city","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z ]*[a-zA-Z]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"postalInformation.formLabel.label6","logicalName":"countryCode","defaultValueLookup":[{"type":"STATIC","value":"USA"}],"readOnly":false,"fieldType":"dropdown","cssClass":"","hidden":false,"placeholder":"commonSections.formLabel.label1","validations":{"regex":null,"mandatory":{"message":"postalInformation.messages.errorMessages.message3","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"isInputDisabled":false,"disableOnValues":[],"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","getParamsType":"queryParam","params":[{"key":"serviceType","type":"SESSION","value":"cur_app_servicetype","mandatory":true}],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":1,"fields":[{"displayName":"postalInformation.formLabel.label11","logicalName":"courierServiceProvider","defaultValueOptionSet":[],"readOnly":false,"fieldType":"dropdown","cssClass":"","hidden":false,"placeholder":"commonSections.formLabel.label1","validations":{"regex":null,"mandatory":{"message":"postalInformation.messages.errorMessages.message5","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"isInputDisabled":false,"disableOnValues":[],"optionsListApi":{"online":{"url":"/master/courierserviceprovider","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":2,"fields":[{"displayName":"postalInformation.formLabel.label12","logicalName":"incomingAWBNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label3","validations":{"regex":{"message":"postalInformation.messages.errorMessages.message8","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"postalInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":3,"fields":[{"displayName":"postalInformation.formLabel.label13","logicalName":"outgoingAWBNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label4","validations":{"regex":{"message":"postalInformation.messages.errorMessages.message9","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"postalInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":7,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updatePostal","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updatePostal","url":"","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_ind_fra":{"tenent":"fra","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"^FRA([A-Z0-9]){14}$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[],"displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message3","type":"STATIC","key":null}}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":null,"value":false},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_ind_ita":{"tenent":"ita","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"^FRA([a-zA-Z0-9]){14}$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[],"displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message3","type":"STATIC","key":null}}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":"applicantInformation.messages.infoMessages.message4","type":"STATIC","key":null}}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_eoi_usa":{"tenent":"nld","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","value":"^([a-zA-Z0-9]{12,14})+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"displayInfo":{"value":"applicantInformation.messages.infoMessages.message18","visible":"true","type":"STATIC","key":"null"},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"displayInfo":{"value":"applicantInformation.messages.infoMessages.message14","visible":"true","type":"STATIC","key":"null"}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"value":"applicantInformation.messages.infoMessages.message6","visible":true,"type":"STATIC","key":null}}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"stateCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z ]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"cityCode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_ol":{"tenent":"nld","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteria","routeUrl":"application-detail","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"fields":[{"displayName":"applicantInformation.formLabel.label14","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label9","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message19","key":"setRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message18","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"VLN Number","logicalName":"vlnNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label16","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message32","type":"SESSION","value":"vln_regex"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message31","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVLNEnabled","type":"STATIC","value":"isVLNEnabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label23","logicalName":"nationalId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label17","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message40","value":true},"regex":{"value":"^[A-Z0-9]+$","message":"applicantInformation.messages.errorMessages.message41"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isnationalIdEnabled","type":"STATIC","value":"isnationalIdEnabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label24","logicalName":"VisaToken","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label18","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message42","value":true},"regex":{"message":"applicantInformation.messages.errorMessages.message50","key":"setVisaTokenRegExpression","type":"FUNCTION"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVisaTokenEnabled","type":"STATIC","value":"isVisaTokenEnabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isDOBDisabled","type":"STATIC","value":"isDOBDisabled"}]}],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":4,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":5,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7"},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":true},{"row":6,"fields":[{"displayName":"applicantInformation.formLabel.label12","logicalName":"dateOfDeparture","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","cssClass":"col-12 col-sm-6","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message16","value":true},"minValue":{"isActive":true,"message":"commonSections.messages.errorMessages.message22","type":"CURRENT","value":null,"params":[],"boundaryValue":"0"},"maxValue":{"isActive":true,"key":"mx_alwd_dt_of_departure","message":"applicantInformation.messages.errorMessages.message16","type":"SESSION","value":"mx_alwd_dt_of_departure","params":[{"type":"FUNCTION","key":"mx_alwd_dt_of_departure","value":"0"}],"boundaryValue":"0"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message28"},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableDateOfDeperature","type":"STATIC","value":"enableDateOfDeperature"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[],"displayInfo":{"visible":true,"value":null,"type":"FUNCTION","key":"getDisplayInfo"}}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":3},"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":11,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine1Disabled","type":"STATIC","value":"isAddressLine1Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":12,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isAddressLine2Disabled","type":"STATIC","value":"isAddressLine2Disabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":13,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"state","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z ]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isStateDisabled","type":"STATIC","value":"isStateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":14,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"city","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isCityDisabled","type":"STATIC","value":"isCityDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":3,"displayName":"header.headerLabel.label5","logicalName":"bookAppointment","routeUrl":"book-appointment","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":4,"displayName":"header.headerLabel.label6","logicalName":"services","routeUrl":"services","displayPosition":4,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":5,"displayName":"header.headerLabel.label14","logicalName":"postalInformation","routeUrl":"postal-information","displayPosition":5,"apis":{"online":[],"backoffice":[]},"controls":[{"row":1,"mandatory":false,"fields":[{"displayName":"postalInformation.formLabel.label8","logicalName":"courierType","defaultValueLookup":null,"defaultValueOptionSet":[],"readOnly":false,"placeholder":"commonSections.formLabel.label1","fieldType":"dropdown","validations":{"regex":null,"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/couriertype","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":1,"fields":[{"displayName":"postalInformation.formLabel.label2","logicalName":"addressline1","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label8","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":2,"fields":[{"displayName":"postalInformation.formLabel.label3","logicalName":"addressline2","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label12","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message22","value":false},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":false},{"row":3,"fields":[{"displayName":"postalInformation.formLabel.label4","logicalName":"state","defaultValueLookup":[],"readOnly":false,"fieldType":"dropdown","cssClass":"","optionsListApi":{"online":{"url":"/master/state","type":"GET","getParamsType":"slash","displayKey":"stateName","valueKey":"isoCode","params":[{"key":"countryCode","type":"SESSION","value":"countrycode","mandatory":true}]},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":4,"fields":[{"displayName":"postalInformation.formLabel.label5","logicalName":"city","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label13","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z ]*[a-zA-Z]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":5,"fields":[{"displayName":"postalInformation.formLabel.label6","logicalName":"countryCode","defaultValueLookup":[{"type":"STATIC","value":"USA"}],"readOnly":false,"fieldType":"dropdown","cssClass":"","hidden":false,"placeholder":"commonSections.formLabel.label1","validations":{"regex":null,"mandatory":{"message":"postalInformation.messages.errorMessages.message3","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"isInputDisabled":false,"disableOnValues":[],"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":6,"fields":[{"displayName":"postalInformation.formLabel.label1","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label1","validations":{"regex":{"message":"commonSections.messages.patternMessages.message21","value":"^[0-9]*$"},"mandatory":{"message":"commonSections.messages.patternMessages.message21","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message21","value":5},"minLength":{"message":"commonSections.messages.patternMessages.message21","value":5},"customError":[{"code":"invalidPostalCode","message":"commonSections.messages.patternMessages.message21"}],"invalid":""},"onChangeEvent":[{"functionName":"updateListenerTextField","params":[{"key":"addressLine1","type":"FORM_VALUE","value":"addressline1"},{"key":"addressLine2","type":"FORM_VALUE","value":"addressline2"},{"key":"city","type":"FORM_VALUE","value":"city"},{"key":"stateOrProvinceCode","type":"FORM_VALUE","value":"state"},{"key":"postalCode","type":"FORM_VALUE","value":"pincode"}],"url":"/cage/validateaddress","type":"POST"}],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":7,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null},"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}]}],"mandatory":false},{"row":8,"mandatory":false,"fields":[{"displayName":"Do you wish to select a federal HAL for your return courier from VFS?","logicalName":"isHALAddress","defaultValueLookup":null,"defaultValueOptionSet":[],"readOnly":false,"placeholder":"Please select Yes / No","fieldType":"dropdown","validations":{"regex":null,"mandatory":{"message":"commonSections.messages.requiredMessages.message1","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/courierhal","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":{}},"hidden":false,"onChangeEvent":[{"functionName":"updateListenercheckboxField","url":"","type":"POST"}],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["PPD"]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":9,"fields":[{"displayName":"Select radius for HAL","logicalName":"radiusCode","defaultValueLookup":[],"readOnly":false,"fieldType":"dropdown","cssClass":"","optionsListApi":{"online":{"URL":"","displayKey":"radiusname","valueKey":"radiusCode"},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[{"functionName":"AddHALAdressList","params":[{"key":"postalCode","type":"FORM_VALUE","value":"pincode"},{"key":"radiusCode","type":"FORM_VALUE","value":"radiusCode"}]}],"toggleDisableField":[],"toggleHideShow":[{"key":"isHALAddress","type":"FORM_VALUE","params":[],"value":[false]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":10,"fields":[{"displayName":"Select FEDEX HAL adress","logicalName":"hALaddressCode","defaultValueLookup":[],"readOnly":false,"fieldType":"dropdown","cssClass":"","accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label11","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"optionsListApi":{"online":{"URL":"","displayKey":"hALaddressName","valueKey":"hALaddressCode"},"backoffice":{}},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"isHALAddress","type":"FORM_VALUE","params":[],"value":[false]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":1,"fields":[{"displayName":"postalInformation.formLabel.label11","logicalName":"courierServiceProvider","defaultValueOptionSet":[],"readOnly":false,"fieldType":"dropdown","cssClass":"","hidden":false,"placeholder":"commonSections.formLabel.label1","validations":{"regex":null,"mandatory":{"message":"postalInformation.messages.errorMessages.message5","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"isInputDisabled":false,"disableOnValues":[],"optionsListApi":{"online":{"url":"/master/courierpartner","type":"GET","getParamsType":"slash","displayKey":"name","valueKey":"name","params":[{"key":"missionCode","type":"SESSION","value":"tenent","mandatory":true},{"key":"countryCode","type":"SESSION","value":"countrycode","mandatory":true}]},"backoffice":{}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":2,"fields":[{"displayName":"postalInformation.formLabel.label12","logicalName":"incomingAWBNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label3","validations":{"regex":{"message":"postalInformation.messages.errorMessages.message8","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"postalInformation.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":3,"fields":[{"displayName":"postalInformation.formLabel.label13","logicalName":"outgoingAWBNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"postalInformation.placeholder.label4","validations":{"regex":{"message":"postalInformation.messages.errorMessages.message9","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"postalInformation.messages.errorMessages.message7","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"courierType","type":"FORM_VALUE","params":[],"value":["VFSC"]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":7,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updatePostal","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updatePostal","url":"","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":6,"displayName":"header.headerLabel.label16","logicalName":"insurance","routeUrl":"insurance","displayPosition":6,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":7,"displayName":"header.headerLabel.label7","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":7,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"gss_Visa_Fee_Payment":{"tenent":"nld","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"gsspayvisafee","routeUrl":"gss-pay-visafee","displayPosition":1,"apis":{"online":{},"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"visafeePaymentMode","fieldType":"dropdown","hidden":false,"displayName":"gssvisafee.formLabel.label8","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"gssvisafee.placeholder.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"gssvisafee.formerrormsg.label4","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/usagsspaymentmode","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{}},"changeEmitterFields":[]}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"gss_document_submission":{"tenent":"nld","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"usagss.headerLabel.label8","logicalName":"gssPostalDetails","routeUrl":"gss-postal-details","displayPosition":1,"apis":{"online":[],"backoffice":[]},"controls":[{"row":1,"mandatory":false,"fields":[{"displayName":"usagss.formLabel.label8","logicalName":"pincode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label14","fieldType":"textbox","validations":{"regex":{"message":"commonSections.messages.patternMessages.message21","value":"^[0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message21","value":6},"minLength":{"message":"commonSections.messages.patternMessages.message21","value":6},"customError":[{"code":"invalidPostalCode","message":"commonSections.messages.patternMessages.message21"}],"invalid":""},"hidden":false,"onChangeEvent":[{"functionName":"updateListenerTextField","params":[{"key":"postalCode","type":"FORM_VALUE","value":"pincode"}],"url":"/courier/validatepostalcode","type":"POST"}],"toggleHideShow":[],"accessibility":{"domain":{"value":"online"},"eligibility":{}},"changeEmitterFields":[]}]},{"row":2,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label13","logicalName":"addressline1","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label8","fieldType":"textbox","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":50},"minLength":null,"invalid":""},"hidden":false,"onChangeEvent":[],"toggleHideShow":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":3,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label15","logicalName":"addressline2","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label12","fieldType":"textbox","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9,\'-][a-zA-Z0-9,\\\\s\'-]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message17","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":50},"minLength":null,"invalid":""},"hidden":false,"onChangeEvent":[],"toggleHideShow":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label17","logicalName":"city","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label13","fieldType":"textbox","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message21","value":"^[a-zA-Z][a-zA-Z\\\\s]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message24","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":20},"minLength":null,"invalid":""},"hidden":false,"onChangeEvent":[],"toggleHideShow":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":5,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label16","logicalName":"state","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label11","fieldType":"textbox","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message20","value":"^[a-zA-Z ]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message23","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":20},"minLength":null,"invalid":""},"hidden":false,"onChangeEvent":[],"toggleHideShow":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":6,"mandatory":false,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"","fieldType":"textbox","hidden":false,"onChangeEvent":[],"toggleHideShow":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"usagss.headerLabel.label7","logicalName":"gssYourDetails","routeUrl":"gss-your-details","displayPosition":2,"apis":{"online":[],"backoffice":[]},"controls":[{"row":1,"mandatory":false,"fields":[{"displayName":"gssYourDetails.formLabel.label1","logicalName":"URN","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"gssYourDetails.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"gssYourDetails.messages.errorMessages.message1","value":true},"regex":{},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"displayName":"gssYourDetails.formLabel.label2","logicalName":"FirstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"gssYourDetails.placeholder.label2","fieldType":"textbox","validations":{"mandatory":{"message":"gssYourDetails.messages.errorMessages.message2","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"gssYourDetails.messages.errorMessages.message4"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":3,"fields":[{"displayName":"gssYourDetails.formLabel.label3","logicalName":"LastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"gssYourDetails.messages.errorMessages.message3","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"gssYourDetails.messages.errorMessages.message5"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":4,"fields":[{"displayName":"gssYourDetails.formLabel.label4","logicalName":"PassportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"gssYourDetails.placeholder.label4","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"gssYourDetails.messages.errorMessages.message6","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"onChangeEvent":[{"functionName":"isChildValidation","params":null}],"toggleHideShow":[]}],"defaultValueOptionSet":null},{"row":5,"fields":[{"displayName":"gssYourDetails.formLabel.label7","logicalName":"DialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"gssYourDetails.messages.errorMessages.message8"},"mandatory":{"message":"gssYourDetails.messages.errorMessages.message9","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":3},"minLength":null},"onChangeEvent":[],"toggleHideShow":[],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"gssYourDetails.formLabel.label8","logicalName":"ContactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"gssYourDetails.placeholder.label6","validations":{"regex":{"message":"gssYourDetails.messages.errorMessages.message10","value":"^[0-9]+$"},"mandatory":{"message":"gssYourDetails.messages.errorMessages.message11","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"gssYourDetails.formLabel.label5","bundleName":"contact"},{"row":6,"fields":[{"displayName":"gssYourDetails.formLabel.label6","logicalName":"EmailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"gssYourDetails.placeholder.label7","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"gssYourDetails.messages.errorMessages.message12","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":8,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":3,"displayName":"usagss.headerLabel.label9","logicalName":"gssreviewpay","routeUrl":"gss-review-pay","displayPosition":3,"apis":{"online":[],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"docSubPaymentMode","fieldType":"dropdown","hidden":false,"displayName":"gssvisafee.formLabel.label8","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"gssvisafee.placeholder.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"gssvisafee.formerrormsg.label4","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/usagsspaymentmode","type":"GET","params":[],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{}},"changeEmitterFields":[]}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]},"schema_gbr_hmp":{"tenent":"hmp","dashboardTitle":"dashboard.headerLabel.label1","description":"LIFT","filter":{"module":{"key":"visaTypeId"},"field":{"key":"visaCategoryId"}},"modules":[{"id":1,"displayName":"header.headerLabel.label12","logicalName":"eligibilityCriteriaHmpo","routeUrl":"application-detail-hmpo","displayPosition":1,"apis":{"online":[{"url":"/application/get-eligibility","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"centerCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label1","defaultValueLookup":[{"type":"SESSION","value":"curr_app_cntr_code"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label1","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message1","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/center","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true}],"displayKey":"centerName","valueKey":"isoCode"},"backoffice":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"nationalityId"}},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":true,"fields":[{"readOnly":false,"logicalName":"selectedSubvisaCategory","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label2","defaultValueLookup":[{"type":"SESSION","value":"curr_app_visa_type"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label2","onChangeEvent":[],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"url":"/master/visacategory","type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true}],"displayKey":"name","valueKey":"code"},"backoffice":{}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"changeEmitterFields":[{"targetFieldLogicalName":"centerCode","functionName":"updateListenerDropdownField","params":["centerCode"]}]}]},{"row":3,"mandatory":false,"fields":[{"readOnly":false,"logicalName":"","fieldType":"hr","hidden":false,"displayName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"placeholder":"","onChangeEvent":[],"validations":{"regex":null,"mandatory":null,"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":null,"backoffice":null},"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":4,"fields":[{"readOnly":false,"logicalName":"visaCategoryCode","fieldType":"dropdown","hidden":false,"displayName":"eligibilityCriteria.formLabel.label3","defaultValueLookup":[{"type":"SESSION","value":"cur_app_visa_sub_category"}],"defaultValueOptionSet":null,"placeholder":"eligibilityCriteria.formLabel.label3","onChangeEvent":[{"functionName":"isSlotAvailiable","params":[]}],"validations":{"regex":null,"mandatory":{"message":"eligibilityCriteria.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null},"optionsListApi":{"online":{"type":"GET","params":[{"key":"mission","type":"SESSION","value":"tenent","mandatory":true},{"key":"countrycode","type":"SESSION","value":"countrycode","mandatory":true},{"key":"centerCode","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"visaCategoryCode","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true}],"url":"/master/subvisacategory","displayKey":"name","valueKey":"code"},"backoffice":{}},"changeEmitterFields":[{"targetFieldLogicalName":"selectedSubvisaCategory","functionName":"updateListenerDropdownField","params":["selectedSubvisaCategory"]}],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":5,"fields":[{"readOnly":true,"logicalName":"btnSaveAndContinue","fieldType":"button","hidden":false,"displayName":"commonSections.buttons.button19","defaultValueLookup":"","defaultValueOptionSet":[],"onChangeEvent":[],"placeholder":"","validations":{"regex":{"message":"","value":""},"mandatory":{"message":"","value":""},"minValue":null,"maxValue":{"message":"","value":""},"minLength":{"message":"","value":""},"validateDateTime":{"parentField":"","compareDateWith":"","compareTimeWith":"","comparisonType":"","message":""}},"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"mandatory":false,"titleText":"","subText1":"","subText2":"","disableOnValues":[],"toggleDisableField":[],"cssClass":"","onClickEvent":[{"functionName":"saveToSession","url":"","params":[{"key":"curr_app_cntr_code","type":"FORM_VALUE","value":"centerCode","mandatory":true},{"key":"curr_app_visa_type","type":"FORM_VALUE","value":"selectedSubvisaCategory","mandatory":true},{"key":"cur_app_visa_sub_category","type":"FORM_VALUE","value":"visaCategoryCode","mandatory":true}]},{"functionName":"saveAndContinue","url":"/application/submit-eligibility","params":[{"key":"routeId","type":"SESSION","value":"route_id","mandatory":true},{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":false},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":false},{"key":"documentIdentifierId","type":"SESSION","value":"document_identifier","mandatory":false}]}],"toggleHideShow":[]}],"mandatory":false}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}},{"id":2,"displayName":"header.headerLabel.label4","logicalName":"applicantInformation","routeUrl":"your-details","displayPosition":2,"apis":{"online":[{"url":"/applicant-details/get-applicant-details","type":"GET","name":"GET_MODULE_DATA","params":[{"key":"applicationAlphId","type":"SESSION","value":"applicant_alpha_id","mandatory":true},{"key":"applicantGroupAlphId","type":"SESSION","value":"applicant_grp_alpha_id","mandatory":true}],"event":"ONLOAD"}],"backoffice":[]},"controls":[{"row":1,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label23","logicalName":"nationalId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label17","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message40","value":true},"regex":{"value":"^[A-Za-z0-9]+$","message":"applicantInformation.messages.errorMessages.message41"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isnationalIdEnabled","type":"STATIC","value":"isnationalIdEnabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":2,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label24","logicalName":"VisaToken","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label18","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message42","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message43"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVisaTokenEnabled","type":"STATIC","value":"isVisaTokenEnabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":3,"fields":[{"displayName":"applicantInformation.formLabel.label36","logicalName":"referenceNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label26","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message66","key":"setRefNoValidation","type":"FUNCTION"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message65","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableReferenceNumber","type":"STATIC","value":"enableReferenceNumber"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":4,"fields":[{"displayName":"VLN Number","logicalName":"vlnNumber","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label16","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message32","type":"SESSION","value":"vln_regex"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message31","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"isVLNEnabled","type":"STATIC","value":"isVLNEnabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":5,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label1","logicalName":"firstName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label1","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message1","value":true},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message13"},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isFirstNameDisabled","type":"STATIC","value":"isFirstNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}]},{"row":6,"mandatory":false,"fields":[{"displayName":"applicantInformation.formLabel.label19","logicalName":"middleName","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label15","fieldType":"textbox","validations":{"mandatory":{"message":"applicantInformation.messages.errorMessages.message29","value":false},"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message30"},"minValue":null,"maxValue":null,"maxLength":null,"minLength":null,"invalid":""},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"","toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableMiddleName","type":"STATIC","value":"enableMiddleName"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}]},{"row":7,"fields":[{"displayName":"applicantInformation.formLabel.label2","logicalName":"lastName","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.messages.errorMessages.message2","fieldType":"textbox","validations":{"regex":{"value":"^[a-zA-Z][a-zA-Z ]+$","message":"applicantInformation.messages.errorMessages.message14"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message2","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1}},"hidden":false,"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isLastNameDisabled","type":"STATIC","value":"isLastNameDisabled"}]}],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":false},{"row":8,"fields":[{"displayName":"applicantInformation.formLabel.label3","logicalName":"gender","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{},"mandatory":{"message":"applicantInformation.messages.errorMessages.message3","value":true},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isGenderDisabled","type":"STATIC","value":"isGenderDisabled"}]}],"optionsListApi":{"online":{"url":"/master/gender","type":"GET","params":[],"displayKey":"langaugeName","valueKey":"id"},"backoffice":{"url":"/master/maritalStatus","type":"GET","params":[],"displayKey":"displayName","valueKey":"id"}}},{"displayName":"applicantInformation.formLabel.label4","logicalName":"dateOfBirth","defaultValueLookup":"","readOnly":false,"placeholder":"applicantInformation.placeholder.label4","fieldType":"datepicker","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message4","value":true},"minValue":null,"maxValue":{"isActive":false,"message":"applicantInformation.messages.errorMessages.message27","type":"CURRENT","value":null,"params":[],"boundaryValue":"-1"},"maxLength":null,"minLength":null,"invalid":"commonSections.messages.errorMessages.message21"},"changeEmitterFields":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isDOBDisabled","type":"STATIC","value":"isDOBDisabled"}]}],"hidden":false,"onChangeEvent":[],"isInputDisabled":true,"disableOnValues":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}}}],"mandatory":true},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label5","logicalName":"nationalityCode","defaultValueLookup":null,"readOnly":false,"placeholder":"applicantInformation.placeholder.label3","fieldType":"dropdown","validations":{"regex":{"value":"^[a-zA-Z0-9]+$","message":""},"mandatory":{"message":"applicantInformation.messages.errorMessages.message5","value":false},"minValue":null,"maxValue":null,"maxLength":{},"minLength":{}},"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isNationalitySetoptional","type":"STATIC","value":"isNationalitySetoptional"}]}],"hidden":false,"onChangeEvent":[],"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"defaultValueOptionSet":null,"optionsListApi":{"online":{"url":"/master/nationality","type":"GET","params":[],"displayKey":"nationalityName","valueKey":"isoCode"},"backoffice":{"url":"/master/residency","type":"GET","params":[],"displayKey":"name","valueKey":"id"}}}],"mandatory":false},{"row":10,"fields":[{"displayName":"applicantInformation.formLabel.label6","logicalName":"passportNumber","defaultValueLookup":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label5","validations":{"regex":{"value":"^[a-zA-Z0-9][a-zA-Z0-9]+$","message":"commonSections.messages.patternMessages.message29"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message6","value":false},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message22","value":30},"minLength":{"message":"commonSections.messages.patternMessages.message23","value":1},"customError":[{"code":"passportNoMissmatchTest","message":"applicantInformation.messages.errorMessages.message44"}]},"onChangeEvent":[{"functionName":"","params":null}],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportNoDisabled","type":"STATIC","value":"isPassportNoDisabled"}]}],"defaultValueOptionSet":null},{"displayName":"applicantInformation.formLabel.label7","logicalName":"passportExpirtyDate","defaultValueLookup":"","readOnly":false,"fieldType":"datepicker","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label4","validations":{"regex":null,"mandatory":{"message":"applicantInformation.messages.errorMessages.message7","value":false},"maxValue":null,"minValue":{"isActive":false,"message":"commonSections.messages.errorMessages.message15","type":"CURRENT","value":null,"params":[],"boundaryValue":"1"},"maxLength":null,"minLength":null,"invalid":"applicantInformation.messages.errorMessages.message7","customError":[{"code":"passportExpiryMissmatchTest","message":"applicantInformation.messages.errorMessages.message45"}]},"onChangeEvent":[{"functionName":"","params":null}],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPassportExpiryDateDisabled","type":"STATIC","value":"isPassportExpiryDateDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":true,"disableOnValues":[]}],"mandatory":false},{"row":8,"fields":[{"displayName":"","logicalName":"","defaultValueLookup":[],"defaultValueOptionSet":null,"readOnly":false,"fieldType":"hr","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"","validations":{"regex":null,"mandatory":null,"maxValue":null,"minValue":null,"maxLength":null,"minLength":null},"onChangeEvent":[],"optionsListApi":{"online":null,"backoffice":null}}],"mandatory":false},{"row":9,"fields":[{"displayName":"applicantInformation.formLabel.label10","logicalName":"dialCode","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"textbox","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"44","validations":{"regex":{"value":"^[0-9]+$","message":"applicantInformation.messages.errorMessages.message11"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message8","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":3},"minLength":null},"onChangeEvent":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}],"optionsListApi":{"online":{},"backoffice":{}}},{"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"input","displayName":"applicantInformation.formLabel.label11","logicalName":"contactNumber","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"onChangeEvent":[],"placeholder":"applicantInformation.placeholder.label7","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message12","value":"^[0-9]+$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message9","value":true},"minValue":null,"maxValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message25","value":15},"minLength":{"message":"commonSections.messages.patternMessages.message27","value":7}},"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isContactNoDisabled","type":"STATIC","value":"isContactNoDisabled"}]}]}],"mandatory":true,"bundleLabel":"applicantInformation.formLabel.label8","bundleName":"contact"},{"row":10,"fields":[{"displayName":"applicantInformation.formLabel.label9","logicalName":"emailId","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"email","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label6","validations":{"regex":{"value":"^([a-zA-Z0-9_\\\\-\\\\.]+)@([a-zA-Z0-9_\\\\-\\\\.]+)\\\\.([a-zA-Z]{2,5})$","message":"commonSections.messages.patternMessages.message1"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message10","value":true},"maxValue":null,"minValue":null,"maxLength":{"message":"commonSections.messages.patternMessages.message24","value":50},"minLength":{"message":"commonSections.messages.patternMessages.message26","value":4}},"onChangeEvent":[]}],"mandatory":false,"bundleLabel":null,"bundleName":null},{"row":15,"fields":[{"displayName":"applicantInformation.formLabel.label18","logicalName":"pincode","defaultValueLookup":"","readOnly":false,"fieldType":"textbox","cssClass":"","hidden":false,"accessibility":{"domain":{"value":"ALL"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"placeholder":"applicantInformation.placeholder.label14","validations":{"regex":{"message":"applicantInformation.messages.errorMessages.message26","value":"^[a-zA-Z0-9]*$"},"mandatory":{"message":"applicantInformation.messages.errorMessages.message25","value":true},"maxValue":null,"minValue":null,"maxLength":null,"minLength":null,"invalid":""},"onChangeEvent":[],"toggleDisableField":[],"toggleHideShow":[{"key":"hideShowAsPerConfig","type":"FUNCTION","value":true,"params":[{"key":"enableCourierAddress","type":"STATIC","value":"enableCourierAddress"}]},{"key":"hideShowAsPerConfig","type":"FUNCTION","value":false,"params":[{"key":"isPinCodeDisabled","type":"STATIC","value":"isPinCodeDisabled"}]}],"changeEmitterFields":[],"isInputDisabled":false,"disableOnValues":[]}],"mandatory":true},{"row":16,"fields":[{"displayName":"commonSections.buttons.button3","logicalName":"goBack","defaultValueLookup":null,"defaultValueOptionSet":null,"readOnly":false,"fieldType":"button","hidden":false,"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"cssClass":"btn mat-btn-lg btn-block btn-outline-brand-orange","onClickEvent":[{"functionName":"routePrevious","params":[]}],"matDirective":"mat-stroked-button"},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button16","logicalName":"saveAndContinue","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"saveAndContinue","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":true,"params":[]}]},{"accessibility":{"domain":{"value":"online"},"eligibility":{"key":"visaCategoryId","value":"ALL"}},"fieldType":"button","displayName":"commonSections.buttons.button36","logicalName":"updateApplicant","defaultValueLookup":null,"defaultValueOptionSet":null,"hidden":false,"readOnly":false,"cssClass":"btn mat-btn-lg btn-block btn-brand-orange","onClickEvent":[{"functionName":"updateApplicant","url":"/appointment/applicants","params":[]}],"matDirective":"mat-raised-button","toggleHideShow":[{"key":"isEditMode","type":"FUNCTION","value":false,"params":[]}]}],"mandatory":false,"bundleLabel":null,"bundleName":"multi-button"}],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"ALL"}}},{"id":6,"displayName":"header.headerLabel.label18","logicalName":"disclaimer","routeUrl":"review-pay","displayPosition":6,"apis":{"online":[],"backoffice":[]},"controls":[],"formLayoutType":{"online":"type-1","backoffice":"type-4"},"accessibility":{"domain":{"value":"online"}}}]}}');let S2=(()=>{class i{constructor(){}intercept(t,o){const{url:n,method:l}=t;return(0,In.of)(null).pipe((0,b2.zg)(function _(){switch(!0){case n.endsWith(p.gT.schema.onBoarding)&&"GET"===l:return function I(){return Te(Rt.onBoarding)}();case n.endsWith(p.gT.schema.forgotPassword)&&"GET"===l:return function T(){return Te(Rt.forgotPassword)}();case n.endsWith(p.gT.schema.login)&&"GET"===l:return function S(){return Te(Rt.login)}();case n.endsWith(p.gT.schema.postLogin)&&"GET"===l:return function h(){return Te(Rt[p.gT.SCHEMA.DEFAULT])}();case n.match(p.gT.api.documentUpload)&&"POST"===l:return function _e(){return Te({status:200,message:"success"})}();case n.endsWith(p.gT.data.passportDetails)&&"GET"===l:return function R(){return Te(Ne.passportDetailsData)}();case n.endsWith("country-code")&&"GET"===l:return function ie(){return Te(Ne.countryCodes)}();case n.endsWith("salutations")&&"GET"===l:return function pe(){return Te(Ne.salutations)}();case n.endsWith("passport-type")&&"GET"===l:return function De(){return Te(Ne.passportType)}();case n.endsWith("place-of-issue")&&"GET"===l:return function ze(){return Te(Ne.placeOfIssue)}();case n.endsWith("country-of-issue")&&"GET"===l:return function we(){return Te(Ne.countryOfIssue)}();case n.endsWith("province")&&"GET"===l:return function St(){return Te(Ne.province)}();case n.endsWith("accomodation")&&"GET"===l:return function ei(){return Te([])}();case n.endsWith("district")&&"GET"===l:return function fo(){return Te(Ne.otherDistricts)}();case n.endsWith("subDistrict")&&"GET"===l:return function Ai(){return Te([])}();case n.endsWith("district/1")&&"GET"===l:return function vo(){return Te(Ne.otherDistricts)}();case n.endsWith("district/2")&&"GET"===l:return function pt(){return Te(Ne.angThongDistricts)}();case n.endsWith("fingerPrintCollected")&&"GET"===l:return function Co(){return Te(Ne.yesNoValue)}();case n.endsWith(p.gT.schema.gssDocumentSubmission)&&"GET"===l:return function Ao(){return Te(Rt.gss_document_submission)}();case n.endsWith(p.gT.schema.gssVisaFeePayment)&&"GET"===l:return function To(){return Te(Rt.gss_Visa_Fee_Payment)}();default:return o.handle(t)}})).pipe((0,C2.i)()).pipe((0,A2.g)(500)).pipe((0,T2.D)());function Te(Jt){return(0,In.of)(new vt.Zn({status:200,body:Jt}))}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const x2={provide:vt.TP,useClass:S2,multi:!0},L2={apiEndPoint:re.N.apiEndPoint,applicationType:re.N.applicationType,getParamsType:re.N.getParamsType},I2=Object.assign(Object.assign({},Ut.mQ),{numeric_keyboard:{name:"Awesome layout",keys:[[["1"],["2"],["3"]],[["4"],["5"],["6"]],[["7"],["8"],["9"]],[[Ut.tu.Bksp],["0"],[Ut.tu.Enter]]],lang:["de-CH"]}});ro.z1U.registerPlugins([h2.ZP,y2.ZP]);let Z2=(()=>{class i{constructor(t){p2.z.setInjector(t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(e.zs3))},i.\u0275mod=e.oAB({type:i,bootstrap:[s2]}),i.\u0275inj=e.cJS({providers:[x2,{provide:vt.TP,useClass:_2,multi:!0},{provide:e.ip1,useFactory:s=>()=>s.getMissionLanguage(),deps:[Ye.a],multi:!0},{provide:te.Ad,useValue:"en-GB"},{provide:Ut._p,useValue:I2},w.uU],imports:[[k.b2,r.u5,r.UX,L0,Cn.rT,Cn.PW,vt.JF,J.IJ,D.aw.forRoot({loader:{provide:D.Zw,useClass:po,deps:[vt.eN]}}),Et.Yi,d2,wt.cD,_o.Js.forRoot(f2),_o.Cz.forRoot({showForeground:!0}),v2.h.forRoot(),ue.fd.forRoot(L2),ro.z1U,Ut.IN,hi.f9.forRoot({level:hi._z.ERROR,serverLogLevel:re.N.serverLogLevel,disableConsoleLogging:re.N.disableConsoleLogging})]]}),i})();re.N.production&&((0,e.G48)(),window&&(window.console.log=window.console.warn=window.console.info=window.console.error=()=>{})),k.q6().bootstrapModule(Z2).catch(i=>console.error(i))},6700:(Se,fe,A)=>{var k={"./af":7088,"./af.js":7088,"./ar":7038,"./ar-dz":2502,"./ar-dz.js":2502,"./ar-kw":128,"./ar-kw.js":128,"./ar-ly":4519,"./ar-ly.js":4519,"./ar-ma":5443,"./ar-ma.js":5443,"./ar-sa":7642,"./ar-sa.js":7642,"./ar-tn":8592,"./ar-tn.js":8592,"./ar.js":7038,"./az":1213,"./az.js":1213,"./be":9191,"./be.js":9191,"./bg":322,"./bg.js":322,"./bm":8042,"./bm.js":8042,"./bn":9620,"./bn-bd":5903,"./bn-bd.js":5903,"./bn.js":9620,"./bo":9645,"./bo.js":9645,"./br":5020,"./br.js":5020,"./bs":4792,"./bs.js":4792,"./ca":7980,"./ca.js":7980,"./cs":7322,"./cs.js":7322,"./cv":365,"./cv.js":365,"./cy":2092,"./cy.js":2092,"./da":7387,"./da.js":7387,"./de":4307,"./de-at":9459,"./de-at.js":9459,"./de-ch":3694,"./de-ch.js":3694,"./de.js":4307,"./dv":9659,"./dv.js":9659,"./el":3460,"./el.js":3460,"./en-au":4369,"./en-au.js":4369,"./en-ca":530,"./en-ca.js":530,"./en-gb":9998,"./en-gb.js":9998,"./en-ie":3391,"./en-ie.js":3391,"./en-il":5414,"./en-il.js":5414,"./en-in":9615,"./en-in.js":9615,"./en-nz":1248,"./en-nz.js":1248,"./en-sg":3767,"./en-sg.js":3767,"./eo":4530,"./eo.js":4530,"./es":6866,"./es-do":8944,"./es-do.js":8944,"./es-mx":9116,"./es-mx.js":9116,"./es-us":3609,"./es-us.js":3609,"./es.js":6866,"./et":6725,"./et.js":6725,"./eu":7931,"./eu.js":7931,"./fa":6417,"./fa.js":6417,"./fi":944,"./fi.js":944,"./fil":1766,"./fil.js":1766,"./fo":5867,"./fo.js":5867,"./fr":1636,"./fr-ca":6848,"./fr-ca.js":6848,"./fr-ch":7773,"./fr-ch.js":7773,"./fr.js":1636,"./fy":4940,"./fy.js":4940,"./ga":1402,"./ga.js":1402,"./gd":6924,"./gd.js":6924,"./gl":6398,"./gl.js":6398,"./gom-deva":2457,"./gom-deva.js":2457,"./gom-latn":2545,"./gom-latn.js":2545,"./gu":2641,"./gu.js":2641,"./he":7536,"./he.js":7536,"./hi":6335,"./hi.js":6335,"./hr":7458,"./hr.js":7458,"./hu":6540,"./hu.js":6540,"./hy-am":3165,"./hy-am.js":3165,"./id":8780,"./id.js":8780,"./is":4205,"./is.js":4205,"./it":4211,"./it-ch":9985,"./it-ch.js":9985,"./it.js":4211,"./ja":1003,"./ja.js":1003,"./jv":420,"./jv.js":420,"./ka":851,"./ka.js":851,"./kk":6074,"./kk.js":6074,"./km":3343,"./km.js":3343,"./kn":4799,"./kn.js":4799,"./ko":3549,"./ko.js":3549,"./ku":1037,"./ku.js":1037,"./ky":3125,"./ky.js":3125,"./lb":9586,"./lb.js":9586,"./lo":2349,"./lo.js":2349,"./lt":2400,"./lt.js":2400,"./lv":9991,"./lv.js":9991,"./me":8477,"./me.js":8477,"./mi":5118,"./mi.js":5118,"./mk":5943,"./mk.js":5943,"./ml":3849,"./ml.js":3849,"./mn":1977,"./mn.js":1977,"./mr":6184,"./mr.js":6184,"./ms":485,"./ms-my":4524,"./ms-my.js":4524,"./ms.js":485,"./mt":6681,"./mt.js":6681,"./my":2024,"./my.js":2024,"./nb":2688,"./nb.js":2688,"./ne":8914,"./ne.js":8914,"./nl":1758,"./nl-be":2272,"./nl-be.js":2272,"./nl.js":1758,"./nn":1510,"./nn.js":1510,"./oc-lnc":2797,"./oc-lnc.js":2797,"./pa-in":7944,"./pa-in.js":7944,"./pl":1605,"./pl.js":1605,"./pt":4225,"./pt-br":3840,"./pt-br.js":3840,"./pt.js":4225,"./ro":5128,"./ro.js":5128,"./ru":5127,"./ru.js":5127,"./sd":2525,"./sd.js":2525,"./se":9893,"./se.js":9893,"./si":3123,"./si.js":3123,"./sk":9635,"./sk.js":9635,"./sl":8106,"./sl.js":8106,"./sq":8799,"./sq.js":8799,"./sr":7954,"./sr-cyrl":2872,"./sr-cyrl.js":2872,"./sr.js":7954,"./ss":6167,"./ss.js":6167,"./sv":9713,"./sv.js":9713,"./sw":1982,"./sw.js":1982,"./ta":2732,"./ta.js":2732,"./te":3636,"./te.js":3636,"./tet":2115,"./tet.js":2115,"./tg":9801,"./tg.js":9801,"./th":2868,"./th.js":2868,"./tk":1310,"./tk.js":1310,"./tl-ph":2360,"./tl-ph.js":2360,"./tlh":6645,"./tlh.js":6645,"./tr":8374,"./tr.js":8374,"./tzl":256,"./tzl.js":256,"./tzm":1595,"./tzm-latn":1631,"./tzm-latn.js":1631,"./tzm.js":1595,"./ug-cn":6050,"./ug-cn.js":6050,"./uk":5610,"./uk.js":5610,"./ur":6077,"./ur.js":6077,"./uz":2862,"./uz-latn":2207,"./uz-latn.js":2207,"./uz.js":2862,"./vi":8093,"./vi.js":8093,"./x-pseudo":5590,"./x-pseudo.js":5590,"./yo":9058,"./yo.js":9058,"./zh-cn":7908,"./zh-cn.js":7908,"./zh-hk":8867,"./zh-hk.js":8867,"./zh-mo":1133,"./zh-mo.js":1133,"./zh-tw":3291,"./zh-tw.js":3291};function e(B){var v=r(B);return A(v)}function r(B){if(!A.o(k,B)){var v=new Error("Cannot find module '"+B+"'");throw v.code="MODULE_NOT_FOUND",v}return k[B]}e.keys=function(){return Object.keys(k)},e.resolve=r,Se.exports=e,e.id=6700},9086:()=>{},2480:()=>{},5819:()=>{},4654:()=>{},4147:Se=>{"use strict";Se.exports={i8:"6.0.58"}}},Se=>{Se.O(0,[736],()=>Se(Se.s=3420)),Se.O()}]);