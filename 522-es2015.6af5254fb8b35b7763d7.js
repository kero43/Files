(self.webpackChunklandrick_angular=self.webpackChunklandrick_angular||[]).push([[522],{6522:function(t,e,i){"use strict";i.r(e),i.d(e,{AppointmentModule:function(){return Be}});var n=i(40098),s=i(10384),o=i(58348),a=i(91111);let r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-appointment-exists"]],decls:19,vars:12,consts:[[1,"section","bg-home","d-flex","align-items-center"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-8","col-md-12","text-center"],["src","assets/images/illustrator/app.svg","alt","",1,"img-fluid",2,"max-height","30rem"],[1,"text-dark","mb-4","error-page"],[1,"text-muted","para-desc","mx-auto"],[1,"row"],[1,"col-md-12","text-center"],["routerLink","/profile/appointment",1,"btn","btn-outline-primary","mt-4"],["routerLink","/",1,"btn","btn-primary","mt-4","ms-2"]],template:function(t,e){1&t&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o.TgZ(5,"div",5),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"p",6),o._uU(9),o.ALo(10,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(11,"div",7),o.TgZ(12,"div",8),o.TgZ(13,"a",9),o._uU(14),o.ALo(15,"translate"),o.qZA(),o.TgZ(16,"a",10),o._uU(17),o.ALo(18,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(6),o.hij(" ",o.lcZ(7,4,"APPOINTMENT.EXISTS.SIMPLE")," "),o.xp6(3),o.hij(" ",o.lcZ(10,6,"APPOINTMENT.EXISTS.DESCRIPTION")," "),o.xp6(5),o.hij(" ",o.lcZ(15,8,"APPOINTMENT.EDIT")," "),o.xp6(3),o.hij(" ",o.lcZ(18,10,"SUCCESS.HOME")," "))},directives:[s.yS],pipes:[a.X$],styles:[""]}),t})(),l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-appointment-success"]],decls:27,vars:21,consts:[[1,"section","bg-home","d-flex","align-items-center"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-8","col-md-12","text-center"],["src","assets/images/illustrator/appointment.svg","alt","",1,"img-fluid",2,"max-height","30rem"],[1,"text-uppercase","mt-4"],[1,"text-dark","mb-4","error-page"],[1,"text-muted","para-desc","mx-auto"],[1,"text-primary","fw-bold"],[1,"row"],[1,"col-md-12","text-center"],["routerLink","/profile/appointment",1,"btn","btn-outline-primary","mt-4"],["routerLink","/",1,"btn","btn-primary","mt-4","ms-2"]],template:function(t,e){1&t&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o._UZ(4,"img",4),o.TgZ(5,"h2",5),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"div",6),o._uU(9),o.ALo(10,"translate"),o.qZA(),o.TgZ(11,"p",7),o._uU(12),o.ALo(13,"translate"),o.TgZ(14,"span",8),o._uU(15),o.ALo(16,"translate"),o.qZA(),o._uU(17),o.ALo(18,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"div",9),o.TgZ(20,"div",10),o.TgZ(21,"a",11),o._uU(22),o.ALo(23,"translate"),o.qZA(),o.TgZ(24,"a",12),o._uU(25),o.ALo(26,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(6),o.hij(" ",o.lcZ(7,7,"SUCCESS.SIMPLE")," "),o.xp6(3),o.hij(" ",o.lcZ(10,9,"SUCCESS.MSG")," "),o.xp6(3),o.hij(" ",o.lcZ(13,11,"SUCCESS.VERIF")," "),o.xp6(3),o.hij(" ",o.lcZ(16,13,"SUCCESS.MAIL")," "),o.xp6(2),o.hij("",o.lcZ(18,15,"SUCCESS.TXT")," "),o.xp6(5),o.hij(" ",o.lcZ(23,17,"APPOINTMENT.EDIT")," "),o.xp6(3),o.hij(" ",o.lcZ(26,19,"SUCCESS.HOME")," "))},directives:[s.yS],pipes:[a.X$],styles:[""]}),t})();var c=i(71935);class p{}var d=i(75472),g=i(73115);let u=(()=>{class t{constructor(t){this.httpClient=t,this.POST_URL=g.N.serverIP+"/api/uploadPassportImage/",this.HttpUploadOptions={headers:new d.WM({"Content-Type":"multipart/form-data"})}}upload(t){let e=new FormData;e.append("file",t);const i=new d.aW("POST",this.POST_URL,e,{reportProgress:!0,responseType:"json"});return this.httpClient.request(i)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(d.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=i(8114),m=i(70661),f=i(19061),Z=i(25139),A=i(13997),T=i(49842),v=i(62011),y=i(98987);const x=["fileUploader"],b=["dialog"];function C(t,e){1&t&&(o.TgZ(0,"div",42),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&t&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"APPOINTMENT.WARN_NAME")," "))}function S(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.qZA()),2&t&&(o.xp6(1),o.AsE(" ",o.lcZ(2,2,"PERSON.LAST")," ",o.lcZ(3,4,"ISREQ"),""))}function q(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.ALo(4,"translate"),o.qZA()),2&t&&(o.xp6(1),o.lnq(" ",o.lcZ(2,3,"PERSON.LAST")," ",o.lcZ(3,5,"MUST")," 3 ",o.lcZ(4,7,"CHAR"),"."))}function M(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&t&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"CYRILLIC")," "))}function E(t,e){if(1&t&&(o.TgZ(0,"div",43),o.YNc(1,S,4,6,"small",44),o.YNc(2,q,5,9,"small",44),o.YNc(3,M,3,3,"small",44),o.qZA()),2&t){o.oxw();const t=o.MAs(16);o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.forbiddenCharacters)}}function I(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.qZA()),2&t&&(o.xp6(1),o.AsE(" ",o.lcZ(2,2,"PERSON.FIRST")," ",o.lcZ(3,4,"ISREQ"),""))}function w(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.ALo(4,"translate"),o.qZA()),2&t&&(o.xp6(1),o.lnq(" ",o.lcZ(2,3,"PERSON.FIRST")," ",o.lcZ(3,5,"MUST")," 3 ",o.lcZ(4,7,"CHAR"),"."))}function N(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&t&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"CYRILLIC")," "))}function P(t,e){if(1&t&&(o.TgZ(0,"div",43),o.YNc(1,I,4,6,"small",44),o.YNc(2,w,5,9,"small",44),o.YNc(3,N,3,3,"small",44),o.qZA()),2&t){o.oxw();const t=o.MAs(28);o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.minlength),o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.forbiddenCharacters)}}function L(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.qZA()),2&t&&(o.xp6(1),o.AsE(" ",o.lcZ(2,2,"PERSON.BIRTH_DATE")," ",o.lcZ(3,4,"ISREQ"),""))}function O(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.ALo(4,"translate"),o.qZA()),2&t&&(o.xp6(1),o.lnq(" ",o.lcZ(2,3,"PERSON.BIRTH_DATE")," ",o.lcZ(3,5,"MUST")," 8 ",o.lcZ(4,7,"CHAR"),"."))}function _(t,e){if(1&t&&(o.TgZ(0,"div",43),o.YNc(1,L,4,6,"small",44),o.YNc(2,O,5,9,"small",44),o.qZA()),2&t){o.oxw();const t=o.MAs(41);o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function k(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.qZA()),2&t&&(o.xp6(1),o.AsE(" ",o.lcZ(2,2,"PERSON.DOC_NUM")," ",o.lcZ(3,4,"ISREQ"),""))}function D(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.ALo(4,"translate"),o.qZA()),2&t&&(o.xp6(1),o.lnq(" ",o.lcZ(2,3,"PERSON.DOC_NUM")," ",o.lcZ(3,5,"MUST")," 4 ",o.lcZ(4,7,"CHAR"),"."))}function U(t,e){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,k,4,6,"small",44),o.YNc(2,D,5,9,"small",44),o.qZA()),2&t){o.oxw();const t=o.MAs(53);o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function J(t,e){1&t&&(o.TgZ(0,"small",46),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.qZA()),2&t&&(o.xp6(1),o.AsE(" ",o.lcZ(2,2,"PERSON.DOC_NUM")," ",o.lcZ(3,4,"INUSE"),""))}function R(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.qZA()),2&t&&(o.xp6(1),o.AsE(" ",o.lcZ(2,2,"PERSON.EMAIL")," ",o.lcZ(3,4,"ISREQ"),""))}function Y(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.ALo(4,"translate"),o.qZA()),2&t&&(o.xp6(1),o.lnq(" ",o.lcZ(2,3,"PERSON.EMAIL")," ",o.lcZ(3,5,"MUST")," 8 ",o.lcZ(4,7,"CHAR"),"."))}function Q(t,e){if(1&t&&(o.TgZ(0,"div",43),o.YNc(1,R,4,6,"small",44),o.YNc(2,Y,5,9,"small",44),o.qZA()),2&t){o.oxw();const t=o.MAs(67);o.xp6(1),o.Q6J("ngIf",(null==t.errors?null:t.errors.required)||(null==t.errors?null:t.errors.email)),o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function F(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.qZA()),2&t&&(o.xp6(1),o.AsE(" ",o.lcZ(2,2,"PERSON.PHONE")," ",o.lcZ(3,4,"ISREQ"),""))}function V(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.ALo(4,"translate"),o.qZA()),2&t&&(o.xp6(1),o.lnq(" ",o.lcZ(2,3,"PERSON.PHONE")," ",o.lcZ(3,5,"MUST")," 12 ",o.lcZ(4,7,"CHAR"),"."))}function H(t,e){if(1&t&&(o.TgZ(0,"div",43),o.YNc(1,F,4,6,"small",44),o.YNc(2,V,5,9,"small",44),o.qZA()),2&t){o.oxw();const t=o.MAs(78);o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function j(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.qZA()),2&t&&(o.xp6(1),o.AsE(" ",o.lcZ(2,2,"PERSON.EXPECTED_TRAVEL_DATE")," ",o.lcZ(3,4,"ISREQ"),""))}function B(t,e){1&t&&(o.TgZ(0,"small",45),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.ALo(4,"translate"),o.qZA()),2&t&&(o.xp6(1),o.lnq(" ",o.lcZ(2,3,"PERSON.BIRTH_DATE")," ",o.lcZ(3,5,"MUST")," 8 ",o.lcZ(4,7,"CHAR"),"."))}function G(t,e){if(1&t&&(o.TgZ(0,"div",43),o.YNc(1,j,4,6,"small",44),o.YNc(2,B,5,9,"small",44),o.qZA()),2&t){o.oxw();const t=o.MAs(90);o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.required),o.xp6(1),o.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function $(t,e){if(1&t&&o._UZ(0,"img",47),2&t){const t=o.oxw();o.Q6J("src",t.selectedImage,o.LSH)}}function X(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"p-button",48),o.NdJ("click",function(){return o.CHM(t),o.oxw().uploadFiles()}),o.ALo(1,"titlecase"),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"p-button",49),o.NdJ("click",function(){return o.CHM(t),o.oxw().closeDialog()}),o.ALo(4,"titlecase"),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"div",6),o.TgZ(7,"div",37),o._UZ(8,"p-messages",38),o.qZA(),o.qZA()}2&t&&(o.s9C("label",o.lcZ(1,2,o.lcZ(2,4,"Upload"))),o.xp6(3),o.s9C("label",o.lcZ(4,6,o.lcZ(5,8,"CLOSE"))))}const z=function(){return{"max-width":"65%"}};let W=(()=>{class t{constructor(t,e,i,n){this.passportImageService=t,this.folderService=e,this.messageService=i,this.translate=n,this.person=new c.F,this.pdfFormValid=!1,this.today=new Date,this.tel="+20 ",this.uploadedFiles=[],this.validPass=!0,this.uploading=!0,this.displayDialog=!1,this.selectedImageUrl="",this.groupChange=new o.vpe,this.personEmitter=new o.vpe,this.validityEmitter=new o.vpe}ngOnInit(){this.emitPerson(),this.emitValidity(),this.group.folders.forEach(t=>{t.person||(t.person=new c.F),t.person.passportImage||(t.person.passportImage=new p,t.person.passportImage.id=null,t.person.passportImage.name="1",t.person.passportImage.path="1")})}checkValid(t){this.pdfFormValid=t.form.valid,this.emitValidity(),this.emitPerson()}emitPerson(){this.personEmitter.emit(this.person)}alphaNumberOnly(t){var e=new RegExp("^[a-zA-Z0-9 ]+$"),i=String.fromCharCode(t.charCode?t.charCode:t.which);return!!e.test(i)||(t.preventDefault(),!1)}emitValidity(){this.validityEmitter.emit(this.pdfFormValid)}formatPhone(){let t=this.tel.substring(3).replace(/[^0-9.]/g,"");this.tel="+20 "+t.substring(0,3)+" "+t.substring(3),this.person.phone="20"+this.tel.replace(/[^0-9.]/g,"")}SurnameOnlyNumbersAndLetters(t){return t&&(t.substring(3).replace(/[^A-Z\s]/g,""),this.person.surname=t.replace(/[^A-Z\s]/g,"")),this.person.surname.replace(/[^A-Z\s]/g,"")}NameOnlyNumbersAndLetters(t){return t&&(t.substring(3).replace(/[^A-Z\s]/g,""),this.person.name=t.replace(/[^A-Z\s]/g,"")),this.person.name.replace(/[^A-Z\s]/g,"")}PassportOnlyNumbersAndLetters(t){t&&(t.substring(5).replace(/[^A-Z0-9]/g,""),this.group.folders[this.index].person.passport=t.replace(/[^A-Z0-9]/g,""))}checkPassport(t){this.folderService.getFoldersBystatusAndPassport(t).subscribe(t=>{if(this.validPass=t,this.sendToAdd(),!this.testingpassport())return this.showMessage("error",this.translate.instant("DUPLICATED_PASSPORT1"),this.translate.instant("DUPLICATED_PASSPORT2")),!1;this.messageService.clear()})}showMessage(t,e,i){this.messageService.add({severity:t,summary:e,detail:i})}sendToAdd(){return this.passtoAdd=this.validPass,this.passtoAdd&&this.testingpassport()}testingpassport(){let t=!0;if(this.group.folders.length>1){const e=this.group.folders[this.index].person.passport;for(let i=0;i<this.group.folders.length;i++)if(i!=this.index&&this.group.folders[i].person.passport==e){t=!1;break}}return t}onFileSelect(t){const e=t.files[0];if(e){this.displayDialog=!0;const t=new FileReader;t.onload=t=>{this.selectedImage=t.target.result},t.readAsDataURL(e)}}closeDialog(){this.displayDialog=!1}uploadFiles(t){const e=this.uploader.files[0];this.uploader.clear(),this.messageService.add({severity:"warn",summary:"Please Wait",life:3e4}),this.uploading=!1,console.log("isFileUploadDisabled =",this.uploading),this.passportImageService.upload(e).subscribe(t=>{4===t.type&&(this.group.folders[0].person.passportImage.id=t.body,this.uploadedFiles.push(e),this.messageService.clear(),this.messageService.add({severity:"success",summary:"Upload successful",detail:`${e.name} - ${e.size} bytes`,life:3e6}))},t=>{this.messageService.clear(),this.messageService.add({severity:"error",summary:"Upload failed",detail:t.message,life:3e3}),setTimeout(()=>{this.messageService.clear()},2e3)}),this.displayDialog=!1}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(u),o.Y36(h.s),o.Y36(m.ez),o.Y36(a.sK))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-no-form"]],viewQuery:function(t,e){if(1&t&&(o.Gf(x,5),o.Gf(b,5)),2&t){let t;o.iGM(t=o.CRH())&&(e.uploader=t.first),o.iGM(t=o.CRH())&&(e.dialog=t.first)}},inputs:{group:"group",index:"index"},outputs:{groupChange:"groupChange",personEmitter:"personEmitter",validityEmitter:"validityEmitter"},decls:110,vars:71,consts:[[1,"margin-auto","w-form"],["personPDF","ngForm"],[1,"bg-light","component-wrapper","rounded","shadow"],[1,"p-4"],["severity","warn"],["pTemplate",""],[1,"row"],[1,"col-md-6"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["ngModelGroup","surname",1,"form-icon","position-relative"],["oninput","this.value = this.value.toUpperCase()","name","surname","id","surname","type","text","required","","maxlength","15","minlength","3","forbidCyrillic","",1,"form-control","ps-5",3,"ngModel","placeholder","input","ngModelChange","keyup","change"],["surname","ngModel"],["class","alert",4,"ngIf"],["ngModelGroup","name",1,"form-icon","position-relative"],["oninput","this.value = this.value.toUpperCase()","name","name","id","name","type","text","required","","minlength","3","maxlength","15","forbidCyrillic","",1,"form-control","ps-5",3,"ngModel","placeholder","input","ngModelChange","keyup","change"],["name","ngModel"],[1,"form-icon","position-relative"],["name","birthLocalDate","id","birthLocalDate","type","date","required","","minlength","8",1,"form-control","ps-5",3,"ngModel","placeholder","input","ngModelChange"],["birthLocalDate","ngModel"],[1,"mb-4"],["ngModelGroup","passport",1,"form-icon","position-relative"],["oninput","this.value = this.value.toUpperCase().trim()","name","passport","id","passport","type","text","required","","minlength","4","maxlength","10",1,"form-control","ps-5",3,"ngModel","placeholder","input","keyup","change","ngModelChange"],["passport","ngModel"],[4,"ngIf"],["class","p-error alert",4,"ngIf"],["name","applicantEmail","id","applicantEmail","type","email","placeholder","example@email.com","required","","minlength","8","maxlength","30","pattern","[^@]+@[^@]+\\.[a-zA-Z]{2,6}",1,"form-control","ps-5",3,"ngModel","email","input","ngModelChange"],["applicantEmail","ngModel"],["ngModelGroup","phone",1,"form-icon","position-relative"],["name","phone","id","phone","type","tel","required","","minlength","15","maxlength","15",1,"form-control","ps-5",3,"ngModel","placeholder","input","ngModelChange","keyup","change"],["phone","ngModel"],["name","expectedDepartureLocalDate","id","expectedDepartureLocalDate","type","date","required","","minlength","8","appendTo","body",1,"form-control","ps-5",3,"ngModel","placeholder","min","input","ngModelChange"],["expectedDepartureLocalDate","ngModel"],[1,"col-12"],["name","file","accept","image/jpg,image/png,image/jpeg","fileLimit","1","maxFileSize","1000000",3,"disabled","showUploadButton","multiple","customUpload","uploadHandler","onSelect"],["fileUploader",""],[1,"col"],["severity","info"],["header","Selected Image",3,"visible","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[2,"margin-left","1rem"],[1,"alert"],["class","p-error",4,"ngIf"],[1,"p-error"],[1,"p-error","alert"],["alt","Selected Image","width","1000",3,"src"],["styleClass","p-button-text-left",3,"label","click"],["styleClass","p-button-text",3,"label","click"]],template:function(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"form",0,1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"p-messages",4),o.YNc(5,C,3,3,"ng-template",5),o.qZA(),o.TgZ(6,"div",6),o.TgZ(7,"div",7),o.TgZ(8,"div",8),o.TgZ(9,"label",9),o._uU(10),o.ALo(11,"translate"),o.TgZ(12,"span",10),o._uU(13,"*"),o.qZA(),o.qZA(),o.TgZ(14,"div",11),o.TgZ(15,"input",12,13),o.NdJ("input",function(){o.CHM(t);const i=o.MAs(1);return e.checkValid(i)})("ngModelChange",function(t){return e.person.surname=t})("keyup",function(){return e.SurnameOnlyNumbersAndLetters(e.person.surname)})("change",function(){return e.SurnameOnlyNumbersAndLetters(e.person.surname)}),o.ALo(17,"translate"),o.qZA(),o.YNc(18,E,4,3,"div",14),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"div",7),o.TgZ(20,"div",8),o.TgZ(21,"label",9),o._uU(22),o.ALo(23,"translate"),o.TgZ(24,"span",10),o._uU(25,"*"),o.qZA(),o.qZA(),o.TgZ(26,"div",15),o.TgZ(27,"input",16,17),o.NdJ("input",function(){o.CHM(t);const i=o.MAs(1);return e.checkValid(i)})("ngModelChange",function(t){return e.person.name=t})("keyup",function(){return e.NameOnlyNumbersAndLetters(e.person.name)})("change",function(){return e.NameOnlyNumbersAndLetters(e.person.name)}),o.ALo(29,"translate"),o.qZA(),o.YNc(30,P,4,3,"div",14),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(31,"div",6),o.TgZ(32,"div",7),o.TgZ(33,"div",8),o.TgZ(34,"label",9),o._uU(35),o.ALo(36,"translate"),o.TgZ(37,"span",10),o._uU(38,"*"),o.qZA(),o.qZA(),o.TgZ(39,"div",18),o.TgZ(40,"input",19,20),o.NdJ("input",function(){o.CHM(t);const i=o.MAs(1);return e.checkValid(i)})("ngModelChange",function(t){return e.person.birthLocalDate=t}),o.ALo(42,"translate"),o.qZA(),o.YNc(43,_,3,2,"div",14),o.qZA(),o.qZA(),o.qZA(),o.TgZ(44,"div",7),o.TgZ(45,"div",21),o.TgZ(46,"label",9),o._uU(47),o.ALo(48,"translate"),o.TgZ(49,"span",10),o._uU(50,"*"),o.qZA(),o.qZA(),o.TgZ(51,"div",22),o.TgZ(52,"input",23,24),o.NdJ("input",function(){o.CHM(t);const i=o.MAs(1);return e.checkValid(i),e.checkPassport(e.person.passport)})("keyup",function(){return e.PassportOnlyNumbersAndLetters(e.person.passport)})("change",function(){return e.PassportOnlyNumbersAndLetters(e.person.passport)})("ngModelChange",function(t){return e.person.passport=t}),o.ALo(54,"translate"),o.qZA(),o.YNc(55,U,3,2,"div",25),o.YNc(56,J,4,6,"small",26),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(57,"div",6),o.TgZ(58,"div",7),o.TgZ(59,"div",8),o.TgZ(60,"label",9),o._uU(61),o.ALo(62,"translate"),o.TgZ(63,"span",10),o._uU(64,"*"),o.qZA(),o.qZA(),o.TgZ(65,"div",18),o.TgZ(66,"input",27,28),o.NdJ("input",function(){o.CHM(t);const i=o.MAs(1);return e.checkValid(i)})("ngModelChange",function(t){return e.person.applicantEmail=t}),o.qZA(),o.YNc(68,Q,3,2,"div",14),o.qZA(),o.qZA(),o.qZA(),o.TgZ(69,"div",7),o.TgZ(70,"div",8),o.TgZ(71,"label",9),o._uU(72),o.ALo(73,"translate"),o.TgZ(74,"span",10),o._uU(75,"*"),o.qZA(),o.qZA(),o.TgZ(76,"div",29),o.TgZ(77,"input",30,31),o.NdJ("input",function(){o.CHM(t);const i=o.MAs(1);return e.checkValid(i)})("ngModelChange",function(t){return e.tel=t})("keyup",function(){return e.formatPhone()})("change",function(){return e.formatPhone()}),o.qZA(),o.YNc(79,H,3,2,"div",14),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(80,"div",6),o.TgZ(81,"div",7),o.TgZ(82,"div",21),o.TgZ(83,"label",9),o._uU(84),o.ALo(85,"translate"),o.TgZ(86,"span",10),o._uU(87,"*"),o.qZA(),o.qZA(),o.TgZ(88,"div",18),o.TgZ(89,"input",32,33),o.NdJ("input",function(){o.CHM(t);const i=o.MAs(1);return e.checkValid(i)})("ngModelChange",function(t){return e.person.expectedDepartureLocalDate=t}),o.ALo(91,"translate"),o.ALo(92,"date"),o.qZA(),o.YNc(93,G,3,2,"div",14),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(94,"div",6),o.TgZ(95,"div",34),o.TgZ(96,"label",9),o._uU(97),o.ALo(98,"translate"),o.TgZ(99,"span",10),o._uU(100),o.ALo(101,"translate"),o.qZA(),o.qZA(),o.TgZ(102,"p-fileUpload",35,36),o.NdJ("uploadHandler",function(t){return e.uploadFiles(t)})("onSelect",function(t){return e.onFileSelect(t)}),o.qZA(),o.qZA(),o.qZA(),o.TgZ(104,"div",6),o.TgZ(105,"div",37),o._UZ(106,"p-messages",38),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(107,"p-dialog",39),o.NdJ("visibleChange",function(t){return e.displayDialog=t}),o.YNc(108,$,1,1,"ng-template",40),o.YNc(109,X,9,10,"ng-template",41),o.qZA()}if(2&t){const t=o.MAs(16),i=o.MAs(28),n=o.MAs(41),s=o.MAs(53),a=o.MAs(67),r=o.MAs(78),l=o.MAs(90);o.xp6(4),o.Akn(o.DdM(70,z)),o.xp6(6),o.Oqu(o.lcZ(11,39,"PERSON.LAST")),o.xp6(5),o.s9C("placeholder",o.lcZ(17,41,"PERSON.LAST")),o.Q6J("ngModel",e.person.surname),o.xp6(3),o.Q6J("ngIf",t.invalid&&(t.dirty||t.touched)),o.xp6(4),o.Oqu(o.lcZ(23,43,"PERSON.FIRST")),o.xp6(5),o.s9C("placeholder",o.lcZ(29,45,"PERSON.FIRST")),o.Q6J("ngModel",e.person.name),o.xp6(3),o.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),o.xp6(5),o.Oqu(o.lcZ(36,47,"PERSON.BIRTH_DATE")),o.xp6(5),o.s9C("placeholder",o.lcZ(42,49,"PERSON.BIRTH_DATE")),o.Q6J("ngModel",e.person.birthLocalDate),o.xp6(3),o.Q6J("ngIf",n.invalid&&(n.dirty||n.touched)),o.xp6(4),o.Oqu(o.lcZ(48,51,"PERSON.DOC_NUM")),o.xp6(5),o.s9C("placeholder",o.lcZ(54,53,"PERSON.NUM")),o.Q6J("ngModel",e.person.passport),o.xp6(3),o.Q6J("ngIf",s.invalid&&(s.dirty||s.touched)),o.xp6(1),o.Q6J("ngIf",!e.validPass),o.xp6(5),o.Oqu(o.lcZ(62,55,"PERSON.EMAIL")),o.xp6(5),o.Q6J("ngModel",e.person.applicantEmail)("email",!0),o.xp6(2),o.Q6J("ngIf",a.invalid&&(a.dirty||a.touched)),o.xp6(4),o.Oqu(o.lcZ(73,57,"PERSON.PHONE")),o.xp6(5),o.s9C("placeholder","+20 "+e.tel),o.Q6J("ngModel",e.tel),o.xp6(2),o.Q6J("ngIf",r.invalid&&(r.dirty||r.touched)),o.xp6(5),o.Oqu(o.lcZ(85,59,"PERSON.EXPECTED_TRAVEL_DATE")),o.xp6(5),o.s9C("placeholder",o.lcZ(91,61,"PERSON.EXPECTED_TRAVEL_DATE")),o.s9C("min",o.xi3(92,63,e.today,"yyyy-MM-dd")),o.Q6J("ngModel",e.person.expectedDepartureLocalDate),o.xp6(4),o.Q6J("ngIf",l.invalid&&(l.dirty||l.touched)),o.xp6(4),o.hij(" ",o.lcZ(98,66,"PERSON.PASSPORTIMAGE")," "),o.xp6(3),o.hij("* ",o.lcZ(101,68,"MAX_SIZE"),""),o.xp6(2),o.Q6J("disabled",!e.uploading)("showUploadButton",e.uploading)("multiple",!0)("customUpload",!0),o.xp6(5),o.Q6J("visible",e.displayDialog)}},directives:[f._Y,f.JL,f.F,Z.V,m.jx,f.Mq,f.Fj,f.Q7,f.nD,f.wO,A.c,f.JJ,f.On,n.O5,f.c5,f.on,T.p,v.V,y.zx],pipes:[a.X$,n.uU,n.rS],styles:[""]}),t})();var K=i(39634),tt=i(94753);class et{}i(29171);var it=i(55066),nt=i(80521);class st{}class ot{}var at=i(22371),rt=i(83550),lt=i(39996),ct=i(11184),pt=i(3617),dt=i(87319),gt=i(89004),ut=i(80329),ht=i(18582),mt=i(64475),ft=i(27382),Zt=i(55009),At=i(90199),Tt=i(85848),vt=i(61793),yt=i(67675),xt=i(67550),bt=i(14172),Ct=i(71382),St=i(76181),qt=i(33629),Mt=i(73192),Et=i(40358),It=i(27754);class wt{}var Nt=i(24412),Pt=i(6911),Lt=i(81792);function Ot(t,e){1&t&&(o.TgZ(0,"div",16),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&t&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"PAYMENT_CANCEL")))}function _t(t,e){if(1&t&&(o.TgZ(0,"option",17),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&t){const t=e.$implicit;o.s9C("value",t),o.xp6(1),o.hij(" ",o.lcZ(2,2,"PAYMENT."+t)," ")}}function kt(t,e){1&t&&(o.ynx(0),o._UZ(1,"i",18),o._uU(2),o.ALo(3,"translate"),o.BQk()),2&t&&(o.xp6(2),o.hij(" ",o.lcZ(3,1,"Proceed to checkout")," "))}function Dt(t,e){1&t&&o._UZ(0,"i",19)}function Ut(t,e){1&t&&(o.ynx(0),o._UZ(1,"i",20),o._uU(2),o.ALo(3,"translate"),o.BQk()),2&t&&(o.xp6(2),o.hij(" ",o.lcZ(3,1,"Payment success")," "))}function Jt(t,e){1&t&&o._UZ(0,"i",25)}function Rt(t,e){1&t&&o._UZ(0,"i",19)}function Yt(t,e){if(1&t){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",22),o.TgZ(2,"button",23),o.NdJ("click",function(){o.CHM(t);const e=o.oxw(2);return e.retrying=!0,e.validatePayment()}),o.YNc(3,Jt,1,0,"i",24),o.YNc(4,Rt,1,0,"i",12),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.qZA(),o.BQk()}if(2&t){const t=o.oxw(2);o.xp6(2),o.Q6J("disabled",t.retrying),o.xp6(1),o.Q6J("ngIf",!t.retrying),o.xp6(1),o.Q6J("ngIf",t.retrying),o.xp6(1),o.hij(" ",o.lcZ(6,4,"Retry")," ")}}function Qt(t,e){if(1&t&&(o.TgZ(0,"div",26),o._uU(1),o._UZ(2,"br"),o._uU(3),o._UZ(4,"br"),o._uU(5),o.qZA()),2&t){const t=o.oxw(2);o.xp6(1),o.hij(" Indicator: ",t.transaction.paymentOrder.indicator," "),o.xp6(2),o.hij(" Amount: ",t.transaction.serviceAmount," EGP "),o.xp6(2),o.hij(" Status: ",t.transaction.bankResponse," ")}}function Ft(t,e){if(1&t&&(o.ynx(0),o.YNc(1,Yt,7,6,"ng-container",14),o.YNc(2,Qt,6,3,"ng-template",null,21,o.W1O),o.BQk()),2&t){const t=o.MAs(3),e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.retry)("ngIfElse",t)}}function Vt(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"span",28),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).recheck()}),o._uU(1," I've already paid "),o.qZA()}}function Ht(t,e){1&t&&(o.TgZ(0,"span"),o._uU(1,"/"),o.qZA())}function jt(t,e){if(1&t){const t=o.EpF();o.ynx(0),o.YNc(1,Vt,2,0,"span",27),o.YNc(2,Ht,2,0,"span",11),o.TgZ(3,"span",28),o.NdJ("click",function(){return o.CHM(t),o.oxw().customIndicator=!0}),o._uU(4," Use custom indicator "),o.qZA(),o.BQk()}if(2&t){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",!t.recap),o.xp6(1),o.Q6J("ngIf",!t.recap)}}function Bt(t,e){1&t&&o._UZ(0,"i",25)}function Gt(t,e){1&t&&o._UZ(0,"i",19)}function $t(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",29),o.TgZ(1,"input",30),o.NdJ("ngModelChange",function(e){return o.CHM(t),o.oxw().successIndicator=e}),o.ALo(2,"translate"),o.qZA(),o.TgZ(3,"button",31),o.NdJ("click",function(){return o.CHM(t),o.oxw().setIndicatorAndRetry()}),o.YNc(4,Bt,1,0,"i",24),o.YNc(5,Gt,1,0,"i",12),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.xp6(1),o.s9C("placeholder",o.lcZ(2,6,"Indicator")),o.Q6J("ngModel",t.successIndicator),o.xp6(2),o.Q6J("disabled",t.retrying),o.xp6(1),o.Q6J("ngIf",!t.retrying),o.xp6(1),o.Q6J("ngIf",t.retrying),o.xp6(1),o.hij(" ",o.lcZ(7,8,"Retry")," ")}}const Xt=function(){return{"max-width":"65%"}},zt=function(t,e){return{"btn-secondary":t,"btn-success":e}};let Wt=(()=>{class t{constructor(t,e,i,n,s,a){this.userService=t,this._renderer2=e,this.pay=i,this.scriptService=n,this.confirmationService=s,this._document=a,this.isCash=!1,this.clientId="",this.successIndicator="",this.checkingOut=!1,this.confirmed=!1,this.retry=!1,this.retrying=!1,this.recap=!1,this.customIndicator=!1,this.msgs=[],this.msgs2=[],this.transaction=new wt,this.confirmation=new o.vpe,this.paymentReference=new o.vpe}ngOnInit(){this.getPaymentMethods(),this.group.paymentMethod=K.XL.CARD,this.isCash=!1,console.log(this.successIndicator),this.successIndicator=this.userService.getSuccessIndicator(),console.log(this.successIndicator),null!=this.successIndicator&&this.validatePayment(),this.userService.getProfile().subscribe(t=>this.clientId=t.id)}getPaymentMethods(){this.pay.getAllowedPaymentMethods().subscribe(t=>{this.allowedPaymentMethods=t})}showCheckout(){this.reset(),this.checkingOut=!0,this.appendCheckout()}changePaymentMethod(){this.isCash=!1,this.group.paymentMethod==K.XL.CASH&&(this.isCash=!0)}appendCheckout(){console.log("APPOINTMENT",this.group.appointment);const t=this.scriptService.loadJsScript(this._renderer2,"https://eu-gateway.mastercard.com/checkout/version/62/checkout.js","checkout-script",[{key:"data-error",value:"errorCallback"},{key:"data-cancel",value:"cancelCallback"},{key:"data-complete",value:"confirmCallback"}]);t.onload=()=>{console.log("Checkout Script loaded"),this.group.order=this.clientId,this.pay.requestPurchase(this.clientId,this.group).subscribe(t=>{console.info("RESULT FOR CHECKOUT REQUEST:"),console.log(t),this.successIndicator=t.successIndicator,this.userService.setSuccessIndicator(this.successIndicator),console.info("Creating Checkout configuration"),Checkout.configure({merchant:t.merchant,session:{id:t.session.id},interaction:{merchant:{name:"Almaviva Egitto",address:{line1:"20 El-Madina El-Monawwara",line2:"Ad Doqi, Dokki, Giza, \xc9gypt"}}}}),console.info("Showing Checkout lightbox"),Checkout.showLightbox()},t=>console.log(t))},t.onerror=()=>{console.log("Could not load the Checkout Script!")}}validatePayment(){console.log("INDICATOR",this.successIndicator),this.pay.validatePurchase(this.successIndicator).subscribe(t=>{console.log("ORDER IS: ",t),this.transaction=t,this.retry=!1,this.retrying=!1,this.confirmed=!0,this.msgs2=[{severity:"success",summary:"Payment valid",detail:"Transaction details are valid, please keep your indicator safe."}],this.recap=!0,this.confirmation.emit(this.recap),this.paymentReference.emit(t.reference)},t=>{console.error(t),this.retry=!0,this.retrying=!1,this.msgs2=[{severity:"error",summary:"Payment could not be saved",detail:"Please try using your indicator or contact support"}]})}recheck(){this.successIndicator=this.userService.getSuccessIndicator(),this.successIndicator||(this.customIndicator=!0),this.validatePayment()}setIndicatorAndRetry(){this.retrying=!0,this.userService.setSuccessIndicator(this.successIndicator),this.validatePayment()}reset(){this.confirmed=!1,this.recap=!1,this.msgs=[],this.msgs2=[],this.userService.removeSuccessIndicator(),this.confirmation.emit(this.recap)}confirmReset(t){this.confirmationService.confirm({target:t.target,message:"Are you sure that you want to reset?",icon:"pi pi-exclamation-triangle",accept:()=>{this.reset()},reject:()=>{console.log("Reset aborted")}})}paymentError(t){console.log("error trigger"),console.log(t),this.msgs=[{severity:"error",summary:"Payment error",detail:"There has been an issue with the payment operation"}],this.checkingOut=!1}paymentCancel(t){console.log("cancel trigger"),console.log(t),this.msgs=[{severity:"warn",summary:"Payment cancelled",detail:"The payment operation has been cancelled"}],this.checkingOut=!1}paymentConfirm(t){console.log("confirm trigger"),console.log(t.detail),this.successIndicator==t.detail&&(this.msgs=[{severity:"success",summary:"Payment successful",detail:"Your payment has been processed, please save your indicator: "+this.successIndicator}],this.checkingOut=!1,this.confirmed=!0,this.validatePayment())}destroyScripts(){["checkout-script"].forEach(t=>{let e=this._document.getElementById(t);e&&this._renderer2.removeChild(this._document.body,e)});const t=this._document.getElementsByTagName("iframe");t[0]&&this._renderer2.removeChild(this._document.body,t[0])}ngOnDestroy(){this.destroyScripts()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(ht.K),o.Y36(o.Qsj),o.Y36(Nt.t),o.Y36(Pt.Y),o.Y36(m.YP),o.Y36(n.K0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mc-payment"]],hostBindings:function(t,e){1&t&&o.NdJ("payment-error",function(t){return e.paymentError(t)},!1,o.evT)("payment-cancel",function(t){return e.paymentCancel(t)},!1,o.evT)("payment-confirm",function(t){return e.paymentConfirm(t)},!1,o.evT)},inputs:{group:"group"},outputs:{confirmation:"confirmation",paymentReference:"paymentReference"},decls:24,vars:24,consts:[[1,"p-4"],[1,"mb-2"],["severity","error"],["pTemplate",""],["aria-label","paymentMethod","id","paymentMethod","name","paymentMethod","disabled","true",1,"form-select","form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"hidden"],[1,"d-flex","justify-content-between"],[1,"btn","btn-warning",3,"click"],[1,"pi","pi-undo"],[1,"btn",3,"ngClass","disabled","click"],[4,"ngIf"],["class","pi pi-spin pi-spinner",4,"ngIf"],[3,"value","closable","valueChange"],[4,"ngIf","ngIfElse"],["customIndicatorBlock",""],[2,"margin-left","1rem"],[3,"value"],[1,"pi","pi-shopping-cart"],[1,"pi","pi-spin","pi-spinner"],[1,"pi","pi-check"],["recapBlock",""],[1,"d-flex","justify-content-end"],[1,"btn","btn-primary",3,"disabled","click"],["class","pi pi-refresh",4,"ngIf"],[1,"pi","pi-refresh"],[1,""],["class","pointer text-muted pt-4",3,"click",4,"ngIf"],[1,"pointer","text-muted","pt-4",3,"click"],[1,"d-flex","pt-4"],["name","indicator","type","text","required","",1,"form-control","ps-5",2,"width","30%",3,"ngModel","placeholder","ngModelChange"],["type","submit",1,"btn","btn-primary",2,"margin-left","0.5rem",3,"disabled","click"]],template:function(t,e){if(1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"p-messages",2),o.YNc(3,Ot,3,3,"ng-template",3),o.qZA(),o.TgZ(4,"select",4),o.NdJ("ngModelChange",function(t){return e.group.paymentMethod=t})("change",function(){return e.changePaymentMethod()}),o.YNc(5,_t,3,4,"option",5),o.qZA(),o.qZA(),o.TgZ(6,"div",6),o.TgZ(7,"div",7),o.TgZ(8,"button",8),o.NdJ("click",function(t){return e.confirmReset(t)}),o._UZ(9,"i",9),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.TgZ(12,"button",10),o.NdJ("click",function(){return e.showCheckout()}),o.YNc(13,kt,4,3,"ng-container",11),o.YNc(14,Dt,1,0,"i",12),o.YNc(15,Ut,4,3,"ng-container",11),o.qZA(),o.qZA(),o.TgZ(16,"p-messages",13),o.NdJ("valueChange",function(t){return e.msgs=t}),o.qZA(),o._UZ(17,"p-divider"),o.TgZ(18,"p-messages",13),o.NdJ("valueChange",function(t){return e.msgs2=t}),o.qZA(),o.YNc(19,Ft,4,2,"ng-container",11),o.YNc(20,jt,5,2,"ng-container",14),o.YNc(21,$t,8,10,"ng-template",null,15,o.W1O),o.qZA(),o.qZA(),o._UZ(23,"p-confirmPopup")),2&t){const t=o.MAs(22);o.xp6(2),o.Akn(o.DdM(20,Xt)),o.xp6(2),o.Q6J("ngModel",e.group.paymentMethod),o.xp6(1),o.Q6J("ngForOf",e.allowedPaymentMethods),o.xp6(1),o.Q6J("hidden",e.isCash),o.xp6(4),o.hij(" ",o.lcZ(11,18,"PERSON.RESET")," "),o.xp6(2),o.Q6J("ngClass",o.WLB(21,zt,!e.confirmed,e.confirmed))("disabled",e.checkingOut||e.confirmed),o.xp6(1),o.Q6J("ngIf",!e.checkingOut&&!e.confirmed),o.xp6(1),o.Q6J("ngIf",e.checkingOut),o.xp6(1),o.Q6J("ngIf",e.confirmed&&!e.checkingOut),o.xp6(1),o.Q6J("value",e.msgs)("closable",!1),o.xp6(2),o.Q6J("value",e.msgs2)("closable",!1),o.xp6(1),o.Q6J("ngIf",e.confirmed),o.xp6(1),o.Q6J("ngIf",!e.customIndicator)("ngIfElse",t)}},directives:[Z.V,m.jx,f.EJ,f.JJ,f.On,n.sg,n.mk,n.O5,St.i,Lt.P,f.YN,f.Kr,f.Fj,f.Q7],pipes:[a.X$],styles:[".total-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-right:1rem;padding-left:1rem}"]}),t})();var Kt=i(51763),te=i(86739);const ee=["tabView"],ie=["personPDF"];function ne(t,e){1&t&&o._UZ(0,"i",24)}function se(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",38),o.TgZ(1,"div",39),o.TgZ(2,"p-fieldset",40),o.ALo(3,"translate"),o.TgZ(4,"p",41),o._uU(5),o.ALo(6,"translate"),o.qZA(),o.TgZ(7,"p",41),o._uU(8),o.ALo(9,"translate"),o.TgZ(10,"span"),o.TgZ(11,"a",42),o._uU(12),o.ALo(13,"translate"),o.qZA(),o._uU(14),o.ALo(15,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(16,"h4",43),o._uU(17),o.ALo(18,"translate"),o.qZA(),o.TgZ(19,"div",44),o.TgZ(20,"div",45),o.TgZ(21,"p-dropdown",46),o.NdJ("ngModelChange",function(e){return o.CHM(t),o.oxw(3).site=e})("onChange",function(){o.CHM(t);const e=o.oxw(3);return e.setSite(e.site)}),o.ALo(22,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(23,"div",47),o.TgZ(24,"div",48),o.TgZ(25,"div",49),o.TgZ(26,"input",50),o.NdJ("ngModelChange",function(e){return o.CHM(t),o.oxw(3).termsAccepted=e}),o.ALo(27,"translate"),o.qZA(),o.TgZ(28,"label",51),o._uU(29),o.ALo(30,"translate"),o.TgZ(31,"a",52),o._uU(32),o.ALo(33,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const t=o.oxw(3);o.xp6(2),o.Q6J("legend",o.lcZ(3,14,"IMPORTANT.P_20")),o.xp6(3),o.hij(" ",o.lcZ(6,16,"IMPORTANT.P_21")," "),o.xp6(3),o.hij(" ",o.lcZ(9,18,"IMPORTANT.P_20.1")," "),o.xp6(4),o.Oqu(o.lcZ(13,20,"IMPORTANT.P_20.2")),o.xp6(2),o.hij(" ",o.lcZ(15,22,"IMPORTANT.P_20.3")," "),o.xp6(3),o.Oqu(o.lcZ(18,24,"LOCATION.SELECT")),o.xp6(4),o.s9C("placeholder",o.lcZ(22,26,"LOCATION.SIMPLE")),o.Q6J("options",t.sites)("ngModel",t.site),o.xp6(5),o.s9C("pTooltip",o.lcZ(27,28,"IMPORTANT.P_22")),o.Q6J("ngModel",t.termsAccepted)("binary",!0),o.xp6(3),o.Oqu(o.lcZ(30,30,"ACCEPT")),o.xp6(3),o.hij(" ",o.lcZ(33,32,"TERMS"),"")}}function oe(t,e){1&t&&(o.TgZ(0,"div",70),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&t&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"APPOINTMENT.INFO")," "))}const ae=function(){return{"max-width":"65%"}};function re(t,e){1&t&&(o.TgZ(0,"p-messages",68),o.YNc(1,oe,3,3,"ng-template",69),o.qZA()),2&t&&o.Akn(o.DdM(2,ae))}const le=function(){return{width:"50px",height:"50px"}};function ce(t,e){1&t&&(o.TgZ(0,"div",2),o.TgZ(1,"div",71),o.TgZ(2,"div",72),o._UZ(3,"p-progressSpinner"),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(3),o.Akn(o.DdM(2,le)))}function pe(t,e){if(1&t&&(o.TgZ(0,"div",86),o.TgZ(1,"h6",87),o._uU(2),o.qZA(),o.qZA()),2&t){const t=o.oxw().$implicit;o.xp6(2),o.hij(" ",t.visaDocument.title," ")}}function de(t,e){if(1&t&&(o.TgZ(0,"p",88),o._uU(1),o.qZA()),2&t){const t=o.oxw().$implicit;o.xp6(1),o.hij(" ",t.visaDocument.description," ")}}function ge(t,e){1&t&&(o.TgZ(0,"ngb-panel",83),o.YNc(1,pe,3,1,"ng-template",84),o.YNc(2,de,2,1,"ng-template",85),o.qZA())}function ue(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"form",73),o.TgZ(1,"div",74),o.TgZ(2,"div",75),o.TgZ(3,"div",76),o.TgZ(4,"div",77),o.TgZ(5,"h4"),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"span",78),o._uU(9),o.ALo(10,"translate"),o.qZA(),o.qZA(),o.TgZ(11,"ngb-accordion",79,80),o.YNc(13,ge,3,0,"ngb-panel",81),o.qZA(),o.qZA(),o.TgZ(14,"button",82),o.NdJ("click",function(){o.CHM(t);const e=o.oxw(2).$implicit;return o.oxw(2).exportDocs(e.visa)}),o._uU(15),o.ALo(16,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const t=o.oxw(2).$implicit;o.xp6(6),o.hij(" ",o.lcZ(7,4,"VISAS_LIST."+t.visa.id+".TITLE")," "),o.xp6(3),o.hij(" ",o.lcZ(10,6,"VISAS_LIST."+t.visa.id+".DESCRIPTION")," "),o.xp6(4),o.Q6J("ngForOf",t.visa.orderedVisaDocuments),o.xp6(2),o.hij(" ",o.lcZ(16,8,"PRINT")," ")}}function he(t,e){if(1&t&&(o.TgZ(0,"div",70),o._uU(1),o.ALo(2,"translate"),o.ALo(3,"translate"),o.qZA()),2&t){const t=o.oxw(5);o.xp6(1),o.lnq(" ",o.lcZ(2,3,"DISPO_CATEG")," ",t.selectedCategory.title," ",o.lcZ(3,5,"DISPO_CATEG_1")," ")}}function me(t,e){1&t&&(o.TgZ(0,"p-messages",68),o.YNc(1,he,4,7,"ng-template",69),o.qZA()),2&t&&o.Akn(o.DdM(2,ae))}const fe=function(){return{count:2}};function Ze(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",53),o.YNc(1,re,2,3,"p-messages",54),o.TgZ(2,"div"),o.TgZ(3,"div",55),o.TgZ(4,"div",56),o.TgZ(5,"h4",57),o._uU(6),o.ALo(7,"translate"),o.ALo(8,"lowercase"),o.ALo(9,"translate"),o.ALo(10,"lowercase"),o.ALo(11,"translate"),o.qZA(),o.qZA(),o.TgZ(12,"div",58),o.TgZ(13,"div",59),o.TgZ(14,"div",60),o.TgZ(15,"span"),o._uU(16),o.ALo(17,"translate"),o.qZA(),o.TgZ(18,"p-dropdown",61),o.NdJ("ngModelChange",function(e){return o.CHM(t),o.oxw(3).selectedTypology=e})("onChange",function(){o.CHM(t);const e=o.oxw().index,i=o.oxw(2);return i.resetCategory(),i.filterByTypo(),i.resetVisa(e)}),o.ALo(19,"translate"),o.qZA(),o.qZA(),o.TgZ(20,"div",62),o.TgZ(21,"span"),o._uU(22),o.ALo(23,"translate"),o.qZA(),o.TgZ(24,"p-dropdown",63),o.NdJ("ngModelChange",function(e){return o.CHM(t),o.oxw(3).selectedCategory=e})("onChange",function(){o.CHM(t);const e=o.oxw(3);return e.filterByCat(),e.checkDispoByTypoAndCat(e.site.id,e.selectedTypology.id,e.selectedCategory.id)}),o.ALo(25,"translate"),o.qZA(),o.qZA(),o.qZA(),o.YNc(26,ce,4,3,"div",64),o.TgZ(27,"div",65),o.TgZ(28,"span"),o._uU(29),o.ALo(30,"translate"),o.qZA(),o.TgZ(31,"p-dropdown",66),o.NdJ("ngModelChange",function(e){return o.CHM(t),o.oxw().$implicit.visa=e})("onChange",function(){o.CHM(t);const e=o.oxw().$implicit;return o.oxw(2).translateDocuments(e.visa.orderedVisaDocuments)}),o.ALo(32,"translate"),o.qZA(),o.qZA(),o.qZA(),o.YNc(33,ue,17,10,"form",67),o.qZA(),o.YNc(34,me,2,3,"p-messages",54),o.qZA(),o.qZA()}if(2&t){const t=o.oxw().$implicit,e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",1==e.step),o.xp6(5),o.lnq(" ",o.xi3(7,23,"VISA","{ count: 1 }")," ",o.lcZ(8,26,o.lcZ(9,28,"AND"))," ",o.lcZ(10,30,o.xi3(11,32,"DOCUMENT.NECESSARY",o.DdM(48,fe)))," "),o.xp6(10),o.Oqu(o.lcZ(17,35,"VISAS.TYPOLOGY")),o.xp6(2),o.s9C("placeholder",o.lcZ(19,37,"VISAS.SELECT.TYPOLOGY")),o.Q6J("disabled",e.group.folders.length>=2||e.loading)("options",e.visaTypologies)("ngModel",e.selectedTypology),o.xp6(4),o.hij(" ",o.lcZ(23,39,"VISAS.CATEGORY"),""),o.xp6(2),o.s9C("placeholder",o.lcZ(25,41,"VISAS.SELECT.CATEGORY")),o.Q6J("disabled",e.group.folders.length>=2||e.loading)("options",e.filteredCategories)("ngModel",e.selectedCategory),o.xp6(2),o.Q6J("ngIf",e.loading),o.xp6(1),o.Q6J("hidden",!e.AvailByQuotaCat),o.xp6(2),o.hij(" ",o.xi3(30,43,"VISA","{count: 1}"),""),o.xp6(2),o.s9C("placeholder",o.lcZ(32,46,"VISAS.SELECT")),o.Q6J("disabled",null==e.selectedCategory||e.loading||!e.AvailByQuotaCat)("options",e.filteredVisas)("ngModel",t.visa),o.xp6(2),o.Q6J("ngIf",t.visa),o.xp6(1),o.Q6J("ngIf",!e.AvailByQuotaCat&&!e.loading&&null!=e.selectedCategory&&null!=e.selectedCategory.title)}}function Ae(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",90),o.TgZ(1,"app-no-form",99),o.NdJ("personEmitter",function(e){o.CHM(t);const i=o.oxw(2).$implicit;return o.oxw(2).getPerson(e,i)})("validityEmitter",function(e){return o.CHM(t),o.oxw(4).getPDFormValidity(e)})("groupChange",function(e){return o.CHM(t),o.oxw(4).group=e}),o.qZA(),o.qZA()}if(2&t){const t=o.oxw(2).index,e=o.oxw(2);o.xp6(1),o.Q6J("group",e.group)("index",t)}}function Te(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",89),o.TgZ(1,"div",90),o.TgZ(2,"div",91),o._UZ(3,"div",44),o.TgZ(4,"div",44),o.TgZ(5,"div",44),o.TgZ(6,"p-button",92),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).downloadedPDFinArabic()}),o._UZ(7,"i",93),o.TgZ(8,"span",94),o._uU(9),o.ALo(10,"translate"),o.qZA(),o.qZA(),o.TgZ(11,"p-button",95),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).downloadedPDF()}),o._UZ(12,"i",96),o.TgZ(13,"span",94),o._uU(14),o.ALo(15,"translate"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(16,"div",90),o.TgZ(17,"div",91),o.TgZ(18,"div",44),o.TgZ(19,"h4",57),o._uU(20),o.ALo(21,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(22,Ae,2,2,"div",97),o.TgZ(23,"app-schengen-form",98),o.NdJ("personEmitter",function(e){o.CHM(t);const i=o.oxw().$implicit;return o.oxw(2).getPerson(e,i)})("validityEmitter",function(e){return o.CHM(t),o.oxw(3).getFormValidity(e)}),o.qZA(),o.qZA()}if(2&t){const t=o.oxw(3);o.xp6(9),o.hij(" ",o.lcZ(10,6,"DOWNLOAD_PDF")," "),o.xp6(5),o.hij(" ",o.lcZ(15,8,"DOWNLOAD_PDF")," "),o.xp6(6),o.Oqu(o.lcZ(21,10,"FORM.TITLE")),o.xp6(2),o.Q6J("ngIf",t.pdfDownloadClicked&&!t.onlineForm),o.xp6(1),o.Q6J("hidden",!t.onlineForm)("embedded",!0)}}function ve(t,e){1&t&&(o.TgZ(0,"div",70),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&t&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"APPOINTMENT.INFO_CHILD")," "))}function ye(t,e){if(1&t&&(o.TgZ(0,"div",108),o._uU(1),o.ALo(2,"translate"),o.qZA(),o._UZ(3,"p-badge",109)),2&t){const t=e.$implicit;o.xp6(1),o.hij(" ",o.lcZ(2,2,"SERVICES."+t.id+".TITLE")," "),o.xp6(2),o.Q6J("value",t.price)}}function xe(t,e){if(1&t){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",110),o._uU(2),o.ALo(3,"translate"),o.TgZ(4,"div",111),o.TgZ(5,"p-inputNumber",112),o.NdJ("ngModelChange",function(t){return e.$implicit.quantity=t})("onInput",function(){return o.CHM(t),o.oxw(4).updateServices()}),o.qZA(),o._UZ(6,"p-badge",107),o.qZA(),o.qZA(),o.BQk()}if(2&t){const t=e.$implicit;o.xp6(2),o.hij(" ",o.lcZ(3,7,"SERVICES."+t.aVService.id+".TITLE")," "),o.xp6(3),o.Q6J("ngModel",t.quantity)("showButtons",!0)("min",1)("max",100)("disabled",t.aVService.isPrincipal),o.xp6(1),o.Q6J("value",t.aVService.price*t.quantity)}}function be(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",89),o.TgZ(1,"p-messages",100),o.YNc(2,ve,3,3,"ng-template",69),o.qZA(),o.TgZ(3,"div",101),o.TgZ(4,"div",56),o.TgZ(5,"h4",57),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.qZA(),o.TgZ(8,"div",58),o.TgZ(9,"div",102),o.TgZ(10,"div",44),o.TgZ(11,"p-listbox",103),o.NdJ("ngModelChange",function(e){return o.CHM(t),o.oxw(3).caisseServices=e})("onChange",function(){return o.CHM(t),o.oxw(3).updateTotalPrice()}),o.YNc(12,ye,4,4,"ng-template",104),o.qZA(),o._UZ(13,"p-divider"),o.YNc(14,xe,7,9,"ng-container",105),o.TgZ(15,"div",106),o._uU(16),o.ALo(17,"translate"),o._UZ(18,"p-badge",107),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const t=o.oxw(3);o.xp6(1),o.Akn(o.DdM(15,ae)),o.xp6(5),o.Oqu(o.lcZ(7,11,"SERVICE.SIMPLE")),o.xp6(5),o.Q6J("options",t.services)("ngModel",t.caisseServices)("multiple",!0)("filter",!0)("checkbox",!0),o.xp6(3),o.Q6J("ngForOf",t.checkoutServices),o.xp6(2),o.hij(" ",o.lcZ(17,13,"TOTAL"),": "),o.xp6(2),o.Q6J("value",t.totalPrice)}}function Ce(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"span",120),o.NdJ("click",function(){o.CHM(t);const e=o.oxw().$implicit;return o.oxw(6).setSlot(e.time)}),o.qZA()}if(2&t){const t=o.oxw().$implicit;o.Q6J("label",t.time)("value",t.time)}}function Se(t,e){if(1&t&&o._UZ(0,"span",121),2&t){const t=o.oxw().$implicit;o.Q6J("label",t.time)("value",t.time)}}function qe(t,e){if(1&t&&(o.TgZ(0,"span"),o.YNc(1,Ce,1,2,"span",118),o.YNc(2,Se,1,2,"span",119),o.qZA()),2&t){const t=e.$implicit,i=o.oxw(6);o.xp6(1),o.Q6J("ngIf",i.appointment.appointmentTime!=t.time&&t.freeSpots>0&&!i.slotIsBeforeNow(t)),o.xp6(1),o.Q6J("ngIf",i.appointment.appointmentTime==t.time&&!i.slotIsBeforeNow(t))}}const Me=function(){return{width:"100%",padding:"1.5rem 1.5rem 1.5rem 1.5rem",display:"flex"}},Ee=function(){return{width:"40%",height:"25rem",display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",overflow:"auto"}};function Ie(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"div",116),o.TgZ(2,"p-calendar",117),o.NdJ("ngModelChange",function(e){return o.CHM(t),o.oxw(5).group.appointment.appointmentDate=e})("onMonthChange",function(e){return o.CHM(t),o.oxw(5).dateChange(e)})("onYearChange",function(e){return o.CHM(t),o.oxw(5).dateChange(e)})("onSelect",function(e){return o.CHM(t),o.oxw(5).getSlots(e)}),o.qZA(),o.qZA(),o.TgZ(3,"div"),o.YNc(4,qe,3,2,"span",105),o.qZA(),o.qZA()}if(2&t){const t=o.oxw(5);o.Akn(o.DdM(11,Me)),o.xp6(2),o.Q6J("disabled",t.calendarOff)("inline",!0)("minDate",t.today)("ngModel",t.group.appointment.appointmentDate)("disabledDates",t.invalidDates)("firstDayOfWeek",1),o.xp6(1),o.Akn(o.DdM(12,Ee)),o.xp6(1),o.Q6J("ngForOf",t.appointmentSlots)}}function we(t,e){if(1&t&&(o.TgZ(0,"div"),o.TgZ(1,"div",58),o.TgZ(2,"h4",57),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA(),o.YNc(5,Ie,5,13,"div",115),o.qZA()),2&t){const t=o.oxw(4);o.xp6(3),o.Oqu(o.lcZ(4,2,"DATE.SELECT")),o.xp6(2),o.Q6J("ngIf",null!=t.group.site)}}const Ne=function(){return{margin:"0rem 2rem"}};function Pe(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",53),o.TgZ(1,"div"),o.TgZ(2,"p-messages",113),o.NdJ("valueChange",function(e){return o.CHM(t),o.oxw(3).msgs=e}),o.qZA(),o.qZA(),o.YNc(3,we,6,4,"div",114),o.qZA()}if(2&t){const t=o.oxw(3);o.xp6(2),o.Akn(o.DdM(7,Ne)),o.Q6J("hidden",!t.isTaken)("value",t.msgs)("closable",!1)("enableService",!1),o.xp6(1),o.Q6J("ngIf",t.site)}}function Le(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",89),o.TgZ(1,"app-otp-validation-appointment",122),o.NdJ("validityEmitter",function(e){return o.CHM(t),o.oxw(3).validityEmittersmsFun(e)}),o.qZA(),o.qZA()}}function Oe(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",53),o.TgZ(1,"div",101),o.TgZ(2,"div",56),o.TgZ(3,"h4",57),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.qZA(),o.ynx(6),o.TgZ(7,"mc-payment",123),o.NdJ("confirmation",function(e){return o.CHM(t),o.oxw(3).unlockConfirm(e)})("paymentReference",function(e){return o.CHM(t),o.oxw(3).getReference(e)}),o.qZA(),o.BQk(),o.qZA(),o.qZA()}if(2&t){const t=o.oxw(3);o.xp6(4),o.Oqu(o.lcZ(5,2,"PAYMENT.SIMPLE")),o.xp6(3),o.Q6J("group",t.group)}}function _e(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"button",124),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).prevStep()}),o._uU(1),o.ALo(2,"translate"),o.qZA()}if(2&t){const t=o.oxw(3);o.Q6J("ngxScrollTo","#top")("disabled",t.checkStepfive()),o.xp6(1),o.hij(" ",o.lcZ(2,3,"PREV")," ")}}function ke(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"button",125),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).nextStep()}),o._uU(1),o.ALo(2,"translate"),o.qZA()}if(2&t){const t=o.oxw(3);o.Q6J("ngxScrollTo","#top")("disabled",!t.termsAccepted||null==t.site),o.xp6(1),o.hij(" ",o.lcZ(2,3,"NEXT")," ")}}function De(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"button",126),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).nextStep()}),o._uU(1),o.ALo(2,"translate"),o.qZA()}if(2&t){const t=o.oxw(3);o.Q6J("ngxScrollTo","#top")("disabled",t.valid())("hidden",!t.AvailByQuotaCat&&1==t.step),o.xp6(1),o.hij(" ",o.lcZ(2,4,"NEXT")," ")}}function Ue(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"button",125),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).nextStep()}),o._uU(1),o.ALo(2,"translate"),o.qZA()}if(2&t){const t=o.oxw(3);o.Q6J("ngxScrollTo","#top")("disabled",t.checkStepTwo()),o.xp6(1),o.hij(" ",o.lcZ(2,3,"NEXT")," ")}}function Je(t,e){1&t&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&t&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"CONFIRM")," "))}function Re(t,e){1&t&&(o.TgZ(0,"span"),o._UZ(1,"p-progressSpinner"),o.qZA())}function Ye(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"a",127),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).submit()}),o.YNc(1,Je,3,3,"span",114),o.YNc(2,Re,2,0,"span",114),o.qZA()}if(2&t){const t=o.oxw(3);o.Q6J("ngxScrollTo","#home"),o.xp6(1),o.Q6J("ngIf",!t.submitting),o.xp6(1),o.Q6J("ngIf",t.submitting)}}function Qe(t,e){if(1&t&&(o.TgZ(0,"p-tabPanel",25),o.ALo(1,"translate"),o.TgZ(2,"section",26),o.TgZ(3,"div",27),o.TgZ(4,"div",28),o._UZ(5,"p-steps",29),o.qZA(),o.qZA(),o.YNc(6,se,34,34,"div",30),o.YNc(7,Ze,35,49,"div",31),o.YNc(8,Te,24,12,"div",32),o.YNc(9,be,19,16,"div",32),o.YNc(10,Pe,4,8,"div",31),o.YNc(11,Le,2,0,"div",32),o.YNc(12,Oe,8,4,"div",31),o.TgZ(13,"div",33),o.YNc(14,_e,3,5,"button",34),o.YNc(15,ke,3,5,"button",35),o.YNc(16,De,3,6,"button",36),o.YNc(17,Ue,3,5,"button",35),o.YNc(18,Ye,3,3,"a",37),o.qZA(),o.qZA(),o.qZA()),2&t){const t=e.index,i=o.oxw(2);o.hYB("header","",o.xi3(1,20,"FOLDER.SIMPLE","{count: 1}")," ",t+1,""),o.Q6J("selected",0==t)("closable",0!=t)("disabled",i.step>2),o.xp6(5),o.Q6J("model",i.stepItems)("activeIndex",i.step)("readonly",!1),o.xp6(1),o.Q6J("ngIf",0==i.step),o.xp6(1),o.Q6J("ngIf",1==i.step),o.xp6(1),o.Q6J("ngIf",2==i.step),o.xp6(1),o.Q6J("ngIf",3==i.step),o.xp6(1),o.Q6J("ngIf",4==i.step),o.xp6(1),o.Q6J("ngIf",5==i.step),o.xp6(1),o.Q6J("ngIf",6==i.step),o.xp6(2),o.Q6J("ngIf",0!==i.step),o.xp6(1),o.Q6J("ngIf",0==i.step),o.xp6(1),o.Q6J("ngIf",1==i.step||3==i.step),o.xp6(1),o.Q6J("ngIf",2==i.step),o.xp6(1),o.Q6J("ngIf",6==i.step)}}function Fe(t,e){if(1&t){const t=o.EpF();o.O4$(),o.kcU(),o.ynx(0),o.TgZ(1,"p-tabView",19,20),o.NdJ("onClose",function(e){return o.CHM(t),o.oxw().handleTabClose(e)})("activeIndexChange",function(e){return o.CHM(t),o.oxw().activeIndex=e})("onChange",function(e){return o.CHM(t),o.oxw().handleClick(e)}),o.TgZ(3,"p-tabPanel",21),o.YNc(4,ne,1,0,"ng-template",22),o.qZA(),o.YNc(5,Qe,19,23,"p-tabPanel",23),o.qZA(),o.BQk()}if(2&t){const t=o.oxw();o.xp6(1),o.Q6J("scrollable",t.group.folders.length>5)("controlClose",!0)("activeIndex",t.activeIndex),o.xp6(2),o.Q6J("disabled",0==t.step||t.step>2||t.group.folders.length>=1||null==t.selectedCategory),o.xp6(2),o.Q6J("ngForOf",t.group.folders)}}function Ve(t,e){1&t&&(o.O4$(),o.kcU(),o._UZ(0,"app-maintenance"))}const He=[{path:"",component:(()=>{class t{constructor(t,e,i,n,s,o,a,r,l,p,d,g,u,h,m){this.translate=t,this.datePipe=e,this.visaService=i,this.siteService=n,this.recapService=s,this.countryService=o,this.router=a,this.tokenStorage=r,this.avService=l,this.tService=p,this.groupService=d,this.userService=g,this.folderService=u,this.configuration=h,this._document=m,this.maintenance=!1,this.groupmsg=!1,this.step=0,this.visas=[],this.check=!1,this.checkue=!1,this.checka=!1,this.calendarOff=!0,this.sites=[],this.today=new Date,this.tomorrow=new Date,this.appointment=new it.u,this.mandate=new et,this.folder=new tt.gt,this.group=new K.ZA,this.person=new c.F,this.clientDocs=[],this.appointmentSlots=[],this.displayDia=!1,this.displayDiaApp=!1,this.displayCard=!1,this.paymentConfirmed=!1,this.services=[],this.caisseServices=[],this.totalPrice=0,this.govPlaceholder="",this.visaPlaceholder="",this.sitePlaceholder="",this.isFormValid=!0,this.isValid=!0,this.gov="",this.govs=["Cairo"],this.isTaken=!1,this.taken="",this.takenDetails="",this.visaTypologies=[],this.filteredVisas=[],this.filteredCategories=[],this.selectedVisas=[],this.submitting=!1,this.activeIndex=0,this.form="",this.checkoutServices=[],this.noSpotDispo=!1,this.validityEmittersms=!1,this.onlineForm=!1,this.pdfDownloadClicked=!0,this.pdfFormValid=!1,this.pdfLink="",this.msg=[],this.showPills=!1,this.siteNotNull=null,this.config=[],this.termsAccepted=!1,this.loading=!1,this.site=null,this.tomorrow.setDate(this.today.getDate()+1),this.groupInit(),this.user=this.tokenStorage.getUser();let f=JSON.parse(localStorage.getItem("PERSON"));null!=f&&(this.person=f),this.group.folders.push(new tt.gt)}ngOnInit(){this.isSomeValueUndefinedOrNull(),this.groupService.getGroupByClient(this.user.id).subscribe(t=>{this.latestGroup=t[t.length-1],this.latestGroup&&this.latestGroup.appointment&&this.foldersNotStatus("CANCELLED")&&this.foldersNotStatus("ABSENT")&&this.foldersNotStatus("PAYMENT_CANCELLED")&&this.foldersNotDone()&&this.router.navigateByUrl("/appointment/appointment-exists")}),this.tService.setTitle("APPOINTMENT.TAKE"),this.translateStepper(),this.translate.onLangChange.subscribe(()=>{this.translateVisaTitles(this.visas),this.translateVisaTypologies(this.visaTypologies),this.translateStepper()}),this.loadData(),this.activeIndex=0}insuranceSelected(t){return 0==t.length||t.forEach(t=>{if(102==t.id)return!1}),!0}isSomeValueUndefinedOrNull(){this.site=null,this.siteNotNull=null!=this.site}foldersNotStatus(t){let e=0;return this.latestGroup.folders.forEach(i=>{i.status==t&&e++}),!(e>=this.latestGroup.folders.length)}foldersNotDone(){let t=0;return this.latestGroup.folders.forEach(e=>{"PACKAGE_DELIVERED"!=e.status&&"DELIVERED_CLIENT"!=e.status||t++}),!(t>=this.latestGroup.folders.length)}translateStepper(){this.translate.get("FORM.SIMPLE",{count:1}).subscribe(t=>{this.form=t,this.govPlaceholder=this.translate.instant("PLACEHOLDER.GOV"),this.visaPlaceholder=this.translate.instant("PLACEHOLDER.VISA"),this.sitePlaceholder=this.translate.instant("PLACEHOLDER.SITE"),this.stepItems=[{label:this.translate.instant("diponibility")},{label:this.translate.instant("VISA",{count:1})+" & "+this.translate.instant("DOCUMENT.SIMPLE",{count:2})},{label:this.form},{label:this.translate.instant("SERVICE.SIMPLE",{count:2})},{label:this.translate.instant("APPOINTMENT.SIMPLE")},{label:this.translate.instant("APPOINTMENT.SMS")},{label:this.translate.instant("PAYMENT.SIMPLE")}]})}loadData(){this.visaService.getAllVisaTypologies().subscribe(t=>{t.length>0&&(this.selectedTypology=t[0],t.forEach(t=>{"C"==t.typology&&(this.selectedTypology=t)}),this.visaTypologies=t,this.translateVisaTypologies(this.visaTypologies),this.visaService.getAllVisas().subscribe(t=>{this.visas=t,this.translateVisaTitles(this.visas),this.filterByTypo()},t=>{}))},t=>{}),this.siteService.getAllSites().subscribe(t=>{this.sites=t.filter(t=>0!=t.id)},t=>{}),this.countryService.getAllCountries().subscribe(t=>{this.countries=t},t=>{})}translateVisaTitles(t){t.forEach(t=>{t.title=this.translate.instant("VISAS_LIST."+t.id+".TITLE");let e=[];t.orderedVisaDocuments.sort((t,e)=>t.rank-e.rank).forEach(t=>{e.push(t)}),this.translateDocuments(e)})}translateDocuments(t){t.forEach(t=>{t.visaDocument.title=this.translate.instant("DOCUMENTS_LIST."+t.visaDocument.id+".TITLE"),t.visaDocument.description=this.translate.instant("DOCUMENTS_LIST."+t.visaDocument.id+".DESCRIPTION")})}translateVisaTypologies(t){t.forEach(t=>{t.description=this.translate.instant("VISAS_TYPOLOGIES."+t.id+".DESCRIPTION")})}resetCategory(){this.selectedCategory=new st}resetVisa(t){this.group.folders[t].visa=null}filterByTypo(){this.filteredVisas=this.visas.filter(t=>t.typology.typology==this.selectedTypology.typology),this.filterCategories()}filterCategories(){let t=[];this.filteredVisas.forEach(e=>{t.push(e.category)}),this.filteredCategories=this.uniq(t)}validityEmittersmsFun(t){this.validityEmittersms=t,console.log(this.validityEmittersms),1==this.validityEmittersms&&this.step++}filterByCat(){this.group.folders[0].visa=null,this.filterByTypo(),this.filteredVisas=this.filteredVisas.filter(t=>t.category.title==this.selectedCategory.title)}uniq(t){return t.filter((e,i)=>{const n=JSON.stringify(e);return i===t.findIndex(t=>JSON.stringify(t)===n)})}nextStep(){this.step++,this.checkServiceStep(),4==this.step&&this.changeSite()}prevStep(){this.step--,3==this.step&&this.updateTotalPrice()}checkServiceStep(){3==this.step&&(this.caisseServices=[],this.avService.getAllServices().subscribe(t=>{this.services=t,t.forEach(t=>{t.isPrincipal&&this.caisseServices.push(t)}),this.updateTotalPrice()}))}updateTotalPrice(){this.totalPrice=0,this.caisseServices.forEach(t=>{this.totalPrice+=t.price}),this.checkoutRecap()}checkoutRecap(){this.checkoutServices=[],[...new Set(this.caisseServices)].forEach(t=>{let e=this.caisseServices.filter(e=>e===t).length,i=new ot;i.aVService=t,i.quantity=e,this.checkoutServices.push(i)})}updateServices(){this.caisseServices=[],this.checkoutServices.forEach(t=>{for(;t.quantity>0;)this.caisseServices.push(t.aVService),t.quantity--}),this.updateTotalPrice()}docCheck(t){this.clientDocs.indexOf(t)>-1?this.clientDocs.splice(this.clientDocs.indexOf(t)):this.clientDocs.push(t)}setVisa(){this.visaPlaceholder=this.visa.title,this.visaTyp=this.group.folders[0].visa}setCountry(t){this.country=t}setSite(t){this.site=t,this.siteNotNull=!0}setSlot(t){this.siteService.checkAppointementValidity(this.group.site.id.toString(),this.datePipe.transform(this.group.appointment.appointmentDate,"dd/MM/yyyy"),t,this.group.folders.length,this.selectedTypology.id,this.selectedCategory.id).subscribe(e=>{this.msg=[...this.msg.filter(t=>"appt"!=t.key)],e?(this.isTaken=!1,this.group.appointment.appointmentTime=t,this.nextStep()):(this.isTaken=!0,this.msg.push({key:"appt",severity:"error",summary:this.taken,detail:this.group.site.name+" - "+this.datePipe.transform(this.group.appointment.appointmentDate,"dd/MM/yyyy")+" "+t+" \n"+this.takenDetails}),this.group.appointment.appointmentTime=null,this.msg=[...this.msgs],this.dateChange({month:this.group.appointment.appointmentDate.getMonth()+1,year:this.group.appointment.appointmentDate.getFullYear()}),this.getSlots(this.group.appointment.appointmentDate))})}changeSite(){let t;this.appointment=new it.u,this.appointment.appointmentDate=this.today,this.group.site=this.site,t=null!=this.firstDateDisponible?this.firstDateDisponible.getMonth()+1:(new Date).getMonth()+1;let e=""+t;t<10&&(e="0"+t);let i=(new Date).getFullYear();this.getDisabledDates(t.toString(),i),console.log("MONTH",t.toString()),this.getSlots(this.tomorrow)}getDisabledDates(t,e){this.calendarOff=!0,this.appointmentSlots=[],this.siteService.getAllDisabledDates(this.group.site.id.toString(),"01/"+t+"/"+e,"31/"+t+"/"+e,this.group.folders.length,this.selectedTypology.id,this.selectedCategory.id).subscribe(t=>{let e=[...t.map(t=>new Date(t.date))];this.invalidDates=[this.today,...e.map(t=>new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))],this.invalidDates.forEach(t=>console.log(t)),this.calendarOff=!1})}dateChange(t){this.calendarOff=!0;let e=t.month,i=""+e;e<10&&(i="0"+e),this.getDisabledDates(i,t.year)}getSlots(t){let e=this.datePipe.transform(t,"dd/MM/yyyy");this.group.appointment.appointmentTime=null,this.appointmentSlots=[],this.invalidDates&&!this.invalidDates.includes(this.group.appointment.appointmentDate)&&this.siteService.getAppointmentSlots(this.group.site.id.toString(),e).subscribe(t=>{this.appointmentSlots=[...t]})}slotIsBeforeNow(t){let e=Number(t.time.split(":")[0]),i=Number(t.time.split(":")[1]),n=this.group.appointment.appointmentDate.getDate(),s=this.group.appointment.appointmentDate.getMonth(),o=this.group.appointment.appointmentDate.getFullYear();return this.today.getFullYear()==o&&this.today.getMonth()==s&&this.today.getDate()==n&&(this.today.getHours()>e||this.today.getHours()===e&&this.today.getMinutes()>i)}autoSaveVisa(){localStorage.setItem("VISA",JSON.stringify(this.visa))}clear(){this.person=new c.F}submit(){console.log("TIME PAYMENT STEP",this.group.appointment.appointmentTime),console.log("TIME APP",this.group.appointment),this.submitting=!0,this.group.site=this.site,this.group.folders.forEach(t=>{null==t.person.applicantEmail&&(t.person.applicantEmail=this.user.email)}),this.group.caisse=new K.Eh,this.group.caisse.services=[],this.group.caisse.services=this.checkoutServices,6!=this.step||this.group.paymentMethod?(console.log("TIME",this.group.appointment.appointmentTime),console.log("DATE",this.group.appointment.appointmentDate),this.recapService.generateRecap(this.group,this.onlineForm,1,this.paymentReference).subscribe(t=>{this.userService.removeSuccessIndicator(),this.router.navigateByUrl("appointment/appointment-success",{skipLocationChange:!0})},t=>{console.error(t.error),this.msgs=[{severity:"error",summary:"Could not use payment details",detail:"Payment not found or already used with another appointment"}],this.submitting=!1})):this.submitting=!1}checkGov(t){this.govPlaceholder=t}exportDocs(t){var e=i(44837);i(29171);const n=new e.default(0,0);n.addFileToVFS("Time-new-Roman.ttf",nt.L),n.addFont("Time-new-Roman.ttf","custom","normal"),n.setFont("custom");var s=n.splitTextToSize(this.translate.instant("DOCUMENT.NECESSARY","{count:2}")+": "+this.translate.instant("VISAS_LIST."+t.id+".TITLE"),180);n.text(15,20,s),n.text(175,10,this.today.toLocaleDateString());var o=[this.translate.instant("DOCUMENT.SIMPLE","{count:1}"),"Description"],a=[];t.orderedVisaDocuments.sort((t,e)=>t.rank-e.rank).forEach(t=>{var e=[this.translate.instant("DOCUMENTS_LIST."+t.visaDocument.id+".TITLE"),this.translate.instant("DOCUMENTS_LIST."+t.visaDocument.id+".DESCRIPTION")];a.push(e)}),n.autoTable(o,a,{styles:{font:"custom",fontStyle:"normal"},startY:30}),n.save(this.translate.instant("DOCUMENT.NECESSARY","{count:2}")+".pdf")}getPerson(t,e){this.group.folders[this.group.folders.indexOf(e)].person=t}getFormValidity(t){this.isFormValid=t}getPDFormValidity(t){this.pdfFormValid=t,this.isFormValid=this.pdfFormValid}groupInit(){this.group.folders=[],this.group.caisse=new K.Eh,this.group.caisse.services=[],this.group.isAvsFree=!1,this.group.consulatPaid=!1,this.group.appointment=new it.u,this.group.site=this.site}addFolder(){this.group.folders.length<5&&(this.step=1,this.group.folders.push(new tt.gt))}handleTabClose(t){this.group.folders.splice(t.index-1,1),this.activeIndex=1,t.close(),this.group.folders.length<2&&(this.groupmsg=!1,console.log("close",this.groupmsg))}handleClick(t){0==t.index&&(this.addFolder(),this.activeIndex=this.group.folders.length,this.tabView.findSelectedTab().selected=!1),this.groupmsg=!0,console.log("true",this.groupmsg)}valid(){let t=!1;return this.group.folders.forEach(e=>{e.visa||1!=this.step||(t=!0)}),4!=this.step||this.site&&this.group.appointment.appointmentDate&&this.group.appointment.appointmentTime||(t=!0),t}checkStepOne(){let t=!1;return 0==this.step&&(this.totalFreeSpots<=0||null==this.totalFreeSpots)&&(t=!0),t}checkStepTwo(){return!this.isFormValid||this.pdfDownloadClicked&&!this.checkAllInformation()}checkStepfive(){return 4==this.step||5==this.step||6==this.step}isOnlineForm(){this.onlineForm=!this.onlineForm}downloadedPDF(){this.group.folders.forEach(t=>{let e="";switch(t.visa.typology.typology){case"C":e="../../../assets/download/form_c_en.pdf";break;case"D":e="../../../assets/download/form_d_en.pdf";break;case"A":e="../../../assets/download/form_c_en.pdf"}let i=document.createElement("a");i.setAttribute("href",e),i.setAttribute("download","VISAS_LIST."+t.visa.id+".TITLE - Form.pdf"),i.click()})}downloadedPDFinArabic(){this.group.folders.forEach(t=>{let e="";switch(t.visa.typology.typology){case"C":e="../../../assets/download/form_c.pdf";break;case"D":e="../../../assets/download/form_d.pdf";break;case"A":e="../../../assets/download/form_c.pdf"}let i=document.createElement("a");i.setAttribute("href",e),i.setAttribute("download","VISAS_LIST."+t.visa.id+".TITLE - Form.pdf"),i.click()})}checkFolderInformation(t){var e,i;return null!=t.person&&null!=t.person.name&&null!=t.person.surname&&null!=t.person.passport&&null!=t.person.phone&&""!=t.person.name.trim()&&""!=t.person.surname.trim()&&t.person.passport.length>=4&&null!=(null===(i=null===(e=null==t?void 0:t.person)||void 0===e?void 0:e.passportImage)||void 0===i?void 0:i.id)&&""!=t.person.phone.trim()&&this.checkPass()}checkAllInformation(){return this.group.folders.every(t=>this.checkFolderInformation(t))}unlockConfirm(t){this.paymentConfirmed=t}getReference(t){this.paymentReference=t}ngOnDestroy(){this.tService.unsetTitle()}checkPass(){return this.noform.sendToAdd()}checkDispoByTypoAndCat(t,e,i){this.loading=!0,this.siteService.getyDisponibilitybyCatAndTyp(t,e,i).subscribe(t=>{this.loading=!1,this.AvailByQuotaCat=t})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(a.sK),o.Y36(n.uU),o.Y36(at.p),o.Y36(rt.P),o.Y36(lt.U),o.Y36(ct.T),o.Y36(s.F0),o.Y36(pt.i),o.Y36(dt.s),o.Y36(gt.y),o.Y36(ut.l),o.Y36(ht.K),o.Y36(h.s),o.Y36(mt.e),o.Y36(n.K0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-appointment"]],viewQuery:function(t,e){if(1&t&&(o.Gf(ee,5),o.Gf(ie,5),o.Gf(W,5)),2&t){let t;o.iGM(t=o.CRH())&&(e.tabView=t.first),o.iGM(t=o.CRH())&&(e.pPdf=t.first),o.iGM(t=o.CRH())&&(e.noform=t.first)}},decls:26,vars:11,consts:[["id","home",1,"bg-half","bg-light","d-table","w-100",2,"background-image","url('assets/images/Bg/depot.webp')"],[1,"bg-overlay","bg-overlay-white"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-12","text-center"],["id","top",1,"page-next-level"],[1,"title"],[1,"page-next"],["aria-label","breadcrumb",1,"d-inline-block"],[1,"breadcrumb","bg-white","rounded","shadow","mb-0"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"position-relative"],[1,"shape","overflow-hidden","text-white"],["viewBox","0 0 2880 48","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M0 48H1437.5H2880V0H2160C1442.5 52 720 0 720 0H0V48Z","fill","currentColor"],[4,"ngIf","ngIfElse"],["maintenanceBlock",""],["styleClass","w-form margin-auto mt-6",3,"scrollable","controlClose","activeIndex","onClose","activeIndexChange","onChange"],["tabView",""],[3,"disabled"],["pTemplate","header"],[3,"header","selected","closable","disabled",4,"ngFor","ngForOf"],[1,"pi","pi-plus"],[3,"header","selected","closable","disabled"],[1,"section"],[1,"w-form","margin-auto"],[1,"mb-6"],[3,"model","activeIndex","readonly"],["class","margin-auto col w-form","id","diponibility-box",4,"ngIf"],["class","margin-auto col w-form","id","select-box",4,"ngIf"],["class","margin-auto col w-form",4,"ngIf"],[1,"margin-auto","w-form","pt-4"],["class","btn btn-primary",3,"ngxScrollTo","disabled","click",4,"ngIf"],["type","submit","class","btn btn-primary","style","float: right",3,"ngxScrollTo","disabled","click",4,"ngIf"],["type","submit","class","btn btn-primary","style","float: right",3,"ngxScrollTo","disabled","hidden","click",4,"ngIf"],["class","btn btn-success","style","float: right",3,"ngxScrollTo","click",4,"ngIf"],["id","diponibility-box",1,"margin-auto","col","w-form"],[1,"mt-5"],[3,"legend"],[1,"text-black","text-align","fw-bold"],["href","general-regulations","target","_blank",2,"text-decoration","underline"],[1,"title","mt-5"],[1,"p-2"],[1,"mb-3"],["optionLabel","name","styleClass","min-width",3,"options","ngModel","placeholder","ngModelChange","onChange"],[1,"col-md-12"],[1,"ps-5","pb-4"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault","tooltipPosition","bottom",1,"form-check-input",3,"ngModel","binary","pTooltip","ngModelChange"],["for","flexCheckDefault",1,"form-check-label"],["href","general-regulations","target","_blank",1,"text-primary"],["id","select-box",1,"margin-auto","col","w-form"],["severity","warn",3,"style",4,"ngIf"],[1,"bg-light","component-wrapper","rounded","shadow","mt-2"],[1,"p-4","border-bottom"],[1,"title","mb-0"],[1,"p-4"],[1,"mb-2"],[1,"cat-typ-select"],["optionLabel","description",3,"disabled","placeholder","options","ngModel","ngModelChange","onChange"],[1,"cat-typ-select","mt-2"],["optionLabel","title",3,"disabled","placeholder","options","ngModel","ngModelChange","onChange"],["class","container",4,"ngIf"],[1,"cat-typ-select","mb-0",3,"hidden"],["optionLabel","title","styleClass","bg-light min-width",3,"disabled","options","ngModel","placeholder","ngModelChange","onChange"],["class","margin-auto w-form",4,"ngIf"],["severity","warn"],["pTemplate",""],[2,"margin-left","1rem"],[1,"loading-overlay"],[1,"spinner-container"],[1,"margin-auto","w-form"],["id","accordions",1,"col","mt-4","pt-2"],[1,"text-center"],[1,"faq-content"],[1,"pb-4"],[1,"text-muted"],["closeOthers","true"],["acc","ngbAccordion"],["cardClass","border-0 rounded shadow mb-2",4,"ngFor","ngForOf"],[1,"btn","btn-success",2,"margin-top","1rem",3,"click"],["cardClass","border-0 rounded shadow mb-2"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"border-0","bg-light"],[1,"title","mb-0","text-dark"],[1,"text-muted","mb-0","doc-desc"],[1,"margin-auto","col","w-form"],[1,"bg-light","component-wrapper","rounded","shadow","mb-3"],[1,"title-switch","border-bottom","text-center"],["styleClass","m-1 download es",3,"click"],[1,"flag","flag-ar","i-flag"],[1,"sp-title"],["styleClass","m-1 download en",3,"click"],[1,"flag","flag-en","i-flag"],["class","bg-light component-wrapper rounded shadow mb-3",4,"ngIf"],[3,"hidden","embedded","personEmitter","validityEmitter"],[3,"group","index","personEmitter","validityEmitter","groupChange"],["severity","info"],[1,"bg-light","component-wrapper","rounded","shadow"],[1,"mb-0"],["optionDisabled","isPrincipal","optionLabel","title",3,"options","ngModel","multiple","filter","checkbox","ngModelChange","onChange"],["pTemplate","item"],[4,"ngFor","ngForOf"],[1,"full-w","total-section"],["size","large","severity","primary","styleClass","p-mr-2",3,"value"],[1,"full-w"],["size","medium","severity","primary","styleClass","p-mr-2",3,"value"],[1,"full-w","total-section","pb-2"],[1,"q-section"],[3,"ngModel","showButtons","min","max","disabled","ngModelChange","onInput"],[3,"hidden","value","closable","enableService","valueChange"],[4,"ngIf"],[3,"style",4,"ngIf"],[2,"width","60%"],["dateFormat","dd/MM/yy","placeholder","dd/mm/yyyy",3,"disabled","inline","minDate","ngModel","disabledDates","firstDayOfWeek","ngModelChange","onMonthChange","onYearChange","onSelect"],["pButton","","pRipple","","type","button","class","badge rounded-pill bg-soft-success",3,"label","value","click",4,"ngIf"],["pButton","","pRipple","","type","button","class","badge rounded-pill bg-soft-warning","icon","pi pi-check-circle","iconPos","left",3,"label","value",4,"ngIf"],["pButton","","pRipple","","type","button",1,"badge","rounded-pill","bg-soft-success",3,"label","value","click"],["pButton","","pRipple","","type","button","icon","pi pi-check-circle","iconPos","left",1,"badge","rounded-pill","bg-soft-warning",3,"label","value"],[3,"validityEmitter"],[3,"group","confirmation","paymentReference"],[1,"btn","btn-primary",3,"ngxScrollTo","disabled","click"],["type","submit",1,"btn","btn-primary",2,"float","right",3,"ngxScrollTo","disabled","click"],["type","submit",1,"btn","btn-primary",2,"float","right",3,"ngxScrollTo","disabled","hidden","click"],[1,"btn","btn-success",2,"float","right",3,"ngxScrollTo","click"]],template:function(t,e){if(1&t&&(o.TgZ(0,"section",0),o._UZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o.TgZ(6,"h4",6),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.TgZ(9,"div",7),o.TgZ(10,"nav",8),o.TgZ(11,"ul",9),o.TgZ(12,"li",10),o.TgZ(13,"a",11),o._uU(14),o.ALo(15,"translate"),o.qZA(),o.qZA(),o.TgZ(16,"li",12),o._uU(17),o.ALo(18,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"div",13),o.TgZ(20,"div",14),o.O4$(),o.TgZ(21,"svg",15),o._UZ(22,"path",16),o.qZA(),o.qZA(),o.qZA(),o.YNc(23,Fe,6,5,"ng-container",17),o.YNc(24,Ve,1,0,"ng-template",null,18,o.W1O)),2&t){const t=o.MAs(25);o.xp6(7),o.Oqu(o.lcZ(8,5,"APPOINTMENT.TAKE")),o.xp6(7),o.Oqu(o.lcZ(15,7,"HOME")),o.xp6(3),o.hij(" ",o.lcZ(18,9,"APPOINTMENT.TAKE")," "),o.xp6(6),o.Q6J("ngIf",!e.maintenance)("ngIfElse",t)}},directives:[s.yS,n.O5,ft.xf,ft.x4,m.jx,n.sg,Zt.R,At.p,Tt.Lt,f.JJ,f.On,f.Wl,vt.u,Z.V,yt.G,f._Y,f.JL,f.F,xt.gY,xt.Gk,xt.Cu,xt.gW,y.zx,bt.V,W,Ct.Ri,St.i,qt.Ct,Mt.Rn,Et.f,y.Hq,It.c,Wt,Kt.AL,te.Z],pipes:[a.X$,n.i8],styles:["[_nghost-%COMP%]     .q-section p-inputNumber{width:5.75rem;padding-right:.5rem;height:36px}[_nghost-%COMP%]     span.p-disabled{color:#e43f52!important;font-weight:lighter!important}[_nghost-%COMP%]     .p-datepicker td>span{color:#53b1de;font-weight:700}[_nghost-%COMP%]     .cat-typ-select .p-dropdown{width:22rem}[_nghost-%COMP%]     .mt-6{margin-top:3.5rem!important}[_nghost-%COMP%]     .p-messages{max-width:unset!important}[_nghost-%COMP%]     .p-inputmask{width:100%}[_nghost-%COMP%]     .p-inputtext{width:100%}[_nghost-%COMP%]     .p-calendar{width:100%}[_nghost-%COMP%]     .card .card-bodies{min-height:15rem}[_nghost-%COMP%]     .credit-card{padding-bottom:2.5rem;margin:auto;width:35rem}[_nghost-%COMP%]     .card-info{margin-top:2.75rem!important}[_nghost-%COMP%]     .padded-form{padding-left:10%;padding-right:10%}[_nghost-%COMP%]     .p-progress-spinner{width:1.5rem;height:auto;display:flex}.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.slide-fade-up-enter-active[_ngcontent-%COMP%]{transition:all .25s ease-in-out;transition-delay:.1s;position:relative}.slide-fade-up-leave-active[_ngcontent-%COMP%]{transition:all .25s ease-in-out;position:absolute}.slide-fade-up-enter[_ngcontent-%COMP%]{opacity:0;transform:translateY(15px);pointer-events:none}.slide-fade-up-leave-to[_ngcontent-%COMP%]{opacity:0;transform:translateY(-15px);pointer-events:none}.mb-6[_ngcontent-%COMP%]{margin-bottom:2.5rem}.section[_ngcontent-%COMP%]{padding-top:unset!important}.pad-top-buttons[_ngcontent-%COMP%]{padding-top:4rem;min-width:25rem}.doc-desc[_ngcontent-%COMP%]{text-justify:distribute;text-align:justify;white-space:pre-line}.cat-typ-select[_ngcontent-%COMP%]{align-items:center}.cat-typ-select[_ngcontent-%COMP%], .total-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.total-section[_ngcontent-%COMP%]{padding-right:1rem;padding-left:1rem}.loading-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:500}.spinner-container[_ngcontent-%COMP%]{padding:20px;border-radius:5px}"]}),t})()},{path:"appointment-success",component:l},{path:"appointment-exists",component:r}];let je=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[s.Bz.forChild(He)],s.Bz]}),t})(),Be=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[n.ez,je,a.aw]]}),t})()}}]);