(self.webpackChunklandrick_angular=self.webpackChunklandrick_angular||[]).push([[209],{9209:function(t,e,s){"use strict";s.r(e),s.d(e,{FolderStatusModule:function(){return I}});var i=s(40098),a=s(10384),n=s(58348),r=s(94753),o=s(19061),l=s(70661),c=s(8114),g=s(89004),h=s(36020);let p=(()=>{class t{constructor(t,e,s){this.el=t,this._zone=e,this.cd=s,this.siteKey=null,this.theme="light",this.type="image",this.size="normal",this.tabindex=0,this.initCallback="initRecaptcha",this.onResponse=new n.vpe,this.onExpire=new n.vpe,this._instance=null,this._language=null}get language(){return this._language}set language(t){this._language=t,this.init()}ngAfterViewInit(){window.grecaptcha?window.grecaptcha.render?this.init():setTimeout(()=>{this.init()},100):window[this.initCallback]=()=>{this.init()}}init(){this._instance=window.grecaptcha.render(this.el.nativeElement.children[0],{sitekey:this.siteKey,theme:this.theme,type:this.type,size:this.size,tabindex:this.tabindex,hl:this.language,callback:t=>{this._zone.run(()=>this.recaptchaCallback(t))},"expired-callback":()=>{this._zone.run(()=>this.recaptchaExpiredCallback())}})}reset(){null!==this._instance&&(window.grecaptcha.reset(this._instance),this.cd.markForCheck())}getResponse(){return null===this._instance?null:window.grecaptcha.getResponse(this._instance)}recaptchaCallback(t){this.onResponse.emit({response:t})}recaptchaExpiredCallback(){this.onExpire.emit()}ngOnDestroy(){null!=this._instance&&window.grecaptcha.reset(this._instance)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(n.sBO))},t.\u0275cmp=n.Xpm({type:t,selectors:[["p-captcha"]],hostAttrs:[1,"p-element"],inputs:{siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabindex:"tabindex",initCallback:"initCallback",language:"language"},outputs:{onResponse:"onResponse",onExpire:"onExpire"},decls:1,vars:0,template:function(t,e){1&t&&n._UZ(0,"div")},encapsulation:2,changeDetection:0}),t})(),d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[i.ez]]}),t})();var u=s(91111);const m=["folderForm"];function Z(t,e){1&t&&(n.TgZ(0,"small",48),n._uU(1),n.ALo(2,"translate"),n.ALo(3,"translate"),n.qZA()),2&t&&(n.xp6(1),n.AsE(" ",n.lcZ(2,2,"FOLDER.NUM")," ",n.lcZ(3,4,"ISREQ"),""))}function A(t,e){1&t&&(n.TgZ(0,"small",48),n._uU(1),n.ALo(2,"translate"),n.ALo(3,"translate"),n.ALo(4,"translate"),n.qZA()),2&t&&(n.xp6(1),n.lnq(" ",n.lcZ(2,3,"FOLDER.NUM")," ",n.lcZ(3,5,"MUST")," 10 ",n.lcZ(4,7,"CHAR"),"."))}function _(t,e){if(1&t&&(n.TgZ(0,"div",46),n.YNc(1,Z,4,6,"small",47),n.YNc(2,A,5,9,"small",47),n.qZA()),2&t){n.oxw();const t=n.MAs(21);n.xp6(1),n.Q6J("ngIf",null==t.errors?null:t.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function T(t,e){1&t&&(n.TgZ(0,"small",48),n._uU(1),n.ALo(2,"translate"),n.ALo(3,"translate"),n.qZA()),2&t&&(n.xp6(1),n.AsE(" ",n.lcZ(2,2,"PERSON.DOC_NUM")," ",n.lcZ(3,4,"ISREQ"),""))}function f(t,e){1&t&&(n.TgZ(0,"small",48),n._uU(1),n.ALo(2,"translate"),n.ALo(3,"translate"),n.ALo(4,"translate"),n.qZA()),2&t&&(n.xp6(1),n.lnq(" ",n.lcZ(2,3,"PERSON.DOC_NUM")," ",n.lcZ(3,5,"MUST")," 6 ",n.lcZ(4,7,"CHAR"),"."))}function E(t,e){if(1&t&&(n.TgZ(0,"div",46),n.YNc(1,T,4,6,"small",47),n.YNc(2,f,5,9,"small",47),n.qZA()),2&t){n.oxw();const t=n.MAs(32);n.xp6(1),n.Q6J("ngIf",null==t.errors?null:t.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.errors?null:t.errors.minlength)}}function b(t,e){1&t&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&t&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"PERSON.SUBMIT")," "))}function q(t,e){1&t&&(n.TgZ(0,"span"),n._UZ(1,"i",49),n.qZA())}function S(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"div",24),n.TgZ(1,"div",25),n.TgZ(2,"h4",26),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"p",27),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"form",28,29),n.TgZ(10,"div",30),n.TgZ(11,"div",31),n.TgZ(12,"div",32),n.TgZ(13,"div",33),n.TgZ(14,"label",34),n._uU(15),n.ALo(16,"translate"),n.TgZ(17,"span",35),n._uU(18,"*"),n.qZA(),n.qZA(),n.TgZ(19,"div",36),n.TgZ(20,"input",37,38),n.NdJ("input",function(){return n.CHM(t),n.oxw().autoSave()})("ngModelChange",function(e){return n.CHM(t),n.oxw().folderID=e}),n.ALo(22,"translate"),n.qZA(),n.YNc(23,_,3,2,"div",39),n.qZA(),n.qZA(),n.TgZ(24,"div",33),n.TgZ(25,"label",34),n._uU(26),n.ALo(27,"translate"),n.TgZ(28,"span",35),n._uU(29,"*"),n.qZA(),n.qZA(),n.TgZ(30,"div",36),n.TgZ(31,"input",40,41),n.NdJ("input",function(){return n.CHM(t),n.oxw().autoSave()})("ngModelChange",function(e){return n.CHM(t),n.oxw().personPassport=e}),n.ALo(33,"translate"),n.qZA(),n.qZA(),n.YNc(34,E,3,2,"div",39),n.qZA(),n.TgZ(35,"div"),n.TgZ(36,"p-captcha",42),n.NdJ("onResponse",function(e){return n.CHM(t),n.oxw().captchaResponse(e)}),n.qZA(),n.qZA(),n.TgZ(37,"div",43),n.TgZ(38,"button",44),n.NdJ("click",function(){return n.CHM(t),n.oxw().getStatus()}),n.YNc(39,b,3,3,"span",45),n.YNc(40,q,2,0,"span",45),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=n.MAs(21),e=n.MAs(32),s=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,13,"FOLDER.TRACK")),n.xp6(3),n.hij(" ",n.lcZ(7,15,"FOLDER.TRACK_TXT")," "),n.xp6(9),n.Oqu(n.lcZ(16,17,"FOLDER.NUM")),n.xp6(5),n.s9C("placeholder",n.lcZ(22,19,"PERSON.NUM")),n.Q6J("ngModel",s.folderID),n.xp6(3),n.Q6J("ngIf",t.invalid&&(t.dirty||t.touched)),n.xp6(3),n.Oqu(n.lcZ(27,21,"PERSON.DOC_NUM")),n.xp6(5),n.s9C("placeholder",n.lcZ(33,23,"PERSON.DOC_NUM")),n.Q6J("ngModel",s.personPassport),n.xp6(3),n.Q6J("ngIf",e.invalid&&(e.dirty||e.touched)),n.xp6(4),n.Q6J("disabled",!s.formsValid||s.submitted),n.xp6(1),n.Q6J("ngIf",!s.submitted),n.xp6(1),n.Q6J("ngIf",s.submitted)}}function v(t,e){if(1&t&&(n.TgZ(0,"div",24),n.TgZ(1,"div",25),n.TgZ(2,"h4",26),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"p",27),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"form",28),n.TgZ(9,"div",50),n.TgZ(10,"h4",51),n.TgZ(11,"span",27),n._uU(12),n.ALo(13,"translate"),n.qZA(),n._uU(14),n.qZA(),n.TgZ(15,"h4",6),n.TgZ(16,"span",27),n._uU(17),n.ALo(18,"translate"),n.qZA(),n._UZ(19,"br"),n._uU(20),n.ALo(21,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,7,"FOLDER.TRACK")),n.xp6(3),n.hij(" ",n.lcZ(7,9,"FOLDER.TRACK_TXT")," "),n.xp6(6),n.hij(" ",n.xi3(13,11,"FOLDER.SIMPLE","{count: 1}"),": "),n.xp6(2),n.hij(" ",t.folder.folderId," "),n.xp6(3),n.hij(" ",n.lcZ(18,14,"FOLDER.STATUS"),": "),n.xp6(3),n.AsE(" ",n.lcZ(21,16,"MSG."+t.status_msg)," ",t.site," ")}}const C=[{path:"",component:(()=>{class t{constructor(t,e,s,i,a){this.messageService=t,this.folderService=e,this.tService=s,this._renderer2=i,this._document=a,this.step=1,this.submitted=!1,this.formsValid=!1,this.captchaResponded=!1,this.validityEmitter=new n.vpe;let r=JSON.parse(localStorage.getItem("FOLDER"));null!=r&&(this.folderID=r);let o=JSON.parse(localStorage.getItem("STICKER"));null!=o&&(this.personPassport=o)}ngOnInit(){this.appendCaptchaScript(),this.tService.setTitle("FOLDER.STATUS"),this.stat=[{msg:"CREATED",site:""},{msg:"TREATMENT",site:"--"},{msg:"OS_SP_HUB",site:""},{msg:"IS_HUB_SP",site:""},{msg:"OS_HUB_CONS",site:""},{msg:"IS_CONS",site:""},{msg:"OS_CONS_HUB",site:"--"},{msg:"IS_HUB",site:"--"},{msg:"OS_HUB_SP",site:"--"},{msg:"IS_SP",site:"--"},{msg:"OS_SP_CLI",site:"--"},{msg:"OS_HUB_CR",site:""}]}getStatus(){this.submitted=!0,this.folderService.getFolderByFolderIDAndPersonPassport(this.folderID,this.personPassport).subscribe(t=>{t?(this.folder=t,this.step++,this.messages(),console.log("site",this.folder.site)):(this.messageService.add({severity:"error",summary:"Error",detail:"Folder not found: "+this.folderID,life:3e3}),this.submitted=!1)},t=>{this.submitted=!1,this.messageService.add({severity:"error",summary:"Error",detail:t.message,life:3e3})})}messages(){switch(this.folder.status){case r.qb.CREATED:case r.qb.RECEIVED:case r.qb.CASHOUT_RECEPTION:case r.qb.CASHOUT_WAITING:case r.qb.WAITING_ROOM:this.status_msg=this.stat[0].msg;break;case r.qb.TREATMENT:case r.qb.CALLED:case r.qb.COMPLIANT_QUALITY:case r.qb.COMPLIANT_VALIDITY:case r.qb.NON_COMPLIANT_QUALITY:case r.qb.NON_COMPLIANT_VALIDITY:this.status_msg=this.stat[1].msg,this.site=this.group.site.name;break;case r.qb.DELIVERED_TO_HUB:this.status_msg=this.stat[2].msg;break;case r.qb.RECEIVED_IN_HUB:this.status_msg=this.stat[3].msg;break;case r.qb.DELIVERED_EMBASSY:case r.qb.ADD_REC_DELIVERED:case r.qb.ADD_REC_RECEPTION:this.status_msg=this.stat[4].msg;break;case r.qb.EMBASSY_RECEIVED:this.status_msg=this.stat[5].msg;break;case r.qb.EMBASSY_DELIVERED_CENTER:this.status_msg=this.stat[6].msg,this.site=this.group.site.name;break;case r.qb.EMBASSY_RETURNED:this.status_msg=this.stat[7].msg,this.site=this.group.site.name;break;case r.qb.DELIVERED_TO_SITE:this.status_msg=this.stat[8].msg,this.site=this.group.site.name;break;case r.qb.RECEIVED_FROM_HUB:this.status_msg=this.stat[9].msg,this.site=this.group.site.name;break;case r.qb.DELIVERED_CLIENT:this.status_msg=this.stat[10].msg,this.site=this.group.site.name;break;case r.qb.PACKAGE_DELIVERED:this.status_msg=this.stat[11].msg;break;default:this.status_msg=this.stat[0].msg}}autoSave(){localStorage.setItem("FOLDER",JSON.stringify(this.folderID)),localStorage.setItem("STICKER",JSON.stringify(this.personPassport)),this.formCheck()}captchaResponse(t){this.captchaResponded=!0,this.formCheck()}formCheck(){this.formsValid=!1,this.folderForm.form.valid&&this.captchaResponded&&(this.formsValid=!0)}appendCaptchaScript(){let t=this._renderer2.createElement("script");t.setAttribute("id","reCaptcha"),t.setAttribute("src","https://www.google.com/recaptcha/api.js?render=explicit&onload=initRecaptcha"),t.setAttribute("async",""),t.setAttribute("defer",""),this._renderer2.appendChild(this._document.body,t)}ngOnDestroy(){this.tService.unsetTitle(),this._renderer2.removeChild(this._document.body,this._document.getElementById("reCaptcha"))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(l.ez),n.Y36(c.s),n.Y36(g.y),n.Y36(n.Qsj),n.Y36(i.K0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-folder-status"]],viewQuery:function(t,e){if(1&t&&n.Gf(m,5,o.F),2&t){let t;n.iGM(t=n.CRH())&&(e.folderForm=t.first)}},outputs:{validityEmitter:"validityEmitter"},decls:36,vars:14,consts:[["id","home",1,"bg-half","bg-light","d-table","w-100",2,"background-image","url('assets/images/enterprise.webp')"],[1,"bg-overlay","bg-overlay-white"],[1,"container"],[1,"row","justify-content-center"],[1,"col-lg-12","text-center"],[1,"page-next-level"],[1,"title"],[1,"page-next"],["aria-label","breadcrumb",1,"d-inline-block"],[1,"breadcrumb","bg-white","rounded","shadow","mb-0"],[1,"breadcrumb-item"],["routerLink",""],[1,"breadcrumb-item","active"],["aria-current","page",1,"breadcrumb-item","active"],[1,"position-relative"],[1,"shape","overflow-hidden","text-white"],["viewBox","0 0 2880 48","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M0 48H1437.5H2880V0H2160C1442.5 52 720 0 720 0H0V48Z","fill","currentColor"],[1,"section"],[1,"row","align-items-center"],[1,"col-md-6"],["src","assets/images/illustrator/analyze_report_4.svg","alt","",1,"me-md-4"],["class","col-md-6 mt-4 mt-sm-0 pt-2 pt-sm-0",4,"ngIf"],["position","bottom-center"],[1,"col-md-6","mt-4","mt-sm-0","pt-2","pt-sm-0"],[1,"section-title","ms-lg-5"],[1,"title","mb-4"],[1,"text-muted"],[1,"margin-auto","w-form"],["folderForm","ngForm"],[1,"bg-light","component-wrapper","rounded","shadow"],[1,"p-4"],[1,"row"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],[1,"form-icon","position-relative"],["name","folderid","id","folderid","type","text","required","","minlength","10",1,"form-control","ps-5",3,"placeholder","ngModel","input","ngModelChange"],["folderid","ngModel"],["class","alert",4,"ngIf"],["name","sticker","id","sticker","type","text","required","","minlength","6",1,"form-control","ps-5",3,"placeholder","ngModel","input","ngModelChange"],["sticker","ngModel"],["siteKey","6LexX0gdAAAAALgAIyyaU_D9d3TS5if-hutvoAxS",3,"onResponse"],[1,"p-4",2,"padding-bottom","0 !important"],[1,"btn","btn-primary",2,"float","right",3,"disabled","click"],[4,"ngIf"],[1,"alert"],["class","p-error",4,"ngIf"],[1,"p-error"],[1,"pi","pi-spin","pi-spinner",2,"font-size","1.5rem"],[1,"bg-light","component-wrapper","rounded","shadow",2,"padding","1rem"],[1,"title","mb-2"]],template:function(t,e){1&t&&(n.TgZ(0,"section",0),n._UZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"h4",6),n._uU(7),n.ALo(8,"translate"),n.qZA(),n.TgZ(9,"div",5),n.TgZ(10,"div",7),n.TgZ(11,"nav",8),n.TgZ(12,"ul",9),n.TgZ(13,"li",10),n.TgZ(14,"a",11),n._uU(15),n.ALo(16,"translate"),n.qZA(),n.qZA(),n.TgZ(17,"li",12),n.TgZ(18,"a"),n._uU(19),n.ALo(20,"translate"),n.qZA(),n.qZA(),n.TgZ(21,"li",13),n._uU(22),n.ALo(23,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(24,"div",14),n.TgZ(25,"div",15),n.O4$(),n.TgZ(26,"svg",16),n._UZ(27,"path",17),n.qZA(),n.qZA(),n.qZA(),n.kcU(),n.TgZ(28,"section",18),n.TgZ(29,"div",2),n.TgZ(30,"div",19),n.TgZ(31,"div",20),n._UZ(32,"img",21),n.qZA(),n.YNc(33,S,41,25,"div",22),n.YNc(34,v,22,18,"div",22),n.qZA(),n.qZA(),n.qZA(),n._UZ(35,"p-toast",23)),2&t&&(n.xp6(7),n.Oqu(n.lcZ(8,6,"FOLDER.STATUS")),n.xp6(8),n.Oqu(n.lcZ(16,8,"HOME")),n.xp6(4),n.Oqu(n.lcZ(20,10,"PROCEDURE")),n.xp6(3),n.hij(" ",n.lcZ(23,12,"FOLDER.STATUS")," "),n.xp6(11),n.Q6J("ngIf",1==e.step),n.xp6(1),n.Q6J("ngIf",2==e.step))},directives:[a.yS,i.O5,h.FN,o._Y,o.JL,o.F,o.Fj,o.Q7,o.wO,o.JJ,o.On,p],pipes:[u.X$],styles:["[_nghost-%COMP%]     p-captcha>div>div{float:right}"]}),t})()}];let R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[a.Bz.forChild(C)],a.Bz]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[i.ez,R,u.aw,o.u5,h.EV,d]]}),t})()}}]);